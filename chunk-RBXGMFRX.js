import{$ as et,Aa as st,Ba as lt,Bb as Tt,C as Ce,Ca as at,Cb as se,D as Ue,Db as le,Eb as bt,Fb as wt,Ga as oe,Gb as Nt,Ib as It,Jb as St,Kb as kt,M as te,Na as pt,Oa as A,Pa as W,Qa as L,Ra as ct,S as He,Sa as dt,T as ie,Ta as mt,U as Ye,Ua as ut,V as Ke,Va as ze,W as Xe,Wa as xe,Y as ne,_ as Je,ab as ht,bb as ft,ca as tt,cb as _t,db as gt,ea as it,eb as yt,fb as Ct,ga as nt,ha as ot,i as Ze,ja as rt,sb as Ee,tb as ve,ub as zt,vb as xt,wb as Et,yb as vt,zb as re}from"./chunk-KQS5WSQU.js";import{d as ee,r as ye,w as Ge}from"./chunk-QWDYD7CS.js";import{Bb as Be,Eb as y,Ec as O,Fa as fe,G as de,Ga as u,Gb as a,Ha as h,Hb as U,Ib as ge,Ma as Me,Pa as I,Pb as b,Pc as J,Qa as _e,Sa as G,U as Ve,Ub as m,Uc as B,Vb as d,Vc as Le,Wb as x,Wc as qe,Xb as E,Yb as v,_b as z,ba as me,ca as T,dc as f,f as q,fc as p,gc as Ae,hc as $e,i as ke,ja as Fe,k as ae,ka as $,kc as S,lc as k,mb as l,mc as D,n as pe,nb as c,nc as F,o as De,oa as Oe,oc as _,pa as ue,pc as H,qc as R,s as ce,sc as Y,t as M,tb as Pe,tc as K,ua as P,uc as X,va as Q,vc as Qe,wa as he,wb as Re,wc as j,xb as je,yc as We,zb as Z}from"./chunk-S7FHNIJE.js";var be=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=he({type:i,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(n,o){n&2&&U("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0});let t=i;return t})(),we=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=Q({type:i}),i.\u0275inj=$({});let t=i;return t})();var Ne=class{constructor(i,r){this._document=r;let e=this._textarea=this._document.createElement("textarea"),n=e.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",e.setAttribute("aria-hidden","true"),e.value=i,e.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(e)}copy(){let i=this._textarea,r=!1;try{if(i){let e=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),r=this._document.execCommand("copy"),e&&e.focus()}}catch{}return r}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0)}},Dt=(()=>{let i=class i{constructor(e){this._document=e}copy(e){let n=this.beginCopy(e),o=n.copy();return n.destroy(),o}beginCopy(e){return new Ne(e,this._document)}};i.\u0275fac=function(n){return new(n||i)(Oe(ee))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function jt(t,i){if(t&1&&(E(0),x(1,"span",2),v()),t&2){let r=i.$implicit;l(),a("nzType",r)}}var Bt=["textarea"];function At(t,i){if(t&1){let r=z();m(0,"textarea",3,1),f("blur",function(){u(r);let n=p();return h(n.confirm())}),d(),m(2,"button",4),f("click",function(){u(r);let n=p();return h(n.confirm())}),x(3,"span",5),d()}}function $t(t,i){if(t&1&&(E(0),x(1,"span",8),v()),t&2){let r=i.$implicit;l(),a("nzType",r)}}function Qt(t,i){if(t&1){let r=z();m(0,"button",6),f("click",function(){u(r);let n=p();return h(n.onClick())}),y(1,$t,2,1,"ng-container",7),d()}if(t&2){let r=p();a("nzTooltipTitle",r.tooltip===null?null:r.tooltip||(r.locale==null?null:r.locale.edit)),l(),a("nzStringTemplateOutlet",r.icon)}}var Wt=["ellipsisContainer"],Lt=["expandable"],qt=["contentTemplate"],Gt=["*"],Zt=t=>({content:t});function Ut(t,i){t&1&&$e(0,0,["*ngIf","!content"])}function Ht(t,i){if(t&1&&(y(0,Ut,1,0,"ng-content",4),_(1)),t&2){let r=i.content;a("ngIf",!r),l(),R(" ",r," ")}}function Yt(t,i){}function Kt(t,i){if(t&1&&(E(0),_(1),v()),t&2){let r=p(3);l(),H(r.nzSuffix)}}function Xt(t,i){if(t&1&&(E(0),y(1,Yt,0,0,"ng-template",8)(2,Kt,2,1,"ng-container",4),v()),t&2){let r=p(2),e=F(1);l(),a("ngTemplateOutlet",e)("ngTemplateOutletContext",We(3,Zt,r.nzContent)),l(),a("ngIf",r.nzSuffix)}}function Jt(t,i){if(t&1&&(E(0),_(1),v()),t&2){let r=p(3);l(),H(r.ellipsisStr)}}function ei(t,i){if(t&1&&(E(0),_(1),v()),t&2){let r=p(3);l(),H(r.nzSuffix)}}function ti(t,i){if(t&1){let r=z();m(0,"a",10,3),f("click",function(){u(r);let n=p(3);return h(n.onExpand())}),_(2),d()}if(t&2){let r=p(3);l(2),R(" ",r.locale==null?null:r.locale.expand," ")}}function ii(t,i){if(t&1&&(x(0,"span",null,2),y(2,Jt,2,1,"ng-container",4)(3,ei,2,1,"ng-container",4)(4,ti,3,1,"a",9)),t&2){let r=p(2);l(2),a("ngIf",r.isEllipsis),l(),a("ngIf",r.nzSuffix),l(),a("ngIf",r.nzExpandable&&r.isEllipsis)}}function ni(t,i){if(t&1&&(E(0),y(1,Xt,3,5,"ng-container",7)(2,ii,5,3,"ng-template",null,1,O),v()),t&2){let r=F(3),e=p();l(),a("ngIf",e.expanded||!e.hasOperationsWithEllipsis&&e.nzEllipsisRows===1&&!e.hasEllipsisObservers||e.canCssEllipsis||e.nzSuffix&&e.expanded)("ngIfElse",r)}}function oi(t,i){if(t&1){let r=z();m(0,"nz-text-edit",11),f("endEditing",function(n){u(r);let o=p();return h(o.onEndEditing(n))})("startEditing",function(){u(r);let n=p();return h(n.onStartEditing())}),d()}if(t&2){let r=p();a("text",r.nzContent)("icon",r.nzEditIcon)("tooltip",r.nzEditTooltip)}}function ri(t,i){if(t&1){let r=z();m(0,"nz-text-copy",12),f("textCopy",function(n){u(r);let o=p();return h(o.onTextCopy(n))}),d()}if(t&2){let r=p();a("text",r.copyText)("tooltips",r.nzCopyTooltips)("icons",r.nzCopyIcons)}}var Ie=(()=>{let i=class i{constructor(e,n,o,s){this.host=e,this.cdr=n,this.clipboard=o,this.i18n=s,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new pe,this.icons=["copy","check"],this.textCopy=new I}ngOnInit(){this.i18n.localeChange.pipe(T(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(e){let{tooltips:n,icons:o}=e;n&&this.updateTooltips(),o&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let e=this.text;this.textCopy.emit(e),this.clipboard.copy(e),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[e,n]=this.tooltips;this.copyTooltip=e||this.locale?.copy,this.copedTooltip=n||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[e,n]=this.icons;this.copyIcon=e,this.copedIcon=n,this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(c(G),c(J),c(Dt),c(te))},i.\u0275cmp=P({type:i,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[fe,j],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(n,o){n&1&&(m(0,"button",0),f("click",function(){return o.onClick()}),y(1,jt,2,1,"ng-container",1),d()),n&2&&(ge("ant-typography-copy-success",o.copied),a("nzTooltipTitle",o.copied?o.copedTooltip:o.copyTooltip),l(),a("nzStringTemplateOutlet",o.copied?o.copedIcon:o.copyIcon))},dependencies:[ve,Ee,we,be,L,W,xe,ze],encapsulation:2,changeDetection:0});let t=i;return t})(),Se=(()=>{let i=class i{set textarea(e){this.textarea$.next(e)}constructor(e,n,o,s,C){this.ngZone=e,this.host=n,this.cdr=o,this.i18n=s,this.destroy$=C,this.editing=!1,this.icon="edit",this.startEditing=new I,this.endEditing=new I(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new De(null),this.injector=ue(Me)}ngOnInit(){this.i18n.localeChange.pipe(T(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(me(e=>e?new ae(n=>this.ngZone.runOutsideAngular(()=>de(e.nativeElement,"keydown").subscribe(n))):ce),T(this.destroy$)).subscribe(e=>{e.keyCode!==27&&e.keyCode!==13||this.ngZone.run(()=>{e.keyCode===27?this.onCancel():this.onEnter(e),this.cdr.markForCheck()})}),this.textarea$.pipe(me(e=>e?new ae(n=>this.ngZone.runOutsideAngular(()=>de(e.nativeElement,"input").subscribe(n))):ce),T(this.destroy$)).subscribe(e=>{this.currentText=e.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(e){e.stopPropagation(),e.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:e}=this;Re(()=>{this.textarea$.pipe(Ve(n=>n!=null),T(this.destroy$)).subscribe(n=>{n.nativeElement.focus(),n.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:e})}};i.\u0275fac=function(n){return new(n||i)(c(_e),c(G),c(J),c(te),c(oe))},i.\u0275cmp=P({type:i,selectors:[["nz-text-edit"]],viewQuery:function(n,o){if(n&1&&(S(Bt,5),S(se,5)),n&2){let s;k(s=D())&&(o.textarea=s.first),k(s=D())&&(o.autosizeDirective=s.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[Qe([oe]),j],decls:3,vars:2,consts:[["notEditing",""],["textarea",""],[3,"ngIf","ngIfElse"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(n,o){if(n&1&&y(0,At,4,0,"ng-template",2)(1,Qt,2,2,"ng-template",null,0,O),n&2){let s=F(2);a("ngIf",o.editing)("ngIfElse",s)}},dependencies:[ye,le,re,se,we,be,L,W,ve,Ee,xe,ze],encapsulation:2,changeDetection:0});let t=i;return t})(),si="typography",li="ant-typography-expand",ai=(()=>{let i=class i{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(e,n,o,s,C,g,V,w,N){this.nzConfigService=e,this.host=n,this.cdr=o,this.viewContainerRef=s,this.renderer=C,this.platform=g,this.i18n=V,this.resizeService=w,this.directionality=N,this._nzModuleName=si,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new I,this.nzCopy=new I,this.nzExpandChange=new I,this.nzOnEllipsis=new I,this.document=ue(ee),this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new pe,this.windowResizeSubscription=ke.EMPTY}onTextCopy(e){this.nzCopy.emit(e)}onStartEditing(){this.editing=!0}onEndEditing(e){this.editing=!1,this.nzContentChange.emit(e),this.nzContent===e&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?Ce("textOverflow"):Ce("webkitLineClamp")}renderOnNextFrame(){st(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=lt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let e=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return e.detectChanges(),{viewRef:e,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(e))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:e,removeView:n}=this.getOriginContentViewRef(),o=[this.textCopyRef,this.textEditRef].filter(N=>N&&N.nativeElement).map(N=>N.nativeElement),s=this.getExpandableBtnElement();s&&o.push(s);let{contentNodes:C,text:g,ellipsis:V}=Ue(this.host.nativeElement,this.nzEllipsisRows,e.rootNodes,o,this.ellipsisStr,this.nzSuffix);n(),this.ellipsisText=g,V!==this.isEllipsis&&(this.isEllipsis=V,this.nzOnEllipsis.emit(V));let w=this.ellipsisContainer.nativeElement;for(;w.firstChild;)this.renderer.removeChild(w,w.firstChild);C.forEach(N=>{this.renderer.appendChild(w,N.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let e=this.locale?this.locale.expand:"",n=this.expandableBtnElementCache;if(!n||n.innerText===e){let o=this.document.createElement("a");o.className=li,o.innerText=e,this.expandableBtnElementCache=o}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(T(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(T(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(T(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(e){let{nzCopyable:n,nzEditable:o,nzExpandable:s,nzEllipsis:C,nzContent:g,nzEllipsisRows:V,nzSuffix:w}=e;(n||o||s||C||g||V||w)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}};i.\u0275fac=function(n){return new(n||i)(c(pt),c(G),c(J),c(je),c(Pe),c(ot),c(te),c(at),c(rt))},i.\u0275cmp=P({type:i,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(n,o){if(n&1&&(S(Se,5),S(Ie,5),S(Wt,5),S(Lt,5),S(qt,5)),n&2){let s;k(s=D())&&(o.textEditRef=s.first),k(s=D())&&(o.textCopyRef=s.first),k(s=D())&&(o.ellipsisContainer=s.first),k(s=D())&&(o.expandableBtn=s.first),k(s=D())&&(o.contentTemplate=s.first)}},hostVars:26,hostBindings:function(n,o){n&2&&(U("-webkit-line-clamp",o.canCssEllipsis&&o.nzEllipsisRows>1?o.nzEllipsisRows:null),ge("ant-typography",!o.editing)("ant-typography-rtl",o.dir==="rtl")("ant-typography-edit-content",o.editing)("ant-typography-secondary",o.nzType==="secondary")("ant-typography-warning",o.nzType==="warning")("ant-typography-danger",o.nzType==="danger")("ant-typography-success",o.nzType==="success")("ant-typography-disabled",o.nzDisabled)("ant-typography-ellipsis",o.nzEllipsis&&!o.expanded)("ant-typography-single-line",o.nzEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",o.canCssEllipsis&&o.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",o.canCssEllipsis&&o.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",B],nzEditable:[2,"nzEditable","nzEditable",B],nzDisabled:[2,"nzDisabled","nzDisabled",B],nzExpandable:[2,"nzExpandable","nzExpandable",B],nzEllipsis:[2,"nzEllipsis","nzEllipsis",B],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",Le],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[Be,fe,j],ngContentSelectors:Gt,decls:5,vars:3,consts:[["contentTemplate",""],["jsEllipsis",""],["ellipsisContainer",""],["expandable",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(n,o){n&1&&(Ae(),y(0,Ht,2,2,"ng-template",null,0,O)(2,ni,4,2,"ng-container",4)(3,oi,1,3,"nz-text-edit",5)(4,ri,1,3,"nz-text-copy",6)),n&2&&(l(2),a("ngIf",!o.editing),l(),a("ngIf",o.nzEditable),l(),a("ngIf",o.nzCopyable&&!o.editing))},dependencies:[ye,Ge,Se,Ie],encapsulation:2,changeDetection:0});let t=i;return M([A()],t.prototype,"nzCopyTooltips",void 0),M([A()],t.prototype,"nzCopyIcons",void 0),M([A()],t.prototype,"nzEditTooltip",void 0),M([A()],t.prototype,"nzEditIcon",void 0),M([A()],t.prototype,"nzEllipsisRows",void 0),t})(),Vt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=Q({type:i}),i.\u0275inj=$({imports:[ai,Ie,Se]});let t=i;return t})();function pi(t,i){if(t&1){let r=z();m(0,"button",18),f("click",function(){u(r);let n=p();return h(n.enableNameField())}),x(1,"span",19),d()}}function ci(t,i){if(t&1){let r=z();m(0,"button",18),f("click",function(){u(r);let n=p();return h(n.submitNewName())}),x(1,"span",20),d()}}function di(t,i){if(t&1){let r=z();m(0,"button",18),f("click",function(){u(r);let n=p();return h(n.enableEmailField())}),x(1,"span",19),d()}}function mi(t,i){if(t&1){let r=z();m(0,"button",18),f("click",function(){u(r);let n=p();return h(n.submitNewEmail())}),x(1,"span",20),d()}}function ui(t,i){if(t&1&&(E(0),m(1,"nz-form-item")(2,"nz-form-control",21)(3,"nz-input-group",22),x(4,"input",23),d()()(),v()),t&2){p();let r=F(31);l(2),a("nzErrorTip",r)}}function hi(t,i){if(t&1){let r=z();m(0,"div")(1,"button",24),f("click",function(){u(r);let n=p();return h(n.updatePassword())}),_(2," Save "),d()()}if(t&2){let r=p();l(),a("disabled",r.profileForm.controls.password.invalid)}}function fi(t,i){t&1&&_(0," Incorrect email! ")}function _i(t,i){t&1&&_(0," Required! ")}function gi(t,i){if(t&1&&_(0),t&2){let r=p(2);R(" ",r.errorMessage," ")}}function yi(t,i){if(t&1&&y(0,fi,1,0)(1,_i,1,0)(2,gi,1,1),t&2){let r=i.$implicit,e=p();b(r.errors!=null&&r.errors.invalidEmail?0:-1),l(),b(r.errors!=null&&r.errors.required?1:-1),l(),b(e.profileForm.controls.userName.hasError("invalidEmail")?2:-1)}}function Ci(t,i){t&1&&_(0," Required! ")}function zi(t,i){t&1&&_(0," Password has to be not less 8 symbols! ")}function xi(t,i){if(t&1&&_(0),t&2){let r=p(2);R(" ",r.errorMessage," ")}}function Ei(t,i){if(t&1&&y(0,Ci,1,0)(1,zi,1,0)(2,xi,1,1),t&2){let r=i.$implicit,e=p();b(r.errors!=null&&r.errors.required?0:-1),l(),b(r.errors!=null&&r.errors.minlength?1:-1),l(),b(e.profileForm.controls.password.hasError("userNotFound")?2:-1)}}var Tn=(()=>{let i=class i{constructor(e,n,o,s){this.router=e,this.formBuilder=n,this.loginService=o,this.apiService=s,this.errorMessage="",this.userName=Z(""),this.email=Z(""),this.role=Z(""),this.profile=qe(()=>({name:this.userName(),email:this.email(),role:this.role()})),this.isModalVisible=!1,this.nameFieldDisabled=!0,this.profileForm=new Xe({userName:new ne({value:"",disabled:!0}),email:new ne({value:"",disabled:!0},[It.emailValidation(),ie.required]),password:new ne("",[ie.required,ie.minLength(8)])}),this.imageUrl="assets/images/profile-train-1.jpg"}ngOnInit(){this.getProfile()}getProfile(){return q(this,null,function*(){let e=yield this.apiService.fetchProfile();this.userName.set(e.name),this.email.set(e.email),this.role.set(e.role)})}updateProfile(){return q(this,null,function*(){let e=yield this.apiService.updateProfile(this.profile());this.userName()!==e.name&&this.userName.set(e.name),this.email()!==e.email&&this.email.set(e.email),this.role()!==e.role&&this.role.set(e.role)})}updatePassword(){return q(this,null,function*(){this.profileForm.controls.password.valid&&this.apiService.updatePassword(this.profileForm.controls.password.value),this.hideModal()})}showModal(){this.isModalVisible=!0}hideModal(){this.isModalVisible=!1}enableNameField(){this.profileForm.get("userName")?.enable()}enableEmailField(){this.profileForm.get("email")?.enable()}submitNewName(){this.profileForm.controls.userName.valid&&(this.userName.set(this.profileForm.controls.userName.value||""),this.updateProfile(),this.profileForm.get("userName")?.disable())}submitNewEmail(){this.profileForm.controls.email.valid&&(this.email.set(this.profileForm.controls.email.value||""),this.updateProfile(),this.profileForm.get("email")?.disable())}};i.\u0275fac=function(n){return new(n||i)(c(Ze),c(it),c(kt),c(St))},i.\u0275cmp=P({type:i,selectors:[["app-profile"]],standalone:!0,features:[j],decls:32,vars:12,consts:[["emailErrorTpl",""],["passwordErrorTpl",""],["nz-form","",3,"formGroup"],["nz-button","",1,"button",3,"click","nzType"],[1,"margin-top-1"],[1,"field"],[1,"heading"],[1,"editable"],["type","text","formControlName","userName","nz-input","",3,"valueChange","keydown.enter","nzBorderless","value"],["nz-button","","nzType","text"],["nzErrorTip","Please input your email!","nzHasFeedback","",3,"nzErrorTip"],["type","text","nz-input","","formControlName","email",3,"valueChange","keydown.enter","nzBorderless","value"],["nz-button","","nzDanger","",1,"button",3,"click","nzType"],["nzWidth","300px","nzTitle","Change Password",3,"nzVisibleChange","nzOnCancel","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"image"],["nz-image","","nzDisablePreview","","alt","",3,"nzSrc"],["nz-button","","nzType","text",3,"click"],["nz-icon","","nzType","edit"],["nz-icon","","nzType","enter"],[3,"nzErrorTip"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Password"],["nz-button","","nzType","primary",1,"button",3,"click","disabled"]],template:function(n,o){if(n&1){let s=z();m(0,"form",2)(1,"button",3),f("click",function(){return u(s),h(o.showModal())}),_(2," Change Password "),d(),m(3,"nz-form-item",4)(4,"nz-form-control")(5,"div",5)(6,"p",6),_(7,"Name:"),d(),m(8,"div",7)(9,"input",8),X("valueChange",function(g){return u(s),K(o.userName,g)||(o.userName=g),h(g)}),f("keydown.enter",function(){return u(s),h(o.submitNewName())}),d(),y(10,pi,2,0,"button",9)(11,ci,2,0,"button",9),d()()()(),m(12,"nz-form-item")(13,"nz-form-control",10)(14,"div",5)(15,"p",6),_(16,"Email:"),d(),m(17,"div",7)(18,"input",11),X("valueChange",function(g){return u(s),K(o.email,g)||(o.email=g),h(g)}),f("keydown.enter",function(){return u(s),h(o.submitNewEmail())}),d(),y(19,di,2,0,"button",9)(20,mi,2,0,"button",9),d()()()(),m(21,"button",12),f("click",function(){return u(s),h(o.loginService.logout())}),_(22," Log out "),d(),m(23,"nz-modal",13),X("nzVisibleChange",function(g){return u(s),K(o.isModalVisible,g)||(o.isModalVisible=g),h(g)}),f("nzOnCancel",function(){return u(s),h(o.hideModal())}),y(24,ui,5,1,"ng-container",14)(25,hi,3,1,"div",15),d()(),m(26,"div",16),x(27,"img",17),d(),y(28,yi,3,3,"ng-template",null,0,O)(30,Ei,3,3,"ng-template",null,1,O)}if(n&2){let s=F(29);a("formGroup",o.profileForm),l(),a("nzType","primary"),l(8),a("nzBorderless",o.profileForm.controls.userName.disabled),Y("value",o.userName),l(),b(o.profileForm.controls.userName.disabled?10:11),l(3),a("nzErrorTip",s),l(5),a("nzBorderless",o.profileForm.controls.email.disabled),Y("value",o.email),l(),b(o.profileForm.controls.email.disabled?19:20),l(2),a("nzType","primary"),l(2),Y("nzVisible",o.isModalVisible),l(4),a("nzSrc",o.imageUrl)}},dependencies:[Nt,vt,Ct,yt,xt,zt,Et,le,re,Tt,wt,bt,ut,mt,ct,dt,Vt,gt,_t,ft,ht,L,W,nt,Je,He,Ye,Ke,et,tt],styles:["[_nghost-%COMP%]{display:flex;width:fit-content;align-items:center;margin:0 auto;padding:.75rem;background-color:var(--form-background-color);border-radius:.5rem;column-gap:20px}.button[_ngcontent-%COMP%]{width:100%}.heading[_ngcontent-%COMP%]{margin-left:.75rem;width:2rem}.value[_ngcontent-%COMP%]{width:100%;min-height:2rem}.editable[_ngcontent-%COMP%]{display:flex;gap:1rem}.margin-top-1[_ngcontent-%COMP%]{margin-top:1rem}.image[_ngcontent-%COMP%]{height:300px}.image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:contain;border-radius:.25rem}@media (max-width: 575px){.image[_ngcontent-%COMP%]{display:none}}"]});let t=i;return t})();export{Tn as ProfileComponent};
