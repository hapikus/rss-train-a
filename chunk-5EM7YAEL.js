import{a as Ke,b as Ye,c as Ze,g as tt,h as it,i as nt,j as ot,k as rt,l as at,m as st,n as lt}from"./chunk-JMEGZPJE.js";import{a as mt,b as ct,c as pt,d as dt}from"./chunk-2POXYK6G.js";import{b as Ue,d as Je}from"./chunk-SUYZW3TD.js";import{$ as Pe,Ob as Ge,Pb as Qe,Qb as He,Rb as We,Sb as qe,Xb as et,Zb as H,_ as se,aa as Ee,db as F,eb as O,fa as ke,fb as A,ga as $e,gb as X,hb as G,ib as Q,ja as Le,jb as le,kb as me,l as De,la as Ve,na as je,sa as Be,tb as Ae,ub as Xe}from"./chunk-AJSIW5UZ.js";import{q as Re,r as ae,w as we}from"./chunk-PQGTFRF3.js";import{$b as K,Bb as j,Cc as Ne,Db as ve,Gb as f,Gc as M,Ha as U,Hb as $,Ia as T,Ib as l,Ja as I,Jb as Se,Kb as B,Rb as R,Rc as oe,Sb as v,Tb as J,Ub as _,Vb as z,Wb as m,Wc as Me,Xb as c,Yb as u,Yc as re,Zb as w,_b as D,ac as P,ea as L,f as S,fc as h,hc as p,ic as Y,jc as Z,kc as ye,la as V,lc as be,ma as Ce,mc as xe,n as ge,nc as ee,ob as s,oc as te,p as he,pb as C,pc as N,qa as _e,qc as g,rc as b,sc as ie,uc as Te,vc as Ie,wa as y,wc as Fe,xa as ze,xc as Oe,yc as x,zc as ne}from"./chunk-26O7SS3C.js";var _t=["template"],ft=["*"];function zt(e,i){if(e&1&&(w(0),g(1),D()),e&2){let r=p(3);s(),b(r.nzLabel)}}function vt(e,i){if(e&1&&(m(0,"div",7),f(1,zt,2,1,"ng-container",5),c()),e&2){let r=p(2);s(),l("nzStringTemplateOutlet",r.nzLabel)}}function St(e,i){if(e&1&&(w(0),g(1),D()),e&2){let r=p(2);s(),b(r.nzDot)}}function yt(e,i){if(e&1&&(m(0,"li",1),f(1,vt,2,1,"div",2),u(2,"div",3),m(3,"div",4),f(4,St,2,1,"ng-container",5),c(),m(5,"div",6),Z(6),c()()),e&2){let r=p();B("ant-timeline-item-right",(r.nzPosition||r.position)==="right")("ant-timeline-item-left",(r.nzPosition||r.position)==="left")("ant-timeline-item-last",r.isLast),s(),l("ngIf",r.nzLabel),s(2),Se("border-color",r.borderColor),B("ant-timeline-item-head-red",r.nzColor==="red")("ant-timeline-item-head-blue",r.nzColor==="blue")("ant-timeline-item-head-green",r.nzColor==="green")("ant-timeline-item-head-gray",r.nzColor==="gray")("ant-timeline-item-head-custom",!!r.nzDot),s(),l("nzStringTemplateOutlet",r.nzDot)}}function bt(e,i){if(e&1&&K(0,4),e&2){p();let r=N(5);l("ngTemplateOutlet",r)}}function xt(e,i){}function Tt(e,i){if(e&1&&(w(0),f(1,xt,0,0,"ng-template",4),D()),e&2){let r=i.$implicit;s(),l("ngTemplateOutlet",r.template)}}function It(e,i){if(e&1&&K(0,4),e&2){p();let r=N(5);l("ngTemplateOutlet",r)}}function Ft(e,i){e&1&&u(0,"span",12)}function Ot(e,i){if(e&1&&(w(0),g(1),f(2,Ft,1,0,"span",11),D()),e&2){let r=p(3);s(),ie(" ",r.nzPendingDot," "),s(),l("ngIf",!r.nzPendingDot)}}function Nt(e,i){if(e&1&&(w(0),g(1),D()),e&2){let r=p(3);s(),ie(" ",r.isPendingBoolean?"":r.nzPending," ")}}function Mt(e,i){if(e&1&&(m(0,"li",6),u(1,"div",7),m(2,"div",8),f(3,Ot,3,2,"ng-container",9),c(),m(4,"div",10),f(5,Nt,2,1,"ng-container",9),c()()),e&2){let r=p(2);s(3),l("nzStringTemplateOutlet",r.nzPendingDot),s(2),l("nzStringTemplateOutlet",r.nzPending)}}function Rt(e,i){if(e&1&&f(0,Mt,6,2,"li",5),e&2){let r=p();l("ngIf",r.nzPending)}}var wt=["red","blue","green","grey","gray"],ce=(()=>{let i=class i{constructor(){this.check$=new he(1)}markForCheck(){this.check$.next()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=V({token:i,factory:i.\u0275fac});let e=i;return e})();function Dt(e){return wt.findIndex(i=>i===e)!==-1}var q=(()=>{let i=class i{constructor(o,n){this.cdr=o,this.timelineService=n,this.nzColor="blue",this.isLast=!1,this.borderColor=null}ngOnChanges(o){this.timelineService.markForCheck(),o.nzColor&&this.updateCustomColor()}detectChanges(){this.cdr.detectChanges()}updateCustomColor(){this.borderColor=Dt(this.nzColor)?null:this.nzColor}};i.\u0275fac=function(n){return new(n||i)(C(oe),C(ce))},i.\u0275cmp=y({type:i,selectors:[["nz-timeline-item"],["","nz-timeline-item",""]],viewQuery:function(n,t){if(n&1&&xe(_t,5),n&2){let a;ee(a=te())&&(t.template=a.first)}},inputs:{nzPosition:"nzPosition",nzColor:"nzColor",nzDot:"nzDot",nzLabel:"nzLabel"},exportAs:["nzTimelineItem"],standalone:!0,features:[U,x],ngContentSelectors:ft,decls:2,vars:0,consts:[["template",""],[1,"ant-timeline-item"],["class","ant-timeline-item-label",4,"ngIf"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"],[1,"ant-timeline-item-label"]],template:function(n,t){n&1&&(Y(),f(0,yt,7,20,"ng-template",null,0,M))},dependencies:[ae,me,le],encapsulation:2,changeDetection:0});let e=i;return e})(),de=(()=>{let i=class i{constructor(o,n,t){this.cdr=o,this.timelineService=n,this.directionality=t,this.nzMode="left",this.nzReverse=!1,this.isPendingBoolean=!1,this.timelineItems=[],this.dir="ltr",this.hasLabelItem=!1,this.destroy$=new ge}ngOnChanges(o){let{nzMode:n,nzReverse:t,nzPending:a}=o;(ut(n)||ut(t))&&this.updateChildren(),a&&(this.isPendingBoolean=a.currentValue===!0)}ngOnInit(){this.timelineService.check$.pipe(L(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.directionality.change?.pipe(L(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.updateChildren(),this.listOfItems.changes.pipe(L(this.destroy$)).subscribe(()=>{this.updateChildren()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateChildren(){if(this.listOfItems&&this.listOfItems.length){let o=this.listOfItems.length,n=!1;this.listOfItems.forEach((t,a)=>{t.isLast=this.nzReverse?a===0:a===o-1,t.position=Pt(a,this.nzMode),!n&&t.nzLabel&&(n=!0),t.detectChanges()}),this.timelineItems=this.nzReverse?this.listOfItems.toArray().reverse():this.listOfItems.toArray(),this.hasLabelItem=n}else this.timelineItems=[],this.hasLabelItem=!1;this.cdr.markForCheck()}};i.\u0275fac=function(n){return new(n||i)(C(oe),C(ce),C(Be))},i.\u0275cmp=y({type:i,selectors:[["nz-timeline"]],contentQueries:function(n,t,a){if(n&1&&be(a,q,4),n&2){let d;ee(d=te())&&(t.listOfItems=d)}},inputs:{nzMode:"nzMode",nzPending:"nzPending",nzPendingDot:"nzPendingDot",nzReverse:[2,"nzReverse","nzReverse",Me]},exportAs:["nzTimeline"],standalone:!0,features:[Oe([ce]),ve,U,x],ngContentSelectors:ft,decls:7,vars:15,consts:[["pendingTemplate",""],[1,"ant-timeline"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["class","ant-timeline-item ant-timeline-item-pending",4,"ngIf"],[1,"ant-timeline-item","ant-timeline-item-pending"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head","ant-timeline-item-head-custom","ant-timeline-item-head-blue"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"],["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(n,t){n&1&&(Y(),m(0,"ul",1),f(1,bt,1,1,"ng-container",2)(2,Tt,2,1,"ng-container",3)(3,It,1,1,"ng-container",2),c(),f(4,Rt,1,1,"ng-template",null,0,M),Z(6)),n&2&&(B("ant-timeline-label",t.hasLabelItem)("ant-timeline-right",!t.hasLabelItem&&t.nzMode==="right")("ant-timeline-alternate",t.nzMode==="alternate"||t.nzMode==="custom")("ant-timeline-pending",!!t.nzPending)("ant-timeline-reverse",t.nzReverse)("ant-timeline-rtl",t.dir==="rtl"),s(),l("ngIf",t.nzReverse),s(),l("ngForOf",t.timelineItems),s(),l("ngIf",!t.nzReverse))},dependencies:[ae,we,Re,me,le,O,F],encapsulation:2,changeDetection:0});let e=i;return e})();function ut(e){return!!(e&&(e.previousValue!==e.currentValue||e.isFirstChange()))}function Pt(e,i){return i==="custom"?void 0:i==="left"?"left":i==="right"?"right":i==="alternate"&&e%2===0?"left":"right"}var gt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ze({type:i}),i.\u0275inj=Ce({imports:[q,de]});let e=i;return e})();var ue={carriages:[""],cities:[""],id:NaN},E=(()=>{let i=class i{constructor(o){this.apiService=o,this.routes=j([]),this.mode="view",this.updatingRoute=ue,this.getRoutes()}getRoutes(){return S(this,null,function*(){let o=yield this.apiService.fetchRoutes(),n=yield this.apiService.fetchStations(),t=o.map(a=>({id:a.id,carriages:a.carriages,cities:n.filter(d=>a.path.includes(d.id)).map(d=>d.city)}));this.routes.set(t)})}deleteRoute(o){return S(this,null,function*(){let n=yield this.apiService.deleteRoute(o);if(n){let t=this.routes().filter(a=>a.id!==o);this.routes.set(t)}return n})}createRoute(o){return S(this,null,function*(){(yield this.apiService.createRoute(o))&&this.getRoutes()})}updateRoute(o){return S(this,null,function*(){(yield this.apiService.updateRoute(o))&&this.getRoutes()})}};i.\u0275fac=function(n){return new(n||i)(_e(H))},i.\u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var $t=(e,i,r)=>[e,i,r];function Lt(e,i){if(e&1&&(m(0,"nz-timeline-item"),g(1),c()),e&2){let r=i.$implicit;s(),b(r)}}function Vt(e,i){if(e&1&&(m(0,"nz-timeline-item"),g(1),c()),e&2){let r=i.$implicit;s(),b(r)}}function jt(e,i){if(e&1){let r=P();m(0,"button",6),h("click",function(){T(r);let n=p();return I(n.update())}),u(1,"span",7),m(2,"p"),g(3,"Update"),c()()}}function Bt(e,i){if(e&1&&(m(0,"a",8),u(1,"span",9),m(2,"p"),g(3,"Assign"),c()()),e&2){let r=p();ye("routerLink",r.route.id)}}function At(e,i){if(e&1){let r=P();m(0,"div",10),h("nzOnConfirm",function(){T(r);let n=p();return I(n.confirmDelete())}),u(1,"span",11),m(2,"p"),g(3,"Delete"),c()()}}var ht=(()=>{let i=class i{constructor(o){this.routesService=o,this.route=ue}confirmDelete(){this.routesService.deleteRoute(this.route.id)}update(){this.routesService.updatingRoute=this.route,this.routesService.mode="update"}};i.\u0275fac=function(n){return new(n||i)(C(E))},i.\u0275cmp=y({type:i,selectors:[["app-route-card"]],inputs:{route:"route"},standalone:!0,features:[x],decls:17,vars:7,consts:[["actionEdit",""],["actionAssign",""],["actionDelete",""],[2,"width","192px",3,"id","nzTitle","nzActions"],["nzTitle","Cities"],["nzTitle","Carriages"],[3,"click"],["nz-icon","","nzType","edit"],[3,"routerLink"],["nz-icon","","nzType","snippets"],["nz-popconfirm","","nzPopconfirmPlacement","top","nzPopconfirmTitle","Are you sure delete this route?",3,"nzOnConfirm"],["nz-icon","","nzType","delete"]],template:function(n,t){if(n&1&&(m(0,"nz-card",3)(1,"nz-card-tab")(2,"nz-tabset")(3,"nz-tab",4)(4,"nz-timeline"),_(5,Lt,2,1,"nz-timeline-item",null,v),c()(),m(7,"nz-tab",5)(8,"nz-timeline"),_(9,Vt,2,1,"nz-timeline-item",null,v),c()()()()(),f(11,jt,4,0,"ng-template",null,0,M)(13,Bt,4,1,"ng-template",null,1,M)(15,At,4,0,"ng-template",null,2,M)),n&2){let a=N(12),d=N(14),k=N(16);l("id",t.route.id)("nzTitle","Route "+t.route.id)("nzActions",Ne(3,$t,a,d,k)),s(5),z(t.route.cities),s(4),z(t.route.carriages)}},dependencies:[at,rt,ot,O,F,nt,it,tt,gt,q,de,dt,pt,De]});let e=i;return e})();var Ht=()=>({span:24,offset:0}),Wt=()=>({span:20});function qt(e,i){if(e&1&&u(0,"nz-option",5),e&2){let r=i.$implicit;l("nzLabel",r.city)("nzValue",r.city)}}function Ut(e,i){if(e&1&&u(0,"nz-option",5),e&2){let r=i.$implicit;l("nzLabel",r)("nzValue",r)}}function Jt(e,i){if(e&1){let r=P();m(0,"nz-form-item")(1,"nz-form-control",3)(2,"nz-select",4),h("ngModelChange",function(n){T(r);let t=p().$index,a=p();return I(a.addStation(t,n))}),_(3,Ut,1,2,"nz-option",5,v),c(),m(5,"button",6),h("click",function(n){T(r);let t=p().$implicit,a=p();return I(a.removeCityField(t,n))}),u(6,"span",7),c()()()}if(e&2){let r=p(),o=r.$implicit,n=r.$index,t=p();s(),l("nzXs",24)("nzSm",20),s(),l("formControlName",o.controlInstance),$("id",o.id),s(),z(t.connectedStations[n]),s(2),l("disabled",n<3)}}function Kt(e,i){if(e&1&&f(0,Jt,7,5,"nz-form-item"),e&2){let r=i.$index;R(r>0?0:-1)}}function Yt(e,i){if(e&1&&u(0,"nz-option",5),e&2){let r=i.$implicit;l("nzLabel",r.code)("nzValue",r.name)}}function Zt(e,i){if(e&1&&u(0,"nz-option",5),e&2){let r=i.$implicit;l("nzLabel",r.code)("nzValue",r.name)}}function ei(e,i){if(e&1){let r=P();m(0,"nz-form-item")(1,"nz-form-control",9)(2,"nz-select",10),h("ngModelChange",function(){T(r);let n=p().$index,t=p();return I(t.addCarriage(n))}),_(3,Zt,1,2,"nz-option",5,v),c(),m(5,"button",6),h("click",function(n){T(r);let t=p().$implicit,a=p();return I(a.removeCarriageField(t,n))}),u(6,"span",7),c()()()}if(e&2){let r=p(),o=r.$implicit,n=r.$index,t=p();s(),l("nzXs",24)("nzSm",20),s(),l("formControlName",o.controlInstance),$("id",o.id),s(),z(t.carriages),s(2),l("disabled",n<3)}}function ti(e,i){if(e&1&&f(0,ei,7,5,"nz-form-item"),e&2){let r=i.$index;R(r>0?0:-1)}}var ii="The number of stations must be at least 3",ni="The number of carriages must be at least 3",Ct=(()=>{let i=class i{constructor(o,n,t){this.apiService=o,this.routesService=n,this.fb=t,this.citiesSubform=this.fb.record({}),this.carriagesSubform=this.fb.record({}),this.listOfCitiesControl=[],this.listOfCarriagesControl=[],this.stations=[],this.carriages=[],this.connectedStations=[[]],this.stationsLengthMessage=ii,this.carriagesLengthMessage=ni,this.isSaveButtonDisabled=!0,this.routesService.mode==="update"?(this.addCityField(this.routesService.updatingRoute.cities[0]),this.addCarriageField(this.routesService.updatingRoute.carriages[0])):(this.addCityField(),this.addCarriageField()),this.init()}init(){return S(this,null,function*(){let o=yield this.apiService.fetchStations(),n=yield this.apiService.fetchCarriages();if(this.stations=o,this.carriages=n,this.routesService.mode==="update"){for(let t=1;t<this.routesService.updatingRoute.cities.length;t+=1){let a=this.getConnectedStationsByCity(this.routesService.updatingRoute.cities[t-1]);this.connectedStations.push(a),this.addCityField(this.routesService.updatingRoute.cities[t])}this.addCityField();for(let t=1;t<this.routesService.updatingRoute.carriages.length;t+=1)this.addCarriageField(this.routesService.updatingRoute.carriages[t]);this.addCarriageField()}})}addCityField(o="",n){return S(this,null,function*(){n?.preventDefault();let t=this.listOfCitiesControl.length>0?this.listOfCitiesControl[this.listOfCitiesControl.length-1].id+1:0,a={id:t,controlInstance:`station${t}`},d=this.listOfCitiesControl.push(a);t>=3?(this.stationsLengthMessage="",Object.keys(this.carriagesSubform.value).filter(k=>this.carriagesSubform.value[k]!=="").length>=3&&(this.isSaveButtonDisabled=!1),this.citiesSubform.addControl(this.listOfCitiesControl[d-1].controlInstance,this.fb.control(o))):(this.isSaveButtonDisabled=!0,this.citiesSubform.addControl(this.listOfCitiesControl[d-1].controlInstance,this.fb.control(o,se.required)))})}addCarriageField(o="",n){return S(this,null,function*(){n?.preventDefault();let t=this.listOfCarriagesControl.length>0?this.listOfCarriagesControl[this.listOfCarriagesControl.length-1].id+1:0,a={id:t,controlInstance:`carriage${t}`},d=this.listOfCarriagesControl.push(a);t>=3?(Object.keys(this.citiesSubform.value).filter(k=>this.citiesSubform.value[k]!=="").length>=3&&(this.isSaveButtonDisabled=!1),this.carriagesLengthMessage="",this.carriagesSubform.addControl(this.listOfCarriagesControl[d-1].controlInstance,this.fb.control(o))):(this.isSaveButtonDisabled=!0,this.carriagesSubform.addControl(this.listOfCarriagesControl[d-1].controlInstance,this.fb.control(o,se.required)))})}removeCityField(o,n){if(n.preventDefault(),this.listOfCitiesControl.length>1){let t=this.listOfCitiesControl.indexOf(o);this.listOfCitiesControl.splice(t,1),this.citiesSubform.removeControl(o.controlInstance)}}removeCarriageField(o,n){if(n.preventDefault(),this.listOfCarriagesControl.length>1){let t=this.listOfCarriagesControl.indexOf(o);this.listOfCarriagesControl.splice(t,1),this.carriagesSubform.removeControl(o.controlInstance)}}submitForm(){if(this.citiesSubform.valid&&this.carriagesSubform.valid){let o=Object.keys(this.citiesSubform.value).filter(a=>this.citiesSubform.value[a]!=="").map(a=>this.citiesSubform.value[a]),n=this.stations.filter(a=>o.includes(a.city)).map(a=>a.id),t=Object.keys(this.carriagesSubform.value).filter(a=>this.carriagesSubform.value[a]!=="").map(a=>this.carriagesSubform.value[a]);this.routesService.mode==="create"&&this.routesService.createRoute({carriages:t,path:n}),this.routesService.mode==="update"&&this.routesService.updateRoute({carriages:t,path:n,id:this.routesService.updatingRoute.id}),this.routesService.mode="view"}else Object.values(this.citiesSubform.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))}),Object.values(this.carriagesSubform.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}getConnectedStationsByCity(o){let n=this.stations.find(a=>a.city===o);return!n||!n.connectedTo?[]:n.connectedTo.map(a=>this.stations.find(d=>d.id===a.id)?.city).filter(a=>a!==void 0)}addStation(o,n){if(this.listOfCitiesControl.length===o+1){let t=this.getConnectedStationsByCity(n);this.connectedStations.push(t),this.addCityField()}}addCarriage(o){this.listOfCarriagesControl.length===o+1&&this.addCarriageField()}};i.\u0275fac=function(n){return new(n||i)(C(H),C(E),C(Ve))},i.\u0275cmp=y({type:i,selectors:[["app-stations-form"]],standalone:!0,features:[x],decls:34,vars:23,consts:[[1,"wrapper"],["nz-form","",3,"ngSubmit","formGroup"],[1,"label",3,"nzXs","nzSm"],["nzErrorTip","Input station or delete this field.","nzHasFeedback","",1,"control",3,"nzXs","nzSm"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a station",1,"select",3,"ngModelChange","formControlName"],[3,"nzLabel","nzValue"],["nz-button","","nzType","default","nzShape","circle",1,"remove-button",3,"click","disabled"],["nz-icon","","nzType","minus-circle-o"],[1,"ant-form-item-explain-error"],["nzErrorTip","Input carriage or delete this field.","nzHasFeedback","",1,"control",3,"nzXs","nzSm"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a carriage",1,"select",3,"ngModelChange","formControlName"],[1,"control",3,"nzXs","nzSm"],["nz-button","","nzType","primary",1,"button",3,"disabled"],["nz-icon","","nzType","save"]],template:function(n,t){n&1&&(m(0,"section",0)(1,"form",1),h("ngSubmit",function(){return t.submitForm()}),m(2,"nz-form-label",2),g(3," Stations "),c(),m(4,"nz-form-item")(5,"nz-form-control",3)(6,"nz-select",4),h("ngModelChange",function(d){return t.addStation(0,d)}),_(7,qt,1,2,"nz-option",5,v),c(),m(9,"button",6),h("click",function(d){return t.removeCityField(t.listOfCitiesControl[0],d)}),u(10,"span",7),c()()(),_(11,Kt,1,1,null,null,J),m(13,"p",8),g(14),c()(),m(15,"form",1),h("ngSubmit",function(){return t.submitForm()}),m(16,"nz-form-label",2),g(17," Carriages "),c(),m(18,"nz-form-item")(19,"nz-form-control",9)(20,"nz-select",10),h("ngModelChange",function(){return t.addCarriage(0)}),_(21,Yt,1,2,"nz-option",5,v),c(),m(23,"button",6),h("click",function(d){return t.removeCarriageField(t.listOfCarriagesControl[0],d)}),u(24,"span",7),c()()(),_(25,ti,1,1,null,null,J),m(27,"p",8),g(28),c(),m(29,"nz-form-item")(30,"nz-form-control",11)(31,"button",12),u(32,"span",13),g(33,"Save "),c()()()()()),n&2&&(s(),l("formGroup",t.citiesSubform),s(),l("nzXs",24)("nzSm",4),s(3),l("nzXs",24)("nzSm",20),s(),l("formControlName",t.listOfCitiesControl[0].controlInstance),$("id",t.listOfCitiesControl[0].id),s(),z(t.stations),s(2),l("disabled",!0),s(2),z(t.listOfCitiesControl),s(3),b(t.stationsLengthMessage),s(),l("formGroup",t.carriagesSubform),s(),l("nzXs",24)("nzSm",4),s(3),l("nzXs",24)("nzSm",20),s(),l("formControlName",t.listOfCarriagesControl[0].controlInstance),$("id",t.listOfCarriagesControl[0].id),s(),z(t.carriages),s(2),l("disabled",!0),s(2),z(t.listOfCarriagesControl),s(3),b(t.carriagesLengthMessage),s(2),l("nzXs",ne(21,Ht))("nzSm",ne(22,Wt)),s(),l("disabled",t.isSaveButtonDisabled))},dependencies:[qe,Xe,Ae,Qe,Ge,We,He,je,ke,Pe,Ee,$e,Le,et,Q,G,A,X,O,F,Ze,Ke,Ye],styles:[".dynamic-delete-button[_ngcontent-%COMP%]{cursor:pointer;position:relative;top:4px;font-size:24px;color:#999;transition:all .3s}.remove-button[_ngcontent-%COMP%]{border:none}.remove-button[_ngcontent-%COMP%]:hover{color:#777}.select[_ngcontent-%COMP%]{width:84%;margin-right:8px}[nz-form][_ngcontent-%COMP%]{width:264px}.button[_ngcontent-%COMP%]{width:100%}.item[_ngcontent-%COMP%]{flex-direction:column}.label[_ngcontent-%COMP%]{font-weight:500;max-width:32%}.wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:2rem}@media (max-width: 572px){.wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.control[_ngcontent-%COMP%]{max-width:100%}"]});let e=i;return e})();function oi(e,i){e&1&&u(0,"app-stations-form")}function ri(e,i){e&1&&u(0,"nz-empty",4)}function ai(e,i){if(e&1&&u(0,"app-route-card",6),e&2){let r=i.$implicit;l("route",r)}}var mn=(()=>{let i=class i{constructor(o){this.routesService=o,this.pageIndex=j(1),this.endIndex=re(()=>this.pageIndex()*this.itemsPerPage),this.startIndex=re(()=>this.endIndex()-this.itemsPerPage),this.itemsPerPage=12,this.isFormVisible=!1}showForm(){this.isFormVisible=!0}hideForm(){this.isFormVisible=!1}createRoute(){this.showForm(),this.routesService.mode="create"}};i.\u0275fac=function(n){return new(n||i)(C(E))},i.\u0275cmp=y({type:i,selectors:[["app-routes"]],standalone:!0,features:[x],decls:11,vars:8,consts:[[1,"heading"],["nz-button","","nzType","primary",3,"click","disabled"],["nz-icon","","nzType","plus"],["nzTip","Loading...",3,"nzSpinning"],["nzNotFoundImage","simple"],[1,"routes"],[3,"route"],[1,"pagination",3,"nzPageIndexChange","nzPageIndex","nzTotal","nzPageSize","nzResponsive"]],template:function(n,t){n&1&&(f(0,oi,1,0,"app-stations-form"),m(1,"section",0)(2,"button",1),h("click",function(){return t.createRoute()}),u(3,"span",2),g(4,"Create"),c()(),m(5,"nz-spin",3),f(6,ri,1,0,"nz-empty",4),m(7,"section",5),_(8,ai,1,1,"app-route-card",6,v),c()(),m(10,"nz-pagination",7),Fe("nzPageIndexChange",function(d){return Ie(t.pageIndex,d)||(t.pageIndex=d),d}),c()),n&2&&(R(t.routesService.mode!=="view"?0:-1),s(2),l("disabled",t.routesService.mode!=="view"),s(3),l("nzSpinning",t.routesService.routes().length===0),s(),R(t.routesService.routes().length===0?6:-1),s(2),z(t.routesService.routes().slice(t.startIndex(),t.endIndex())),s(2),Te("nzPageIndex",t.pageIndex),l("nzTotal",t.routesService.routes().length)("nzPageSize",t.itemsPerPage)("nzResponsive",!0))},dependencies:[Q,G,A,X,Je,Ue,ct,mt,O,F,lt,st,ht,Ct],styles:[".routes[_ngcontent-%COMP%]{display:flex;column-gap:2rem;row-gap:4rem;flex-wrap:wrap;max-width:1440px;margin:0 auto;justify-content:center;padding:1rem}.heading[_ngcontent-%COMP%]{margin:1rem auto;text-align:center}.pagination[_ngcontent-%COMP%]{margin-top:4rem;text-align:center}"]});let e=i;return e})();export{mn as RoutesComponent};
