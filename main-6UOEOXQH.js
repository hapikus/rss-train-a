import{$ as La,$a as gh,A as Po,Aa as ym,Ab as jl,B as py,Ba as $a,Bb as Wl,Da as Dy,Db as qa,E as fy,Ea as Ey,Eb as Wy,F as Dl,Fa as Ay,Fb as Uy,G as vm,Ga as Dn,Gb as Zy,H as my,Ha as ei,Hb as Gy,I as El,Ia as mh,Ib as Yy,J as jn,Ja as ky,K as gy,Ka as Cm,Kb as Ul,L as _y,La as Nl,M as ua,Ma as ks,N as vy,Na as Tn,O as yy,Oa as Le,P as Ir,Pa as Jt,Q as da,Qa as en,R as Cy,Ra as Ur,S as Wi,Sa as Zr,T as li,Ta as Ui,U as zi,Ua as Gr,V as Do,Va as Nt,Wa as Rt,X as xy,Xa as Ny,Ya as xm,Z as uo,Za as Ry,_ as Eo,_a as Ly,a as ey,aa as zy,ab as By,b as Oo,ba as by,c as ty,ca as Ba,cb as Vy,d as ny,da as ch,db as $y,e as iy,ea as uh,eb as Ro,f as ry,fa as Fr,fb as Lo,g as sh,ga as Ao,gb as _h,h as oy,ha as ko,hb as vh,i as Mo,ia as dh,ib as Yr,j as As,ja as kt,jb as Hy,k as ay,ka as Sy,kb as qy,l as sy,la as wy,lb as jy,m as ly,ma as Ty,mb as zm,n as cy,na as hh,nb as Rl,o as su,oa as Iy,ob as Ll,p as uy,pa as Fy,pb as Bl,q as mm,qa as Al,qb as Vl,r as dy,ra as Oy,rb as ti,s as si,sa as My,t as gm,ta as ph,u as lu,ua as Py,ub as Bo,v as cu,va as Va,vb as $l,w as lh,wa as fh,wb as Vo,x as Ra,xa as ho,xb as Hl,y as _m,ya as No,yb as ql,z as hy,za as kl,zb as Ha}from"./chunk-KQS5WSQU.js";import{A as ah,B as Na,D as Jv,d as Ml,n as Qv,p as Pi,q as Tr,r as Jn,s as pm,t as fm,u as Kv,v as xi,w as Qt,x as Pl,y as Es,z as Xv}from"./chunk-QWDYD7CS.js";import{$b as Ds,A as la,Ab as co,Ac as Gv,B as Jd,Bb as Je,Bc as wn,Cc as pr,Da as kv,Dc as fr,E as sm,Ea as Nv,Eb as M,Ec as Ke,Fa as $e,Fb as Ft,G as dn,Ga as B,Gb as w,Ha as V,Hb as dt,I as Rn,Ia as lo,Ib as ve,J as yi,Ja as Rv,Jb as Wv,K as Sl,Ka as ih,Kb as wr,L as wl,Lb as ye,Ma as Os,Mb as Ol,N as eh,Na as cm,Nb as Uv,Ob as Zv,P as Fs,Pa as fe,Pb as K,Pc as ht,Q as Tl,Qa as cn,Qb as Fo,R as th,Rb as yn,S as Sr,Sa as St,Sb as rt,Ta as um,Tb as ot,U as lm,Ub as z,Uc as ee,Vb as S,Vc as ji,Wb as W,Wc as Yv,Xa as Lv,Xb as Fe,Ya as rh,Yb as Oe,Zb as Xt,_b as he,a as qt,aa as dr,b as Kn,ba as hr,c as Fv,ca as le,d as E,dc as Q,e as vn,ea as nh,f as Kt,fa as Il,fc as C,g as am,ga as au,gc as rn,h as Ov,hc as Yt,i as Wr,ia as Fl,ib as Ms,ic as Ot,ja as hn,jb as Bv,jc as qn,k as Qd,ka as Et,kc as Qe,lc as Te,ma as ca,mb as y,mc as Ie,n as Ue,nb as k,nc as Pe,o as Ii,oa as Ci,ob as Vv,oc as H,p as Kd,pa as Ee,pb as Oi,pc as Ae,q as Mv,qb as $v,qc as xe,r as Pv,rc as oh,s as Dv,sb as Hv,sc as $i,t as Re,tb as Mi,tc as Hi,ua as ie,ub as qv,uc as qi,v as ur,va as At,vc as on,w as Xd,wa as Hn,wb as jv,wc as re,xb as Ps,xc as tr,ya as Ev,yc as Xn,z as Fi,za as Av,zb as dm,zc as hm}from"./chunk-S7FHNIJE.js";var bm=E((cee,Qy)=>{"use strict";var _A=typeof global=="object"&&global&&global.Object===Object&&global;Qy.exports=_A});var po=E((uee,Ky)=>{"use strict";var vA=bm(),yA=typeof self=="object"&&self&&self.Object===Object&&self,CA=vA||yA||Function("return this")();Ky.exports=CA});var Ns=E((dee,Xy)=>{"use strict";var xA=po(),zA=xA.Symbol;Xy.exports=zA});var n1=E((hee,t1)=>{"use strict";var Jy=Ns(),e1=Object.prototype,bA=e1.hasOwnProperty,SA=e1.toString,uu=Jy?Jy.toStringTag:void 0;function wA(e){var t=bA.call(e,uu),i=e[uu];try{e[uu]=void 0;var n=!0}catch{}var r=SA.call(e);return n&&(t?e[uu]=i:delete e[uu]),r}t1.exports=wA});var r1=E((pee,i1)=>{"use strict";var TA=Object.prototype,IA=TA.toString;function FA(e){return IA.call(e)}i1.exports=FA});var Rs=E((fee,s1)=>{"use strict";var o1=Ns(),OA=n1(),MA=r1(),PA="[object Null]",DA="[object Undefined]",a1=o1?o1.toStringTag:void 0;function EA(e){return e==null?e===void 0?DA:PA:a1&&a1 in Object(e)?OA(e):MA(e)}s1.exports=EA});var Sm=E((mee,l1)=>{"use strict";function AA(e,t){return function(i){return e(t(i))}}l1.exports=AA});var yh=E((gee,c1)=>{"use strict";var kA=Sm(),NA=kA(Object.getPrototypeOf,Object);c1.exports=NA});var ha=E((_ee,u1)=>{"use strict";function RA(e){return e!=null&&typeof e=="object"}u1.exports=RA});var p1=E((vee,h1)=>{"use strict";var LA=Rs(),BA=yh(),VA=ha(),$A="[object Object]",HA=Function.prototype,qA=Object.prototype,d1=HA.toString,jA=qA.hasOwnProperty,WA=d1.call(Object);function UA(e){if(!VA(e)||LA(e)!=$A)return!1;var t=BA(e);if(t===null)return!0;var i=jA.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&d1.call(i)==WA}h1.exports=UA});var $o=E((yee,f1)=>{"use strict";function ZA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}f1.exports=ZA});var Ch=E((Cee,m1)=>{"use strict";var GA=Rs(),YA=$o(),QA="[object AsyncFunction]",KA="[object Function]",XA="[object GeneratorFunction]",JA="[object Proxy]";function ek(e){if(!YA(e))return!1;var t=GA(e);return t==KA||t==XA||t==QA||t==JA}m1.exports=ek});var _1=E((xee,g1)=>{"use strict";var tk=po(),nk=tk["__core-js_shared__"];g1.exports=nk});var C1=E((zee,y1)=>{"use strict";var wm=_1(),v1=function(){var e=/[^.]+$/.exec(wm&&wm.keys&&wm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ik(e){return!!v1&&v1 in e}y1.exports=ik});var Tm=E((bee,x1)=>{"use strict";var rk=Function.prototype,ok=rk.toString;function ak(e){if(e!=null){try{return ok.call(e)}catch{}try{return e+""}catch{}}return""}x1.exports=ak});var b1=E((See,z1)=>{"use strict";var sk=Ch(),lk=C1(),ck=$o(),uk=Tm(),dk=/[\\^$.*+?()[\]{}|]/g,hk=/^\[object .+?Constructor\]$/,pk=Function.prototype,fk=Object.prototype,mk=pk.toString,gk=fk.hasOwnProperty,_k=RegExp("^"+mk.call(gk).replace(dk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vk(e){if(!ck(e)||lk(e))return!1;var t=sk(e)?_k:hk;return t.test(uk(e))}z1.exports=vk});var w1=E((wee,S1)=>{"use strict";function yk(e,t){return e?.[t]}S1.exports=yk});var ja=E((Tee,T1)=>{"use strict";var Ck=b1(),xk=w1();function zk(e,t){var i=xk(e,t);return Ck(i)?i:void 0}T1.exports=zk});var Im=E((Iee,I1)=>{"use strict";var bk=ja(),Sk=function(){try{var e=bk(Object,"defineProperty");return e({},"",{}),e}catch{}}();I1.exports=Sk});var xh=E((Fee,O1)=>{"use strict";var F1=Im();function wk(e,t,i){t=="__proto__"&&F1?F1(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}O1.exports=wk});var P1=E((Oee,M1)=>{"use strict";function Tk(e){return function(t,i,n){for(var r=-1,a=Object(t),u=n(t),p=u.length;p--;){var m=u[e?p:++r];if(i(a[m],m,a)===!1)break}return t}}M1.exports=Tk});var Fm=E((Mee,D1)=>{"use strict";var Ik=P1(),Fk=Ik();D1.exports=Fk});var A1=E((Pee,E1)=>{"use strict";function Ok(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}E1.exports=Ok});var N1=E((Dee,k1)=>{"use strict";var Mk=Rs(),Pk=ha(),Dk="[object Arguments]";function Ek(e){return Pk(e)&&Mk(e)==Dk}k1.exports=Ek});var du=E((Eee,B1)=>{"use strict";var R1=N1(),Ak=ha(),L1=Object.prototype,kk=L1.hasOwnProperty,Nk=L1.propertyIsEnumerable,Rk=R1(function(){return arguments}())?R1:function(e){return Ak(e)&&kk.call(e,"callee")&&!Nk.call(e,"callee")};B1.exports=Rk});var Or=E((Aee,V1)=>{"use strict";var Lk=Array.isArray;V1.exports=Lk});var H1=E((kee,$1)=>{"use strict";function Bk(){return!1}$1.exports=Bk});var pu=E((hu,Zl)=>{"use strict";var Vk=po(),$k=H1(),W1=typeof hu=="object"&&hu&&!hu.nodeType&&hu,q1=W1&&typeof Zl=="object"&&Zl&&!Zl.nodeType&&Zl,Hk=q1&&q1.exports===W1,j1=Hk?Vk.Buffer:void 0,qk=j1?j1.isBuffer:void 0,jk=qk||$k;Zl.exports=jk});var fu=E((Nee,U1)=>{"use strict";var Wk=9007199254740991,Uk=/^(?:0|[1-9]\d*)$/;function Zk(e,t){var i=typeof e;return t=t??Wk,!!t&&(i=="number"||i!="symbol"&&Uk.test(e))&&e>-1&&e%1==0&&e<t}U1.exports=Zk});var zh=E((Ree,Z1)=>{"use strict";var Gk=9007199254740991;function Yk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gk}Z1.exports=Yk});var Y1=E((Lee,G1)=>{"use strict";var Qk=Rs(),Kk=zh(),Xk=ha(),Jk="[object Arguments]",eN="[object Array]",tN="[object Boolean]",nN="[object Date]",iN="[object Error]",rN="[object Function]",oN="[object Map]",aN="[object Number]",sN="[object Object]",lN="[object RegExp]",cN="[object Set]",uN="[object String]",dN="[object WeakMap]",hN="[object ArrayBuffer]",pN="[object DataView]",fN="[object Float32Array]",mN="[object Float64Array]",gN="[object Int8Array]",_N="[object Int16Array]",vN="[object Int32Array]",yN="[object Uint8Array]",CN="[object Uint8ClampedArray]",xN="[object Uint16Array]",zN="[object Uint32Array]",In={};In[fN]=In[mN]=In[gN]=In[_N]=In[vN]=In[yN]=In[CN]=In[xN]=In[zN]=!0;In[Jk]=In[eN]=In[hN]=In[tN]=In[pN]=In[nN]=In[iN]=In[rN]=In[oN]=In[aN]=In[sN]=In[lN]=In[cN]=In[uN]=In[dN]=!1;function bN(e){return Xk(e)&&Kk(e.length)&&!!In[Qk(e)]}G1.exports=bN});var bh=E((Bee,Q1)=>{"use strict";function SN(e){return function(t){return e(t)}}Q1.exports=SN});var Sh=E((mu,Gl)=>{"use strict";var wN=bm(),K1=typeof mu=="object"&&mu&&!mu.nodeType&&mu,gu=K1&&typeof Gl=="object"&&Gl&&!Gl.nodeType&&Gl,TN=gu&&gu.exports===K1,Om=TN&&wN.process,IN=function(){try{var e=gu&&gu.require&&gu.require("util").types;return e||Om&&Om.binding&&Om.binding("util")}catch{}}();Gl.exports=IN});var wh=E((Vee,eC)=>{"use strict";var FN=Y1(),ON=bh(),X1=Sh(),J1=X1&&X1.isTypedArray,MN=J1?ON(J1):FN;eC.exports=MN});var Mm=E(($ee,tC)=>{"use strict";var PN=A1(),DN=du(),EN=Or(),AN=pu(),kN=fu(),NN=wh(),RN=Object.prototype,LN=RN.hasOwnProperty;function BN(e,t){var i=EN(e),n=!i&&DN(e),r=!i&&!n&&AN(e),a=!i&&!n&&!r&&NN(e),u=i||n||r||a,p=u?PN(e.length,String):[],m=p.length;for(var _ in e)(t||LN.call(e,_))&&!(u&&(_=="length"||r&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||kN(_,m)))&&p.push(_);return p}tC.exports=BN});var Yl=E((Hee,nC)=>{"use strict";var VN=Object.prototype;function $N(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||VN;return e===i}nC.exports=$N});var rC=E((qee,iC)=>{"use strict";var HN=Sm(),qN=HN(Object.keys,Object);iC.exports=qN});var Pm=E((jee,oC)=>{"use strict";var jN=Yl(),WN=rC(),UN=Object.prototype,ZN=UN.hasOwnProperty;function GN(e){if(!jN(e))return WN(e);var t=[];for(var i in Object(e))ZN.call(e,i)&&i!="constructor"&&t.push(i);return t}oC.exports=GN});var Ho=E((Wee,aC)=>{"use strict";var YN=Ch(),QN=zh();function KN(e){return e!=null&&QN(e.length)&&!YN(e)}aC.exports=KN});var pa=E((Uee,sC)=>{"use strict";var XN=Mm(),JN=Pm(),e3=Ho();function t3(e){return e3(e)?XN(e):JN(e)}sC.exports=t3});var Dm=E((Zee,lC)=>{"use strict";var n3=Fm(),i3=pa();function r3(e,t){return e&&n3(e,t,i3)}lC.exports=r3});var uC=E((Gee,cC)=>{"use strict";function o3(){this.__data__=[],this.size=0}cC.exports=o3});var _u=E((Yee,dC)=>{"use strict";function a3(e,t){return e===t||e!==e&&t!==t}dC.exports=a3});var vu=E((Qee,hC)=>{"use strict";var s3=_u();function l3(e,t){for(var i=e.length;i--;)if(s3(e[i][0],t))return i;return-1}hC.exports=l3});var fC=E((Kee,pC)=>{"use strict";var c3=vu(),u3=Array.prototype,d3=u3.splice;function h3(e){var t=this.__data__,i=c3(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():d3.call(t,i,1),--this.size,!0}pC.exports=h3});var gC=E((Xee,mC)=>{"use strict";var p3=vu();function f3(e){var t=this.__data__,i=p3(t,e);return i<0?void 0:t[i][1]}mC.exports=f3});var vC=E((Jee,_C)=>{"use strict";var m3=vu();function g3(e){return m3(this.__data__,e)>-1}_C.exports=g3});var CC=E((ete,yC)=>{"use strict";var _3=vu();function v3(e,t){var i=this.__data__,n=_3(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}yC.exports=v3});var yu=E((tte,xC)=>{"use strict";var y3=uC(),C3=fC(),x3=gC(),z3=vC(),b3=CC();function Ql(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Ql.prototype.clear=y3;Ql.prototype.delete=C3;Ql.prototype.get=x3;Ql.prototype.has=z3;Ql.prototype.set=b3;xC.exports=Ql});var bC=E((nte,zC)=>{"use strict";var S3=yu();function w3(){this.__data__=new S3,this.size=0}zC.exports=w3});var wC=E((ite,SC)=>{"use strict";function T3(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}SC.exports=T3});var IC=E((rte,TC)=>{"use strict";function I3(e){return this.__data__.get(e)}TC.exports=I3});var OC=E((ote,FC)=>{"use strict";function F3(e){return this.__data__.has(e)}FC.exports=F3});var Th=E((ate,MC)=>{"use strict";var O3=ja(),M3=po(),P3=O3(M3,"Map");MC.exports=P3});var Cu=E((ste,PC)=>{"use strict";var D3=ja(),E3=D3(Object,"create");PC.exports=E3});var AC=E((lte,EC)=>{"use strict";var DC=Cu();function A3(){this.__data__=DC?DC(null):{},this.size=0}EC.exports=A3});var NC=E((cte,kC)=>{"use strict";function k3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}kC.exports=k3});var LC=E((ute,RC)=>{"use strict";var N3=Cu(),R3="__lodash_hash_undefined__",L3=Object.prototype,B3=L3.hasOwnProperty;function V3(e){var t=this.__data__;if(N3){var i=t[e];return i===R3?void 0:i}return B3.call(t,e)?t[e]:void 0}RC.exports=V3});var VC=E((dte,BC)=>{"use strict";var $3=Cu(),H3=Object.prototype,q3=H3.hasOwnProperty;function j3(e){var t=this.__data__;return $3?t[e]!==void 0:q3.call(t,e)}BC.exports=j3});var HC=E((hte,$C)=>{"use strict";var W3=Cu(),U3="__lodash_hash_undefined__";function Z3(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=W3&&t===void 0?U3:t,this}$C.exports=Z3});var jC=E((pte,qC)=>{"use strict";var G3=AC(),Y3=NC(),Q3=LC(),K3=VC(),X3=HC();function Kl(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Kl.prototype.clear=G3;Kl.prototype.delete=Y3;Kl.prototype.get=Q3;Kl.prototype.has=K3;Kl.prototype.set=X3;qC.exports=Kl});var ZC=E((fte,UC)=>{"use strict";var WC=jC(),J3=yu(),eR=Th();function tR(){this.size=0,this.__data__={hash:new WC,map:new(eR||J3),string:new WC}}UC.exports=tR});var YC=E((mte,GC)=>{"use strict";function nR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}GC.exports=nR});var xu=E((gte,QC)=>{"use strict";var iR=YC();function rR(e,t){var i=e.__data__;return iR(t)?i[typeof t=="string"?"string":"hash"]:i.map}QC.exports=rR});var XC=E((_te,KC)=>{"use strict";var oR=xu();function aR(e){var t=oR(this,e).delete(e);return this.size-=t?1:0,t}KC.exports=aR});var ex=E((vte,JC)=>{"use strict";var sR=xu();function lR(e){return sR(this,e).get(e)}JC.exports=lR});var nx=E((yte,tx)=>{"use strict";var cR=xu();function uR(e){return cR(this,e).has(e)}tx.exports=uR});var rx=E((Cte,ix)=>{"use strict";var dR=xu();function hR(e,t){var i=dR(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}ix.exports=hR});var Ih=E((xte,ox)=>{"use strict";var pR=ZC(),fR=XC(),mR=ex(),gR=nx(),_R=rx();function Xl(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Xl.prototype.clear=pR;Xl.prototype.delete=fR;Xl.prototype.get=mR;Xl.prototype.has=gR;Xl.prototype.set=_R;ox.exports=Xl});var sx=E((zte,ax)=>{"use strict";var vR=yu(),yR=Th(),CR=Ih(),xR=200;function zR(e,t){var i=this.__data__;if(i instanceof vR){var n=i.__data__;if(!yR||n.length<xR-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new CR(n)}return i.set(e,t),this.size=i.size,this}ax.exports=zR});var Fh=E((bte,lx)=>{"use strict";var bR=yu(),SR=bC(),wR=wC(),TR=IC(),IR=OC(),FR=sx();function Jl(e){var t=this.__data__=new bR(e);this.size=t.size}Jl.prototype.clear=SR;Jl.prototype.delete=wR;Jl.prototype.get=TR;Jl.prototype.has=IR;Jl.prototype.set=FR;lx.exports=Jl});var ux=E((Ste,cx)=>{"use strict";var OR="__lodash_hash_undefined__";function MR(e){return this.__data__.set(e,OR),this}cx.exports=MR});var hx=E((wte,dx)=>{"use strict";function PR(e){return this.__data__.has(e)}dx.exports=PR});var Em=E((Tte,px)=>{"use strict";var DR=Ih(),ER=ux(),AR=hx();function Oh(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new DR;++t<i;)this.add(e[t])}Oh.prototype.add=Oh.prototype.push=ER;Oh.prototype.has=AR;px.exports=Oh});var mx=E((Ite,fx)=>{"use strict";function kR(e,t){for(var i=-1,n=e==null?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}fx.exports=kR});var Am=E((Fte,gx)=>{"use strict";function NR(e,t){return e.has(t)}gx.exports=NR});var km=E((Ote,_x)=>{"use strict";var RR=Em(),LR=mx(),BR=Am(),VR=1,$R=2;function HR(e,t,i,n,r,a){var u=i&VR,p=e.length,m=t.length;if(p!=m&&!(u&&m>p))return!1;var _=a.get(e),O=a.get(t);if(_&&O)return _==t&&O==e;var F=-1,N=!0,U=i&$R?new RR:void 0;for(a.set(e,t),a.set(t,e);++F<p;){var q=e[F],se=t[F];if(n)var ce=u?n(se,q,F,t,e,a):n(q,se,F,e,t,a);if(ce!==void 0){if(ce)continue;N=!1;break}if(U){if(!LR(t,function(we,tt){if(!BR(U,tt)&&(q===we||r(q,we,i,n,a)))return U.push(tt)})){N=!1;break}}else if(!(q===se||r(q,se,i,n,a))){N=!1;break}}return a.delete(e),a.delete(t),N}_x.exports=HR});var Nm=E((Mte,vx)=>{"use strict";var qR=po(),jR=qR.Uint8Array;vx.exports=jR});var Cx=E((Pte,yx)=>{"use strict";function WR(e){var t=-1,i=Array(e.size);return e.forEach(function(n,r){i[++t]=[r,n]}),i}yx.exports=WR});var Mh=E((Dte,xx)=>{"use strict";function UR(e){var t=-1,i=Array(e.size);return e.forEach(function(n){i[++t]=n}),i}xx.exports=UR});var Tx=E((Ete,wx)=>{"use strict";var zx=Ns(),bx=Nm(),ZR=_u(),GR=km(),YR=Cx(),QR=Mh(),KR=1,XR=2,JR="[object Boolean]",eL="[object Date]",tL="[object Error]",nL="[object Map]",iL="[object Number]",rL="[object RegExp]",oL="[object Set]",aL="[object String]",sL="[object Symbol]",lL="[object ArrayBuffer]",cL="[object DataView]",Sx=zx?zx.prototype:void 0,Rm=Sx?Sx.valueOf:void 0;function uL(e,t,i,n,r,a,u){switch(i){case cL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lL:return!(e.byteLength!=t.byteLength||!a(new bx(e),new bx(t)));case JR:case eL:case iL:return ZR(+e,+t);case tL:return e.name==t.name&&e.message==t.message;case rL:case aL:return e==t+"";case nL:var p=YR;case oL:var m=n&KR;if(p||(p=QR),e.size!=t.size&&!m)return!1;var _=u.get(e);if(_)return _==t;n|=XR,u.set(e,t);var O=GR(p(e),p(t),n,r,a,u);return u.delete(e),O;case sL:if(Rm)return Rm.call(e)==Rm.call(t)}return!1}wx.exports=uL});var Ph=E((Ate,Ix)=>{"use strict";function dL(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}Ix.exports=dL});var Lm=E((kte,Fx)=>{"use strict";var hL=Ph(),pL=Or();function fL(e,t,i){var n=t(e);return pL(e)?n:hL(n,i(e))}Fx.exports=fL});var Mx=E((Nte,Ox)=>{"use strict";function mL(e,t){for(var i=-1,n=e==null?0:e.length,r=0,a=[];++i<n;){var u=e[i];t(u,i,e)&&(a[r++]=u)}return a}Ox.exports=mL});var Bm=E((Rte,Px)=>{"use strict";function gL(){return[]}Px.exports=gL});var Dh=E((Lte,Ex)=>{"use strict";var _L=Mx(),vL=Bm(),yL=Object.prototype,CL=yL.propertyIsEnumerable,Dx=Object.getOwnPropertySymbols,xL=Dx?function(e){return e==null?[]:(e=Object(e),_L(Dx(e),function(t){return CL.call(e,t)}))}:vL;Ex.exports=xL});var Vm=E((Bte,Ax)=>{"use strict";var zL=Lm(),bL=Dh(),SL=pa();function wL(e){return zL(e,SL,bL)}Ax.exports=wL});var Rx=E((Vte,Nx)=>{"use strict";var kx=Vm(),TL=1,IL=Object.prototype,FL=IL.hasOwnProperty;function OL(e,t,i,n,r,a){var u=i&TL,p=kx(e),m=p.length,_=kx(t),O=_.length;if(m!=O&&!u)return!1;for(var F=m;F--;){var N=p[F];if(!(u?N in t:FL.call(t,N)))return!1}var U=a.get(e),q=a.get(t);if(U&&q)return U==t&&q==e;var se=!0;a.set(e,t),a.set(t,e);for(var ce=u;++F<m;){N=p[F];var we=e[N],tt=t[N];if(n)var st=u?n(tt,we,N,t,e,a):n(we,tt,N,e,t,a);if(!(st===void 0?we===tt||r(we,tt,i,n,a):st)){se=!1;break}ce||(ce=N=="constructor")}if(se&&!ce){var Lt=e.constructor,mt=t.constructor;Lt!=mt&&"constructor"in e&&"constructor"in t&&!(typeof Lt=="function"&&Lt instanceof Lt&&typeof mt=="function"&&mt instanceof mt)&&(se=!1)}return a.delete(e),a.delete(t),se}Nx.exports=OL});var Bx=E(($te,Lx)=>{"use strict";var ML=ja(),PL=po(),DL=ML(PL,"DataView");Lx.exports=DL});var $x=E((Hte,Vx)=>{"use strict";var EL=ja(),AL=po(),kL=EL(AL,"Promise");Vx.exports=kL});var $m=E((qte,Hx)=>{"use strict";var NL=ja(),RL=po(),LL=NL(RL,"Set");Hx.exports=LL});var jx=E((jte,qx)=>{"use strict";var BL=ja(),VL=po(),$L=BL(VL,"WeakMap");qx.exports=$L});var tc=E((Wte,Kx)=>{"use strict";var Hm=Bx(),qm=Th(),jm=$x(),Wm=$m(),Um=jx(),Qx=Rs(),ec=Tm(),Wx="[object Map]",HL="[object Object]",Ux="[object Promise]",Zx="[object Set]",Gx="[object WeakMap]",Yx="[object DataView]",qL=ec(Hm),jL=ec(qm),WL=ec(jm),UL=ec(Wm),ZL=ec(Um),Ls=Qx;(Hm&&Ls(new Hm(new ArrayBuffer(1)))!=Yx||qm&&Ls(new qm)!=Wx||jm&&Ls(jm.resolve())!=Ux||Wm&&Ls(new Wm)!=Zx||Um&&Ls(new Um)!=Gx)&&(Ls=function(e){var t=Qx(e),i=t==HL?e.constructor:void 0,n=i?ec(i):"";if(n)switch(n){case qL:return Yx;case jL:return Wx;case WL:return Ux;case UL:return Zx;case ZL:return Gx}return t});Kx.exports=Ls});var oz=E((Ute,rz)=>{"use strict";var Zm=Fh(),GL=km(),YL=Tx(),QL=Rx(),Xx=tc(),Jx=Or(),ez=pu(),KL=wh(),XL=1,tz="[object Arguments]",nz="[object Array]",Eh="[object Object]",JL=Object.prototype,iz=JL.hasOwnProperty;function e4(e,t,i,n,r,a){var u=Jx(e),p=Jx(t),m=u?nz:Xx(e),_=p?nz:Xx(t);m=m==tz?Eh:m,_=_==tz?Eh:_;var O=m==Eh,F=_==Eh,N=m==_;if(N&&ez(e)){if(!ez(t))return!1;u=!0,O=!1}if(N&&!O)return a||(a=new Zm),u||KL(e)?GL(e,t,i,n,r,a):YL(e,t,m,i,n,r,a);if(!(i&XL)){var U=O&&iz.call(e,"__wrapped__"),q=F&&iz.call(t,"__wrapped__");if(U||q){var se=U?e.value():e,ce=q?t.value():t;return a||(a=new Zm),r(se,ce,i,n,a)}}return N?(a||(a=new Zm),QL(e,t,i,n,r,a)):!1}rz.exports=e4});var Ah=E((Zte,lz)=>{"use strict";var t4=oz(),az=ha();function sz(e,t,i,n,r){return e===t?!0:e==null||t==null||!az(e)&&!az(t)?e!==e&&t!==t:t4(e,t,i,n,sz,r)}lz.exports=sz});var uz=E((Gte,cz)=>{"use strict";var n4=Fh(),i4=Ah(),r4=1,o4=2;function a4(e,t,i,n){var r=i.length,a=r,u=!n;if(e==null)return!a;for(e=Object(e);r--;){var p=i[r];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++r<a;){p=i[r];var m=p[0],_=e[m],O=p[1];if(u&&p[2]){if(_===void 0&&!(m in e))return!1}else{var F=new n4;if(n)var N=n(_,O,m,e,t,F);if(!(N===void 0?i4(O,_,r4|o4,n,F):N))return!1}}return!0}cz.exports=a4});var Gm=E((Yte,dz)=>{"use strict";var s4=$o();function l4(e){return e===e&&!s4(e)}dz.exports=l4});var pz=E((Qte,hz)=>{"use strict";var c4=Gm(),u4=pa();function d4(e){for(var t=u4(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,c4(r)]}return t}hz.exports=d4});var Ym=E((Kte,fz)=>{"use strict";function h4(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}fz.exports=h4});var gz=E((Xte,mz)=>{"use strict";var p4=uz(),f4=pz(),m4=Ym();function g4(e){var t=f4(e);return t.length==1&&t[0][2]?m4(t[0][0],t[0][1]):function(i){return i===e||p4(i,e,t)}}mz.exports=g4});var zu=E((Jte,_z)=>{"use strict";var _4=Rs(),v4=ha(),y4="[object Symbol]";function C4(e){return typeof e=="symbol"||v4(e)&&_4(e)==y4}_z.exports=C4});var kh=E((ene,vz)=>{"use strict";var x4=Or(),z4=zu(),b4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S4=/^\w*$/;function w4(e,t){if(x4(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||z4(e)?!0:S4.test(e)||!b4.test(e)||t!=null&&e in Object(t)}vz.exports=w4});var xz=E((tne,Cz)=>{"use strict";var yz=Ih(),T4="Expected a function";function Qm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(T4);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var u=e.apply(this,n);return i.cache=a.set(r,u)||a,u};return i.cache=new(Qm.Cache||yz),i}Qm.Cache=yz;Cz.exports=Qm});var bz=E((nne,zz)=>{"use strict";var I4=xz(),F4=500;function O4(e){var t=I4(e,function(n){return i.size===F4&&i.clear(),n}),i=t.cache;return t}zz.exports=O4});var wz=E((ine,Sz)=>{"use strict";var M4=bz(),P4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D4=/\\(\\)?/g,E4=M4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(P4,function(i,n,r,a){t.push(r?a.replace(D4,"$1"):n||i)}),t});Sz.exports=E4});var Nh=E((rne,Tz)=>{"use strict";function A4(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}Tz.exports=A4});var Dz=E((one,Pz)=>{"use strict";var Iz=Ns(),k4=Nh(),N4=Or(),R4=zu(),L4=1/0,Fz=Iz?Iz.prototype:void 0,Oz=Fz?Fz.toString:void 0;function Mz(e){if(typeof e=="string")return e;if(N4(e))return k4(e,Mz)+"";if(R4(e))return Oz?Oz.call(e):"";var t=e+"";return t=="0"&&1/e==-L4?"-0":t}Pz.exports=Mz});var Km=E((ane,Ez)=>{"use strict";var B4=Dz();function V4(e){return e==null?"":B4(e)}Ez.exports=V4});var nc=E((sne,Az)=>{"use strict";var $4=Or(),H4=kh(),q4=wz(),j4=Km();function W4(e,t){return $4(e)?e:H4(e,t)?[e]:q4(j4(e))}Az.exports=W4});var Bs=E((lne,kz)=>{"use strict";var U4=zu(),Z4=1/0;function G4(e){if(typeof e=="string"||U4(e))return e;var t=e+"";return t=="0"&&1/e==-Z4?"-0":t}kz.exports=G4});var bu=E((cne,Nz)=>{"use strict";var Y4=nc(),Q4=Bs();function K4(e,t){t=Y4(t,e);for(var i=0,n=t.length;e!=null&&i<n;)e=e[Q4(t[i++])];return i&&i==n?e:void 0}Nz.exports=K4});var Xm=E((une,Rz)=>{"use strict";var X4=bu();function J4(e,t,i){var n=e==null?void 0:X4(e,t);return n===void 0?i:n}Rz.exports=J4});var Bz=E((dne,Lz)=>{"use strict";function eB(e,t){return e!=null&&t in Object(e)}Lz.exports=eB});var Jm=E((hne,Vz)=>{"use strict";var tB=nc(),nB=du(),iB=Or(),rB=fu(),oB=zh(),aB=Bs();function sB(e,t,i){t=tB(t,e);for(var n=-1,r=t.length,a=!1;++n<r;){var u=aB(t[n]);if(!(a=e!=null&&i(e,u)))break;e=e[u]}return a||++n!=r?a:(r=e==null?0:e.length,!!r&&oB(r)&&rB(u,r)&&(iB(e)||nB(e)))}Vz.exports=sB});var e0=E((pne,$z)=>{"use strict";var lB=Bz(),cB=Jm();function uB(e,t){return e!=null&&cB(e,t,lB)}$z.exports=uB});var qz=E((fne,Hz)=>{"use strict";var dB=Ah(),hB=Xm(),pB=e0(),fB=kh(),mB=Gm(),gB=Ym(),_B=Bs(),vB=1,yB=2;function CB(e,t){return fB(e)&&mB(t)?gB(_B(e),t):function(i){var n=hB(i,e);return n===void 0&&n===t?pB(i,e):dB(t,n,vB|yB)}}Hz.exports=CB});var Su=E((mne,jz)=>{"use strict";function xB(e){return e}jz.exports=xB});var Uz=E((gne,Wz)=>{"use strict";function zB(e){return function(t){return t?.[e]}}Wz.exports=zB});var Gz=E((_ne,Zz)=>{"use strict";var bB=bu();function SB(e){return function(t){return bB(t,e)}}Zz.exports=SB});var Qz=E((vne,Yz)=>{"use strict";var wB=Uz(),TB=Gz(),IB=kh(),FB=Bs();function OB(e){return IB(e)?wB(FB(e)):TB(e)}Yz.exports=OB});var ic=E((yne,Kz)=>{"use strict";var MB=gz(),PB=qz(),DB=Su(),EB=Or(),AB=Qz();function kB(e){return typeof e=="function"?e:e==null?DB:typeof e=="object"?EB(e)?PB(e[0],e[1]):MB(e):AB(e)}Kz.exports=kB});var Jz=E((Cne,Xz)=>{"use strict";var NB=xh(),RB=Dm(),LB=ic();function BB(e,t){var i={};return t=LB(t,3),RB(e,function(n,r,a){NB(i,r,t(n,r,a))}),i}Xz.exports=BB});var t0=E((xne,eb)=>{"use strict";function VB(e,t,i,n){for(var r=e.length,a=i+(n?1:-1);n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}eb.exports=VB});var nb=E((zne,tb)=>{"use strict";function $B(e){return e!==e}tb.exports=$B});var rb=E((bne,ib)=>{"use strict";function HB(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}ib.exports=HB});var ab=E((Sne,ob)=>{"use strict";var qB=t0(),jB=nb(),WB=rb();function UB(e,t,i){return t===t?WB(e,t,i):qB(e,jB,i)}ob.exports=UB});var lb=E((wne,sb)=>{"use strict";var ZB=ab();function GB(e,t){var i=e==null?0:e.length;return!!i&&ZB(e,t,0)>-1}sb.exports=GB});var ub=E((Tne,cb)=>{"use strict";function YB(e,t,i){for(var n=-1,r=e==null?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}cb.exports=YB});var hb=E((Ine,db)=>{"use strict";function QB(){}db.exports=QB});var fb=E((Fne,pb)=>{"use strict";var n0=$m(),KB=hb(),XB=Mh(),JB=1/0,e6=n0&&1/XB(new n0([,-0]))[1]==JB?function(e){return new n0(e)}:KB;pb.exports=e6});var i0=E((One,mb)=>{"use strict";var t6=Em(),n6=lb(),i6=ub(),r6=Am(),o6=fb(),a6=Mh(),s6=200;function l6(e,t,i){var n=-1,r=n6,a=e.length,u=!0,p=[],m=p;if(i)u=!1,r=i6;else if(a>=s6){var _=t?null:o6(e);if(_)return a6(_);u=!1,r=r6,m=new t6}else m=t?[]:p;e:for(;++n<a;){var O=e[n],F=t?t(O):O;if(O=i||O!==0?O:0,u&&F===F){for(var N=m.length;N--;)if(m[N]===F)continue e;t&&m.push(F),p.push(O)}else r(m,F,i)||(m!==p&&m.push(F),p.push(O))}return p}mb.exports=l6});var _b=E((Mne,gb)=>{"use strict";var c6=i0();function u6(e){return e&&e.length?c6(e):[]}gb.exports=u6});var xb=E((Pne,Cb)=>{"use strict";var vb=Ns(),d6=du(),h6=Or(),yb=vb?vb.isConcatSpreadable:void 0;function p6(e){return h6(e)||d6(e)||!!(yb&&e&&e[yb])}Cb.exports=p6});var Sb=E((Dne,bb)=>{"use strict";var f6=Ph(),m6=xb();function zb(e,t,i,n,r){var a=-1,u=e.length;for(i||(i=m6),r||(r=[]);++a<u;){var p=e[a];t>0&&i(p)?t>1?zb(p,t-1,i,n,r):f6(r,p):n||(r[r.length]=p)}return r}bb.exports=zb});var r0=E((Ene,wb)=>{"use strict";var g6=Sb();function _6(e){var t=e==null?0:e.length;return t?g6(e,1):[]}wb.exports=_6});var u0=E((Nne,kb)=>{"use strict";function b6(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),i=i>r?r:i,i<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(r);++n<r;)a[n]=e[n+t];return a}kb.exports=b6});var Rb=E((Rne,Nb)=>{"use strict";var S6=u0();function w6(e,t,i){var n=e.length;return i=i===void 0?n:i,!t&&i>=n?e:S6(e,t,i)}Nb.exports=w6});var d0=E((Lne,Lb)=>{"use strict";var T6="\\ud800-\\udfff",I6="\\u0300-\\u036f",F6="\\ufe20-\\ufe2f",O6="\\u20d0-\\u20ff",M6=I6+F6+O6,P6="\\ufe0e\\ufe0f",D6="\\u200d",E6=RegExp("["+D6+T6+M6+P6+"]");function A6(e){return E6.test(e)}Lb.exports=A6});var Vb=E((Bne,Bb)=>{"use strict";function k6(e){return e.split("")}Bb.exports=k6});var Gb=E((Vne,Zb)=>{"use strict";var $b="\\ud800-\\udfff",N6="\\u0300-\\u036f",R6="\\ufe20-\\ufe2f",L6="\\u20d0-\\u20ff",B6=N6+R6+L6,V6="\\ufe0e\\ufe0f",$6="["+$b+"]",h0="["+B6+"]",p0="\\ud83c[\\udffb-\\udfff]",H6="(?:"+h0+"|"+p0+")",Hb="[^"+$b+"]",qb="(?:\\ud83c[\\udde6-\\uddff]){2}",jb="[\\ud800-\\udbff][\\udc00-\\udfff]",q6="\\u200d",Wb=H6+"?",Ub="["+V6+"]?",j6="(?:"+q6+"(?:"+[Hb,qb,jb].join("|")+")"+Ub+Wb+")*",W6=Ub+Wb+j6,U6="(?:"+[Hb+h0+"?",h0,qb,jb,$6].join("|")+")",Z6=RegExp(p0+"(?="+p0+")|"+U6+W6,"g");function G6(e){return e.match(Z6)||[]}Zb.exports=G6});var Qb=E(($ne,Yb)=>{"use strict";var Y6=Vb(),Q6=d0(),K6=Gb();function X6(e){return Q6(e)?K6(e):Y6(e)}Yb.exports=X6});var Xb=E((Hne,Kb)=>{"use strict";var J6=Rb(),eV=d0(),tV=Qb(),nV=Km();function iV(e){return function(t){t=nV(t);var i=eV(t)?tV(t):void 0,n=i?i[0]:t.charAt(0),r=i?J6(i,1).join(""):t.slice(1);return n[e]()+r}}Kb.exports=iV});var eS=E((qne,Jb)=>{"use strict";var rV=Xb(),oV=rV("toLowerCase");Jb.exports=oV});var nS=E((jne,tS)=>{"use strict";var aV=Ah();function sV(e,t){return aV(e,t)}tS.exports=sV});var rS=E((Wne,iS)=>{"use strict";var lV=Ho();function cV(e,t){return function(i,n){if(i==null)return i;if(!lV(i))return e(i,n);for(var r=i.length,a=t?r:-1,u=Object(i);(t?a--:++a<r)&&n(u[a],a,u)!==!1;);return i}}iS.exports=cV});var f0=E((Une,oS)=>{"use strict";var uV=Dm(),dV=rS(),hV=dV(uV);oS.exports=hV});var sS=E((Zne,aS)=>{"use strict";var pV=f0(),fV=Ho();function mV(e,t){var i=-1,n=fV(e)?Array(e.length):[];return pV(e,function(r,a,u){n[++i]=t(r,a,u)}),n}aS.exports=mV});var cS=E((Gne,lS)=>{"use strict";var gV=Nh(),_V=ic(),vV=sS(),yV=Or();function CV(e,t){var i=yV(e)?gV:vV;return i(e,_V(t,3))}lS.exports=CV});var dS=E((Yne,uS)=>{"use strict";function xV(e,t){for(var i=-1,n=e==null?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}uS.exports=xV});var wu=E((Qne,hS)=>{"use strict";var zV=xh(),bV=_u(),SV=Object.prototype,wV=SV.hasOwnProperty;function TV(e,t,i){var n=e[t];(!(wV.call(e,t)&&bV(n,i))||i===void 0&&!(t in e))&&zV(e,t,i)}hS.exports=TV});var oc=E((Kne,pS)=>{"use strict";var IV=wu(),FV=xh();function OV(e,t,i,n){var r=!i;i||(i={});for(var a=-1,u=t.length;++a<u;){var p=t[a],m=n?n(i[p],e[p],p,i,e):void 0;m===void 0&&(m=e[p]),r?FV(i,p,m):IV(i,p,m)}return i}pS.exports=OV});var mS=E((Xne,fS)=>{"use strict";var MV=oc(),PV=pa();function DV(e,t){return e&&MV(t,PV(t),e)}fS.exports=DV});var _S=E((Jne,gS)=>{"use strict";function EV(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}gS.exports=EV});var yS=E((eie,vS)=>{"use strict";var AV=$o(),kV=Yl(),NV=_S(),RV=Object.prototype,LV=RV.hasOwnProperty;function BV(e){if(!AV(e))return NV(e);var t=kV(e),i=[];for(var n in e)n=="constructor"&&(t||!LV.call(e,n))||i.push(n);return i}vS.exports=BV});var Tu=E((tie,CS)=>{"use strict";var VV=Mm(),$V=yS(),HV=Ho();function qV(e){return HV(e)?VV(e,!0):$V(e)}CS.exports=qV});var zS=E((nie,xS)=>{"use strict";var jV=oc(),WV=Tu();function UV(e,t){return e&&jV(t,WV(t),e)}xS.exports=UV});var IS=E((Iu,ac)=>{"use strict";var ZV=po(),TS=typeof Iu=="object"&&Iu&&!Iu.nodeType&&Iu,bS=TS&&typeof ac=="object"&&ac&&!ac.nodeType&&ac,GV=bS&&bS.exports===TS,SS=GV?ZV.Buffer:void 0,wS=SS?SS.allocUnsafe:void 0;function YV(e,t){if(t)return e.slice();var i=e.length,n=wS?wS(i):new e.constructor(i);return e.copy(n),n}ac.exports=YV});var OS=E((iie,FS)=>{"use strict";function QV(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}FS.exports=QV});var PS=E((rie,MS)=>{"use strict";var KV=oc(),XV=Dh();function JV(e,t){return KV(e,XV(e),t)}MS.exports=JV});var m0=E((oie,DS)=>{"use strict";var e5=Ph(),t5=yh(),n5=Dh(),i5=Bm(),r5=Object.getOwnPropertySymbols,o5=r5?function(e){for(var t=[];e;)e5(t,n5(e)),e=t5(e);return t}:i5;DS.exports=o5});var AS=E((aie,ES)=>{"use strict";var a5=oc(),s5=m0();function l5(e,t){return a5(e,s5(e),t)}ES.exports=l5});var NS=E((sie,kS)=>{"use strict";var c5=Lm(),u5=m0(),d5=Tu();function h5(e){return c5(e,d5,u5)}kS.exports=h5});var LS=E((lie,RS)=>{"use strict";var p5=Object.prototype,f5=p5.hasOwnProperty;function m5(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&f5.call(e,"index")&&(i.index=e.index,i.input=e.input),i}RS.exports=m5});var Bh=E((cie,VS)=>{"use strict";var BS=Nm();function g5(e){var t=new e.constructor(e.byteLength);return new BS(t).set(new BS(e)),t}VS.exports=g5});var HS=E((uie,$S)=>{"use strict";var _5=Bh();function v5(e,t){var i=t?_5(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}$S.exports=v5});var jS=E((die,qS)=>{"use strict";var y5=/\w*$/;function C5(e){var t=new e.constructor(e.source,y5.exec(e));return t.lastIndex=e.lastIndex,t}qS.exports=C5});var YS=E((hie,GS)=>{"use strict";var WS=Ns(),US=WS?WS.prototype:void 0,ZS=US?US.valueOf:void 0;function x5(e){return ZS?Object(ZS.call(e)):{}}GS.exports=x5});var KS=E((pie,QS)=>{"use strict";var z5=Bh();function b5(e,t){var i=t?z5(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}QS.exports=b5});var JS=E((fie,XS)=>{"use strict";var S5=Bh(),w5=HS(),T5=jS(),I5=YS(),F5=KS(),O5="[object Boolean]",M5="[object Date]",P5="[object Map]",D5="[object Number]",E5="[object RegExp]",A5="[object Set]",k5="[object String]",N5="[object Symbol]",R5="[object ArrayBuffer]",L5="[object DataView]",B5="[object Float32Array]",V5="[object Float64Array]",$5="[object Int8Array]",H5="[object Int16Array]",q5="[object Int32Array]",j5="[object Uint8Array]",W5="[object Uint8ClampedArray]",U5="[object Uint16Array]",Z5="[object Uint32Array]";function G5(e,t,i){var n=e.constructor;switch(t){case R5:return S5(e);case O5:case M5:return new n(+e);case L5:return w5(e,i);case B5:case V5:case $5:case H5:case q5:case j5:case W5:case U5:case Z5:return F5(e,i);case P5:return new n;case D5:case k5:return new n(e);case E5:return T5(e);case A5:return new n;case N5:return I5(e)}}XS.exports=G5});var nw=E((mie,tw)=>{"use strict";var Y5=$o(),ew=Object.create,Q5=function(){function e(){}return function(t){if(!Y5(t))return{};if(ew)return ew(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();tw.exports=Q5});var rw=E((gie,iw)=>{"use strict";var K5=nw(),X5=yh(),J5=Yl();function e$(e){return typeof e.constructor=="function"&&!J5(e)?K5(X5(e)):{}}iw.exports=e$});var aw=E((_ie,ow)=>{"use strict";var t$=tc(),n$=ha(),i$="[object Map]";function r$(e){return n$(e)&&t$(e)==i$}ow.exports=r$});var uw=E((vie,cw)=>{"use strict";var o$=aw(),a$=bh(),sw=Sh(),lw=sw&&sw.isMap,s$=lw?a$(lw):o$;cw.exports=s$});var hw=E((yie,dw)=>{"use strict";var l$=tc(),c$=ha(),u$="[object Set]";function d$(e){return c$(e)&&l$(e)==u$}dw.exports=d$});var gw=E((Cie,mw)=>{"use strict";var h$=hw(),p$=bh(),pw=Sh(),fw=pw&&pw.isSet,f$=fw?p$(fw):h$;mw.exports=f$});var xw=E((xie,Cw)=>{"use strict";var m$=Fh(),g$=dS(),_$=wu(),v$=mS(),y$=zS(),C$=IS(),x$=OS(),z$=PS(),b$=AS(),S$=Vm(),w$=NS(),T$=tc(),I$=LS(),F$=JS(),O$=rw(),M$=Or(),P$=pu(),D$=uw(),E$=$o(),A$=gw(),k$=pa(),N$=Tu(),R$=1,L$=2,B$=4,_w="[object Arguments]",V$="[object Array]",$$="[object Boolean]",H$="[object Date]",q$="[object Error]",vw="[object Function]",j$="[object GeneratorFunction]",W$="[object Map]",U$="[object Number]",yw="[object Object]",Z$="[object RegExp]",G$="[object Set]",Y$="[object String]",Q$="[object Symbol]",K$="[object WeakMap]",X$="[object ArrayBuffer]",J$="[object DataView]",eH="[object Float32Array]",tH="[object Float64Array]",nH="[object Int8Array]",iH="[object Int16Array]",rH="[object Int32Array]",oH="[object Uint8Array]",aH="[object Uint8ClampedArray]",sH="[object Uint16Array]",lH="[object Uint32Array]",Cn={};Cn[_w]=Cn[V$]=Cn[X$]=Cn[J$]=Cn[$$]=Cn[H$]=Cn[eH]=Cn[tH]=Cn[nH]=Cn[iH]=Cn[rH]=Cn[W$]=Cn[U$]=Cn[yw]=Cn[Z$]=Cn[G$]=Cn[Y$]=Cn[Q$]=Cn[oH]=Cn[aH]=Cn[sH]=Cn[lH]=!0;Cn[q$]=Cn[vw]=Cn[K$]=!1;function Vh(e,t,i,n,r,a){var u,p=t&R$,m=t&L$,_=t&B$;if(i&&(u=r?i(e,n,r,a):i(e)),u!==void 0)return u;if(!E$(e))return e;var O=M$(e);if(O){if(u=I$(e),!p)return x$(e,u)}else{var F=T$(e),N=F==vw||F==j$;if(P$(e))return C$(e,p);if(F==yw||F==_w||N&&!r){if(u=m||N?{}:O$(e),!p)return m?b$(e,y$(u,e)):z$(e,v$(u,e))}else{if(!Cn[F])return r?e:{};u=F$(e,F,p)}}a||(a=new m$);var U=a.get(e);if(U)return U;a.set(e,u),A$(e)?e.forEach(function(ce){u.add(Vh(ce,t,i,ce,e,a))}):D$(e)&&e.forEach(function(ce,we){u.set(we,Vh(ce,t,i,we,e,a))});var q=_?m?w$:S$:m?N$:k$,se=O?void 0:q(e);return g$(se||e,function(ce,we){se&&(we=ce,ce=e[we]),_$(u,we,Vh(ce,t,i,we,e,a))}),u}Cw.exports=Vh});var bw=E((zie,zw)=>{"use strict";var cH=xw(),uH=1,dH=4;function hH(e){return cH(e,uH|dH)}zw.exports=hH});var $h=E((bie,Sw)=>{"use strict";function pH(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}Sw.exports=pH});var Tw=E((Sie,ww)=>{"use strict";function fH(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}ww.exports=fH});var Fw=E((wie,Iw)=>{"use strict";var mH=bu(),gH=u0();function _H(e,t){return t.length<2?e:mH(e,gH(t,0,-1))}Iw.exports=_H});var Mw=E((Tie,Ow)=>{"use strict";var vH=$h(),yH=nc(),CH=Tw(),xH=Fw(),zH=Bs();function bH(e,t,i){t=yH(t,e),e=xH(e,t);var n=e==null?e:e[zH(CH(t))];return n==null?void 0:vH(n,e,i)}Ow.exports=bH});var g0=E((Iie,Dw)=>{"use strict";var SH=$h(),Pw=Math.max;function wH(e,t,i){return t=Pw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=Pw(n.length-t,0),u=Array(a);++r<a;)u[r]=n[t+r];r=-1;for(var p=Array(t+1);++r<t;)p[r]=n[r];return p[t]=i(u),SH(e,this,p)}}Dw.exports=wH});var Aw=E((Fie,Ew)=>{"use strict";function TH(e){return function(){return e}}Ew.exports=TH});var Rw=E((Oie,Nw)=>{"use strict";var IH=Aw(),kw=Im(),FH=Su(),OH=kw?function(e,t){return kw(e,"toString",{configurable:!0,enumerable:!1,value:IH(t),writable:!0})}:FH;Nw.exports=OH});var Bw=E((Mie,Lw)=>{"use strict";var MH=800,PH=16,DH=Date.now;function EH(e){var t=0,i=0;return function(){var n=DH(),r=PH-(n-i);if(i=n,r>0){if(++t>=MH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Lw.exports=EH});var _0=E((Pie,Vw)=>{"use strict";var AH=Rw(),kH=Bw(),NH=kH(AH);Vw.exports=NH});var v0=E((Die,$w)=>{"use strict";var RH=Su(),LH=g0(),BH=_0();function VH(e,t){return BH(LH(e,t,RH),e+"")}$w.exports=VH});var qw=E((Eie,Hw)=>{"use strict";var $H=$h(),HH=f0(),qH=Mw(),jH=v0(),WH=Ho(),UH=jH(function(e,t,i){var n=-1,r=typeof t=="function",a=WH(e)?Array(e.length):[];return HH(e,function(u){a[++n]=r?$H(t,u,i):qH(u,t,i)}),a});Hw.exports=UH});var Ww=E((Aie,jw)=>{"use strict";function ZH(e){for(var t=-1,i=e==null?0:e.length,n=0,r=[];++t<i;){var a=e[t];a&&(r[n++]=a)}return r}jw.exports=ZH});var Zw=E((kie,Uw)=>{"use strict";var GH=Object.prototype,YH=GH.hasOwnProperty;function QH(e,t){return e!=null&&YH.call(e,t)}Uw.exports=QH});var Yw=E((Nie,Gw)=>{"use strict";var KH=Zw(),XH=Jm();function JH(e,t){return e!=null&&XH(e,t,KH)}Gw.exports=JH});var Kw=E((Rie,Qw)=>{"use strict";var e8=Nh();function t8(e,t){return e8(t,function(i){return e[i]})}Qw.exports=t8});var Jw=E((Lie,Xw)=>{"use strict";var n8=Kw(),i8=pa();function r8(e){return e==null?[]:n8(e,i8(e))}Xw.exports=r8});var tT=E((Bie,eT)=>{"use strict";var o8=Pm(),a8=tc(),s8=du(),l8=Or(),c8=Ho(),u8=pu(),d8=Yl(),h8=wh(),p8="[object Map]",f8="[object Set]",m8=Object.prototype,g8=m8.hasOwnProperty;function _8(e){if(e==null)return!0;if(c8(e)&&(l8(e)||typeof e=="string"||typeof e.splice=="function"||u8(e)||h8(e)||s8(e)))return!e.length;var t=a8(e);if(t==p8||t==f8)return!e.size;if(d8(e))return!o8(e).length;for(var i in e)if(g8.call(e,i))return!1;return!0}eT.exports=_8});var iT=E((Vie,nT)=>{"use strict";var v8=ic(),y8=i0();function C8(e,t){return e&&e.length?y8(e,v8(t,2)):[]}nT.exports=C8});var oT=E(($ie,rT)=>{"use strict";var x8=Su();function z8(e){return typeof e=="function"?e:x8}rT.exports=z8});var sT=E((Hie,aT)=>{"use strict";var b8=Fm(),S8=oT(),w8=Tu();function T8(e,t){return e==null?e:b8(e,S8(t),w8)}aT.exports=T8});var uT=E((qie,cT)=>{"use strict";var I8=wu(),F8=nc(),O8=fu(),lT=$o(),M8=Bs();function P8(e,t,i,n){if(!lT(e))return e;t=F8(t,e);for(var r=-1,a=t.length,u=a-1,p=e;p!=null&&++r<a;){var m=M8(t[r]),_=i;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(r!=u){var O=p[m];_=n?n(O,m,p):void 0,_===void 0&&(_=lT(O)?O:O8(t[r+1])?[]:{})}I8(p,m,_),p=p[m]}return e}cT.exports=P8});var hT=E((jie,dT)=>{"use strict";var D8=bu(),E8=uT(),A8=nc();function k8(e,t,i){for(var n=-1,r=t.length,a={};++n<r;){var u=t[n],p=D8(e,u);i(p,u)&&E8(a,A8(u,e),p)}return a}dT.exports=k8});var fT=E((Wie,pT)=>{"use strict";var N8=hT(),R8=e0();function L8(e,t){return N8(e,t,function(i,n){return R8(e,n)})}pT.exports=L8});var gT=E((Uie,mT)=>{"use strict";var B8=r0(),V8=g0(),$8=_0();function H8(e){return $8(V8(e,void 0,B8),e+"")}mT.exports=H8});var vT=E((Zie,_T)=>{"use strict";var q8=fT(),j8=gT(),W8=j8(function(e,t){return e==null?{}:q8(e,t)});_T.exports=W8});var CT=E((Gie,yT)=>{"use strict";var U8=_u(),Z8=Ho(),G8=fu(),Y8=$o();function Q8(e,t,i){if(!Y8(i))return!1;var n=typeof t;return(n=="number"?Z8(i)&&G8(t,i.length):n=="string"&&t in i)?U8(i[t],e):!1}yT.exports=Q8});var zT=E((Yie,xT)=>{"use strict";var K8=v0(),X8=CT();function J8(e){return K8(function(t,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,u=r>2?i[2]:void 0;for(a=e.length>3&&typeof a=="function"?(r--,a):void 0,u&&X8(i[0],i[1],u)&&(a=r<3?void 0:a,r=1),t=Object(t);++n<r;){var p=i[n];p&&e(t,p,n,a)}return t})}xT.exports=J8});var ST=E((Qie,bT)=>{"use strict";var e7=wu(),t7=oc(),n7=zT(),i7=Ho(),r7=Yl(),o7=pa(),a7=Object.prototype,s7=a7.hasOwnProperty,l7=n7(function(e,t){if(r7(t)||i7(t)){t7(t,o7(t),e);return}for(var i in t)s7.call(t,i)&&e7(e,i,t[i])});bT.exports=l7});var TT=E((Kie,wT)=>{"use strict";var c7=ic(),u7=Ho(),d7=pa();function h7(e){return function(t,i,n){var r=Object(t);if(!u7(t)){var a=c7(i,3);t=d7(t),i=function(p){return a(r[p],p,r)}}var u=e(t,i,n);return u>-1?r[a?t[u]:u]:void 0}}wT.exports=h7});var FT=E((Xie,IT)=>{"use strict";var p7=/\s/;function f7(e){for(var t=e.length;t--&&p7.test(e.charAt(t)););return t}IT.exports=f7});var MT=E((Jie,OT)=>{"use strict";var m7=FT(),g7=/^\s+/;function _7(e){return e&&e.slice(0,m7(e)+1).replace(g7,"")}OT.exports=_7});var AT=E((ere,ET)=>{"use strict";var v7=MT(),PT=$o(),y7=zu(),DT=NaN,C7=/^[-+]0x[0-9a-f]+$/i,x7=/^0b[01]+$/i,z7=/^0o[0-7]+$/i,b7=parseInt;function S7(e){if(typeof e=="number")return e;if(y7(e))return DT;if(PT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=PT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=v7(e);var i=x7.test(e);return i||z7.test(e)?b7(e.slice(2),i?2:8):C7.test(e)?DT:+e}ET.exports=S7});var RT=E((tre,NT)=>{"use strict";var w7=AT(),kT=1/0,T7=17976931348623157e292;function I7(e){if(!e)return e===0?e:0;if(e=w7(e),e===kT||e===-kT){var t=e<0?-1:1;return t*T7}return e===e?e:0}NT.exports=I7});var y0=E((nre,LT)=>{"use strict";var F7=RT();function O7(e){var t=F7(e),i=t%1;return t===t?i?t-i:t:0}LT.exports=O7});var VT=E((ire,BT)=>{"use strict";var M7=t0(),P7=ic(),D7=y0(),E7=Math.max;function A7(e,t,i){var n=e==null?0:e.length;if(!n)return-1;var r=i==null?0:D7(i);return r<0&&(r=E7(n+r,0)),M7(e,P7(t,3),r)}BT.exports=A7});var HT=E((rre,$T)=>{"use strict";var k7=TT(),N7=VT(),R7=k7(N7);$T.exports=R7});var jT=E((ore,qT)=>{"use strict";var L7=y0();function B7(e){return typeof e=="number"&&e==L7(e)}qT.exports=B7});var V2=E((pc,ku)=>{"use strict";(function(){var e,t="4.17.21",i=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",_=1,O=2,F=4,N=1,U=2,q=1,se=2,ce=4,we=8,tt=16,st=32,Lt=64,mt=128,ke=256,Pt=512,sn=30,Z="...",ue=800,Me=16,ge=1,ct=2,de=3,Xe=1/0,X=9007199254740991,pt=17976931348623157e292,be=NaN,He=4294967295,zt=He-1,Bt=He>>>1,yt=[["ary",mt],["bind",q],["bindKey",se],["curry",we],["curryRight",tt],["flip",Pt],["partial",st],["partialRight",Lt],["rearg",ke]],Ye="[object Arguments]",qe="[object Array]",Mt="[object AsyncFunction]",je="[object Boolean]",Fn="[object Date]",Wn="[object DOMException]",On="[object Error]",pn="[object Function]",_e="[object GeneratorFunction]",pe="[object Map]",me="[object Number]",Ze="[object Null]",Di="[object Object]",Jr="[object Promise]",ts="[object Proxy]",Dr="[object RegExp]",ui="[object Set]",Er="[object String]",Ar="[object Symbol]",_a="[object Undefined]",ni="[object WeakMap]",bi="[object WeakSet]",Be="[object ArrayBuffer]",We="[object DataView]",Gt="[object Float32Array]",jt="[object Float64Array]",di="[object Int8Array]",Si="[object Int16Array]",Ln="[object Int32Array]",En="[object Uint8Array]",An="[object Uint8ClampedArray]",Bn="[object Uint16Array]",fn="[object Uint32Array]",ii=/\b__p \+= '';/g,hi=/\b(__p \+=) '' \+/g,ri=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Un=/&(?:amp|lt|gt|quot|#39);/g,Zn=/[&<>"']/g,pi=RegExp(Un.source),fi=RegExp(Zn.source),mi=/<%-([\s\S]+?)%>/g,gi=/<%([\s\S]+?)%>/g,oi=/<%=([\s\S]+?)%>/g,_i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xc=/^\w*$/,jp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zc=/[\\^$.*+?()[\]{}|]/g,Wp=RegExp(zc.source),bc=/^\s+/,kr=/\s/,Ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yu=/\{\n\/\* \[wrapped with (.+)\] \*/,Qu=/,? & /,Ku=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xu=/[()=,{}\[\]\/\s]/,Sc=/\\(\\)?/g,Ju=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uo=/\w*$/,ed=/^[-+]0x[0-9a-f]+$/i,Up=/^0b[01]+$/i,Zp=/^\[object .+?Constructor\]$/,Gp=/^0o[0-7]+$/i,Yp=/^(?:0|[1-9]\d*)$/,td=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qs=/($^)/,Ks=/['\n\r\u2028\u2029\\]/g,Xs="\\ud800-\\udfff",Qp="\\u0300-\\u036f",Kp="\\ufe20-\\ufe2f",Xp="\\u20d0-\\u20ff",nd=Qp+Kp+Xp,Js="\\u2700-\\u27bf",va="a-z\\xdf-\\xf6\\xf8-\\xff",id="\\xac\\xb1\\xd7\\xf7",rd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ns="\\u2000-\\u206f",Wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mn="A-Z\\xc0-\\xd6\\xd8-\\xde",is="\\ufe0e\\ufe0f",Zo=id+rd+ns+Wt,vo="['\u2019]",wc="["+Xs+"]",gt="["+Zo+"]",gn="["+nd+"]",el="\\d+",tl="["+Js+"]",Gi="["+va+"]",od="[^"+Xs+Zo+el+Js+va+mn+"]",ya="\\ud83c[\\udffb-\\udfff]",Go="(?:"+gn+"|"+ya+")",kn="[^"+Xs+"]",eo="(?:\\ud83c[\\udde6-\\uddff]){2}",Yo="[\\ud800-\\udbff][\\udc00-\\udfff]",Nr="["+mn+"]",nl="\\u200d",Ca="(?:"+Gi+"|"+od+")",Tc="(?:"+Nr+"|"+od+")",il="(?:"+vo+"(?:d|ll|m|re|s|t|ve))?",rs="(?:"+vo+"(?:D|LL|M|RE|S|T|VE))?",rl=Go+"?",ol="["+is+"]?",al="(?:"+nl+"(?:"+[kn,eo,Yo].join("|")+")"+ol+rl+")*",ad="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ic="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sd=ol+rl+al,ft="(?:"+[tl,eo,Yo].join("|")+")"+sd,Rr="(?:"+[kn+gn+"?",gn,eo,Yo,wc].join("|")+")",ln=RegExp(vo,"g"),ld=RegExp(gn,"g"),os=RegExp(ya+"(?="+ya+")|"+Rr+sd,"g"),Fc=RegExp([Nr+"?"+Gi+"+"+il+"(?="+[gt,Nr,"$"].join("|")+")",Tc+"+"+rs+"(?="+[gt,Nr+Ca,"$"].join("|")+")",Nr+"?"+Ca+"+"+il,Nr+"+"+rs,Ic,ad,el,ft].join("|"),"g"),Oc=RegExp("["+nl+Xs+nd+is+"]"),Qo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],as=-1,_t={};_t[Gt]=_t[jt]=_t[di]=_t[Si]=_t[Ln]=_t[En]=_t[An]=_t[Bn]=_t[fn]=!0,_t[Ye]=_t[qe]=_t[Be]=_t[je]=_t[We]=_t[Fn]=_t[On]=_t[pn]=_t[pe]=_t[me]=_t[Di]=_t[Dr]=_t[ui]=_t[Er]=_t[ni]=!1;var Ut={};Ut[Ye]=Ut[qe]=Ut[Be]=Ut[We]=Ut[je]=Ut[Fn]=Ut[Gt]=Ut[jt]=Ut[di]=Ut[Si]=Ut[Ln]=Ut[pe]=Ut[me]=Ut[Di]=Ut[Dr]=Ut[ui]=Ut[Er]=Ut[Ar]=Ut[En]=Ut[An]=Ut[Bn]=Ut[fn]=!0,Ut[On]=Ut[pn]=Ut[ni]=!1;var cd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ud={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pc=parseFloat,ef=parseInt,Dc=typeof global=="object"&&global&&global.Object===Object&&global,Vt=typeof self=="object"&&self&&self.Object===Object&&self,ai=Dc||Vt||Function("return this")(),Yi=typeof pc=="object"&&pc&&!pc.nodeType&&pc,_r=Yi&&typeof ku=="object"&&ku&&!ku.nodeType&&ku,Ec=_r&&_r.exports===Yi,Ac=Ec&&Dc.process,Ni=function(){try{var R=_r&&_r.require&&_r.require("util").types;return R||Ac&&Ac.binding&&Ac.binding("util")}catch{}}(),hd=Ni&&Ni.isArrayBuffer,kc=Ni&&Ni.isDate,pd=Ni&&Ni.isMap,fd=Ni&&Ni.isRegExp,sl=Ni&&Ni.isSet,md=Ni&&Ni.isTypedArray;function Mn(R,J,Y){switch(Y.length){case 0:return R.call(J);case 1:return R.call(J,Y[0]);case 2:return R.call(J,Y[0],Y[1]);case 3:return R.call(J,Y[0],Y[1],Y[2])}return R.apply(J,Y)}function tf(R,J,Y,Se){for(var ut=-1,Zt=R==null?0:R.length;++ut<Zt;){var Gn=R[ut];J(Se,Gn,Y(Gn),R)}return Se}function Qi(R,J){for(var Y=-1,Se=R==null?0:R.length;++Y<Se&&J(R[Y],Y,R)!==!1;);return R}function yo(R,J){for(var Y=R==null?0:R.length;Y--&&J(R[Y],Y,R)!==!1;);return R}function Nc(R,J){for(var Y=-1,Se=R==null?0:R.length;++Y<Se;)if(!J(R[Y],Y,R))return!1;return!0}function to(R,J){for(var Y=-1,Se=R==null?0:R.length,ut=0,Zt=[];++Y<Se;){var Gn=R[Y];J(Gn,Y,R)&&(Zt[ut++]=Gn)}return Zt}function xa(R,J){var Y=R==null?0:R.length;return!!Y&&za(R,J,0)>-1}function Rc(R,J,Y){for(var Se=-1,ut=R==null?0:R.length;++Se<ut;)if(Y(J,R[Se]))return!0;return!1}function un(R,J){for(var Y=-1,Se=R==null?0:R.length,ut=Array(Se);++Y<Se;)ut[Y]=J(R[Y],Y,R);return ut}function no(R,J){for(var Y=-1,Se=J.length,ut=R.length;++Y<Se;)R[ut+Y]=J[Y];return R}function Lc(R,J,Y,Se){var ut=-1,Zt=R==null?0:R.length;for(Se&&Zt&&(Y=R[++ut]);++ut<Zt;)Y=J(Y,R[ut],ut,R);return Y}function nf(R,J,Y,Se){var ut=R==null?0:R.length;for(Se&&ut&&(Y=R[--ut]);ut--;)Y=J(Y,R[ut],ut,R);return Y}function ss(R,J){for(var Y=-1,Se=R==null?0:R.length;++Y<Se;)if(J(R[Y],Y,R))return!0;return!1}var rf=ll("length");function gd(R){return R.split("")}function _d(R){return R.match(Ku)||[]}function ls(R,J,Y){var Se;return Y(R,function(ut,Zt,Gn){if(J(ut,Zt,Gn))return Se=Zt,!1}),Se}function Lr(R,J,Y,Se){for(var ut=R.length,Zt=Y+(Se?1:-1);Se?Zt--:++Zt<ut;)if(J(R[Zt],Zt,R))return Zt;return-1}function za(R,J,Y){return J===J?wa(R,J,Y):Lr(R,Ki,Y)}function cs(R,J,Y,Se){for(var ut=Y-1,Zt=R.length;++ut<Zt;)if(Se(R[ut],J))return ut;return-1}function Ki(R){return R!==R}function Bc(R,J){var Y=R==null?0:R.length;return Y?Hc(R,J)/Y:be}function ll(R){return function(J){return J==null?e:J[R]}}function Vc(R){return function(J){return R==null?e:R[J]}}function cl(R,J,Y,Se,ut){return ut(R,function(Zt,Gn,tn){Y=Se?(Se=!1,Zt):J(Y,Zt,Gn,tn)}),Y}function $c(R,J){var Y=R.length;for(R.sort(J);Y--;)R[Y]=R[Y].value;return R}function Hc(R,J){for(var Y,Se=-1,ut=R.length;++Se<ut;){var Zt=J(R[Se]);Zt!==e&&(Y=Y===e?Zt:Y+Zt)}return Y}function qc(R,J){for(var Y=-1,Se=Array(R);++Y<R;)Se[Y]=J(Y);return Se}function vd(R,J){return un(J,function(Y){return[Y,R[Y]]})}function yd(R){return R&&R.slice(0,Wc(R)+1).replace(bc,"")}function Sn(R){return function(J){return R(J)}}function Co(R,J){return un(J,function(Y){return R[Y]})}function us(R,J){return R.has(J)}function Br(R,J){for(var Y=-1,Se=R.length;++Y<Se&&za(J,R[Y],0)>-1;);return Y}function Cd(R,J){for(var Y=R.length;Y--&&za(J,R[Y],0)>-1;);return Y}function ba(R,J){for(var Y=R.length,Se=0;Y--;)R[Y]===J&&++Se;return Se}var of=Vc(cd),ds=Vc(ud);function xd(R){return"\\"+dd[R]}function ul(R,J){return R==null?e:R[J]}function Sa(R){return Oc.test(R)}function xo(R){return Qo.test(R)}function dl(R){for(var J,Y=[];!(J=R.next()).done;)Y.push(J.value);return Y}function jc(R){var J=-1,Y=Array(R.size);return R.forEach(function(Se,ut){Y[++J]=[ut,Se]}),Y}function hl(R,J){return function(Y){return R(J(Y))}}function zo(R,J){for(var Y=-1,Se=R.length,ut=0,Zt=[];++Y<Se;){var Gn=R[Y];(Gn===J||Gn===m)&&(R[Y]=m,Zt[ut++]=Y)}return Zt}function or(R){var J=-1,Y=Array(R.size);return R.forEach(function(Se){Y[++J]=Se}),Y}function af(R){var J=-1,Y=Array(R.size);return R.forEach(function(Se){Y[++J]=[Se,Se]}),Y}function wa(R,J,Y){for(var Se=Y-1,ut=R.length;++Se<ut;)if(R[Se]===J)return Se;return-1}function sf(R,J,Y){for(var Se=Y+1;Se--;)if(R[Se]===J)return Se;return Se}function Ri(R){return Sa(R)?pl(R):rf(R)}function Li(R){return Sa(R)?Zc(R):gd(R)}function Wc(R){for(var J=R.length;J--&&kr.test(R.charAt(J)););return J}var Uc=Vc(Jp);function pl(R){for(var J=os.lastIndex=0;os.test(R);)++J;return J}function Zc(R){return R.match(os)||[]}function fl(R){return R.match(Fc)||[]}var Ta=function R(J){J=J==null?ai:vr.defaults(ai.Object(),J,vr.pick(ai,Mc));var Y=J.Array,Se=J.Date,ut=J.Error,Zt=J.Function,Gn=J.Math,tn=J.Object,Gc=J.RegExp,Vr=J.String,Ei=J.TypeError,ml=Y.prototype,gl=Zt.prototype,Ia=tn.prototype,hs=J["__core-js_shared__"],_l=gl.toString,$t=Ia.hasOwnProperty,lf=0,Ko=function(){var s=/[^.]+$/.exec(hs&&hs.keys&&hs.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),ps=Ia.toString,zd=_l.call(tn),cf=ai._,io=Gc("^"+_l.call($t).replace(zc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=Ec?J.Buffer:e,ro=J.Symbol,bo=J.Uint8Array,bd=fs?fs.allocUnsafe:e,Xo=hl(tn.getPrototypeOf,tn),Fa=tn.create,Yc=Ia.propertyIsEnumerable,ms=ml.splice,Sd=ro?ro.isConcatSpreadable:e,Oa=ro?ro.iterator:e,So=ro?ro.toStringTag:e,gs=function(){try{var s=ws(tn,"defineProperty");return s({},"",{}),s}catch{}}(),wd=J.clearTimeout!==ai.clearTimeout&&J.clearTimeout,Td=Se&&Se.now!==ai.Date.now&&Se.now,uf=J.setTimeout!==ai.setTimeout&&J.setTimeout,_s=Gn.ceil,vs=Gn.floor,Qc=tn.getOwnPropertySymbols,o=fs?fs.isBuffer:e,l=J.isFinite,d=ml.join,f=hl(tn.keys,tn),v=Gn.max,b=Gn.min,D=Se.now,j=J.parseInt,G=Gn.random,oe=ml.reverse,ze=ws(J,"DataView"),Ge=ws(J,"Map"),Ct=ws(J,"Promise"),Vn=ws(J,"Set"),Pn=ws(J,"WeakMap"),wi=ws(tn,"create"),vi=Pn&&new Pn,yr={},df=Ts(ze),hf=Ts(Ge),pf=Ts(Ct),Id=Ts(Vn),ff=Ts(Pn),ys=ro?ro.prototype:e,_n=ys?ys.valueOf:e,Cs=ys?ys.toString:e;function T(s){if($n(s)&&!vt(s)&&!(s instanceof Tt)){if(s instanceof Bi)return s;if($t.call(s,"__wrapped__"))return Z_(s)}return new Bi(s)}var Ma=function(){function s(){}return function(c){if(!Nn(c))return{};if(Fa)return Fa(c);s.prototype=c;var h=new s;return s.prototype=e,h}}();function vl(){}function Bi(s,c){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=e}T.templateSettings={escape:mi,evaluate:gi,interpolate:oi,variable:"",imports:{_:T}},T.prototype=vl.prototype,T.prototype.constructor=T,Bi.prototype=Ma(vl.prototype),Bi.prototype.constructor=Bi;function Tt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function mf(){var s=new Tt(this.__wrapped__);return s.__actions__=ar(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ar(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ar(this.__views__),s}function PF(){if(this.__filtered__){var s=new Tt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function DF(){var s=this.__wrapped__.value(),c=this.__dir__,h=vt(s),g=c<0,x=h?s.length:0,I=jO(0,x,this.__views__),P=I.start,A=I.end,$=A-P,te=g?A:P-1,ne=this.__iteratees__,ae=ne.length,Ce=0,Ne=b($,this.__takeCount__);if(!h||!g&&x==$&&Ne==$)return g_(s,this.__actions__);var nt=[];e:for(;$--&&Ce<Ne;){te+=c;for(var bt=-1,it=s[te];++bt<ae;){var Dt=ne[bt],Ht=Dt.iteratee,zr=Dt.type,er=Ht(it);if(zr==ct)it=er;else if(!er){if(zr==ge)continue e;break e}}nt[Ce++]=it}return nt}Tt.prototype=Ma(vl.prototype),Tt.prototype.constructor=Tt;function xs(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var g=s[c];this.set(g[0],g[1])}}function EF(){this.__data__=wi?wi(null):{},this.size=0}function AF(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}function kF(s){var c=this.__data__;if(wi){var h=c[s];return h===u?e:h}return $t.call(c,s)?c[s]:e}function NF(s){var c=this.__data__;return wi?c[s]!==e:$t.call(c,s)}function RF(s,c){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=wi&&c===e?u:c,this}xs.prototype.clear=EF,xs.prototype.delete=AF,xs.prototype.get=kF,xs.prototype.has=NF,xs.prototype.set=RF;function Jo(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var g=s[c];this.set(g[0],g[1])}}function LF(){this.__data__=[],this.size=0}function BF(s){var c=this.__data__,h=Fd(c,s);if(h<0)return!1;var g=c.length-1;return h==g?c.pop():ms.call(c,h,1),--this.size,!0}function VF(s){var c=this.__data__,h=Fd(c,s);return h<0?e:c[h][1]}function $F(s){return Fd(this.__data__,s)>-1}function HF(s,c){var h=this.__data__,g=Fd(h,s);return g<0?(++this.size,h.push([s,c])):h[g][1]=c,this}Jo.prototype.clear=LF,Jo.prototype.delete=BF,Jo.prototype.get=VF,Jo.prototype.has=$F,Jo.prototype.set=HF;function ea(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var g=s[c];this.set(g[0],g[1])}}function qF(){this.size=0,this.__data__={hash:new xs,map:new(Ge||Jo),string:new xs}}function jF(s){var c=Vd(this,s).delete(s);return this.size-=c?1:0,c}function WF(s){return Vd(this,s).get(s)}function UF(s){return Vd(this,s).has(s)}function ZF(s,c){var h=Vd(this,s),g=h.size;return h.set(s,c),this.size+=h.size==g?0:1,this}ea.prototype.clear=qF,ea.prototype.delete=jF,ea.prototype.get=WF,ea.prototype.has=UF,ea.prototype.set=ZF;function zs(s){var c=-1,h=s==null?0:s.length;for(this.__data__=new ea;++c<h;)this.add(s[c])}function GF(s){return this.__data__.set(s,u),this}function YF(s){return this.__data__.has(s)}zs.prototype.add=zs.prototype.push=GF,zs.prototype.has=YF;function oo(s){var c=this.__data__=new Jo(s);this.size=c.size}function QF(){this.__data__=new Jo,this.size=0}function KF(s){var c=this.__data__,h=c.delete(s);return this.size=c.size,h}function XF(s){return this.__data__.get(s)}function JF(s){return this.__data__.has(s)}function eO(s,c){var h=this.__data__;if(h instanceof Jo){var g=h.__data__;if(!Ge||g.length<i-1)return g.push([s,c]),this.size=++h.size,this;h=this.__data__=new ea(g)}return h.set(s,c),this.size=h.size,this}oo.prototype.clear=QF,oo.prototype.delete=KF,oo.prototype.get=XF,oo.prototype.has=JF,oo.prototype.set=eO;function Zg(s,c){var h=vt(s),g=!h&&Is(s),x=!h&&!g&&ka(s),I=!h&&!g&&!x&&zl(s),P=h||g||x||I,A=P?qc(s.length,Vr):[],$=A.length;for(var te in s)(c||$t.call(s,te))&&!(P&&(te=="length"||x&&(te=="offset"||te=="parent")||I&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||ra(te,$)))&&A.push(te);return A}function Gg(s){var c=s.length;return c?s[Tf(0,c-1)]:e}function tO(s,c){return $d(ar(s),bs(c,0,s.length))}function nO(s){return $d(ar(s))}function gf(s,c,h){(h!==e&&!ao(s[c],h)||h===e&&!(c in s))&&ta(s,c,h)}function Kc(s,c,h){var g=s[c];(!($t.call(s,c)&&ao(g,h))||h===e&&!(c in s))&&ta(s,c,h)}function Fd(s,c){for(var h=s.length;h--;)if(ao(s[h][0],c))return h;return-1}function iO(s,c,h,g){return Pa(s,function(x,I,P){c(g,x,h(x),P)}),g}function Yg(s,c){return s&&To(c,Ti(c),s)}function rO(s,c){return s&&To(c,lr(c),s)}function ta(s,c,h){c=="__proto__"&&gs?gs(s,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[c]=h}function _f(s,c){for(var h=-1,g=c.length,x=Y(g),I=s==null;++h<g;)x[h]=I?e:Kf(s,c[h]);return x}function bs(s,c,h){return s===s&&(h!==e&&(s=s<=h?s:h),c!==e&&(s=s>=c?s:c)),s}function $r(s,c,h,g,x,I){var P,A=c&_,$=c&O,te=c&F;if(h&&(P=x?h(s,g,x,I):h(s)),P!==e)return P;if(!Nn(s))return s;var ne=vt(s);if(ne){if(P=UO(s),!A)return ar(s,P)}else{var ae=Vi(s),Ce=ae==pn||ae==_e;if(ka(s))return y_(s,A);if(ae==Di||ae==Ye||Ce&&!x){if(P=$||Ce?{}:L_(s),!A)return $?kO(s,rO(P,s)):AO(s,Yg(P,s))}else{if(!Ut[ae])return x?s:{};P=ZO(s,ae,A)}}I||(I=new oo);var Ne=I.get(s);if(Ne)return Ne;I.set(s,P),pv(s)?s.forEach(function(it){P.add($r(it,c,h,it,s,I))}):dv(s)&&s.forEach(function(it,Dt){P.set(Dt,$r(it,c,h,Dt,s,I))});var nt=te?$?Rf:Nf:$?lr:Ti,bt=ne?e:nt(s);return Qi(bt||s,function(it,Dt){bt&&(Dt=it,it=s[Dt]),Kc(P,Dt,$r(it,c,h,Dt,s,I))}),P}function oO(s){var c=Ti(s);return function(h){return Qg(h,s,c)}}function Qg(s,c,h){var g=h.length;if(s==null)return!g;for(s=tn(s);g--;){var x=h[g],I=c[x],P=s[x];if(P===e&&!(x in s)||!I(P))return!1}return!0}function Kg(s,c,h){if(typeof s!="function")throw new Ei(r);return ru(function(){s.apply(e,h)},c)}function Xc(s,c,h,g){var x=-1,I=xa,P=!0,A=s.length,$=[],te=c.length;if(!A)return $;h&&(c=un(c,Sn(h))),g?(I=Rc,P=!1):c.length>=i&&(I=us,P=!1,c=new zs(c));e:for(;++x<A;){var ne=s[x],ae=h==null?ne:h(ne);if(ne=g||ne!==0?ne:0,P&&ae===ae){for(var Ce=te;Ce--;)if(c[Ce]===ae)continue e;$.push(ne)}else I(c,ae,g)||$.push(ne)}return $}var Pa=S_(wo),Xg=S_(yf,!0);function aO(s,c){var h=!0;return Pa(s,function(g,x,I){return h=!!c(g,x,I),h}),h}function Od(s,c,h){for(var g=-1,x=s.length;++g<x;){var I=s[g],P=c(I);if(P!=null&&(A===e?P===P&&!xr(P):h(P,A)))var A=P,$=I}return $}function sO(s,c,h,g){var x=s.length;for(h=xt(h),h<0&&(h=-h>x?0:x+h),g=g===e||g>x?x:xt(g),g<0&&(g+=x),g=h>g?0:mv(g);h<g;)s[h++]=c;return s}function Jg(s,c){var h=[];return Pa(s,function(g,x,I){c(g,x,I)&&h.push(g)}),h}function Ai(s,c,h,g,x){var I=-1,P=s.length;for(h||(h=YO),x||(x=[]);++I<P;){var A=s[I];c>0&&h(A)?c>1?Ai(A,c-1,h,g,x):no(x,A):g||(x[x.length]=A)}return x}var vf=w_(),e_=w_(!0);function wo(s,c){return s&&vf(s,c,Ti)}function yf(s,c){return s&&e_(s,c,Ti)}function Md(s,c){return to(c,function(h){return oa(s[h])})}function Ss(s,c){c=Ea(c,s);for(var h=0,g=c.length;s!=null&&h<g;)s=s[Io(c[h++])];return h&&h==g?s:e}function t_(s,c,h){var g=c(s);return vt(s)?g:no(g,h(s))}function Xi(s){return s==null?s===e?_a:Ze:So&&So in tn(s)?qO(s):nM(s)}function Cf(s,c){return s>c}function lO(s,c){return s!=null&&$t.call(s,c)}function cO(s,c){return s!=null&&c in tn(s)}function uO(s,c,h){return s>=b(c,h)&&s<v(c,h)}function xf(s,c,h){for(var g=h?Rc:xa,x=s[0].length,I=s.length,P=I,A=Y(I),$=1/0,te=[];P--;){var ne=s[P];P&&c&&(ne=un(ne,Sn(c))),$=b(ne.length,$),A[P]=!h&&(c||x>=120&&ne.length>=120)?new zs(P&&ne):e}ne=s[0];var ae=-1,Ce=A[0];e:for(;++ae<x&&te.length<$;){var Ne=ne[ae],nt=c?c(Ne):Ne;if(Ne=h||Ne!==0?Ne:0,!(Ce?us(Ce,nt):g(te,nt,h))){for(P=I;--P;){var bt=A[P];if(!(bt?us(bt,nt):g(s[P],nt,h)))continue e}Ce&&Ce.push(nt),te.push(Ne)}}return te}function dO(s,c,h,g){return wo(s,function(x,I,P){c(g,h(x),I,P)}),g}function Jc(s,c,h){c=Ea(c,s),s=H_(s,c);var g=s==null?s:s[Io(qr(c))];return g==null?e:Mn(g,s,h)}function n_(s){return $n(s)&&Xi(s)==Ye}function hO(s){return $n(s)&&Xi(s)==Be}function pO(s){return $n(s)&&Xi(s)==Fn}function eu(s,c,h,g,x){return s===c?!0:s==null||c==null||!$n(s)&&!$n(c)?s!==s&&c!==c:fO(s,c,h,g,eu,x)}function fO(s,c,h,g,x,I){var P=vt(s),A=vt(c),$=P?qe:Vi(s),te=A?qe:Vi(c);$=$==Ye?Di:$,te=te==Ye?Di:te;var ne=$==Di,ae=te==Di,Ce=$==te;if(Ce&&ka(s)){if(!ka(c))return!1;P=!0,ne=!1}if(Ce&&!ne)return I||(I=new oo),P||zl(s)?k_(s,c,h,g,x,I):$O(s,c,$,h,g,x,I);if(!(h&N)){var Ne=ne&&$t.call(s,"__wrapped__"),nt=ae&&$t.call(c,"__wrapped__");if(Ne||nt){var bt=Ne?s.value():s,it=nt?c.value():c;return I||(I=new oo),x(bt,it,h,g,I)}}return Ce?(I||(I=new oo),HO(s,c,h,g,x,I)):!1}function mO(s){return $n(s)&&Vi(s)==pe}function zf(s,c,h,g){var x=h.length,I=x,P=!g;if(s==null)return!I;for(s=tn(s);x--;){var A=h[x];if(P&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++x<I;){A=h[x];var $=A[0],te=s[$],ne=A[1];if(P&&A[2]){if(te===e&&!($ in s))return!1}else{var ae=new oo;if(g)var Ce=g(te,ne,$,s,c,ae);if(!(Ce===e?eu(ne,te,N|U,g,ae):Ce))return!1}}return!0}function i_(s){if(!Nn(s)||KO(s))return!1;var c=oa(s)?io:Zp;return c.test(Ts(s))}function gO(s){return $n(s)&&Xi(s)==Dr}function _O(s){return $n(s)&&Vi(s)==ui}function vO(s){return $n(s)&&Zd(s.length)&&!!_t[Xi(s)]}function r_(s){return typeof s=="function"?s:s==null?cr:typeof s=="object"?vt(s)?s_(s[0],s[1]):a_(s):Tv(s)}function bf(s){if(!iu(s))return f(s);var c=[];for(var h in tn(s))$t.call(s,h)&&h!="constructor"&&c.push(h);return c}function yO(s){if(!Nn(s))return tM(s);var c=iu(s),h=[];for(var g in s)g=="constructor"&&(c||!$t.call(s,g))||h.push(g);return h}function Sf(s,c){return s<c}function o_(s,c){var h=-1,g=sr(s)?Y(s.length):[];return Pa(s,function(x,I,P){g[++h]=c(x,I,P)}),g}function a_(s){var c=Bf(s);return c.length==1&&c[0][2]?V_(c[0][0],c[0][1]):function(h){return h===s||zf(h,s,c)}}function s_(s,c){return $f(s)&&B_(c)?V_(Io(s),c):function(h){var g=Kf(h,s);return g===e&&g===c?Xf(h,s):eu(c,g,N|U)}}function Pd(s,c,h,g,x){s!==c&&vf(c,function(I,P){if(x||(x=new oo),Nn(I))CO(s,c,P,h,Pd,g,x);else{var A=g?g(qf(s,P),I,P+"",s,c,x):e;A===e&&(A=I),gf(s,P,A)}},lr)}function CO(s,c,h,g,x,I,P){var A=qf(s,h),$=qf(c,h),te=P.get($);if(te){gf(s,h,te);return}var ne=I?I(A,$,h+"",s,c,P):e,ae=ne===e;if(ae){var Ce=vt($),Ne=!Ce&&ka($),nt=!Ce&&!Ne&&zl($);ne=$,Ce||Ne||nt?vt(A)?ne=A:Yn(A)?ne=ar(A):Ne?(ae=!1,ne=y_($,!0)):nt?(ae=!1,ne=C_($,!0)):ne=[]:ou($)||Is($)?(ne=A,Is(A)?ne=gv(A):(!Nn(A)||oa(A))&&(ne=L_($))):ae=!1}ae&&(P.set($,ne),x(ne,$,g,I,P),P.delete($)),gf(s,h,ne)}function l_(s,c){var h=s.length;if(h)return c+=c<0?h:0,ra(c,h)?s[c]:e}function c_(s,c,h){c.length?c=un(c,function(I){return vt(I)?function(P){return Ss(P,I.length===1?I[0]:I)}:I}):c=[cr];var g=-1;c=un(c,Sn(et()));var x=o_(s,function(I,P,A){var $=un(c,function(te){return te(I)});return{criteria:$,index:++g,value:I}});return $c(x,function(I,P){return EO(I,P,h)})}function xO(s,c){return u_(s,c,function(h,g){return Xf(s,g)})}function u_(s,c,h){for(var g=-1,x=c.length,I={};++g<x;){var P=c[g],A=Ss(s,P);h(A,P)&&tu(I,Ea(P,s),A)}return I}function zO(s){return function(c){return Ss(c,s)}}function wf(s,c,h,g){var x=g?cs:za,I=-1,P=c.length,A=s;for(s===c&&(c=ar(c)),h&&(A=un(s,Sn(h)));++I<P;)for(var $=0,te=c[I],ne=h?h(te):te;($=x(A,ne,$,g))>-1;)A!==s&&ms.call(A,$,1),ms.call(s,$,1);return s}function d_(s,c){for(var h=s?c.length:0,g=h-1;h--;){var x=c[h];if(h==g||x!==I){var I=x;ra(x)?ms.call(s,x,1):Of(s,x)}}return s}function Tf(s,c){return s+vs(G()*(c-s+1))}function bO(s,c,h,g){for(var x=-1,I=v(_s((c-s)/(h||1)),0),P=Y(I);I--;)P[g?I:++x]=s,s+=h;return P}function If(s,c){var h="";if(!s||c<1||c>X)return h;do c%2&&(h+=s),c=vs(c/2),c&&(s+=s);while(c);return h}function It(s,c){return jf($_(s,c,cr),s+"")}function SO(s){return Gg(bl(s))}function wO(s,c){var h=bl(s);return $d(h,bs(c,0,h.length))}function tu(s,c,h,g){if(!Nn(s))return s;c=Ea(c,s);for(var x=-1,I=c.length,P=I-1,A=s;A!=null&&++x<I;){var $=Io(c[x]),te=h;if($==="__proto__"||$==="constructor"||$==="prototype")return s;if(x!=P){var ne=A[$];te=g?g(ne,$,A):e,te===e&&(te=Nn(ne)?ne:ra(c[x+1])?[]:{})}Kc(A,$,te),A=A[$]}return s}var h_=vi?function(s,c){return vi.set(s,c),s}:cr,TO=gs?function(s,c){return gs(s,"toString",{configurable:!0,enumerable:!1,value:em(c),writable:!0})}:cr;function IO(s){return $d(bl(s))}function Hr(s,c,h){var g=-1,x=s.length;c<0&&(c=-c>x?0:x+c),h=h>x?x:h,h<0&&(h+=x),x=c>h?0:h-c>>>0,c>>>=0;for(var I=Y(x);++g<x;)I[g]=s[g+c];return I}function FO(s,c){var h;return Pa(s,function(g,x,I){return h=c(g,x,I),!h}),!!h}function Dd(s,c,h){var g=0,x=s==null?g:s.length;if(typeof c=="number"&&c===c&&x<=Bt){for(;g<x;){var I=g+x>>>1,P=s[I];P!==null&&!xr(P)&&(h?P<=c:P<c)?g=I+1:x=I}return x}return Ff(s,c,cr,h)}function Ff(s,c,h,g){var x=0,I=s==null?0:s.length;if(I===0)return 0;c=h(c);for(var P=c!==c,A=c===null,$=xr(c),te=c===e;x<I;){var ne=vs((x+I)/2),ae=h(s[ne]),Ce=ae!==e,Ne=ae===null,nt=ae===ae,bt=xr(ae);if(P)var it=g||nt;else te?it=nt&&(g||Ce):A?it=nt&&Ce&&(g||!Ne):$?it=nt&&Ce&&!Ne&&(g||!bt):Ne||bt?it=!1:it=g?ae<=c:ae<c;it?x=ne+1:I=ne}return b(I,zt)}function p_(s,c){for(var h=-1,g=s.length,x=0,I=[];++h<g;){var P=s[h],A=c?c(P):P;if(!h||!ao(A,$)){var $=A;I[x++]=P===0?0:P}}return I}function f_(s){return typeof s=="number"?s:xr(s)?be:+s}function Cr(s){if(typeof s=="string")return s;if(vt(s))return un(s,Cr)+"";if(xr(s))return Cs?Cs.call(s):"";var c=s+"";return c=="0"&&1/s==-Xe?"-0":c}function Da(s,c,h){var g=-1,x=xa,I=s.length,P=!0,A=[],$=A;if(h)P=!1,x=Rc;else if(I>=i){var te=c?null:BO(s);if(te)return or(te);P=!1,x=us,$=new zs}else $=c?[]:A;e:for(;++g<I;){var ne=s[g],ae=c?c(ne):ne;if(ne=h||ne!==0?ne:0,P&&ae===ae){for(var Ce=$.length;Ce--;)if($[Ce]===ae)continue e;c&&$.push(ae),A.push(ne)}else x($,ae,h)||($!==A&&$.push(ae),A.push(ne))}return A}function Of(s,c){return c=Ea(c,s),s=H_(s,c),s==null||delete s[Io(qr(c))]}function m_(s,c,h,g){return tu(s,c,h(Ss(s,c)),g)}function Ed(s,c,h,g){for(var x=s.length,I=g?x:-1;(g?I--:++I<x)&&c(s[I],I,s););return h?Hr(s,g?0:I,g?I+1:x):Hr(s,g?I+1:0,g?x:I)}function g_(s,c){var h=s;return h instanceof Tt&&(h=h.value()),Lc(c,function(g,x){return x.func.apply(x.thisArg,no([g],x.args))},h)}function Mf(s,c,h){var g=s.length;if(g<2)return g?Da(s[0]):[];for(var x=-1,I=Y(g);++x<g;)for(var P=s[x],A=-1;++A<g;)A!=x&&(I[x]=Xc(I[x]||P,s[A],c,h));return Da(Ai(I,1),c,h)}function __(s,c,h){for(var g=-1,x=s.length,I=c.length,P={};++g<x;){var A=g<I?c[g]:e;h(P,s[g],A)}return P}function Pf(s){return Yn(s)?s:[]}function Df(s){return typeof s=="function"?s:cr}function Ea(s,c){return vt(s)?s:$f(s,c)?[s]:U_(nn(s))}var OO=It;function Aa(s,c,h){var g=s.length;return h=h===e?g:h,!c&&h>=g?s:Hr(s,c,h)}var v_=wd||function(s){return ai.clearTimeout(s)};function y_(s,c){if(c)return s.slice();var h=s.length,g=bd?bd(h):new s.constructor(h);return s.copy(g),g}function Ef(s){var c=new s.constructor(s.byteLength);return new bo(c).set(new bo(s)),c}function MO(s,c){var h=c?Ef(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function PO(s){var c=new s.constructor(s.source,Uo.exec(s));return c.lastIndex=s.lastIndex,c}function DO(s){return _n?tn(_n.call(s)):{}}function C_(s,c){var h=c?Ef(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function x_(s,c){if(s!==c){var h=s!==e,g=s===null,x=s===s,I=xr(s),P=c!==e,A=c===null,$=c===c,te=xr(c);if(!A&&!te&&!I&&s>c||I&&P&&$&&!A&&!te||g&&P&&$||!h&&$||!x)return 1;if(!g&&!I&&!te&&s<c||te&&h&&x&&!g&&!I||A&&h&&x||!P&&x||!$)return-1}return 0}function EO(s,c,h){for(var g=-1,x=s.criteria,I=c.criteria,P=x.length,A=h.length;++g<P;){var $=x_(x[g],I[g]);if($){if(g>=A)return $;var te=h[g];return $*(te=="desc"?-1:1)}}return s.index-c.index}function z_(s,c,h,g){for(var x=-1,I=s.length,P=h.length,A=-1,$=c.length,te=v(I-P,0),ne=Y($+te),ae=!g;++A<$;)ne[A]=c[A];for(;++x<P;)(ae||x<I)&&(ne[h[x]]=s[x]);for(;te--;)ne[A++]=s[x++];return ne}function b_(s,c,h,g){for(var x=-1,I=s.length,P=-1,A=h.length,$=-1,te=c.length,ne=v(I-A,0),ae=Y(ne+te),Ce=!g;++x<ne;)ae[x]=s[x];for(var Ne=x;++$<te;)ae[Ne+$]=c[$];for(;++P<A;)(Ce||x<I)&&(ae[Ne+h[P]]=s[x++]);return ae}function ar(s,c){var h=-1,g=s.length;for(c||(c=Y(g));++h<g;)c[h]=s[h];return c}function To(s,c,h,g){var x=!h;h||(h={});for(var I=-1,P=c.length;++I<P;){var A=c[I],$=g?g(h[A],s[A],A,h,s):e;$===e&&($=s[A]),x?ta(h,A,$):Kc(h,A,$)}return h}function AO(s,c){return To(s,Vf(s),c)}function kO(s,c){return To(s,N_(s),c)}function Ad(s,c){return function(h,g){var x=vt(h)?tf:iO,I=c?c():{};return x(h,s,et(g,2),I)}}function yl(s){return It(function(c,h){var g=-1,x=h.length,I=x>1?h[x-1]:e,P=x>2?h[2]:e;for(I=s.length>3&&typeof I=="function"?(x--,I):e,P&&Ji(h[0],h[1],P)&&(I=x<3?e:I,x=1),c=tn(c);++g<x;){var A=h[g];A&&s(c,A,g,I)}return c})}function S_(s,c){return function(h,g){if(h==null)return h;if(!sr(h))return s(h,g);for(var x=h.length,I=c?x:-1,P=tn(h);(c?I--:++I<x)&&g(P[I],I,P)!==!1;);return h}}function w_(s){return function(c,h,g){for(var x=-1,I=tn(c),P=g(c),A=P.length;A--;){var $=P[s?A:++x];if(h(I[$],$,I)===!1)break}return c}}function NO(s,c,h){var g=c&q,x=nu(s);function I(){var P=this&&this!==ai&&this instanceof I?x:s;return P.apply(g?h:this,arguments)}return I}function T_(s){return function(c){c=nn(c);var h=Sa(c)?Li(c):e,g=h?h[0]:c.charAt(0),x=h?Aa(h,1).join(""):c.slice(1);return g[s]()+x}}function Cl(s){return function(c){return Lc(Sv(bv(c).replace(ln,"")),s,"")}}function nu(s){return function(){var c=arguments;switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3]);case 5:return new s(c[0],c[1],c[2],c[3],c[4]);case 6:return new s(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new s(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=Ma(s.prototype),g=s.apply(h,c);return Nn(g)?g:h}}function RO(s,c,h){var g=nu(s);function x(){for(var I=arguments.length,P=Y(I),A=I,$=xl(x);A--;)P[A]=arguments[A];var te=I<3&&P[0]!==$&&P[I-1]!==$?[]:zo(P,$);if(I-=te.length,I<h)return P_(s,c,kd,x.placeholder,e,P,te,e,e,h-I);var ne=this&&this!==ai&&this instanceof x?g:s;return Mn(ne,this,P)}return x}function I_(s){return function(c,h,g){var x=tn(c);if(!sr(c)){var I=et(h,3);c=Ti(c),h=function(A){return I(x[A],A,x)}}var P=s(c,h,g);return P>-1?x[I?c[P]:P]:e}}function F_(s){return ia(function(c){var h=c.length,g=h,x=Bi.prototype.thru;for(s&&c.reverse();g--;){var I=c[g];if(typeof I!="function")throw new Ei(r);if(x&&!P&&Bd(I)=="wrapper")var P=new Bi([],!0)}for(g=P?g:h;++g<h;){I=c[g];var A=Bd(I),$=A=="wrapper"?Lf(I):e;$&&Hf($[0])&&$[1]==(mt|we|st|ke)&&!$[4].length&&$[9]==1?P=P[Bd($[0])].apply(P,$[3]):P=I.length==1&&Hf(I)?P[A]():P.thru(I)}return function(){var te=arguments,ne=te[0];if(P&&te.length==1&&vt(ne))return P.plant(ne).value();for(var ae=0,Ce=h?c[ae].apply(this,te):ne;++ae<h;)Ce=c[ae].call(this,Ce);return Ce}})}function kd(s,c,h,g,x,I,P,A,$,te){var ne=c&mt,ae=c&q,Ce=c&se,Ne=c&(we|tt),nt=c&Pt,bt=Ce?e:nu(s);function it(){for(var Dt=arguments.length,Ht=Y(Dt),zr=Dt;zr--;)Ht[zr]=arguments[zr];if(Ne)var er=xl(it),br=ba(Ht,er);if(g&&(Ht=z_(Ht,g,x,Ne)),I&&(Ht=b_(Ht,I,P,Ne)),Dt-=br,Ne&&Dt<te){var Qn=zo(Ht,er);return P_(s,c,kd,it.placeholder,h,Ht,Qn,A,$,te-Dt)}var so=ae?h:this,sa=Ce?so[s]:s;return Dt=Ht.length,A?Ht=iM(Ht,A):nt&&Dt>1&&Ht.reverse(),ne&&$<Dt&&(Ht.length=$),this&&this!==ai&&this instanceof it&&(sa=bt||nu(sa)),sa.apply(so,Ht)}return it}function O_(s,c){return function(h,g){return dO(h,s,c(g),{})}}function Nd(s,c){return function(h,g){var x;if(h===e&&g===e)return c;if(h!==e&&(x=h),g!==e){if(x===e)return g;typeof h=="string"||typeof g=="string"?(h=Cr(h),g=Cr(g)):(h=f_(h),g=f_(g)),x=s(h,g)}return x}}function Af(s){return ia(function(c){return c=un(c,Sn(et())),It(function(h){var g=this;return s(c,function(x){return Mn(x,g,h)})})})}function Rd(s,c){c=c===e?" ":Cr(c);var h=c.length;if(h<2)return h?If(c,s):c;var g=If(c,_s(s/Ri(c)));return Sa(c)?Aa(Li(g),0,s).join(""):g.slice(0,s)}function LO(s,c,h,g){var x=c&q,I=nu(s);function P(){for(var A=-1,$=arguments.length,te=-1,ne=g.length,ae=Y(ne+$),Ce=this&&this!==ai&&this instanceof P?I:s;++te<ne;)ae[te]=g[te];for(;$--;)ae[te++]=arguments[++A];return Mn(Ce,x?h:this,ae)}return P}function M_(s){return function(c,h,g){return g&&typeof g!="number"&&Ji(c,h,g)&&(h=g=e),c=aa(c),h===e?(h=c,c=0):h=aa(h),g=g===e?c<h?1:-1:aa(g),bO(c,h,g,s)}}function Ld(s){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=jr(c),h=jr(h)),s(c,h)}}function P_(s,c,h,g,x,I,P,A,$,te){var ne=c&we,ae=ne?P:e,Ce=ne?e:P,Ne=ne?I:e,nt=ne?e:I;c|=ne?st:Lt,c&=~(ne?Lt:st),c&ce||(c&=~(q|se));var bt=[s,c,x,Ne,ae,nt,Ce,A,$,te],it=h.apply(e,bt);return Hf(s)&&q_(it,bt),it.placeholder=g,j_(it,s,c)}function kf(s){var c=Gn[s];return function(h,g){if(h=jr(h),g=g==null?0:b(xt(g),292),g&&l(h)){var x=(nn(h)+"e").split("e"),I=c(x[0]+"e"+(+x[1]+g));return x=(nn(I)+"e").split("e"),+(x[0]+"e"+(+x[1]-g))}return c(h)}}var BO=Vn&&1/or(new Vn([,-0]))[1]==Xe?function(s){return new Vn(s)}:im;function D_(s){return function(c){var h=Vi(c);return h==pe?jc(c):h==ui?af(c):vd(c,s(c))}}function na(s,c,h,g,x,I,P,A){var $=c&se;if(!$&&typeof s!="function")throw new Ei(r);var te=g?g.length:0;if(te||(c&=~(st|Lt),g=x=e),P=P===e?P:v(xt(P),0),A=A===e?A:xt(A),te-=x?x.length:0,c&Lt){var ne=g,ae=x;g=x=e}var Ce=$?e:Lf(s),Ne=[s,c,h,g,x,ne,ae,I,P,A];if(Ce&&eM(Ne,Ce),s=Ne[0],c=Ne[1],h=Ne[2],g=Ne[3],x=Ne[4],A=Ne[9]=Ne[9]===e?$?0:s.length:v(Ne[9]-te,0),!A&&c&(we|tt)&&(c&=~(we|tt)),!c||c==q)var nt=NO(s,c,h);else c==we||c==tt?nt=RO(s,c,A):(c==st||c==(q|st))&&!x.length?nt=LO(s,c,h,g):nt=kd.apply(e,Ne);var bt=Ce?h_:q_;return j_(bt(nt,Ne),s,c)}function E_(s,c,h,g){return s===e||ao(s,Ia[h])&&!$t.call(g,h)?c:s}function A_(s,c,h,g,x,I){return Nn(s)&&Nn(c)&&(I.set(c,s),Pd(s,c,e,A_,I),I.delete(c)),s}function VO(s){return ou(s)?e:s}function k_(s,c,h,g,x,I){var P=h&N,A=s.length,$=c.length;if(A!=$&&!(P&&$>A))return!1;var te=I.get(s),ne=I.get(c);if(te&&ne)return te==c&&ne==s;var ae=-1,Ce=!0,Ne=h&U?new zs:e;for(I.set(s,c),I.set(c,s);++ae<A;){var nt=s[ae],bt=c[ae];if(g)var it=P?g(bt,nt,ae,c,s,I):g(nt,bt,ae,s,c,I);if(it!==e){if(it)continue;Ce=!1;break}if(Ne){if(!ss(c,function(Dt,Ht){if(!us(Ne,Ht)&&(nt===Dt||x(nt,Dt,h,g,I)))return Ne.push(Ht)})){Ce=!1;break}}else if(!(nt===bt||x(nt,bt,h,g,I))){Ce=!1;break}}return I.delete(s),I.delete(c),Ce}function $O(s,c,h,g,x,I,P){switch(h){case We:if(s.byteLength!=c.byteLength||s.byteOffset!=c.byteOffset)return!1;s=s.buffer,c=c.buffer;case Be:return!(s.byteLength!=c.byteLength||!I(new bo(s),new bo(c)));case je:case Fn:case me:return ao(+s,+c);case On:return s.name==c.name&&s.message==c.message;case Dr:case Er:return s==c+"";case pe:var A=jc;case ui:var $=g&N;if(A||(A=or),s.size!=c.size&&!$)return!1;var te=P.get(s);if(te)return te==c;g|=U,P.set(s,c);var ne=k_(A(s),A(c),g,x,I,P);return P.delete(s),ne;case Ar:if(_n)return _n.call(s)==_n.call(c)}return!1}function HO(s,c,h,g,x,I){var P=h&N,A=Nf(s),$=A.length,te=Nf(c),ne=te.length;if($!=ne&&!P)return!1;for(var ae=$;ae--;){var Ce=A[ae];if(!(P?Ce in c:$t.call(c,Ce)))return!1}var Ne=I.get(s),nt=I.get(c);if(Ne&&nt)return Ne==c&&nt==s;var bt=!0;I.set(s,c),I.set(c,s);for(var it=P;++ae<$;){Ce=A[ae];var Dt=s[Ce],Ht=c[Ce];if(g)var zr=P?g(Ht,Dt,Ce,c,s,I):g(Dt,Ht,Ce,s,c,I);if(!(zr===e?Dt===Ht||x(Dt,Ht,h,g,I):zr)){bt=!1;break}it||(it=Ce=="constructor")}if(bt&&!it){var er=s.constructor,br=c.constructor;er!=br&&"constructor"in s&&"constructor"in c&&!(typeof er=="function"&&er instanceof er&&typeof br=="function"&&br instanceof br)&&(bt=!1)}return I.delete(s),I.delete(c),bt}function ia(s){return jf($_(s,e,Q_),s+"")}function Nf(s){return t_(s,Ti,Vf)}function Rf(s){return t_(s,lr,N_)}var Lf=vi?function(s){return vi.get(s)}:im;function Bd(s){for(var c=s.name+"",h=yr[c],g=$t.call(yr,c)?h.length:0;g--;){var x=h[g],I=x.func;if(I==null||I==s)return x.name}return c}function xl(s){var c=$t.call(T,"placeholder")?T:s;return c.placeholder}function et(){var s=T.iteratee||tm;return s=s===tm?r_:s,arguments.length?s(arguments[0],arguments[1]):s}function Vd(s,c){var h=s.__data__;return QO(c)?h[typeof c=="string"?"string":"hash"]:h.map}function Bf(s){for(var c=Ti(s),h=c.length;h--;){var g=c[h],x=s[g];c[h]=[g,x,B_(x)]}return c}function ws(s,c){var h=ul(s,c);return i_(h)?h:e}function qO(s){var c=$t.call(s,So),h=s[So];try{s[So]=e;var g=!0}catch{}var x=ps.call(s);return g&&(c?s[So]=h:delete s[So]),x}var Vf=Qc?function(s){return s==null?[]:(s=tn(s),to(Qc(s),function(c){return Yc.call(s,c)}))}:rm,N_=Qc?function(s){for(var c=[];s;)no(c,Vf(s)),s=Xo(s);return c}:rm,Vi=Xi;(ze&&Vi(new ze(new ArrayBuffer(1)))!=We||Ge&&Vi(new Ge)!=pe||Ct&&Vi(Ct.resolve())!=Jr||Vn&&Vi(new Vn)!=ui||Pn&&Vi(new Pn)!=ni)&&(Vi=function(s){var c=Xi(s),h=c==Di?s.constructor:e,g=h?Ts(h):"";if(g)switch(g){case df:return We;case hf:return pe;case pf:return Jr;case Id:return ui;case ff:return ni}return c});function jO(s,c,h){for(var g=-1,x=h.length;++g<x;){var I=h[g],P=I.size;switch(I.type){case"drop":s+=P;break;case"dropRight":c-=P;break;case"take":c=b(c,s+P);break;case"takeRight":s=v(s,c-P);break}}return{start:s,end:c}}function WO(s){var c=s.match(Yu);return c?c[1].split(Qu):[]}function R_(s,c,h){c=Ea(c,s);for(var g=-1,x=c.length,I=!1;++g<x;){var P=Io(c[g]);if(!(I=s!=null&&h(s,P)))break;s=s[P]}return I||++g!=x?I:(x=s==null?0:s.length,!!x&&Zd(x)&&ra(P,x)&&(vt(s)||Is(s)))}function UO(s){var c=s.length,h=new s.constructor(c);return c&&typeof s[0]=="string"&&$t.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function L_(s){return typeof s.constructor=="function"&&!iu(s)?Ma(Xo(s)):{}}function ZO(s,c,h){var g=s.constructor;switch(c){case Be:return Ef(s);case je:case Fn:return new g(+s);case We:return MO(s,h);case Gt:case jt:case di:case Si:case Ln:case En:case An:case Bn:case fn:return C_(s,h);case pe:return new g;case me:case Er:return new g(s);case Dr:return PO(s);case ui:return new g;case Ar:return DO(s)}}function GO(s,c){var h=c.length;if(!h)return s;var g=h-1;return c[g]=(h>1?"& ":"")+c[g],c=c.join(h>2?", ":" "),s.replace(Ve,`{
/* [wrapped with `+c+`] */
`)}function YO(s){return vt(s)||Is(s)||!!(Sd&&s&&s[Sd])}function ra(s,c){var h=typeof s;return c=c??X,!!c&&(h=="number"||h!="symbol"&&Yp.test(s))&&s>-1&&s%1==0&&s<c}function Ji(s,c,h){if(!Nn(h))return!1;var g=typeof c;return(g=="number"?sr(h)&&ra(c,h.length):g=="string"&&c in h)?ao(h[c],s):!1}function $f(s,c){if(vt(s))return!1;var h=typeof s;return h=="number"||h=="symbol"||h=="boolean"||s==null||xr(s)?!0:xc.test(s)||!_i.test(s)||c!=null&&s in tn(c)}function QO(s){var c=typeof s;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?s!=="__proto__":s===null}function Hf(s){var c=Bd(s),h=T[c];if(typeof h!="function"||!(c in Tt.prototype))return!1;if(s===h)return!0;var g=Lf(h);return!!g&&s===g[0]}function KO(s){return!!Ko&&Ko in s}var XO=hs?oa:om;function iu(s){var c=s&&s.constructor,h=typeof c=="function"&&c.prototype||Ia;return s===h}function B_(s){return s===s&&!Nn(s)}function V_(s,c){return function(h){return h==null?!1:h[s]===c&&(c!==e||s in tn(h))}}function JO(s){var c=Wd(s,function(g){return h.size===p&&h.clear(),g}),h=c.cache;return c}function eM(s,c){var h=s[1],g=c[1],x=h|g,I=x<(q|se|mt),P=g==mt&&h==we||g==mt&&h==ke&&s[7].length<=c[8]||g==(mt|ke)&&c[7].length<=c[8]&&h==we;if(!(I||P))return s;g&q&&(s[2]=c[2],x|=h&q?0:ce);var A=c[3];if(A){var $=s[3];s[3]=$?z_($,A,c[4]):A,s[4]=$?zo(s[3],m):c[4]}return A=c[5],A&&($=s[5],s[5]=$?b_($,A,c[6]):A,s[6]=$?zo(s[5],m):c[6]),A=c[7],A&&(s[7]=A),g&mt&&(s[8]=s[8]==null?c[8]:b(s[8],c[8])),s[9]==null&&(s[9]=c[9]),s[0]=c[0],s[1]=x,s}function tM(s){var c=[];if(s!=null)for(var h in tn(s))c.push(h);return c}function nM(s){return ps.call(s)}function $_(s,c,h){return c=v(c===e?s.length-1:c,0),function(){for(var g=arguments,x=-1,I=v(g.length-c,0),P=Y(I);++x<I;)P[x]=g[c+x];x=-1;for(var A=Y(c+1);++x<c;)A[x]=g[x];return A[c]=h(P),Mn(s,this,A)}}function H_(s,c){return c.length<2?s:Ss(s,Hr(c,0,-1))}function iM(s,c){for(var h=s.length,g=b(c.length,h),x=ar(s);g--;){var I=c[g];s[g]=ra(I,h)?x[I]:e}return s}function qf(s,c){if(!(c==="constructor"&&typeof s[c]=="function")&&c!="__proto__")return s[c]}var q_=W_(h_),ru=uf||function(s,c){return ai.setTimeout(s,c)},jf=W_(TO);function j_(s,c,h){var g=c+"";return jf(s,GO(g,rM(WO(g),h)))}function W_(s){var c=0,h=0;return function(){var g=D(),x=Me-(g-h);if(h=g,x>0){if(++c>=ue)return arguments[0]}else c=0;return s.apply(e,arguments)}}function $d(s,c){var h=-1,g=s.length,x=g-1;for(c=c===e?g:c;++h<c;){var I=Tf(h,x),P=s[I];s[I]=s[h],s[h]=P}return s.length=c,s}var U_=JO(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(jp,function(h,g,x,I){c.push(x?I.replace(Sc,"$1"):g||h)}),c});function Io(s){if(typeof s=="string"||xr(s))return s;var c=s+"";return c=="0"&&1/s==-Xe?"-0":c}function Ts(s){if(s!=null){try{return _l.call(s)}catch{}try{return s+""}catch{}}return""}function rM(s,c){return Qi(yt,function(h){var g="_."+h[0];c&h[1]&&!xa(s,g)&&s.push(g)}),s.sort()}function Z_(s){if(s instanceof Tt)return s.clone();var c=new Bi(s.__wrapped__,s.__chain__);return c.__actions__=ar(s.__actions__),c.__index__=s.__index__,c.__values__=s.__values__,c}function oM(s,c,h){(h?Ji(s,c,h):c===e)?c=1:c=v(xt(c),0);var g=s==null?0:s.length;if(!g||c<1)return[];for(var x=0,I=0,P=Y(_s(g/c));x<g;)P[I++]=Hr(s,x,x+=c);return P}function aM(s){for(var c=-1,h=s==null?0:s.length,g=0,x=[];++c<h;){var I=s[c];I&&(x[g++]=I)}return x}function sM(){var s=arguments.length;if(!s)return[];for(var c=Y(s-1),h=arguments[0],g=s;g--;)c[g-1]=arguments[g];return no(vt(h)?ar(h):[h],Ai(c,1))}var lM=It(function(s,c){return Yn(s)?Xc(s,Ai(c,1,Yn,!0)):[]}),cM=It(function(s,c){var h=qr(c);return Yn(h)&&(h=e),Yn(s)?Xc(s,Ai(c,1,Yn,!0),et(h,2)):[]}),uM=It(function(s,c){var h=qr(c);return Yn(h)&&(h=e),Yn(s)?Xc(s,Ai(c,1,Yn,!0),e,h):[]});function dM(s,c,h){var g=s==null?0:s.length;return g?(c=h||c===e?1:xt(c),Hr(s,c<0?0:c,g)):[]}function hM(s,c,h){var g=s==null?0:s.length;return g?(c=h||c===e?1:xt(c),c=g-c,Hr(s,0,c<0?0:c)):[]}function pM(s,c){return s&&s.length?Ed(s,et(c,3),!0,!0):[]}function fM(s,c){return s&&s.length?Ed(s,et(c,3),!0):[]}function mM(s,c,h,g){var x=s==null?0:s.length;return x?(h&&typeof h!="number"&&Ji(s,c,h)&&(h=0,g=x),sO(s,c,h,g)):[]}function G_(s,c,h){var g=s==null?0:s.length;if(!g)return-1;var x=h==null?0:xt(h);return x<0&&(x=v(g+x,0)),Lr(s,et(c,3),x)}function Y_(s,c,h){var g=s==null?0:s.length;if(!g)return-1;var x=g-1;return h!==e&&(x=xt(h),x=h<0?v(g+x,0):b(x,g-1)),Lr(s,et(c,3),x,!0)}function Q_(s){var c=s==null?0:s.length;return c?Ai(s,1):[]}function gM(s){var c=s==null?0:s.length;return c?Ai(s,Xe):[]}function _M(s,c){var h=s==null?0:s.length;return h?(c=c===e?1:xt(c),Ai(s,c)):[]}function vM(s){for(var c=-1,h=s==null?0:s.length,g={};++c<h;){var x=s[c];g[x[0]]=x[1]}return g}function K_(s){return s&&s.length?s[0]:e}function yM(s,c,h){var g=s==null?0:s.length;if(!g)return-1;var x=h==null?0:xt(h);return x<0&&(x=v(g+x,0)),za(s,c,x)}function CM(s){var c=s==null?0:s.length;return c?Hr(s,0,-1):[]}var xM=It(function(s){var c=un(s,Pf);return c.length&&c[0]===s[0]?xf(c):[]}),zM=It(function(s){var c=qr(s),h=un(s,Pf);return c===qr(h)?c=e:h.pop(),h.length&&h[0]===s[0]?xf(h,et(c,2)):[]}),bM=It(function(s){var c=qr(s),h=un(s,Pf);return c=typeof c=="function"?c:e,c&&h.pop(),h.length&&h[0]===s[0]?xf(h,e,c):[]});function SM(s,c){return s==null?"":d.call(s,c)}function qr(s){var c=s==null?0:s.length;return c?s[c-1]:e}function wM(s,c,h){var g=s==null?0:s.length;if(!g)return-1;var x=g;return h!==e&&(x=xt(h),x=x<0?v(g+x,0):b(x,g-1)),c===c?sf(s,c,x):Lr(s,Ki,x,!0)}function TM(s,c){return s&&s.length?l_(s,xt(c)):e}var IM=It(X_);function X_(s,c){return s&&s.length&&c&&c.length?wf(s,c):s}function FM(s,c,h){return s&&s.length&&c&&c.length?wf(s,c,et(h,2)):s}function OM(s,c,h){return s&&s.length&&c&&c.length?wf(s,c,e,h):s}var MM=ia(function(s,c){var h=s==null?0:s.length,g=_f(s,c);return d_(s,un(c,function(x){return ra(x,h)?+x:x}).sort(x_)),g});function PM(s,c){var h=[];if(!(s&&s.length))return h;var g=-1,x=[],I=s.length;for(c=et(c,3);++g<I;){var P=s[g];c(P,g,s)&&(h.push(P),x.push(g))}return d_(s,x),h}function Wf(s){return s==null?s:oe.call(s)}function DM(s,c,h){var g=s==null?0:s.length;return g?(h&&typeof h!="number"&&Ji(s,c,h)?(c=0,h=g):(c=c==null?0:xt(c),h=h===e?g:xt(h)),Hr(s,c,h)):[]}function EM(s,c){return Dd(s,c)}function AM(s,c,h){return Ff(s,c,et(h,2))}function kM(s,c){var h=s==null?0:s.length;if(h){var g=Dd(s,c);if(g<h&&ao(s[g],c))return g}return-1}function NM(s,c){return Dd(s,c,!0)}function RM(s,c,h){return Ff(s,c,et(h,2),!0)}function LM(s,c){var h=s==null?0:s.length;if(h){var g=Dd(s,c,!0)-1;if(ao(s[g],c))return g}return-1}function BM(s){return s&&s.length?p_(s):[]}function VM(s,c){return s&&s.length?p_(s,et(c,2)):[]}function $M(s){var c=s==null?0:s.length;return c?Hr(s,1,c):[]}function HM(s,c,h){return s&&s.length?(c=h||c===e?1:xt(c),Hr(s,0,c<0?0:c)):[]}function qM(s,c,h){var g=s==null?0:s.length;return g?(c=h||c===e?1:xt(c),c=g-c,Hr(s,c<0?0:c,g)):[]}function jM(s,c){return s&&s.length?Ed(s,et(c,3),!1,!0):[]}function WM(s,c){return s&&s.length?Ed(s,et(c,3)):[]}var UM=It(function(s){return Da(Ai(s,1,Yn,!0))}),ZM=It(function(s){var c=qr(s);return Yn(c)&&(c=e),Da(Ai(s,1,Yn,!0),et(c,2))}),GM=It(function(s){var c=qr(s);return c=typeof c=="function"?c:e,Da(Ai(s,1,Yn,!0),e,c)});function YM(s){return s&&s.length?Da(s):[]}function QM(s,c){return s&&s.length?Da(s,et(c,2)):[]}function KM(s,c){return c=typeof c=="function"?c:e,s&&s.length?Da(s,e,c):[]}function Uf(s){if(!(s&&s.length))return[];var c=0;return s=to(s,function(h){if(Yn(h))return c=v(h.length,c),!0}),qc(c,function(h){return un(s,ll(h))})}function J_(s,c){if(!(s&&s.length))return[];var h=Uf(s);return c==null?h:un(h,function(g){return Mn(c,e,g)})}var XM=It(function(s,c){return Yn(s)?Xc(s,c):[]}),JM=It(function(s){return Mf(to(s,Yn))}),eP=It(function(s){var c=qr(s);return Yn(c)&&(c=e),Mf(to(s,Yn),et(c,2))}),tP=It(function(s){var c=qr(s);return c=typeof c=="function"?c:e,Mf(to(s,Yn),e,c)}),nP=It(Uf);function iP(s,c){return __(s||[],c||[],Kc)}function rP(s,c){return __(s||[],c||[],tu)}var oP=It(function(s){var c=s.length,h=c>1?s[c-1]:e;return h=typeof h=="function"?(s.pop(),h):e,J_(s,h)});function ev(s){var c=T(s);return c.__chain__=!0,c}function aP(s,c){return c(s),s}function Hd(s,c){return c(s)}var sP=ia(function(s){var c=s.length,h=c?s[0]:0,g=this.__wrapped__,x=function(I){return _f(I,s)};return c>1||this.__actions__.length||!(g instanceof Tt)||!ra(h)?this.thru(x):(g=g.slice(h,+h+(c?1:0)),g.__actions__.push({func:Hd,args:[x],thisArg:e}),new Bi(g,this.__chain__).thru(function(I){return c&&!I.length&&I.push(e),I}))});function lP(){return ev(this)}function cP(){return new Bi(this.value(),this.__chain__)}function uP(){this.__values__===e&&(this.__values__=fv(this.value()));var s=this.__index__>=this.__values__.length,c=s?e:this.__values__[this.__index__++];return{done:s,value:c}}function dP(){return this}function hP(s){for(var c,h=this;h instanceof vl;){var g=Z_(h);g.__index__=0,g.__values__=e,c?x.__wrapped__=g:c=g;var x=g;h=h.__wrapped__}return x.__wrapped__=s,c}function pP(){var s=this.__wrapped__;if(s instanceof Tt){var c=s;return this.__actions__.length&&(c=new Tt(this)),c=c.reverse(),c.__actions__.push({func:Hd,args:[Wf],thisArg:e}),new Bi(c,this.__chain__)}return this.thru(Wf)}function fP(){return g_(this.__wrapped__,this.__actions__)}var mP=Ad(function(s,c,h){$t.call(s,h)?++s[h]:ta(s,h,1)});function gP(s,c,h){var g=vt(s)?Nc:aO;return h&&Ji(s,c,h)&&(c=e),g(s,et(c,3))}function _P(s,c){var h=vt(s)?to:Jg;return h(s,et(c,3))}var vP=I_(G_),yP=I_(Y_);function CP(s,c){return Ai(qd(s,c),1)}function xP(s,c){return Ai(qd(s,c),Xe)}function zP(s,c,h){return h=h===e?1:xt(h),Ai(qd(s,c),h)}function tv(s,c){var h=vt(s)?Qi:Pa;return h(s,et(c,3))}function nv(s,c){var h=vt(s)?yo:Xg;return h(s,et(c,3))}var bP=Ad(function(s,c,h){$t.call(s,h)?s[h].push(c):ta(s,h,[c])});function SP(s,c,h,g){s=sr(s)?s:bl(s),h=h&&!g?xt(h):0;var x=s.length;return h<0&&(h=v(x+h,0)),Gd(s)?h<=x&&s.indexOf(c,h)>-1:!!x&&za(s,c,h)>-1}var wP=It(function(s,c,h){var g=-1,x=typeof c=="function",I=sr(s)?Y(s.length):[];return Pa(s,function(P){I[++g]=x?Mn(c,P,h):Jc(P,c,h)}),I}),TP=Ad(function(s,c,h){ta(s,h,c)});function qd(s,c){var h=vt(s)?un:o_;return h(s,et(c,3))}function IP(s,c,h,g){return s==null?[]:(vt(c)||(c=c==null?[]:[c]),h=g?e:h,vt(h)||(h=h==null?[]:[h]),c_(s,c,h))}var FP=Ad(function(s,c,h){s[h?0:1].push(c)},function(){return[[],[]]});function OP(s,c,h){var g=vt(s)?Lc:cl,x=arguments.length<3;return g(s,et(c,4),h,x,Pa)}function MP(s,c,h){var g=vt(s)?nf:cl,x=arguments.length<3;return g(s,et(c,4),h,x,Xg)}function PP(s,c){var h=vt(s)?to:Jg;return h(s,Ud(et(c,3)))}function DP(s){var c=vt(s)?Gg:SO;return c(s)}function EP(s,c,h){(h?Ji(s,c,h):c===e)?c=1:c=xt(c);var g=vt(s)?tO:wO;return g(s,c)}function AP(s){var c=vt(s)?nO:IO;return c(s)}function kP(s){if(s==null)return 0;if(sr(s))return Gd(s)?Ri(s):s.length;var c=Vi(s);return c==pe||c==ui?s.size:bf(s).length}function NP(s,c,h){var g=vt(s)?ss:FO;return h&&Ji(s,c,h)&&(c=e),g(s,et(c,3))}var RP=It(function(s,c){if(s==null)return[];var h=c.length;return h>1&&Ji(s,c[0],c[1])?c=[]:h>2&&Ji(c[0],c[1],c[2])&&(c=[c[0]]),c_(s,Ai(c,1),[])}),jd=Td||function(){return ai.Date.now()};function LP(s,c){if(typeof c!="function")throw new Ei(r);return s=xt(s),function(){if(--s<1)return c.apply(this,arguments)}}function iv(s,c,h){return c=h?e:c,c=s&&c==null?s.length:c,na(s,mt,e,e,e,e,c)}function rv(s,c){var h;if(typeof c!="function")throw new Ei(r);return s=xt(s),function(){return--s>0&&(h=c.apply(this,arguments)),s<=1&&(c=e),h}}var Zf=It(function(s,c,h){var g=q;if(h.length){var x=zo(h,xl(Zf));g|=st}return na(s,g,c,h,x)}),ov=It(function(s,c,h){var g=q|se;if(h.length){var x=zo(h,xl(ov));g|=st}return na(c,g,s,h,x)});function av(s,c,h){c=h?e:c;var g=na(s,we,e,e,e,e,e,c);return g.placeholder=av.placeholder,g}function sv(s,c,h){c=h?e:c;var g=na(s,tt,e,e,e,e,e,c);return g.placeholder=sv.placeholder,g}function lv(s,c,h){var g,x,I,P,A,$,te=0,ne=!1,ae=!1,Ce=!0;if(typeof s!="function")throw new Ei(r);c=jr(c)||0,Nn(h)&&(ne=!!h.leading,ae="maxWait"in h,I=ae?v(jr(h.maxWait)||0,c):I,Ce="trailing"in h?!!h.trailing:Ce);function Ne(Qn){var so=g,sa=x;return g=x=e,te=Qn,P=s.apply(sa,so),P}function nt(Qn){return te=Qn,A=ru(Dt,c),ne?Ne(Qn):P}function bt(Qn){var so=Qn-$,sa=Qn-te,Iv=c-so;return ae?b(Iv,I-sa):Iv}function it(Qn){var so=Qn-$,sa=Qn-te;return $===e||so>=c||so<0||ae&&sa>=I}function Dt(){var Qn=jd();if(it(Qn))return Ht(Qn);A=ru(Dt,bt(Qn))}function Ht(Qn){return A=e,Ce&&g?Ne(Qn):(g=x=e,P)}function zr(){A!==e&&v_(A),te=0,g=$=x=A=e}function er(){return A===e?P:Ht(jd())}function br(){var Qn=jd(),so=it(Qn);if(g=arguments,x=this,$=Qn,so){if(A===e)return nt($);if(ae)return v_(A),A=ru(Dt,c),Ne($)}return A===e&&(A=ru(Dt,c)),P}return br.cancel=zr,br.flush=er,br}var BP=It(function(s,c){return Kg(s,1,c)}),VP=It(function(s,c,h){return Kg(s,jr(c)||0,h)});function $P(s){return na(s,Pt)}function Wd(s,c){if(typeof s!="function"||c!=null&&typeof c!="function")throw new Ei(r);var h=function(){var g=arguments,x=c?c.apply(this,g):g[0],I=h.cache;if(I.has(x))return I.get(x);var P=s.apply(this,g);return h.cache=I.set(x,P)||I,P};return h.cache=new(Wd.Cache||ea),h}Wd.Cache=ea;function Ud(s){if(typeof s!="function")throw new Ei(r);return function(){var c=arguments;switch(c.length){case 0:return!s.call(this);case 1:return!s.call(this,c[0]);case 2:return!s.call(this,c[0],c[1]);case 3:return!s.call(this,c[0],c[1],c[2])}return!s.apply(this,c)}}function HP(s){return rv(2,s)}var qP=OO(function(s,c){c=c.length==1&&vt(c[0])?un(c[0],Sn(et())):un(Ai(c,1),Sn(et()));var h=c.length;return It(function(g){for(var x=-1,I=b(g.length,h);++x<I;)g[x]=c[x].call(this,g[x]);return Mn(s,this,g)})}),Gf=It(function(s,c){var h=zo(c,xl(Gf));return na(s,st,e,c,h)}),cv=It(function(s,c){var h=zo(c,xl(cv));return na(s,Lt,e,c,h)}),jP=ia(function(s,c){return na(s,ke,e,e,e,c)});function WP(s,c){if(typeof s!="function")throw new Ei(r);return c=c===e?c:xt(c),It(s,c)}function UP(s,c){if(typeof s!="function")throw new Ei(r);return c=c==null?0:v(xt(c),0),It(function(h){var g=h[c],x=Aa(h,0,c);return g&&no(x,g),Mn(s,this,x)})}function ZP(s,c,h){var g=!0,x=!0;if(typeof s!="function")throw new Ei(r);return Nn(h)&&(g="leading"in h?!!h.leading:g,x="trailing"in h?!!h.trailing:x),lv(s,c,{leading:g,maxWait:c,trailing:x})}function GP(s){return iv(s,1)}function YP(s,c){return Gf(Df(c),s)}function QP(){if(!arguments.length)return[];var s=arguments[0];return vt(s)?s:[s]}function KP(s){return $r(s,F)}function XP(s,c){return c=typeof c=="function"?c:e,$r(s,F,c)}function JP(s){return $r(s,_|F)}function eD(s,c){return c=typeof c=="function"?c:e,$r(s,_|F,c)}function tD(s,c){return c==null||Qg(s,c,Ti(c))}function ao(s,c){return s===c||s!==s&&c!==c}var nD=Ld(Cf),iD=Ld(function(s,c){return s>=c}),Is=n_(function(){return arguments}())?n_:function(s){return $n(s)&&$t.call(s,"callee")&&!Yc.call(s,"callee")},vt=Y.isArray,rD=hd?Sn(hd):hO;function sr(s){return s!=null&&Zd(s.length)&&!oa(s)}function Yn(s){return $n(s)&&sr(s)}function oD(s){return s===!0||s===!1||$n(s)&&Xi(s)==je}var ka=o||om,aD=kc?Sn(kc):pO;function sD(s){return $n(s)&&s.nodeType===1&&!ou(s)}function lD(s){if(s==null)return!0;if(sr(s)&&(vt(s)||typeof s=="string"||typeof s.splice=="function"||ka(s)||zl(s)||Is(s)))return!s.length;var c=Vi(s);if(c==pe||c==ui)return!s.size;if(iu(s))return!bf(s).length;for(var h in s)if($t.call(s,h))return!1;return!0}function cD(s,c){return eu(s,c)}function uD(s,c,h){h=typeof h=="function"?h:e;var g=h?h(s,c):e;return g===e?eu(s,c,e,h):!!g}function Yf(s){if(!$n(s))return!1;var c=Xi(s);return c==On||c==Wn||typeof s.message=="string"&&typeof s.name=="string"&&!ou(s)}function dD(s){return typeof s=="number"&&l(s)}function oa(s){if(!Nn(s))return!1;var c=Xi(s);return c==pn||c==_e||c==Mt||c==ts}function uv(s){return typeof s=="number"&&s==xt(s)}function Zd(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=X}function Nn(s){var c=typeof s;return s!=null&&(c=="object"||c=="function")}function $n(s){return s!=null&&typeof s=="object"}var dv=pd?Sn(pd):mO;function hD(s,c){return s===c||zf(s,c,Bf(c))}function pD(s,c,h){return h=typeof h=="function"?h:e,zf(s,c,Bf(c),h)}function fD(s){return hv(s)&&s!=+s}function mD(s){if(XO(s))throw new ut(n);return i_(s)}function gD(s){return s===null}function _D(s){return s==null}function hv(s){return typeof s=="number"||$n(s)&&Xi(s)==me}function ou(s){if(!$n(s)||Xi(s)!=Di)return!1;var c=Xo(s);if(c===null)return!0;var h=$t.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&_l.call(h)==zd}var Qf=fd?Sn(fd):gO;function vD(s){return uv(s)&&s>=-X&&s<=X}var pv=sl?Sn(sl):_O;function Gd(s){return typeof s=="string"||!vt(s)&&$n(s)&&Xi(s)==Er}function xr(s){return typeof s=="symbol"||$n(s)&&Xi(s)==Ar}var zl=md?Sn(md):vO;function yD(s){return s===e}function CD(s){return $n(s)&&Vi(s)==ni}function xD(s){return $n(s)&&Xi(s)==bi}var zD=Ld(Sf),bD=Ld(function(s,c){return s<=c});function fv(s){if(!s)return[];if(sr(s))return Gd(s)?Li(s):ar(s);if(Oa&&s[Oa])return dl(s[Oa]());var c=Vi(s),h=c==pe?jc:c==ui?or:bl;return h(s)}function aa(s){if(!s)return s===0?s:0;if(s=jr(s),s===Xe||s===-Xe){var c=s<0?-1:1;return c*pt}return s===s?s:0}function xt(s){var c=aa(s),h=c%1;return c===c?h?c-h:c:0}function mv(s){return s?bs(xt(s),0,He):0}function jr(s){if(typeof s=="number")return s;if(xr(s))return be;if(Nn(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=Nn(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=yd(s);var h=Up.test(s);return h||Gp.test(s)?ef(s.slice(2),h?2:8):ed.test(s)?be:+s}function gv(s){return To(s,lr(s))}function SD(s){return s?bs(xt(s),-X,X):s===0?s:0}function nn(s){return s==null?"":Cr(s)}var wD=yl(function(s,c){if(iu(c)||sr(c)){To(c,Ti(c),s);return}for(var h in c)$t.call(c,h)&&Kc(s,h,c[h])}),_v=yl(function(s,c){To(c,lr(c),s)}),Yd=yl(function(s,c,h,g){To(c,lr(c),s,g)}),TD=yl(function(s,c,h,g){To(c,Ti(c),s,g)}),ID=ia(_f);function FD(s,c){var h=Ma(s);return c==null?h:Yg(h,c)}var OD=It(function(s,c){s=tn(s);var h=-1,g=c.length,x=g>2?c[2]:e;for(x&&Ji(c[0],c[1],x)&&(g=1);++h<g;)for(var I=c[h],P=lr(I),A=-1,$=P.length;++A<$;){var te=P[A],ne=s[te];(ne===e||ao(ne,Ia[te])&&!$t.call(s,te))&&(s[te]=I[te])}return s}),MD=It(function(s){return s.push(e,A_),Mn(vv,e,s)});function PD(s,c){return ls(s,et(c,3),wo)}function DD(s,c){return ls(s,et(c,3),yf)}function ED(s,c){return s==null?s:vf(s,et(c,3),lr)}function AD(s,c){return s==null?s:e_(s,et(c,3),lr)}function kD(s,c){return s&&wo(s,et(c,3))}function ND(s,c){return s&&yf(s,et(c,3))}function RD(s){return s==null?[]:Md(s,Ti(s))}function LD(s){return s==null?[]:Md(s,lr(s))}function Kf(s,c,h){var g=s==null?e:Ss(s,c);return g===e?h:g}function BD(s,c){return s!=null&&R_(s,c,lO)}function Xf(s,c){return s!=null&&R_(s,c,cO)}var VD=O_(function(s,c,h){c!=null&&typeof c.toString!="function"&&(c=ps.call(c)),s[c]=h},em(cr)),$D=O_(function(s,c,h){c!=null&&typeof c.toString!="function"&&(c=ps.call(c)),$t.call(s,c)?s[c].push(h):s[c]=[h]},et),HD=It(Jc);function Ti(s){return sr(s)?Zg(s):bf(s)}function lr(s){return sr(s)?Zg(s,!0):yO(s)}function qD(s,c){var h={};return c=et(c,3),wo(s,function(g,x,I){ta(h,c(g,x,I),g)}),h}function jD(s,c){var h={};return c=et(c,3),wo(s,function(g,x,I){ta(h,x,c(g,x,I))}),h}var WD=yl(function(s,c,h){Pd(s,c,h)}),vv=yl(function(s,c,h,g){Pd(s,c,h,g)}),UD=ia(function(s,c){var h={};if(s==null)return h;var g=!1;c=un(c,function(I){return I=Ea(I,s),g||(g=I.length>1),I}),To(s,Rf(s),h),g&&(h=$r(h,_|O|F,VO));for(var x=c.length;x--;)Of(h,c[x]);return h});function ZD(s,c){return yv(s,Ud(et(c)))}var GD=ia(function(s,c){return s==null?{}:xO(s,c)});function yv(s,c){if(s==null)return{};var h=un(Rf(s),function(g){return[g]});return c=et(c),u_(s,h,function(g,x){return c(g,x[0])})}function YD(s,c,h){c=Ea(c,s);var g=-1,x=c.length;for(x||(x=1,s=e);++g<x;){var I=s==null?e:s[Io(c[g])];I===e&&(g=x,I=h),s=oa(I)?I.call(s):I}return s}function QD(s,c,h){return s==null?s:tu(s,c,h)}function KD(s,c,h,g){return g=typeof g=="function"?g:e,s==null?s:tu(s,c,h,g)}var Cv=D_(Ti),xv=D_(lr);function XD(s,c,h){var g=vt(s),x=g||ka(s)||zl(s);if(c=et(c,4),h==null){var I=s&&s.constructor;x?h=g?new I:[]:Nn(s)?h=oa(I)?Ma(Xo(s)):{}:h={}}return(x?Qi:wo)(s,function(P,A,$){return c(h,P,A,$)}),h}function JD(s,c){return s==null?!0:Of(s,c)}function eE(s,c,h){return s==null?s:m_(s,c,Df(h))}function tE(s,c,h,g){return g=typeof g=="function"?g:e,s==null?s:m_(s,c,Df(h),g)}function bl(s){return s==null?[]:Co(s,Ti(s))}function nE(s){return s==null?[]:Co(s,lr(s))}function iE(s,c,h){return h===e&&(h=c,c=e),h!==e&&(h=jr(h),h=h===h?h:0),c!==e&&(c=jr(c),c=c===c?c:0),bs(jr(s),c,h)}function rE(s,c,h){return c=aa(c),h===e?(h=c,c=0):h=aa(h),s=jr(s),uO(s,c,h)}function oE(s,c,h){if(h&&typeof h!="boolean"&&Ji(s,c,h)&&(c=h=e),h===e&&(typeof c=="boolean"?(h=c,c=e):typeof s=="boolean"&&(h=s,s=e)),s===e&&c===e?(s=0,c=1):(s=aa(s),c===e?(c=s,s=0):c=aa(c)),s>c){var g=s;s=c,c=g}if(h||s%1||c%1){var x=G();return b(s+x*(c-s+Pc("1e-"+((x+"").length-1))),c)}return Tf(s,c)}var aE=Cl(function(s,c,h){return c=c.toLowerCase(),s+(h?zv(c):c)});function zv(s){return Jf(nn(s).toLowerCase())}function bv(s){return s=nn(s),s&&s.replace(td,of).replace(ld,"")}function sE(s,c,h){s=nn(s),c=Cr(c);var g=s.length;h=h===e?g:bs(xt(h),0,g);var x=h;return h-=c.length,h>=0&&s.slice(h,x)==c}function lE(s){return s=nn(s),s&&fi.test(s)?s.replace(Zn,ds):s}function cE(s){return s=nn(s),s&&Wp.test(s)?s.replace(zc,"\\$&"):s}var uE=Cl(function(s,c,h){return s+(h?"-":"")+c.toLowerCase()}),dE=Cl(function(s,c,h){return s+(h?" ":"")+c.toLowerCase()}),hE=T_("toLowerCase");function pE(s,c,h){s=nn(s),c=xt(c);var g=c?Ri(s):0;if(!c||g>=c)return s;var x=(c-g)/2;return Rd(vs(x),h)+s+Rd(_s(x),h)}function fE(s,c,h){s=nn(s),c=xt(c);var g=c?Ri(s):0;return c&&g<c?s+Rd(c-g,h):s}function mE(s,c,h){s=nn(s),c=xt(c);var g=c?Ri(s):0;return c&&g<c?Rd(c-g,h)+s:s}function gE(s,c,h){return h||c==null?c=0:c&&(c=+c),j(nn(s).replace(bc,""),c||0)}function _E(s,c,h){return(h?Ji(s,c,h):c===e)?c=1:c=xt(c),If(nn(s),c)}function vE(){var s=arguments,c=nn(s[0]);return s.length<3?c:c.replace(s[1],s[2])}var yE=Cl(function(s,c,h){return s+(h?"_":"")+c.toLowerCase()});function CE(s,c,h){return h&&typeof h!="number"&&Ji(s,c,h)&&(c=h=e),h=h===e?He:h>>>0,h?(s=nn(s),s&&(typeof c=="string"||c!=null&&!Qf(c))&&(c=Cr(c),!c&&Sa(s))?Aa(Li(s),0,h):s.split(c,h)):[]}var xE=Cl(function(s,c,h){return s+(h?" ":"")+Jf(c)});function zE(s,c,h){return s=nn(s),h=h==null?0:bs(xt(h),0,s.length),c=Cr(c),s.slice(h,h+c.length)==c}function bE(s,c,h){var g=T.templateSettings;h&&Ji(s,c,h)&&(c=e),s=nn(s),c=Yd({},c,g,E_);var x=Yd({},c.imports,g.imports,E_),I=Ti(x),P=Co(x,I),A,$,te=0,ne=c.interpolate||Qs,ae="__p += '",Ce=Gc((c.escape||Qs).source+"|"+ne.source+"|"+(ne===oi?Ju:Qs).source+"|"+(c.evaluate||Qs).source+"|$","g"),Ne="//# sourceURL="+($t.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++as+"]")+`
`;s.replace(Ce,function(it,Dt,Ht,zr,er,br){return Ht||(Ht=zr),ae+=s.slice(te,br).replace(Ks,xd),Dt&&(A=!0,ae+=`' +
__e(`+Dt+`) +
'`),er&&($=!0,ae+=`';
`+er+`;
__p += '`),Ht&&(ae+=`' +
((__t = (`+Ht+`)) == null ? '' : __t) +
'`),te=br+it.length,it}),ae+=`';
`;var nt=$t.call(c,"variable")&&c.variable;if(!nt)ae=`with (obj) {
`+ae+`
}
`;else if(Xu.test(nt))throw new ut(a);ae=($?ae.replace(ii,""):ae).replace(hi,"$1").replace(ri,"$1;"),ae="function("+(nt||"obj")+`) {
`+(nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var bt=wv(function(){return Zt(I,Ne+"return "+ae).apply(e,P)});if(bt.source=ae,Yf(bt))throw bt;return bt}function SE(s){return nn(s).toLowerCase()}function wE(s){return nn(s).toUpperCase()}function TE(s,c,h){if(s=nn(s),s&&(h||c===e))return yd(s);if(!s||!(c=Cr(c)))return s;var g=Li(s),x=Li(c),I=Br(g,x),P=Cd(g,x)+1;return Aa(g,I,P).join("")}function IE(s,c,h){if(s=nn(s),s&&(h||c===e))return s.slice(0,Wc(s)+1);if(!s||!(c=Cr(c)))return s;var g=Li(s),x=Cd(g,Li(c))+1;return Aa(g,0,x).join("")}function FE(s,c,h){if(s=nn(s),s&&(h||c===e))return s.replace(bc,"");if(!s||!(c=Cr(c)))return s;var g=Li(s),x=Br(g,Li(c));return Aa(g,x).join("")}function OE(s,c){var h=sn,g=Z;if(Nn(c)){var x="separator"in c?c.separator:x;h="length"in c?xt(c.length):h,g="omission"in c?Cr(c.omission):g}s=nn(s);var I=s.length;if(Sa(s)){var P=Li(s);I=P.length}if(h>=I)return s;var A=h-Ri(g);if(A<1)return g;var $=P?Aa(P,0,A).join(""):s.slice(0,A);if(x===e)return $+g;if(P&&(A+=$.length-A),Qf(x)){if(s.slice(A).search(x)){var te,ne=$;for(x.global||(x=Gc(x.source,nn(Uo.exec(x))+"g")),x.lastIndex=0;te=x.exec(ne);)var ae=te.index;$=$.slice(0,ae===e?A:ae)}}else if(s.indexOf(Cr(x),A)!=A){var Ce=$.lastIndexOf(x);Ce>-1&&($=$.slice(0,Ce))}return $+g}function ME(s){return s=nn(s),s&&pi.test(s)?s.replace(Un,Uc):s}var PE=Cl(function(s,c,h){return s+(h?" ":"")+c.toUpperCase()}),Jf=T_("toUpperCase");function Sv(s,c,h){return s=nn(s),c=h?e:c,c===e?xo(s)?fl(s):_d(s):s.match(c)||[]}var wv=It(function(s,c){try{return Mn(s,e,c)}catch(h){return Yf(h)?h:new ut(h)}}),DE=ia(function(s,c){return Qi(c,function(h){h=Io(h),ta(s,h,Zf(s[h],s))}),s});function EE(s){var c=s==null?0:s.length,h=et();return s=c?un(s,function(g){if(typeof g[1]!="function")throw new Ei(r);return[h(g[0]),g[1]]}):[],It(function(g){for(var x=-1;++x<c;){var I=s[x];if(Mn(I[0],this,g))return Mn(I[1],this,g)}})}function AE(s){return oO($r(s,_))}function em(s){return function(){return s}}function kE(s,c){return s==null||s!==s?c:s}var NE=F_(),RE=F_(!0);function cr(s){return s}function tm(s){return r_(typeof s=="function"?s:$r(s,_))}function LE(s){return a_($r(s,_))}function BE(s,c){return s_(s,$r(c,_))}var VE=It(function(s,c){return function(h){return Jc(h,s,c)}}),$E=It(function(s,c){return function(h){return Jc(s,h,c)}});function nm(s,c,h){var g=Ti(c),x=Md(c,g);h==null&&!(Nn(c)&&(x.length||!g.length))&&(h=c,c=s,s=this,x=Md(c,Ti(c)));var I=!(Nn(h)&&"chain"in h)||!!h.chain,P=oa(s);return Qi(x,function(A){var $=c[A];s[A]=$,P&&(s.prototype[A]=function(){var te=this.__chain__;if(I||te){var ne=s(this.__wrapped__),ae=ne.__actions__=ar(this.__actions__);return ae.push({func:$,args:arguments,thisArg:s}),ne.__chain__=te,ne}return $.apply(s,no([this.value()],arguments))})}),s}function HE(){return ai._===this&&(ai._=cf),this}function im(){}function qE(s){return s=xt(s),It(function(c){return l_(c,s)})}var jE=Af(un),WE=Af(Nc),UE=Af(ss);function Tv(s){return $f(s)?ll(Io(s)):zO(s)}function ZE(s){return function(c){return s==null?e:Ss(s,c)}}var GE=M_(),YE=M_(!0);function rm(){return[]}function om(){return!1}function QE(){return{}}function KE(){return""}function XE(){return!0}function JE(s,c){if(s=xt(s),s<1||s>X)return[];var h=He,g=b(s,He);c=et(c),s-=He;for(var x=qc(g,c);++h<s;)c(h);return x}function eA(s){return vt(s)?un(s,Io):xr(s)?[s]:ar(U_(nn(s)))}function tA(s){var c=++lf;return nn(s)+c}var nA=Nd(function(s,c){return s+c},0),iA=kf("ceil"),rA=Nd(function(s,c){return s/c},1),oA=kf("floor");function aA(s){return s&&s.length?Od(s,cr,Cf):e}function sA(s,c){return s&&s.length?Od(s,et(c,2),Cf):e}function lA(s){return Bc(s,cr)}function cA(s,c){return Bc(s,et(c,2))}function uA(s){return s&&s.length?Od(s,cr,Sf):e}function dA(s,c){return s&&s.length?Od(s,et(c,2),Sf):e}var hA=Nd(function(s,c){return s*c},1),pA=kf("round"),fA=Nd(function(s,c){return s-c},0);function mA(s){return s&&s.length?Hc(s,cr):0}function gA(s,c){return s&&s.length?Hc(s,et(c,2)):0}return T.after=LP,T.ary=iv,T.assign=wD,T.assignIn=_v,T.assignInWith=Yd,T.assignWith=TD,T.at=ID,T.before=rv,T.bind=Zf,T.bindAll=DE,T.bindKey=ov,T.castArray=QP,T.chain=ev,T.chunk=oM,T.compact=aM,T.concat=sM,T.cond=EE,T.conforms=AE,T.constant=em,T.countBy=mP,T.create=FD,T.curry=av,T.curryRight=sv,T.debounce=lv,T.defaults=OD,T.defaultsDeep=MD,T.defer=BP,T.delay=VP,T.difference=lM,T.differenceBy=cM,T.differenceWith=uM,T.drop=dM,T.dropRight=hM,T.dropRightWhile=pM,T.dropWhile=fM,T.fill=mM,T.filter=_P,T.flatMap=CP,T.flatMapDeep=xP,T.flatMapDepth=zP,T.flatten=Q_,T.flattenDeep=gM,T.flattenDepth=_M,T.flip=$P,T.flow=NE,T.flowRight=RE,T.fromPairs=vM,T.functions=RD,T.functionsIn=LD,T.groupBy=bP,T.initial=CM,T.intersection=xM,T.intersectionBy=zM,T.intersectionWith=bM,T.invert=VD,T.invertBy=$D,T.invokeMap=wP,T.iteratee=tm,T.keyBy=TP,T.keys=Ti,T.keysIn=lr,T.map=qd,T.mapKeys=qD,T.mapValues=jD,T.matches=LE,T.matchesProperty=BE,T.memoize=Wd,T.merge=WD,T.mergeWith=vv,T.method=VE,T.methodOf=$E,T.mixin=nm,T.negate=Ud,T.nthArg=qE,T.omit=UD,T.omitBy=ZD,T.once=HP,T.orderBy=IP,T.over=jE,T.overArgs=qP,T.overEvery=WE,T.overSome=UE,T.partial=Gf,T.partialRight=cv,T.partition=FP,T.pick=GD,T.pickBy=yv,T.property=Tv,T.propertyOf=ZE,T.pull=IM,T.pullAll=X_,T.pullAllBy=FM,T.pullAllWith=OM,T.pullAt=MM,T.range=GE,T.rangeRight=YE,T.rearg=jP,T.reject=PP,T.remove=PM,T.rest=WP,T.reverse=Wf,T.sampleSize=EP,T.set=QD,T.setWith=KD,T.shuffle=AP,T.slice=DM,T.sortBy=RP,T.sortedUniq=BM,T.sortedUniqBy=VM,T.split=CE,T.spread=UP,T.tail=$M,T.take=HM,T.takeRight=qM,T.takeRightWhile=jM,T.takeWhile=WM,T.tap=aP,T.throttle=ZP,T.thru=Hd,T.toArray=fv,T.toPairs=Cv,T.toPairsIn=xv,T.toPath=eA,T.toPlainObject=gv,T.transform=XD,T.unary=GP,T.union=UM,T.unionBy=ZM,T.unionWith=GM,T.uniq=YM,T.uniqBy=QM,T.uniqWith=KM,T.unset=JD,T.unzip=Uf,T.unzipWith=J_,T.update=eE,T.updateWith=tE,T.values=bl,T.valuesIn=nE,T.without=XM,T.words=Sv,T.wrap=YP,T.xor=JM,T.xorBy=eP,T.xorWith=tP,T.zip=nP,T.zipObject=iP,T.zipObjectDeep=rP,T.zipWith=oP,T.entries=Cv,T.entriesIn=xv,T.extend=_v,T.extendWith=Yd,nm(T,T),T.add=nA,T.attempt=wv,T.camelCase=aE,T.capitalize=zv,T.ceil=iA,T.clamp=iE,T.clone=KP,T.cloneDeep=JP,T.cloneDeepWith=eD,T.cloneWith=XP,T.conformsTo=tD,T.deburr=bv,T.defaultTo=kE,T.divide=rA,T.endsWith=sE,T.eq=ao,T.escape=lE,T.escapeRegExp=cE,T.every=gP,T.find=vP,T.findIndex=G_,T.findKey=PD,T.findLast=yP,T.findLastIndex=Y_,T.findLastKey=DD,T.floor=oA,T.forEach=tv,T.forEachRight=nv,T.forIn=ED,T.forInRight=AD,T.forOwn=kD,T.forOwnRight=ND,T.get=Kf,T.gt=nD,T.gte=iD,T.has=BD,T.hasIn=Xf,T.head=K_,T.identity=cr,T.includes=SP,T.indexOf=yM,T.inRange=rE,T.invoke=HD,T.isArguments=Is,T.isArray=vt,T.isArrayBuffer=rD,T.isArrayLike=sr,T.isArrayLikeObject=Yn,T.isBoolean=oD,T.isBuffer=ka,T.isDate=aD,T.isElement=sD,T.isEmpty=lD,T.isEqual=cD,T.isEqualWith=uD,T.isError=Yf,T.isFinite=dD,T.isFunction=oa,T.isInteger=uv,T.isLength=Zd,T.isMap=dv,T.isMatch=hD,T.isMatchWith=pD,T.isNaN=fD,T.isNative=mD,T.isNil=_D,T.isNull=gD,T.isNumber=hv,T.isObject=Nn,T.isObjectLike=$n,T.isPlainObject=ou,T.isRegExp=Qf,T.isSafeInteger=vD,T.isSet=pv,T.isString=Gd,T.isSymbol=xr,T.isTypedArray=zl,T.isUndefined=yD,T.isWeakMap=CD,T.isWeakSet=xD,T.join=SM,T.kebabCase=uE,T.last=qr,T.lastIndexOf=wM,T.lowerCase=dE,T.lowerFirst=hE,T.lt=zD,T.lte=bD,T.max=aA,T.maxBy=sA,T.mean=lA,T.meanBy=cA,T.min=uA,T.minBy=dA,T.stubArray=rm,T.stubFalse=om,T.stubObject=QE,T.stubString=KE,T.stubTrue=XE,T.multiply=hA,T.nth=TM,T.noConflict=HE,T.noop=im,T.now=jd,T.pad=pE,T.padEnd=fE,T.padStart=mE,T.parseInt=gE,T.random=oE,T.reduce=OP,T.reduceRight=MP,T.repeat=_E,T.replace=vE,T.result=YD,T.round=pA,T.runInContext=R,T.sample=DP,T.size=kP,T.snakeCase=yE,T.some=NP,T.sortedIndex=EM,T.sortedIndexBy=AM,T.sortedIndexOf=kM,T.sortedLastIndex=NM,T.sortedLastIndexBy=RM,T.sortedLastIndexOf=LM,T.startCase=xE,T.startsWith=zE,T.subtract=fA,T.sum=mA,T.sumBy=gA,T.template=bE,T.times=JE,T.toFinite=aa,T.toInteger=xt,T.toLength=mv,T.toLower=SE,T.toNumber=jr,T.toSafeInteger=SD,T.toString=nn,T.toUpper=wE,T.trim=TE,T.trimEnd=IE,T.trimStart=FE,T.truncate=OE,T.unescape=ME,T.uniqueId=tA,T.upperCase=PE,T.upperFirst=Jf,T.each=tv,T.eachRight=nv,T.first=K_,nm(T,function(){var s={};return wo(T,function(c,h){$t.call(T.prototype,h)||(s[h]=c)}),s}(),{chain:!1}),T.VERSION=t,Qi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){T[s].placeholder=T}),Qi(["drop","take"],function(s,c){Tt.prototype[s]=function(h){h=h===e?1:v(xt(h),0);var g=this.__filtered__&&!c?new Tt(this):this.clone();return g.__filtered__?g.__takeCount__=b(h,g.__takeCount__):g.__views__.push({size:b(h,He),type:s+(g.__dir__<0?"Right":"")}),g},Tt.prototype[s+"Right"]=function(h){return this.reverse()[s](h).reverse()}}),Qi(["filter","map","takeWhile"],function(s,c){var h=c+1,g=h==ge||h==de;Tt.prototype[s]=function(x){var I=this.clone();return I.__iteratees__.push({iteratee:et(x,3),type:h}),I.__filtered__=I.__filtered__||g,I}}),Qi(["head","last"],function(s,c){var h="take"+(c?"Right":"");Tt.prototype[s]=function(){return this[h](1).value()[0]}}),Qi(["initial","tail"],function(s,c){var h="drop"+(c?"":"Right");Tt.prototype[s]=function(){return this.__filtered__?new Tt(this):this[h](1)}}),Tt.prototype.compact=function(){return this.filter(cr)},Tt.prototype.find=function(s){return this.filter(s).head()},Tt.prototype.findLast=function(s){return this.reverse().find(s)},Tt.prototype.invokeMap=It(function(s,c){return typeof s=="function"?new Tt(this):this.map(function(h){return Jc(h,s,c)})}),Tt.prototype.reject=function(s){return this.filter(Ud(et(s)))},Tt.prototype.slice=function(s,c){s=xt(s);var h=this;return h.__filtered__&&(s>0||c<0)?new Tt(h):(s<0?h=h.takeRight(-s):s&&(h=h.drop(s)),c!==e&&(c=xt(c),h=c<0?h.dropRight(-c):h.take(c-s)),h)},Tt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Tt.prototype.toArray=function(){return this.take(He)},wo(Tt.prototype,function(s,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),g=/^(?:head|last)$/.test(c),x=T[g?"take"+(c=="last"?"Right":""):c],I=g||/^find/.test(c);x&&(T.prototype[c]=function(){var P=this.__wrapped__,A=g?[1]:arguments,$=P instanceof Tt,te=A[0],ne=$||vt(P),ae=function(Dt){var Ht=x.apply(T,no([Dt],A));return g&&Ce?Ht[0]:Ht};ne&&h&&typeof te=="function"&&te.length!=1&&($=ne=!1);var Ce=this.__chain__,Ne=!!this.__actions__.length,nt=I&&!Ce,bt=$&&!Ne;if(!I&&ne){P=bt?P:new Tt(this);var it=s.apply(P,A);return it.__actions__.push({func:Hd,args:[ae],thisArg:e}),new Bi(it,Ce)}return nt&&bt?s.apply(this,A):(it=this.thru(ae),nt?g?it.value()[0]:it.value():it)})}),Qi(["pop","push","shift","sort","splice","unshift"],function(s){var c=ml[s],h=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",g=/^(?:pop|shift)$/.test(s);T.prototype[s]=function(){var x=arguments;if(g&&!this.__chain__){var I=this.value();return c.apply(vt(I)?I:[],x)}return this[h](function(P){return c.apply(vt(P)?P:[],x)})}}),wo(Tt.prototype,function(s,c){var h=T[c];if(h){var g=h.name+"";$t.call(yr,g)||(yr[g]=[]),yr[g].push({name:c,func:h})}}),yr[kd(e,se).name]=[{name:"wrapper",func:e}],Tt.prototype.clone=mf,Tt.prototype.reverse=PF,Tt.prototype.value=DF,T.prototype.at=sP,T.prototype.chain=lP,T.prototype.commit=cP,T.prototype.next=uP,T.prototype.plant=hP,T.prototype.reverse=pP,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=fP,T.prototype.first=T.prototype.head,Oa&&(T.prototype[Oa]=dP),T},vr=Ta();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ai._=vr,define(function(){return vr})):_r?((_r.exports=vr)._=vr,Yi._=vr):ai._=vr}).call(pc)});var $2=E((yre,dp)=>{"use strict";(function(){"use strict";var e="input is invalid type",t="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA512_NO_WINDOW&&(i=!1);var r=!i&&typeof self=="object",a=!n.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=global:r&&(n=self);var u=!n.JS_SHA512_NO_COMMON_JS&&typeof dp=="object"&&dp.exports,p=typeof define=="function"&&define.amd,m=!n.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",_="0123456789abcdef".split(""),O=[-2147483648,8388608,32768,128],F=[24,16,8,0],N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],U=["hex","array","digest","arrayBuffer"],q=[],se=Array.isArray;(n.JS_SHA512_NO_NODE_JS||!se)&&(se=function(Z){return Object.prototype.toString.call(Z)==="[object Array]"});var ce=ArrayBuffer.isView;m&&(n.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ce)&&(ce=function(Z){return typeof Z=="object"&&Z.buffer&&Z.buffer.constructor===ArrayBuffer});var we=function(Z){var ue=typeof Z;if(ue==="string")return[Z,!0];if(ue!=="object"||Z===null)throw new Error(e);if(m&&Z.constructor===ArrayBuffer)return[new Uint8Array(Z),!1];if(!se(Z)&&!ce(Z))throw new Error(e);return[Z,!1]},tt=function(Z,ue){return function(Me){return new ke(ue,!0).update(Me)[Z]()}},st=function(Z){var ue=tt("hex",Z);ue.create=function(){return new ke(Z)},ue.update=function(ct){return ue.create().update(ct)};for(var Me=0;Me<U.length;++Me){var ge=U[Me];ue[ge]=tt(ge,Z)}return ue},Lt=function(Z,ue){return function(Me,ge){return new Pt(Me,ue,!0).update(ge)[Z]()}},mt=function(Z){var ue=Lt("hex",Z);ue.create=function(ct){return new Pt(ct,Z)},ue.update=function(ct,de){return ue.create(ct).update(de)};for(var Me=0;Me<U.length;++Me){var ge=U[Me];ue[ge]=Lt(ge,Z)}return ue};function ke(Z,ue){ue?(q[0]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=q[16]=q[17]=q[18]=q[19]=q[20]=q[21]=q[22]=q[23]=q[24]=q[25]=q[26]=q[27]=q[28]=q[29]=q[30]=q[31]=q[32]=0,this.blocks=q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Z==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):Z==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):Z==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=Z,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}ke.prototype.update=function(Z){if(this.finalized)throw new Error(t);var ue=we(Z);Z=ue[0];for(var Me=ue[1],ge,ct=0,de,Xe=Z.length,X=this.blocks;ct<Xe;){if(this.hashed&&(this.hashed=!1,X[0]=this.block,this.block=X[1]=X[2]=X[3]=X[4]=X[5]=X[6]=X[7]=X[8]=X[9]=X[10]=X[11]=X[12]=X[13]=X[14]=X[15]=X[16]=X[17]=X[18]=X[19]=X[20]=X[21]=X[22]=X[23]=X[24]=X[25]=X[26]=X[27]=X[28]=X[29]=X[30]=X[31]=X[32]=0),Me)for(de=this.start;ct<Xe&&de<128;++ct)ge=Z.charCodeAt(ct),ge<128?X[de>>>2]|=ge<<F[de++&3]:ge<2048?(X[de>>>2]|=(192|ge>>>6)<<F[de++&3],X[de>>>2]|=(128|ge&63)<<F[de++&3]):ge<55296||ge>=57344?(X[de>>>2]|=(224|ge>>>12)<<F[de++&3],X[de>>>2]|=(128|ge>>>6&63)<<F[de++&3],X[de>>>2]|=(128|ge&63)<<F[de++&3]):(ge=65536+((ge&1023)<<10|Z.charCodeAt(++ct)&1023),X[de>>>2]|=(240|ge>>>18)<<F[de++&3],X[de>>>2]|=(128|ge>>>12&63)<<F[de++&3],X[de>>>2]|=(128|ge>>>6&63)<<F[de++&3],X[de>>>2]|=(128|ge&63)<<F[de++&3]);else for(de=this.start;ct<Xe&&de<128;++ct)X[de>>>2]|=Z[ct]<<F[de++&3];this.lastByteIndex=de,this.bytes+=de-this.start,de>=128?(this.block=X[32],this.start=de-128,this.hash(),this.hashed=!0):this.start=de}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},ke.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Z=this.blocks,ue=this.lastByteIndex;Z[32]=this.block,Z[ue>>>2]|=O[ue&3],this.block=Z[32],ue>=112&&(this.hashed||this.hash(),Z[0]=this.block,Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=Z[16]=Z[17]=Z[18]=Z[19]=Z[20]=Z[21]=Z[22]=Z[23]=Z[24]=Z[25]=Z[26]=Z[27]=Z[28]=Z[29]=Z[30]=Z[31]=Z[32]=0),Z[30]=this.hBytes<<3|this.bytes>>>29,Z[31]=this.bytes<<3,this.hash()}},ke.prototype.hash=function(){var Z=this.h0h,ue=this.h0l,Me=this.h1h,ge=this.h1l,ct=this.h2h,de=this.h2l,Xe=this.h3h,X=this.h3l,pt=this.h4h,be=this.h4l,He=this.h5h,zt=this.h5l,Bt=this.h6h,yt=this.h6l,Ye=this.h7h,qe=this.h7l,Mt=this.blocks,je,Fn,Wn,On,pn,_e,pe,me,Ze,Di,Jr,ts,Dr,ui,Er,Ar,_a,ni,bi,Be,We,Gt,jt,di,Si;for(je=32;je<160;je+=2)Be=Mt[je-30],We=Mt[je-29],Fn=(Be>>>1|We<<31)^(Be>>>8|We<<24)^Be>>>7,Wn=(We>>>1|Be<<31)^(We>>>8|Be<<24)^(We>>>7|Be<<25),Be=Mt[je-4],We=Mt[je-3],On=(Be>>>19|We<<13)^(We>>>29|Be<<3)^Be>>>6,pn=(We>>>19|Be<<13)^(Be>>>29|We<<3)^(We>>>6|Be<<26),Be=Mt[je-32],We=Mt[je-31],Gt=Mt[je-14],jt=Mt[je-13],_e=(jt&65535)+(We&65535)+(Wn&65535)+(pn&65535),pe=(jt>>>16)+(We>>>16)+(Wn>>>16)+(pn>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(Fn&65535)+(On&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(Fn>>>16)+(On>>>16)+(me>>>16),Mt[je]=Ze<<16|me&65535,Mt[je+1]=pe<<16|_e&65535;var Ln=Z,En=ue,An=Me,Bn=ge,fn=ct,ii=de,hi=Xe,ri=X,Un=pt,Zn=be,pi=He,fi=zt,mi=Bt,gi=yt,oi=Ye,_i=qe;for(Ar=An&fn,_a=Bn&ii,je=0;je<160;je+=8)Fn=(Ln>>>28|En<<4)^(En>>>2|Ln<<30)^(En>>>7|Ln<<25),Wn=(En>>>28|Ln<<4)^(Ln>>>2|En<<30)^(Ln>>>7|En<<25),On=(Un>>>14|Zn<<18)^(Un>>>18|Zn<<14)^(Zn>>>9|Un<<23),pn=(Zn>>>14|Un<<18)^(Zn>>>18|Un<<14)^(Un>>>9|Zn<<23),Di=Ln&An,Jr=En&Bn,ni=Di^Ln&fn^Ar,bi=Jr^En&ii^_a,di=Un&pi^~Un&mi,Si=Zn&fi^~Zn&gi,Be=Mt[je],We=Mt[je+1],Gt=N[je],jt=N[je+1],_e=(jt&65535)+(We&65535)+(Si&65535)+(pn&65535)+(_i&65535),pe=(jt>>>16)+(We>>>16)+(Si>>>16)+(pn>>>16)+(_i>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(di&65535)+(On&65535)+(oi&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(di>>>16)+(On>>>16)+(oi>>>16)+(me>>>16),Be=Ze<<16|me&65535,We=pe<<16|_e&65535,_e=(bi&65535)+(Wn&65535),pe=(bi>>>16)+(Wn>>>16)+(_e>>>16),me=(ni&65535)+(Fn&65535)+(pe>>>16),Ze=(ni>>>16)+(Fn>>>16)+(me>>>16),Gt=Ze<<16|me&65535,jt=pe<<16|_e&65535,_e=(ri&65535)+(We&65535),pe=(ri>>>16)+(We>>>16)+(_e>>>16),me=(hi&65535)+(Be&65535)+(pe>>>16),Ze=(hi>>>16)+(Be>>>16)+(me>>>16),oi=Ze<<16|me&65535,_i=pe<<16|_e&65535,_e=(jt&65535)+(We&65535),pe=(jt>>>16)+(We>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(me>>>16),hi=Ze<<16|me&65535,ri=pe<<16|_e&65535,Fn=(hi>>>28|ri<<4)^(ri>>>2|hi<<30)^(ri>>>7|hi<<25),Wn=(ri>>>28|hi<<4)^(hi>>>2|ri<<30)^(hi>>>7|ri<<25),On=(oi>>>14|_i<<18)^(oi>>>18|_i<<14)^(_i>>>9|oi<<23),pn=(_i>>>14|oi<<18)^(_i>>>18|oi<<14)^(oi>>>9|_i<<23),ts=hi&Ln,Dr=ri&En,ni=ts^hi&An^Di,bi=Dr^ri&Bn^Jr,di=oi&Un^~oi&pi,Si=_i&Zn^~_i&fi,Be=Mt[je+2],We=Mt[je+3],Gt=N[je+2],jt=N[je+3],_e=(jt&65535)+(We&65535)+(Si&65535)+(pn&65535)+(gi&65535),pe=(jt>>>16)+(We>>>16)+(Si>>>16)+(pn>>>16)+(gi>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(di&65535)+(On&65535)+(mi&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(di>>>16)+(On>>>16)+(mi>>>16)+(me>>>16),Be=Ze<<16|me&65535,We=pe<<16|_e&65535,_e=(bi&65535)+(Wn&65535),pe=(bi>>>16)+(Wn>>>16)+(_e>>>16),me=(ni&65535)+(Fn&65535)+(pe>>>16),Ze=(ni>>>16)+(Fn>>>16)+(me>>>16),Gt=Ze<<16|me&65535,jt=pe<<16|_e&65535,_e=(ii&65535)+(We&65535),pe=(ii>>>16)+(We>>>16)+(_e>>>16),me=(fn&65535)+(Be&65535)+(pe>>>16),Ze=(fn>>>16)+(Be>>>16)+(me>>>16),mi=Ze<<16|me&65535,gi=pe<<16|_e&65535,_e=(jt&65535)+(We&65535),pe=(jt>>>16)+(We>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(me>>>16),fn=Ze<<16|me&65535,ii=pe<<16|_e&65535,Fn=(fn>>>28|ii<<4)^(ii>>>2|fn<<30)^(ii>>>7|fn<<25),Wn=(ii>>>28|fn<<4)^(fn>>>2|ii<<30)^(fn>>>7|ii<<25),On=(mi>>>14|gi<<18)^(mi>>>18|gi<<14)^(gi>>>9|mi<<23),pn=(gi>>>14|mi<<18)^(gi>>>18|mi<<14)^(mi>>>9|gi<<23),ui=fn&hi,Er=ii&ri,ni=ui^fn&Ln^ts,bi=Er^ii&En^Dr,di=mi&oi^~mi&Un,Si=gi&_i^~gi&Zn,Be=Mt[je+4],We=Mt[je+5],Gt=N[je+4],jt=N[je+5],_e=(jt&65535)+(We&65535)+(Si&65535)+(pn&65535)+(fi&65535),pe=(jt>>>16)+(We>>>16)+(Si>>>16)+(pn>>>16)+(fi>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(di&65535)+(On&65535)+(pi&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(di>>>16)+(On>>>16)+(pi>>>16)+(me>>>16),Be=Ze<<16|me&65535,We=pe<<16|_e&65535,_e=(bi&65535)+(Wn&65535),pe=(bi>>>16)+(Wn>>>16)+(_e>>>16),me=(ni&65535)+(Fn&65535)+(pe>>>16),Ze=(ni>>>16)+(Fn>>>16)+(me>>>16),Gt=Ze<<16|me&65535,jt=pe<<16|_e&65535,_e=(Bn&65535)+(We&65535),pe=(Bn>>>16)+(We>>>16)+(_e>>>16),me=(An&65535)+(Be&65535)+(pe>>>16),Ze=(An>>>16)+(Be>>>16)+(me>>>16),pi=Ze<<16|me&65535,fi=pe<<16|_e&65535,_e=(jt&65535)+(We&65535),pe=(jt>>>16)+(We>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(me>>>16),An=Ze<<16|me&65535,Bn=pe<<16|_e&65535,Fn=(An>>>28|Bn<<4)^(Bn>>>2|An<<30)^(Bn>>>7|An<<25),Wn=(Bn>>>28|An<<4)^(An>>>2|Bn<<30)^(An>>>7|Bn<<25),On=(pi>>>14|fi<<18)^(pi>>>18|fi<<14)^(fi>>>9|pi<<23),pn=(fi>>>14|pi<<18)^(fi>>>18|pi<<14)^(pi>>>9|fi<<23),Ar=An&fn,_a=Bn&ii,ni=Ar^An&hi^ui,bi=_a^Bn&ri^Er,di=pi&mi^~pi&oi,Si=fi&gi^~fi&_i,Be=Mt[je+6],We=Mt[je+7],Gt=N[je+6],jt=N[je+7],_e=(jt&65535)+(We&65535)+(Si&65535)+(pn&65535)+(Zn&65535),pe=(jt>>>16)+(We>>>16)+(Si>>>16)+(pn>>>16)+(Zn>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(di&65535)+(On&65535)+(Un&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(di>>>16)+(On>>>16)+(Un>>>16)+(me>>>16),Be=Ze<<16|me&65535,We=pe<<16|_e&65535,_e=(bi&65535)+(Wn&65535),pe=(bi>>>16)+(Wn>>>16)+(_e>>>16),me=(ni&65535)+(Fn&65535)+(pe>>>16),Ze=(ni>>>16)+(Fn>>>16)+(me>>>16),Gt=Ze<<16|me&65535,jt=pe<<16|_e&65535,_e=(En&65535)+(We&65535),pe=(En>>>16)+(We>>>16)+(_e>>>16),me=(Ln&65535)+(Be&65535)+(pe>>>16),Ze=(Ln>>>16)+(Be>>>16)+(me>>>16),Un=Ze<<16|me&65535,Zn=pe<<16|_e&65535,_e=(jt&65535)+(We&65535),pe=(jt>>>16)+(We>>>16)+(_e>>>16),me=(Gt&65535)+(Be&65535)+(pe>>>16),Ze=(Gt>>>16)+(Be>>>16)+(me>>>16),Ln=Ze<<16|me&65535,En=pe<<16|_e&65535;_e=(ue&65535)+(En&65535),pe=(ue>>>16)+(En>>>16)+(_e>>>16),me=(Z&65535)+(Ln&65535)+(pe>>>16),Ze=(Z>>>16)+(Ln>>>16)+(me>>>16),this.h0h=Ze<<16|me&65535,this.h0l=pe<<16|_e&65535,_e=(ge&65535)+(Bn&65535),pe=(ge>>>16)+(Bn>>>16)+(_e>>>16),me=(Me&65535)+(An&65535)+(pe>>>16),Ze=(Me>>>16)+(An>>>16)+(me>>>16),this.h1h=Ze<<16|me&65535,this.h1l=pe<<16|_e&65535,_e=(de&65535)+(ii&65535),pe=(de>>>16)+(ii>>>16)+(_e>>>16),me=(ct&65535)+(fn&65535)+(pe>>>16),Ze=(ct>>>16)+(fn>>>16)+(me>>>16),this.h2h=Ze<<16|me&65535,this.h2l=pe<<16|_e&65535,_e=(X&65535)+(ri&65535),pe=(X>>>16)+(ri>>>16)+(_e>>>16),me=(Xe&65535)+(hi&65535)+(pe>>>16),Ze=(Xe>>>16)+(hi>>>16)+(me>>>16),this.h3h=Ze<<16|me&65535,this.h3l=pe<<16|_e&65535,_e=(be&65535)+(Zn&65535),pe=(be>>>16)+(Zn>>>16)+(_e>>>16),me=(pt&65535)+(Un&65535)+(pe>>>16),Ze=(pt>>>16)+(Un>>>16)+(me>>>16),this.h4h=Ze<<16|me&65535,this.h4l=pe<<16|_e&65535,_e=(zt&65535)+(fi&65535),pe=(zt>>>16)+(fi>>>16)+(_e>>>16),me=(He&65535)+(pi&65535)+(pe>>>16),Ze=(He>>>16)+(pi>>>16)+(me>>>16),this.h5h=Ze<<16|me&65535,this.h5l=pe<<16|_e&65535,_e=(yt&65535)+(gi&65535),pe=(yt>>>16)+(gi>>>16)+(_e>>>16),me=(Bt&65535)+(mi&65535)+(pe>>>16),Ze=(Bt>>>16)+(mi>>>16)+(me>>>16),this.h6h=Ze<<16|me&65535,this.h6l=pe<<16|_e&65535,_e=(qe&65535)+(_i&65535),pe=(qe>>>16)+(_i>>>16)+(_e>>>16),me=(Ye&65535)+(oi&65535)+(pe>>>16),Ze=(Ye>>>16)+(oi>>>16)+(me>>>16),this.h7h=Ze<<16|me&65535,this.h7l=pe<<16|_e&65535},ke.prototype.hex=function(){this.finalize();var Z=this.h0h,ue=this.h0l,Me=this.h1h,ge=this.h1l,ct=this.h2h,de=this.h2l,Xe=this.h3h,X=this.h3l,pt=this.h4h,be=this.h4l,He=this.h5h,zt=this.h5l,Bt=this.h6h,yt=this.h6l,Ye=this.h7h,qe=this.h7l,Mt=this.bits,je=_[Z>>>28&15]+_[Z>>>24&15]+_[Z>>>20&15]+_[Z>>>16&15]+_[Z>>>12&15]+_[Z>>>8&15]+_[Z>>>4&15]+_[Z&15]+_[ue>>>28&15]+_[ue>>>24&15]+_[ue>>>20&15]+_[ue>>>16&15]+_[ue>>>12&15]+_[ue>>>8&15]+_[ue>>>4&15]+_[ue&15]+_[Me>>>28&15]+_[Me>>>24&15]+_[Me>>>20&15]+_[Me>>>16&15]+_[Me>>>12&15]+_[Me>>>8&15]+_[Me>>>4&15]+_[Me&15]+_[ge>>>28&15]+_[ge>>>24&15]+_[ge>>>20&15]+_[ge>>>16&15]+_[ge>>>12&15]+_[ge>>>8&15]+_[ge>>>4&15]+_[ge&15]+_[ct>>>28&15]+_[ct>>>24&15]+_[ct>>>20&15]+_[ct>>>16&15]+_[ct>>>12&15]+_[ct>>>8&15]+_[ct>>>4&15]+_[ct&15]+_[de>>>28&15]+_[de>>>24&15]+_[de>>>20&15]+_[de>>>16&15]+_[de>>>12&15]+_[de>>>8&15]+_[de>>>4&15]+_[de&15]+_[Xe>>>28&15]+_[Xe>>>24&15]+_[Xe>>>20&15]+_[Xe>>>16&15]+_[Xe>>>12&15]+_[Xe>>>8&15]+_[Xe>>>4&15]+_[Xe&15];return Mt>=256&&(je+=_[X>>>28&15]+_[X>>>24&15]+_[X>>>20&15]+_[X>>>16&15]+_[X>>>12&15]+_[X>>>8&15]+_[X>>>4&15]+_[X&15]),Mt>=384&&(je+=_[pt>>>28&15]+_[pt>>>24&15]+_[pt>>>20&15]+_[pt>>>16&15]+_[pt>>>12&15]+_[pt>>>8&15]+_[pt>>>4&15]+_[pt&15]+_[be>>>28&15]+_[be>>>24&15]+_[be>>>20&15]+_[be>>>16&15]+_[be>>>12&15]+_[be>>>8&15]+_[be>>>4&15]+_[be&15]+_[He>>>28&15]+_[He>>>24&15]+_[He>>>20&15]+_[He>>>16&15]+_[He>>>12&15]+_[He>>>8&15]+_[He>>>4&15]+_[He&15]+_[zt>>>28&15]+_[zt>>>24&15]+_[zt>>>20&15]+_[zt>>>16&15]+_[zt>>>12&15]+_[zt>>>8&15]+_[zt>>>4&15]+_[zt&15]),Mt==512&&(je+=_[Bt>>>28&15]+_[Bt>>>24&15]+_[Bt>>>20&15]+_[Bt>>>16&15]+_[Bt>>>12&15]+_[Bt>>>8&15]+_[Bt>>>4&15]+_[Bt&15]+_[yt>>>28&15]+_[yt>>>24&15]+_[yt>>>20&15]+_[yt>>>16&15]+_[yt>>>12&15]+_[yt>>>8&15]+_[yt>>>4&15]+_[yt&15]+_[Ye>>>28&15]+_[Ye>>>24&15]+_[Ye>>>20&15]+_[Ye>>>16&15]+_[Ye>>>12&15]+_[Ye>>>8&15]+_[Ye>>>4&15]+_[Ye&15]+_[qe>>>28&15]+_[qe>>>24&15]+_[qe>>>20&15]+_[qe>>>16&15]+_[qe>>>12&15]+_[qe>>>8&15]+_[qe>>>4&15]+_[qe&15]),je},ke.prototype.toString=ke.prototype.hex,ke.prototype.digest=function(){this.finalize();var Z=this.h0h,ue=this.h0l,Me=this.h1h,ge=this.h1l,ct=this.h2h,de=this.h2l,Xe=this.h3h,X=this.h3l,pt=this.h4h,be=this.h4l,He=this.h5h,zt=this.h5l,Bt=this.h6h,yt=this.h6l,Ye=this.h7h,qe=this.h7l,Mt=this.bits,je=[Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,Me>>>24&255,Me>>>16&255,Me>>>8&255,Me&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge&255,ct>>>24&255,ct>>>16&255,ct>>>8&255,ct&255,de>>>24&255,de>>>16&255,de>>>8&255,de&255,Xe>>>24&255,Xe>>>16&255,Xe>>>8&255,Xe&255];return Mt>=256&&je.push(X>>>24&255,X>>>16&255,X>>>8&255,X&255),Mt>=384&&je.push(pt>>>24&255,pt>>>16&255,pt>>>8&255,pt&255,be>>>24&255,be>>>16&255,be>>>8&255,be&255,He>>>24&255,He>>>16&255,He>>>8&255,He&255,zt>>>24&255,zt>>>16&255,zt>>>8&255,zt&255),Mt==512&&je.push(Bt>>>24&255,Bt>>>16&255,Bt>>>8&255,Bt&255,yt>>>24&255,yt>>>16&255,yt>>>8&255,yt&255,Ye>>>24&255,Ye>>>16&255,Ye>>>8&255,Ye&255,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255),je},ke.prototype.array=ke.prototype.digest,ke.prototype.arrayBuffer=function(){this.finalize();var Z=this.bits,ue=new ArrayBuffer(Z/8),Me=new DataView(ue);return Me.setUint32(0,this.h0h),Me.setUint32(4,this.h0l),Me.setUint32(8,this.h1h),Me.setUint32(12,this.h1l),Me.setUint32(16,this.h2h),Me.setUint32(20,this.h2l),Me.setUint32(24,this.h3h),Z>=256&&Me.setUint32(28,this.h3l),Z>=384&&(Me.setUint32(32,this.h4h),Me.setUint32(36,this.h4l),Me.setUint32(40,this.h5h),Me.setUint32(44,this.h5l)),Z==512&&(Me.setUint32(48,this.h6h),Me.setUint32(52,this.h6l),Me.setUint32(56,this.h7h),Me.setUint32(60,this.h7l)),ue},ke.prototype.clone=function(){var Z=new ke(this.bits,!1);return this.copyTo(Z),Z},ke.prototype.copyTo=function(Z){var ue=0,Me=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(ue=0;ue<Me.length;++ue)Z[Me[ue]]=this[Me[ue]];for(ue=0;ue<this.blocks.length;++ue)Z.blocks[ue]=this.blocks[ue]};function Pt(Z,ue,Me){var ge,ct=we(Z);if(Z=ct[0],ct[1]){for(var de=[],Xe=Z.length,X=0,pt,ge=0;ge<Xe;++ge)pt=Z.charCodeAt(ge),pt<128?de[X++]=pt:pt<2048?(de[X++]=192|pt>>>6,de[X++]=128|pt&63):pt<55296||pt>=57344?(de[X++]=224|pt>>>12,de[X++]=128|pt>>>6&63,de[X++]=128|pt&63):(pt=65536+((pt&1023)<<10|Z.charCodeAt(++ge)&1023),de[X++]=240|pt>>>18,de[X++]=128|pt>>>12&63,de[X++]=128|pt>>>6&63,de[X++]=128|pt&63);Z=de}Z.length>128&&(Z=new ke(ue,!0).update(Z).array());for(var be=[],He=[],ge=0;ge<128;++ge){var zt=Z[ge]||0;be[ge]=92^zt,He[ge]=54^zt}ke.call(this,ue,Me),this.update(He),this.oKeyPad=be,this.inner=!0,this.sharedMemory=Me}Pt.prototype=new ke,Pt.prototype.finalize=function(){if(ke.prototype.finalize.call(this),this.inner){this.inner=!1;var Z=this.array();ke.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(Z),ke.prototype.finalize.call(this)}},Pt.prototype.clone=function(){var Z=new Pt([],this.bits,!1);this.copyTo(Z),Z.inner=this.inner;for(var ue=0;ue<this.oKeyPad.length;++ue)Z.oKeyPad[ue]=this.oKeyPad[ue];return Z};var sn=st(512);sn.sha512=sn,sn.sha384=st(384),sn.sha512_256=st(256),sn.sha512_224=st(224),sn.sha512.hmac=mt(512),sn.sha384.hmac=mt(384),sn.sha512_256.hmac=mt(256),sn.sha512_224.hmac=mt(224),u?dp.exports=sn:(n.sha512=sn.sha512,n.sha384=sn.sha384,n.sha512_256=sn.sha512_256,n.sha512_224=sn.sha512_224,p&&define(function(){return sn}))})()});var Ep=E((Dp,NI)=>{"use strict";(function(e,t){typeof Dp=="object"&&typeof NI<"u"?t(Dp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.leaflet={}))})(Dp,function(e){"use strict";var t="1.9.4";function i(o){var l,d,f,v;for(d=1,f=arguments.length;d<f;d++){v=arguments[d];for(l in v)o[l]=v[l]}return o}var n=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function r(o,l){var d=Array.prototype.slice;if(o.bind)return o.bind.apply(o,d.call(arguments,1));var f=d.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(d.call(arguments)):arguments)}}var a=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++a),o._leaflet_id}function p(o,l,d){var f,v,b,D;return D=function(){f=!1,v&&(b.apply(d,v),v=!1)},b=function(){f?v=arguments:(o.apply(d,arguments),setTimeout(D,l),f=!0)},b}function m(o,l,d){var f=l[1],v=l[0],b=f-v;return o===f&&d?o:((o-v)%b+b)%b+v}function _(){return!1}function O(o,l){if(l===!1)return o;var d=Math.pow(10,l===void 0?6:l);return Math.round(o*d)/d}function F(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function N(o){return F(o).split(/\s+/)}function U(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?n(o.options):{});for(var d in l)o.options[d]=l[d];return o.options}function q(o,l,d){var f=[];for(var v in o)f.push(encodeURIComponent(d?v.toUpperCase():v)+"="+encodeURIComponent(o[v]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var se=/\{ *([\w_ -]+) *\}/g;function ce(o,l){return o.replace(se,function(d,f){var v=l[f];if(v===void 0)throw new Error("No value provided for variable "+d);return typeof v=="function"&&(v=v(l)),v})}var we=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function tt(o,l){for(var d=0;d<o.length;d++)if(o[d]===l)return d;return-1}var st="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Lt(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var mt=0;function ke(o){var l=+new Date,d=Math.max(0,16-(l-mt));return mt=l+d,window.setTimeout(o,d)}var Pt=window.requestAnimationFrame||Lt("RequestAnimationFrame")||ke,sn=window.cancelAnimationFrame||Lt("CancelAnimationFrame")||Lt("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Z(o,l,d){if(d&&Pt===ke)o.call(l);else return Pt.call(window,r(o,l))}function ue(o){o&&sn.call(window,o)}var Me={__proto__:null,extend:i,create:n,bind:r,get lastId(){return a},stamp:u,throttle:p,wrapNum:m,falseFn:_,formatNum:O,trim:F,splitWords:N,setOptions:U,getParamString:q,template:ce,isArray:we,indexOf:tt,emptyImageUrl:st,requestFn:Pt,cancelFn:sn,requestAnimFrame:Z,cancelAnimFrame:ue};function ge(){}ge.extend=function(o){var l=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,f=n(d);f.constructor=l,l.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return o.statics&&i(l,o.statics),o.includes&&(ct(o.includes),i.apply(null,[f].concat(o.includes))),i(f,o),delete f.statics,delete f.includes,f.options&&(f.options=d.options?n(d.options):{},i(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,D=f._initHooks.length;b<D;b++)f._initHooks[b].call(this)}},l},ge.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},ge.mergeOptions=function(o){return i(this.prototype.options,o),this},ge.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),d=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ct(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=we(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(o,l,d){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=N(o);for(var v=0,b=o.length;v<b;v++)this._on(o[v],l,d)}return this},off:function(o,l,d){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=N(o);for(var v=arguments.length===1,b=0,D=o.length;b<D;b++)v?this._off(o[b]):this._off(o[b],l,d)}return this},_on:function(o,l,d,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,d)===!1){d===this&&(d=void 0);var v={fn:l,ctx:d};f&&(v.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(v)}},_off:function(o,l,d){var f,v,b;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,b=f.length;v<b;v++)f[v].fn=_;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var D=this._listens(o,l,d);if(D!==!1){var j=f[D];this._firingCount&&(j.fn=_,this._events[o]=f=f.slice()),f.splice(D,1)}}},fire:function(o,l,d){if(!this.listens(o,d))return this;var f=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[o];if(v){this._firingCount=this._firingCount+1||1;for(var b=0,D=v.length;b<D;b++){var j=v[b],G=j.fn;j.once&&this.off(o,G,j.ctx),G.call(j.ctx||this,f)}this._firingCount--}}return d&&this._propagateEvent(f),this},listens:function(o,l,d,f){typeof o!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(f=!!l,v=void 0,d=void 0);var b=this._events&&this._events[o];if(b&&b.length&&this._listens(o,v,d)!==!1)return!0;if(f){for(var D in this._eventParents)if(this._eventParents[D].listens(o,l,d,f))return!0}return!1},_listens:function(o,l,d){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;d===this&&(d=void 0);for(var v=0,b=f.length;v<b;v++)if(f[v].fn===l&&f[v].ctx===d)return v;return!1},once:function(o,l,d){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=N(o);for(var v=0,b=o.length;v<b;v++)this._on(o[v],l,d,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var Xe=ge.extend(de);function X(o,l,d){this.x=d?Math.round(o):o,this.y=d?Math.round(l):l}var pt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(o){return this.clone()._add(be(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(be(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new X(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new X(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pt(this.x),this.y=pt(this.y),this},distanceTo:function(o){o=be(o);var l=o.x-this.x,d=o.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(o){return o=be(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=be(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function be(o,l,d){return o instanceof X?o:we(o)?new X(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new X(o.x,o.y):new X(o,l,d)}function He(o,l){if(o)for(var d=l?[o,l]:o,f=0,v=d.length;f<v;f++)this.extend(d[f])}He.prototype={extend:function(o){var l,d;if(!o)return this;if(o instanceof X||typeof o[0]=="number"||"x"in o)l=d=be(o);else if(o=zt(o),l=o.min,d=o.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(o){return be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return be(this.min.x,this.max.y)},getTopRight:function(){return be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,d;return typeof o[0]=="number"||o instanceof X?o=be(o):o=zt(o),o instanceof He?(l=o.min,d=o.max):l=d=o,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(o){o=zt(o);var l=this.min,d=this.max,f=o.min,v=o.max,b=v.x>=l.x&&f.x<=d.x,D=v.y>=l.y&&f.y<=d.y;return b&&D},overlaps:function(o){o=zt(o);var l=this.min,d=this.max,f=o.min,v=o.max,b=v.x>l.x&&f.x<d.x,D=v.y>l.y&&f.y<d.y;return b&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,d=this.max,f=Math.abs(l.x-d.x)*o,v=Math.abs(l.y-d.y)*o;return zt(be(l.x-f,l.y-v),be(d.x+f,d.y+v))},equals:function(o){return o?(o=zt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function zt(o,l){return!o||o instanceof He?o:new He(o,l)}function Bt(o,l){if(o)for(var d=l?[o,l]:o,f=0,v=d.length;f<v;f++)this.extend(d[f])}Bt.prototype={extend:function(o){var l=this._southWest,d=this._northEast,f,v;if(o instanceof Ye)f=o,v=o;else if(o instanceof Bt){if(f=o._southWest,v=o._northEast,!f||!v)return this}else return o?this.extend(qe(o)||yt(o)):this;return!l&&!d?(this._southWest=new Ye(f.lat,f.lng),this._northEast=new Ye(v.lat,v.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),d.lat=Math.max(v.lat,d.lat),d.lng=Math.max(v.lng,d.lng)),this},pad:function(o){var l=this._southWest,d=this._northEast,f=Math.abs(l.lat-d.lat)*o,v=Math.abs(l.lng-d.lng)*o;return new Bt(new Ye(l.lat-f,l.lng-v),new Ye(d.lat+f,d.lng+v))},getCenter:function(){return new Ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ye||"lat"in o?o=qe(o):o=yt(o);var l=this._southWest,d=this._northEast,f,v;return o instanceof Bt?(f=o.getSouthWest(),v=o.getNorthEast()):f=v=o,f.lat>=l.lat&&v.lat<=d.lat&&f.lng>=l.lng&&v.lng<=d.lng},intersects:function(o){o=yt(o);var l=this._southWest,d=this._northEast,f=o.getSouthWest(),v=o.getNorthEast(),b=v.lat>=l.lat&&f.lat<=d.lat,D=v.lng>=l.lng&&f.lng<=d.lng;return b&&D},overlaps:function(o){o=yt(o);var l=this._southWest,d=this._northEast,f=o.getSouthWest(),v=o.getNorthEast(),b=v.lat>l.lat&&f.lat<d.lat,D=v.lng>l.lng&&f.lng<d.lng;return b&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=yt(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function yt(o,l){return o instanceof Bt?o:new Bt(o,l)}function Ye(o,l,d){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,d!==void 0&&(this.alt=+d)}Ye.prototype={equals:function(o,l){if(!o)return!1;o=qe(o);var d=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return d<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+O(this.lat,o)+", "+O(this.lng,o)+")"},distanceTo:function(o){return je.distance(this,qe(o))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,d=l/Math.cos(Math.PI/180*this.lat);return yt([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Ye(this.lat,this.lng,this.alt)}};function qe(o,l,d){return o instanceof Ye?o:we(o)&&typeof o[0]!="object"?o.length===3?new Ye(o[0],o[1],o[2]):o.length===2?new Ye(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ye(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new Ye(o,l,d)}var Mt={latLngToPoint:function(o,l){var d=this.projection.project(o),f=this.scale(l);return this.transformation._transform(d,f)},pointToLatLng:function(o,l){var d=this.scale(l),f=this.transformation.untransform(o,d);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(o),f=this.transformation.transform(l.min,d),v=this.transformation.transform(l.max,d);return new He(f,v)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?m(o.lng,this.wrapLng,!0):o.lng,d=this.wrapLat?m(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new Ye(d,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),d=this.wrapLatLng(l),f=l.lat-d.lat,v=l.lng-d.lng;if(f===0&&v===0)return o;var b=o.getSouthWest(),D=o.getNorthEast(),j=new Ye(b.lat-f,b.lng-v),G=new Ye(D.lat-f,D.lng-v);return new Bt(j,G)}},je=i({},Mt,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var d=Math.PI/180,f=o.lat*d,v=l.lat*d,b=Math.sin((l.lat-o.lat)*d/2),D=Math.sin((l.lng-o.lng)*d/2),j=b*b+Math.cos(f)*Math.cos(v)*D*D,G=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*G}}),Fn=6378137,Wn={R:Fn,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,d=this.MAX_LATITUDE,f=Math.max(Math.min(d,o.lat),-d),v=Math.sin(f*l);return new X(this.R*o.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(o){var l=180/Math.PI;return new Ye((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Fn*Math.PI;return new He([-o,-o],[o,o])}()};function On(o,l,d,f){if(we(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=d,this._d=f}On.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new X((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function pn(o,l,d,f){return new On(o,l,d,f)}var _e=i({},je,{code:"EPSG:3857",projection:Wn,transformation:function(){var o=.5/(Math.PI*Wn.R);return pn(o,.5,-o,.5)}()}),pe=i({},_e,{code:"EPSG:900913"});function me(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ze(o,l){var d="",f,v,b,D,j,G;for(f=0,b=o.length;f<b;f++){for(j=o[f],v=0,D=j.length;v<D;v++)G=j[v],d+=(v?"L":"M")+G.x+" "+G.y;d+=l?Ve.svg?"z":"x":""}return d||"M0 0"}var Di=document.documentElement.style,Jr="ActiveXObject"in window,ts=Jr&&!document.addEventListener,Dr="msLaunchUri"in navigator&&!("documentMode"in document),ui=kr("webkit"),Er=kr("android"),Ar=kr("android 2")||kr("android 3"),_a=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ni=Er&&kr("Google")&&_a<537&&!("AudioNode"in window),bi=!!window.opera,Be=!Dr&&kr("chrome"),We=kr("gecko")&&!ui&&!bi&&!Jr,Gt=!Be&&kr("safari"),jt=kr("phantom"),di="OTransition"in Di,Si=navigator.platform.indexOf("Win")===0,Ln=Jr&&"transition"in Di,En="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ar,An="MozPerspective"in Di,Bn=!window.L_DISABLE_3D&&(Ln||En||An)&&!di&&!jt,fn=typeof orientation<"u"||kr("mobile"),ii=fn&&ui,hi=fn&&En,ri=!window.PointerEvent&&window.MSPointerEvent,Un=!!(window.PointerEvent||ri),Zn="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Zn||Un),fi=fn&&bi,mi=fn&&We,gi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,oi=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return o}(),_i=function(){return!!document.createElement("canvas").getContext}(),xc=!!(document.createElementNS&&me("svg").createSVGRect),jp=!!xc&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zc=!xc&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Wp=navigator.platform.indexOf("Mac")===0,bc=navigator.platform.indexOf("Linux")===0;function kr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ve={ie:Jr,ielt9:ts,edge:Dr,webkit:ui,android:Er,android23:Ar,androidStock:ni,opera:bi,chrome:Be,gecko:We,safari:Gt,phantom:jt,opera12:di,win:Si,ie3d:Ln,webkit3d:En,gecko3d:An,any3d:Bn,mobile:fn,mobileWebkit:ii,mobileWebkit3d:hi,msPointer:ri,pointer:Un,touch:pi,touchNative:Zn,mobileOpera:fi,mobileGecko:mi,retina:gi,passiveEvents:oi,canvas:_i,svg:xc,vml:zc,inlineSvg:jp,mac:Wp,linux:bc},Yu=Ve.msPointer?"MSPointerDown":"pointerdown",Qu=Ve.msPointer?"MSPointerMove":"pointermove",Ku=Ve.msPointer?"MSPointerUp":"pointerup",Xu=Ve.msPointer?"MSPointerCancel":"pointercancel",Sc={touchstart:Yu,touchmove:Qu,touchend:Ku,touchcancel:Xu},Ju={touchstart:Xs,touchmove:Ks,touchend:Ks,touchcancel:Ks},Uo={},ed=!1;function Up(o,l,d){return l==="touchstart"&&Qs(),Ju[l]?(d=Ju[l].bind(this,d),o.addEventListener(Sc[l],d,!1),d):(console.warn("wrong event specified:",l),_)}function Zp(o,l,d){if(!Sc[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Sc[l],d,!1)}function Gp(o){Uo[o.pointerId]=o}function Yp(o){Uo[o.pointerId]&&(Uo[o.pointerId]=o)}function td(o){delete Uo[o.pointerId]}function Qs(){ed||(document.addEventListener(Yu,Gp,!0),document.addEventListener(Qu,Yp,!0),document.addEventListener(Ku,td,!0),document.addEventListener(Xu,td,!0),ed=!0)}function Ks(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Uo)l.touches.push(Uo[d]);l.changedTouches=[l],o(l)}}function Xs(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_t(l),Ks(o,l)}function Qp(o){var l={},d,f;for(f in o)d=o[f],l[f]=d&&d.bind?d.bind(o):d;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Kp=200;function Xp(o,l){o.addEventListener("dblclick",l);var d=0,f;function v(b){if(b.detail!==1){f=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var D=cd(b);if(!(D.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!D.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var j=Date.now();j-d<=Kp?(f++,f===2&&l(Qp(b))):f=1,d=j}}}return o.addEventListener("click",v),{dblclick:l,simDblclick:v}}function nd(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Js=ya(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),va=ya(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),id=va==="webkitTransition"||va==="OTransition"?va+"End":"transitionend";function rd(o){return typeof o=="string"?document.getElementById(o):o}function ns(o,l){var d=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);d=f?f[l]:null}return d==="auto"?null:d}function Wt(o,l,d){var f=document.createElement(o);return f.className=l||"",d&&d.appendChild(f),f}function mn(o){var l=o.parentNode;l&&l.removeChild(o)}function is(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Zo(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function vo(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function wc(o,l){if(o.classList!==void 0)return o.classList.contains(l);var d=tl(o);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function gt(o,l){if(o.classList!==void 0)for(var d=N(l),f=0,v=d.length;f<v;f++)o.classList.add(d[f]);else if(!wc(o,l)){var b=tl(o);el(o,(b?b+" ":"")+l)}}function gn(o,l){o.classList!==void 0?o.classList.remove(l):el(o,F((" "+tl(o)+" ").replace(" "+l+" "," ")))}function el(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function tl(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Gi(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&od(o,l)}function od(o,l){var d=!1,f="DXImageTransform.Microsoft.Alpha";try{d=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function ya(o){for(var l=document.documentElement.style,d=0;d<o.length;d++)if(o[d]in l)return o[d];return!1}function Go(o,l,d){var f=l||new X(0,0);o.style[Js]=(Ve.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(d?" scale("+d+")":"")}function kn(o,l){o._leaflet_pos=l,Ve.any3d?Go(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function eo(o){return o._leaflet_pos||new X(0,0)}var Yo,Nr,nl;if("onselectstart"in document)Yo=function(){ft(window,"selectstart",_t)},Nr=function(){ln(window,"selectstart",_t)};else{var Ca=ya(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yo=function(){if(Ca){var o=document.documentElement.style;nl=o[Ca],o[Ca]="none"}},Nr=function(){Ca&&(document.documentElement.style[Ca]=nl,nl=void 0)}}function Tc(){ft(window,"dragstart",_t)}function il(){ln(window,"dragstart",_t)}var rs,rl;function ol(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(al(),rs=o,rl=o.style.outlineStyle,o.style.outlineStyle="none",ft(window,"keydown",al))}function al(){rs&&(rs.style.outlineStyle=rl,rs=void 0,rl=void 0,ln(window,"keydown",al))}function ad(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ic(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var sd={__proto__:null,TRANSFORM:Js,TRANSITION:va,TRANSITION_END:id,get:rd,getStyle:ns,create:Wt,remove:mn,empty:is,toFront:Zo,toBack:vo,hasClass:wc,addClass:gt,removeClass:gn,setClass:el,getClass:tl,setOpacity:Gi,testProp:ya,setTransform:Go,setPosition:kn,getPosition:eo,get disableTextSelection(){return Yo},get enableTextSelection(){return Nr},disableImageDrag:Tc,enableImageDrag:il,preventOutline:ol,restoreOutline:al,getSizedParentNode:ad,getScale:Ic};function ft(o,l,d,f){if(l&&typeof l=="object")for(var v in l)Fc(o,v,l[v],d);else{l=N(l);for(var b=0,D=l.length;b<D;b++)Fc(o,l[b],d,f)}return this}var Rr="_leaflet_events";function ln(o,l,d,f){if(arguments.length===1)ld(o),delete o[Rr];else if(l&&typeof l=="object")for(var v in l)Oc(o,v,l[v],d);else if(l=N(l),arguments.length===2)ld(o,function(j){return tt(l,j)!==-1});else for(var b=0,D=l.length;b<D;b++)Oc(o,l[b],d,f);return this}function ld(o,l){for(var d in o[Rr]){var f=d.split(/\d/)[0];(!l||l(f))&&Oc(o,f,null,null,d)}}var os={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fc(o,l,d,f){var v=l+u(d)+(f?"_"+u(f):"");if(o[Rr]&&o[Rr][v])return this;var b=function(j){return d.call(f||o,j||window.event)},D=b;!Ve.touchNative&&Ve.pointer&&l.indexOf("touch")===0?b=Up(o,l,b):Ve.touch&&l==="dblclick"?b=Xp(o,b):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(os[l]||l,b,Ve.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(b=function(j){j=j||window.event,Pc(o,j)&&D(j)},o.addEventListener(os[l],b,!1)):o.addEventListener(l,D,!1):o.attachEvent("on"+l,b),o[Rr]=o[Rr]||{},o[Rr][v]=b}function Oc(o,l,d,f,v){v=v||l+u(d)+(f?"_"+u(f):"");var b=o[Rr]&&o[Rr][v];if(!b)return this;!Ve.touchNative&&Ve.pointer&&l.indexOf("touch")===0?Zp(o,l,b):Ve.touch&&l==="dblclick"?nd(o,b):"removeEventListener"in o?o.removeEventListener(os[l]||l,b,!1):o.detachEvent("on"+l,b),o[Rr][v]=null}function Qo(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Mc(o){return Fc(o,"wheel",Qo),this}function as(o){return ft(o,"mousedown touchstart dblclick contextmenu",Qo),o._leaflet_disable_click=!0,this}function _t(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ut(o){return _t(o),Qo(o),this}function cd(o){if(o.composedPath)return o.composedPath();for(var l=[],d=o.target;d;)l.push(d),d=d.parentNode;return l}function ud(o,l){if(!l)return new X(o.clientX,o.clientY);var d=Ic(l),f=d.boundingClientRect;return new X((o.clientX-f.left)/d.x-l.clientLeft,(o.clientY-f.top)/d.y-l.clientTop)}var Jp=Ve.linux&&Ve.chrome?window.devicePixelRatio:Ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dd(o){return Ve.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Jp:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Pc(o,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==o;)d=d.parentNode}catch{return!1}return d!==o}var ef={__proto__:null,on:ft,off:ln,stopPropagation:Qo,disableScrollPropagation:Mc,disableClickPropagation:as,preventDefault:_t,stop:Ut,getPropagationPath:cd,getMousePosition:ud,getWheelDelta:dd,isExternalTarget:Pc,addListener:ft,removeListener:ln},Dc=Xe.extend({run:function(o,l,d,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=eo(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var d=this._startPos.add(this._offset.multiplyBy(o));l&&d._round(),kn(this._el,d),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Vt=Xe.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=U(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(qe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=va&&Ve.any3d&&!Ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,id,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(qe(o),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=i({animate:d.animate},d.zoom),d.pan=i({animate:d.animate,duration:d.duration},d.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,d.zoom):this._tryAnimatedPan(o,d.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,d){var f=this.getZoomScale(l),v=this.getSize().divideBy(2),b=o instanceof X?o:this.latLngToContainerPoint(o),D=b.subtract(v).multiplyBy(1-1/f),j=this.containerPointToLatLng(v.add(D));return this.setView(j,l,{zoom:d})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():yt(o);var d=be(l.paddingTopLeft||l.padding||[0,0]),f=be(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(o,!1,d.add(f));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:o.getCenter(),zoom:v};var b=f.subtract(d).divideBy(2),D=this.project(o.getSouthWest(),v),j=this.project(o.getNorthEast(),v),G=this.unproject(D.add(j).divideBy(2).add(b),v);return{center:G,zoom:v}},fitBounds:function(o,l){if(o=yt(o),!o.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(o,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=be(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){gt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,d){if(d=d||{},d.animate===!1||!Ve.any3d)return this.setView(o,l,d);this._stop();var f=this.project(this.getCenter()),v=this.project(o),b=this.getSize(),D=this._zoom;o=qe(o),l=l===void 0?D:l;var j=Math.max(b.x,b.y),G=j*this.getZoomScale(D,l),oe=v.distanceTo(f)||1,ze=1.42,Ge=ze*ze;function Ct(_n){var Cs=_n?-1:1,T=_n?G:j,Ma=G*G-j*j+Cs*Ge*Ge*oe*oe,vl=2*T*Ge*oe,Bi=Ma/vl,Tt=Math.sqrt(Bi*Bi+1)-Bi,mf=Tt<1e-9?-18:Math.log(Tt);return mf}function Vn(_n){return(Math.exp(_n)-Math.exp(-_n))/2}function Pn(_n){return(Math.exp(_n)+Math.exp(-_n))/2}function wi(_n){return Vn(_n)/Pn(_n)}var vi=Ct(0);function yr(_n){return j*(Pn(vi)/Pn(vi+ze*_n))}function df(_n){return j*(Pn(vi)*wi(vi+ze*_n)-Vn(vi))/Ge}function hf(_n){return 1-Math.pow(1-_n,1.5)}var pf=Date.now(),Id=(Ct(1)-vi)/ze,ff=d.duration?1e3*d.duration:1e3*Id*.8;function ys(){var _n=(Date.now()-pf)/ff,Cs=hf(_n)*Id;_n<=1?(this._flyToFrame=Z(ys,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(df(Cs)/oe)),D),this.getScaleZoom(j/yr(Cs),D),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),ys.call(this),this},flyToBounds:function(o,l){var d=this._getBoundsCenterZoom(o,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(o){return o=yt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var d=this.getCenter(),f=this._limitCenter(d,this._zoom,yt(o));return d.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var d=be(l.paddingTopLeft||l.padding||[0,0]),f=be(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),b=this.project(o),D=this.getPixelBounds(),j=zt([D.min.add(d),D.max.subtract(f)]),G=j.getSize();if(!j.contains(b)){this._enforcingBounds=!0;var oe=b.subtract(j.getCenter()),ze=j.extend(b).getSize().subtract(G);v.x+=oe.x<0?-ze.x:ze.x,v.y+=oe.y<0?-ze.y:ze.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),f=l.divideBy(2).round(),v=d.divideBy(2).round(),b=f.subtract(v);return!b.x&&!b.y?this:(o.animate&&o.pan?this.panBy(b):(o.pan&&this._rawPanBy(b),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=r(this._handleGeolocationResponse,this),d=r(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,o):navigator.geolocation.getCurrentPosition(l,d,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,d=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,d=o.coords.longitude,f=new Ye(l,d),v=f.toBounds(o.coords.accuracy*2),b=this._locateOptions;if(b.setView){var D=this.getBoundsZoom(v);this.setView(f,b.maxZoom?Math.min(D,b.maxZoom):D)}var j={latlng:f,bounds:v,timestamp:o.timestamp};for(var G in o.coords)typeof o.coords[G]=="number"&&(j[G]=o.coords[G]);this.fire("locationfound",j)}},addHandler:function(o,l){if(!l)return this;var d=this[o]=new l(this);return this._handlers.push(d),this.options[o]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)mn(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var d="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=Wt("div",d,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),d=this.unproject(o.getTopRight());return new Bt(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,d){o=yt(o),d=be(d||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),b=this.getMaxZoom(),D=o.getNorthWest(),j=o.getSouthEast(),G=this.getSize().subtract(d),oe=zt(this.project(j,f),this.project(D,f)).getSize(),ze=Ve.any3d?this.options.zoomSnap:1,Ge=G.x/oe.x,Ct=G.y/oe.y,Vn=l?Math.max(Ge,Ct):Math.min(Ge,Ct);return f=this.getScaleZoom(Vn,f),ze&&(f=Math.round(f/(ze/100))*(ze/100),f=l?Math.ceil(f/ze)*ze:Math.floor(f/ze)*ze),Math.max(v,Math.min(b,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var d=this._getTopLeftPoint(o,l);return new He(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(o)/d.scale(l)},getScaleZoom:function(o,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var f=d.zoom(o*d.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(qe(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(be(o),l)},layerPointToLatLng:function(o){var l=be(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(qe(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(qe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(yt(o))},distance:function(o,l){return this.options.crs.distance(qe(o),qe(l))},containerPointToLayerPoint:function(o){return be(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return be(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(be(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(qe(o)))},mouseEventToContainerPoint:function(o){return ud(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=rd(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ve.any3d,gt(o,"leaflet-container"+(Ve.touch?" leaflet-touch":"")+(Ve.retina?" leaflet-retina":"")+(Ve.ielt9?" leaflet-oldie":"")+(Ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=ns(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kn(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(o.markerPane,"leaflet-zoom-hide"),gt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,d){kn(this._mapPane,new X(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,d)._move(o,l)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,d,f){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?d&&d.pinch&&this.fire("zoom",d):((v||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){kn(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var l=o?ln:ft;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ve.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var d=[],f,v=l==="mouseout"||l==="mouseover",b=o.target||o.srcElement,D=!1;b;){if(f=this._targets[u(b)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){D=!0;break}if(f&&f.listens(l,!0)&&(v&&!Pc(b,o)||(d.push(f),v))||b===this._container)break;b=b.parentNode}return!d.length&&!D&&!v&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var d=o.type;d==="mousedown"&&ol(l),this._fireDOMEvent(o,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,d){if(o.type==="click"){var f=i({},o);f.type="preclick",this._fireDOMEvent(f,f.type,d)}var v=this._findEventTargets(o,l);if(d){for(var b=[],D=0;D<d.length;D++)d[D].listens(l,!0)&&b.push(d[D]);v=b.concat(v)}if(v.length){l==="contextmenu"&&_t(o);var j=v[0],G={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var oe=j.getLatLng&&(!j._radius||j._radius<=10);G.containerPoint=oe?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(o),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=oe?j.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(D=0;D<v.length;D++)if(v[D].fire(l,G,!0),G.originalEvent._stopped||v[D].options.bubblingMouseEvents===!1&&tt(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return eo(this._mapPane)||new X(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var d=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var d=this.getSize()._divideBy(2);return this.project(o,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,d){var f=this._getNewPixelOrigin(d,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,d){var f=this._getNewPixelOrigin(d,l);return zt([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,d){if(!d)return o;var f=this.project(o,l),v=this.getSize().divideBy(2),b=new He(f.subtract(v),f.add(v)),D=this._getBoundsOffset(b,d,l);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?o:this.unproject(f.add(D),l)},_limitOffset:function(o,l){if(!l)return o;var d=this.getPixelBounds(),f=new He(d.min.add(o),d.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,d){var f=zt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),v=f.min.subtract(o.min),b=f.max.subtract(o.max),D=this._rebound(v.x,-b.x),j=this._rebound(v.y,-b.y);return new X(D,j)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),d=this.getMaxZoom(),f=Ve.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(d,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var d=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var o=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var d=Js,f=this._proxy.style[d];Go(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Go(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),v=this._getCenterOffset(o)._divideBy(1-1/f);return d.animate!==!0&&!this.getSize().contains(v)?!1:(Z(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,d,f){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ai(o,l){return new Vt(o,l)}var Yi=ge.extend({options:{position:"topright"},initialize:function(o){U(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),d=this.getPosition(),f=o._controlCorners[d];return gt(l,"leaflet-control"),d.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),_r=function(o){return new Yi(o)};Vt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",d=this._controlContainer=Wt("div",l+"control-container",this._container);function f(v,b){var D=l+v+" "+l+b;o[v+b]=Wt("div",D,d)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)mn(this._controlCorners[o]);mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ec=Yi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,d,f){return d<f?-1:f<d?1:0}},initialize:function(o,l,d){U(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Yi.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):gn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Wt("div",o),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),as(l),Mc(l);var f=this._section=Wt("section",o+"-list");d&&(this._map.on("click",this.collapse,this),ft(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Wt("a",o+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),ft(v,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){_t(b),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Wt("div",o+"-base",f),this._separator=Wt("div",o+"-separator",f),this._overlaysList=Wt("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,d){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(r(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;is(this._baseLayersList),is(this._overlaysList),this._layerControlInputs=[];var o,l,d,f,v=0;for(d=0;d<this._layers.length;d++)f=this._layers[d],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&v>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(u(o.target)),d=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(o,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=d,f.firstChild},_addItem:function(o){var l=document.createElement("label"),d=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=d):f=this._createRadioElement("leaflet-base-layers_"+u(this),d),this._layerControlInputs.push(f),f.layerId=u(o.layer),ft(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+o.name;var b=document.createElement("span");l.appendChild(b),b.appendChild(f),b.appendChild(v);var D=o.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,d,f=[],v=[];this._handlingClick=!0;for(var b=o.length-1;b>=0;b--)l=o[b],d=this._getLayer(l.layerId).layer,l.checked?f.push(d):l.checked||v.push(d);for(b=0;b<v.length;b++)this._map.hasLayer(v[b])&&this._map.removeLayer(v[b]);for(b=0;b<f.length;b++)this._map.hasLayer(f[b])||this._map.addLayer(f[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,d,f=this._map.getZoom(),v=o.length-1;v>=0;v--)l=o[v],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&f<d.options.minZoom||d.options.maxZoom!==void 0&&f>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ft(o,"click",_t),this.expand();var l=this;setTimeout(function(){ln(o,"click",_t),l._preventClick=!1})}}),Ac=function(o,l,d){return new Ec(o,l,d)},Ni=Yi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",d=Wt("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,d,f,v){var b=Wt("a",d,f);return b.innerHTML=o,b.href="#",b.title=l,b.setAttribute("role","button"),b.setAttribute("aria-label",l),as(b),ft(b,"click",Ut),ft(b,"click",v,this),ft(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";gn(this._zoomInButton,l),gn(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(gt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(gt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ni,this.addControl(this.zoomControl))});var hd=function(o){return new Ni(o)},kc=Yi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",d=Wt("div",l),f=this.options;return this._addScales(f,l+"-line",d),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),d},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,d){o.metric&&(this._mScale=Wt("div",l,d)),o.imperial&&(this._iScale=Wt("div",l,d))},_update:function(){var o=this._map,l=o.getSize().y/2,d=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/o)},_updateImperial:function(o){var l=o*3.2808399,d,f,v;l>5280?(d=l/5280,f=this._getRoundNum(d),this._updateScale(this._iScale,f+" mi",f/d)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(o,l,d){o.style.width=Math.round(this.options.maxWidth*d)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),d=o/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),pd=function(o){return new kc(o)},fd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sl=Yi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ve.inlineSvg?fd+" ":"")+"Leaflet</a>"},initialize:function(o){U(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),as(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),o.length&&d.push(o.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&new sl().addTo(this)});var md=function(o){return new sl(o)};Yi.Layers=Ec,Yi.Zoom=Ni,Yi.Scale=kc,Yi.Attribution=sl,_r.layers=Ac,_r.zoom=hd,_r.scale=pd,_r.attribution=md;var Mn=ge.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(o,l){return o.addHandler(l,this),this};var tf={Events:de},Qi=Ve.touch?"touchstart mousedown":"mousedown",yo=Xe.extend({options:{clickTolerance:3},initialize:function(o,l,d,f){U(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=d},enable:function(){this._enabled||(ft(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yo._dragging===this&&this.finishDrag(!0),ln(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!wc(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){yo._dragging===this&&this.finishDrag();return}if(!(yo._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(yo._dragging=this,this._preventOutline&&ol(this._element),Tc(),Yo(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,d=ad(this._element);this._startPoint=new X(l.clientX,l.clientY),this._startPos=eo(this._element),this._parentScale=Ic(d);var f=o.type==="mousedown";ft(document,f?"mousemove":"touchmove",this._onMove,this),ft(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,d=new X(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,_t(o),this._moved||(this.fire("dragstart"),this._moved=!0,gt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),kn(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){gn(document.body,"leaflet-dragging"),this._lastTarget&&(gn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ln(document,"mousemove touchmove",this._onMove,this),ln(document,"mouseup touchend touchcancel",this._onUp,this),il(),Nr();var l=this._moved&&this._moving;this._moving=!1,yo._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Nc(o,l,d){var f,v=[1,4,2,8],b,D,j,G,oe,ze,Ge,Ct;for(b=0,ze=o.length;b<ze;b++)o[b]._code=Lr(o[b],l);for(j=0;j<4;j++){for(Ge=v[j],f=[],b=0,ze=o.length,D=ze-1;b<ze;D=b++)G=o[b],oe=o[D],G._code&Ge?oe._code&Ge||(Ct=ls(oe,G,Ge,l,d),Ct._code=Lr(Ct,l),f.push(Ct)):(oe._code&Ge&&(Ct=ls(oe,G,Ge,l,d),Ct._code=Lr(Ct,l),f.push(Ct)),f.push(G));o=f}return o}function to(o,l){var d,f,v,b,D,j,G,oe,ze;if(!o||o.length===0)throw new Error("latlngs not passed");Ki(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ge=qe([0,0]),Ct=yt(o),Vn=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Vn<1700&&(Ge=xa(o));var Pn=o.length,wi=[];for(d=0;d<Pn;d++){var vi=qe(o[d]);wi.push(l.project(qe([vi.lat-Ge.lat,vi.lng-Ge.lng])))}for(j=G=oe=0,d=0,f=Pn-1;d<Pn;f=d++)v=wi[d],b=wi[f],D=v.y*b.x-b.y*v.x,G+=(v.x+b.x)*D,oe+=(v.y+b.y)*D,j+=D*3;j===0?ze=wi[0]:ze=[G/j,oe/j];var yr=l.unproject(be(ze));return qe([yr.lat+Ge.lat,yr.lng+Ge.lng])}function xa(o){for(var l=0,d=0,f=0,v=0;v<o.length;v++){var b=qe(o[v]);l+=b.lat,d+=b.lng,f++}return qe([l/f,d/f])}var Rc={__proto__:null,clipPolygon:Nc,polygonCenter:to,centroid:xa};function un(o,l){if(!l||!o.length)return o.slice();var d=l*l;return o=rf(o,d),o=nf(o,d),o}function no(o,l,d){return Math.sqrt(cs(o,l,d,!0))}function Lc(o,l,d){return cs(o,l,d)}function nf(o,l){var d=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,v=new f(d);v[0]=v[d-1]=1,ss(o,v,l,0,d-1);var b,D=[];for(b=0;b<d;b++)v[b]&&D.push(o[b]);return D}function ss(o,l,d,f,v){var b=0,D,j,G;for(j=f+1;j<=v-1;j++)G=cs(o[j],o[f],o[v],!0),G>b&&(D=j,b=G);b>d&&(l[D]=1,ss(o,l,d,f,D),ss(o,l,d,D,v))}function rf(o,l){for(var d=[o[0]],f=1,v=0,b=o.length;f<b;f++)za(o[f],o[v])>l&&(d.push(o[f]),v=f);return v<b-1&&d.push(o[b-1]),d}var gd;function _d(o,l,d,f,v){var b=f?gd:Lr(o,d),D=Lr(l,d),j,G,oe;for(gd=D;;){if(!(b|D))return[o,l];if(b&D)return!1;j=b||D,G=ls(o,l,j,d,v),oe=Lr(G,d),j===b?(o=G,b=oe):(l=G,D=oe)}}function ls(o,l,d,f,v){var b=l.x-o.x,D=l.y-o.y,j=f.min,G=f.max,oe,ze;return d&8?(oe=o.x+b*(G.y-o.y)/D,ze=G.y):d&4?(oe=o.x+b*(j.y-o.y)/D,ze=j.y):d&2?(oe=G.x,ze=o.y+D*(G.x-o.x)/b):d&1&&(oe=j.x,ze=o.y+D*(j.x-o.x)/b),new X(oe,ze,v)}function Lr(o,l){var d=0;return o.x<l.min.x?d|=1:o.x>l.max.x&&(d|=2),o.y<l.min.y?d|=4:o.y>l.max.y&&(d|=8),d}function za(o,l){var d=l.x-o.x,f=l.y-o.y;return d*d+f*f}function cs(o,l,d,f){var v=l.x,b=l.y,D=d.x-v,j=d.y-b,G=D*D+j*j,oe;return G>0&&(oe=((o.x-v)*D+(o.y-b)*j)/G,oe>1?(v=d.x,b=d.y):oe>0&&(v+=D*oe,b+=j*oe)),D=o.x-v,j=o.y-b,f?D*D+j*j:new X(v,b)}function Ki(o){return!we(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Bc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ki(o)}function ll(o,l){var d,f,v,b,D,j,G,oe;if(!o||o.length===0)throw new Error("latlngs not passed");Ki(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ze=qe([0,0]),Ge=yt(o),Ct=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());Ct<1700&&(ze=xa(o));var Vn=o.length,Pn=[];for(d=0;d<Vn;d++){var wi=qe(o[d]);Pn.push(l.project(qe([wi.lat-ze.lat,wi.lng-ze.lng])))}for(d=0,f=0;d<Vn-1;d++)f+=Pn[d].distanceTo(Pn[d+1])/2;if(f===0)oe=Pn[0];else for(d=0,b=0;d<Vn-1;d++)if(D=Pn[d],j=Pn[d+1],v=D.distanceTo(j),b+=v,b>f){G=(b-f)/v,oe=[j.x-G*(j.x-D.x),j.y-G*(j.y-D.y)];break}var vi=l.unproject(be(oe));return qe([vi.lat+ze.lat,vi.lng+ze.lng])}var Vc={__proto__:null,simplify:un,pointToSegmentDistance:no,closestPointOnSegment:Lc,clipSegment:_d,_getEdgeIntersection:ls,_getBitCode:Lr,_sqClosestPointOnSegment:cs,isFlat:Ki,_flat:Bc,polylineCenter:ll},cl={project:function(o){return new X(o.lng,o.lat)},unproject:function(o){return new Ye(o.y,o.x)},bounds:new He([-180,-90],[180,90])},$c={R:6378137,R_MINOR:6356752314245179e-9,bounds:new He([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,d=this.R,f=o.lat*l,v=this.R_MINOR/d,b=Math.sqrt(1-v*v),D=b*Math.sin(f),j=Math.tan(Math.PI/4-f/2)/Math.pow((1-D)/(1+D),b/2);return f=-d*Math.log(Math.max(j,1e-10)),new X(o.lng*l*d,f)},unproject:function(o){for(var l=180/Math.PI,d=this.R,f=this.R_MINOR/d,v=Math.sqrt(1-f*f),b=Math.exp(-o.y/d),D=Math.PI/2-2*Math.atan(b),j=0,G=.1,oe;j<15&&Math.abs(G)>1e-7;j++)oe=v*Math.sin(D),oe=Math.pow((1-oe)/(1+oe),v/2),G=Math.PI/2-2*Math.atan(b*oe)-D,D+=G;return new Ye(D*l,o.x*l/d)}},Hc={__proto__:null,LonLat:cl,Mercator:$c,SphericalMercator:Wn},qc=i({},je,{code:"EPSG:3395",projection:$c,transformation:function(){var o=.5/(Math.PI*$c.R);return pn(o,.5,-o,.5)}()}),vd=i({},je,{code:"EPSG:4326",projection:cl,transformation:pn(1/180,1,-1/180,.5)}),yd=i({},Mt,{projection:cl,transformation:pn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var d=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(d*d+f*f)},infinite:!0});Mt.Earth=je,Mt.EPSG3395=qc,Mt.EPSG3857=_e,Mt.EPSG900913=pe,Mt.EPSG4326=vd,Mt.Simple=yd;var Sn=Xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=u(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},_addLayers:function(o){o=o?we(o)?o:[o]:[];for(var l=0,d=o.length;l<d;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=u(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,d=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;o=v.minZoom===void 0?o:Math.min(o,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Co=Sn.extend({initialize:function(o,l){U(this,l),this._layers={};var d,f;if(o)for(d=0,f=o.length;d<f;d++)this.addLayer(o[d])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),d,f;for(d in this._layers)f=this._layers[d],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var d in this._layers)o.call(l,this._layers[d]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),us=function(o,l){return new Co(o,l)},Br=Co.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Co.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Co.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Bt;for(var l in this._layers){var d=this._layers[l];o.extend(d.getBounds?d.getBounds():d.getLatLng())}return o}}),Cd=function(o,l){return new Br(o,l)},ba=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){U(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var d=this._getIconUrl(o);if(!d){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var d=this.options,f=d[l+"Size"];typeof f=="number"&&(f=[f,f]);var v=be(f),b=be(l==="shadow"&&d.shadowAnchor||d.iconAnchor||v&&v.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(d.className||""),b&&(o.style.marginLeft=-b.x+"px",o.style.marginTop=-b.y+"px"),v&&(o.style.width=v.x+"px",o.style.height=v.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return Ve.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function of(o){return new ba(o)}var ds=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ds.imagePath!="string"&&(ds.imagePath=this._detectIconPath()),(this.options.imagePath||ds.imagePath)+ba.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(d,f,v){var b=f.exec(d);return b&&b[v]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Wt("div","leaflet-default-icon-path",document.body),l=ns(o,"background-image")||ns(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),xd=Mn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new yo(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,d=l._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,b=eo(l._icon),D=d.getPixelBounds(),j=d.getPixelOrigin(),G=zt(D.min._subtract(j).add(v),D.max._subtract(j).subtract(v));if(!G.contains(b)){var oe=be((Math.max(G.max.x,b.x)-G.max.x)/(D.max.x-G.max.x)-(Math.min(G.min.x,b.x)-G.min.x)/(D.min.x-G.min.x),(Math.max(G.max.y,b.y)-G.max.y)/(D.max.y-G.max.y)-(Math.min(G.min.y,b.y)-G.min.y)/(D.min.y-G.min.y)).multiplyBy(f);d.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),kn(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Z(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,d=l._shadow,f=eo(l._icon),v=l._map.layerPointToLatLng(f);d&&kn(d,f),l._latlng=v,o.latlng=v,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ul=Sn.extend({options:{icon:new ds,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){U(this,l),this._latlng=qe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=qe(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=o.icon.createIcon(this._icon),f=!1;d!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(d.title=o.title),d.tagName==="IMG"&&(d.alt=o.alt||"")),gt(d,l),o.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(d,"focus",this._panOnFocus,this);var v=o.icon.createShadow(this._shadow),b=!1;v!==this._shadow&&(this._removeShadow(),b=!0),v&&(gt(v,l),v.alt=""),this._shadow=v,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&b&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ln(this._icon,"focus",this._panOnFocus,this),mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mn(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&kn(this._icon,o),this._shadow&&kn(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xd)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xd(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Gi(this._icon,o),this._shadow&&Gi(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,d=l.iconSize?be(l.iconSize):be(0,0),f=l.iconAnchor?be(l.iconAnchor):be(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:d.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sa(o,l){return new ul(o,l)}var xo=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return U(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),dl=xo.extend({options:{fill:!0,radius:10},initialize:function(o,l){U(this,l),this._latlng=qe(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=qe(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return xo.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,d=this._clickTolerance(),f=[o+d,l+d];this._pxBounds=new He(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jc(o,l){return new dl(o,l)}var hl=dl.extend({initialize:function(o,l,d){if(typeof l=="number"&&(l=i({},d,{radius:l})),U(this,l),this._latlng=qe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Bt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:xo.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,d=this._map,f=d.options.crs;if(f.distance===je.distance){var v=Math.PI/180,b=this._mRadius/je.R/v,D=d.project([l+b,o]),j=d.project([l-b,o]),G=D.add(j).divideBy(2),oe=d.unproject(G).lat,ze=Math.acos((Math.cos(b*v)-Math.sin(l*v)*Math.sin(oe*v))/(Math.cos(l*v)*Math.cos(oe*v)))/v;(isNaN(ze)||ze===0)&&(ze=b/Math.cos(Math.PI/180*l)),this._point=G.subtract(d.getPixelOrigin()),this._radius=isNaN(ze)?0:G.x-d.project([oe,o-ze]).x,this._radiusY=G.y-D.y}else{var Ge=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ge).x}this._updateBounds()}});function zo(o,l,d){return new hl(o,l,d)}var or=xo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){U(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,d=null,f=cs,v,b,D=0,j=this._parts.length;D<j;D++)for(var G=this._parts[D],oe=1,ze=G.length;oe<ze;oe++){v=G[oe-1],b=G[oe];var Ge=f(o,v,b,!0);Ge<l&&(l=Ge,d=f(o,v,b))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ll(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=qe(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Bt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ki(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],d=Ki(o),f=0,v=o.length;f<v;f++)d?(l[f]=qe(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new He;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new X(o,o);this._rawPxBounds&&(this._pxBounds=new He([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,d){var f=o[0]instanceof Ye,v=o.length,b,D;if(f){for(D=[],b=0;b<v;b++)D[b]=this._map.latLngToLayerPoint(o[b]),d.extend(D[b]);l.push(D)}else for(b=0;b<v;b++)this._projectLatlngs(o[b],l,d)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,f,v,b,D,j,G;for(d=0,v=0,b=this._rings.length;d<b;d++)for(G=this._rings[d],f=0,D=G.length;f<D-1;f++)j=_d(G[f],G[f+1],o,f,!0),j&&(l[v]=l[v]||[],l[v].push(j[0]),(j[1]!==G[f+1]||f===D-2)&&(l[v].push(j[1]),v++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,d=0,f=o.length;d<f;d++)o[d]=un(o[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var d,f,v,b,D,j,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(d=0,b=this._parts.length;d<b;d++)for(j=this._parts[d],f=0,D=j.length,v=D-1;f<D;v=f++)if(!(!l&&f===0)&&no(o,j[v],j[f])<=G)return!0;return!1}});function af(o,l){return new or(o,l)}or._flat=Bc;var wa=or.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return to(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=or.prototype._convertLatLngs.call(this,o),d=l.length;return d>=2&&l[0]instanceof Ye&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(o){or.prototype._setLatLngs.call(this,o),Ki(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ki(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,d=new X(l,l);if(o=new He(o.min.subtract(d),o.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,b;f<v;f++)b=Nc(this._rings[f],o,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,d,f,v,b,D,j,G,oe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(b=0,G=this._parts.length;b<G;b++)for(d=this._parts[b],D=0,oe=d.length,j=oe-1;D<oe;j=D++)f=d[D],v=d[j],f.y>o.y!=v.y>o.y&&o.x<(v.x-f.x)*(o.y-f.y)/(v.y-f.y)+f.x&&(l=!l);return l||or.prototype._containsPoint.call(this,o,!0)}});function sf(o,l){return new wa(o,l)}var Ri=Br.extend({initialize:function(o,l){U(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=we(o)?o:o.features,d,f,v;if(l){for(d=0,f=l.length;d<f;d++)v=l[d],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var b=this.options;if(b.filter&&!b.filter(o))return this;var D=Li(o,b);return D?(D.feature=vr(o),D.defaultOptions=D.options,this.resetStyle(D),b.onEachFeature&&b.onEachFeature(o,D),this.addLayer(D)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Li(o,l){var d=o.type==="Feature"?o.geometry:o,f=d?d.coordinates:null,v=[],b=l&&l.pointToLayer,D=l&&l.coordsToLatLng||Uc,j,G,oe,ze;if(!f&&!d)return null;switch(d.type){case"Point":return j=D(f),Wc(b,o,j,l);case"MultiPoint":for(oe=0,ze=f.length;oe<ze;oe++)j=D(f[oe]),v.push(Wc(b,o,j,l));return new Br(v);case"LineString":case"MultiLineString":return G=pl(f,d.type==="LineString"?0:1,D),new or(G,l);case"Polygon":case"MultiPolygon":return G=pl(f,d.type==="Polygon"?1:2,D),new wa(G,l);case"GeometryCollection":for(oe=0,ze=d.geometries.length;oe<ze;oe++){var Ge=Li({geometry:d.geometries[oe],type:"Feature",properties:o.properties},l);Ge&&v.push(Ge)}return new Br(v);case"FeatureCollection":for(oe=0,ze=d.features.length;oe<ze;oe++){var Ct=Li(d.features[oe],l);Ct&&v.push(Ct)}return new Br(v);default:throw new Error("Invalid GeoJSON object.")}}function Wc(o,l,d,f){return o?o(l,d):new ul(d,f&&f.markersInheritOptions&&f)}function Uc(o){return new Ye(o[1],o[0],o[2])}function pl(o,l,d){for(var f=[],v=0,b=o.length,D;v<b;v++)D=l?pl(o[v],l-1,d):(d||Uc)(o[v]),f.push(D);return f}function Zc(o,l){return o=qe(o),o.alt!==void 0?[O(o.lng,l),O(o.lat,l),O(o.alt,l)]:[O(o.lng,l),O(o.lat,l)]}function fl(o,l,d,f){for(var v=[],b=0,D=o.length;b<D;b++)v.push(l?fl(o[b],Ki(o[b])?0:l-1,d,f):Zc(o[b],f));return!l&&d&&v.length>0&&v.push(v[0].slice()),v}function Ta(o,l){return o.feature?i({},o.feature,{geometry:l}):vr(l)}function vr(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var R={toGeoJSON:function(o){return Ta(this,{type:"Point",coordinates:Zc(this.getLatLng(),o)})}};ul.include(R),hl.include(R),dl.include(R),or.include({toGeoJSON:function(o){var l=!Ki(this._latlngs),d=fl(this._latlngs,l?1:0,!1,o);return Ta(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),wa.include({toGeoJSON:function(o){var l=!Ki(this._latlngs),d=l&&!Ki(this._latlngs[0]),f=fl(this._latlngs,d?2:l?1:0,!0,o);return l||(f=[f]),Ta(this,{type:(d?"Multi":"")+"Polygon",coordinates:f})}}),Co.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(o).geometry.coordinates)}),Ta(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var d=l==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var b=v.toGeoJSON(o);if(d)f.push(b.geometry);else{var D=vr(b);D.type==="FeatureCollection"?f.push.apply(f,D.features):f.push(D)}}}),d?Ta(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function J(o,l){return new Ri(o,l)}var Y=J,Se=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,d){this._url=o,this._bounds=yt(l),U(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Zo(this._image),this},bringToBack:function(){return this._map&&vo(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=yt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:Wt("img");if(gt(l,"leaflet-image-layer"),this._zoomAnimated&&gt(l,"leaflet-zoom-animated"),this.options.className&&gt(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=r(this.fire,this,"load"),l.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Go(this._image,d,l)},_reset:function(){var o=this._image,l=new He(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();kn(o,l.min),o.style.width=d.x+"px",o.style.height=d.y+"px"},_updateOpacity:function(){Gi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),ut=function(o,l,d){return new Se(o,l,d)},Zt=Se.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:Wt("video");if(gt(l,"leaflet-image-layer"),this._zoomAnimated&&gt(l,"leaflet-zoom-animated"),this.options.className&&gt(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=r(this.fire,this,"load"),o){for(var d=l.getElementsByTagName("source"),f=[],v=0;v<d.length;v++)f.push(d[v].src);this._url=d.length>0?f:[l.src];return}we(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var D=Wt("source");D.src=this._url[b],l.appendChild(D)}}});function Gn(o,l,d){return new Zt(o,l,d)}var tn=Se.extend({_initImage:function(){var o=this._image=this._url;gt(o,"leaflet-image-layer"),this._zoomAnimated&&gt(o,"leaflet-zoom-animated"),this.options.className&&gt(o,this.options.className),o.onselectstart=_,o.onmousemove=_}});function Gc(o,l,d){return new tn(o,l,d)}var Vr=Sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Ye||we(o))?(this._latlng=qe(o),U(this,l)):(U(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Gi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Gi(this._container,1),this.bringToFront(),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Gi(this._container,0),this._removeTimeout=setTimeout(r(mn,void 0,this._container),200)):mn(this._container),this.options.interactive&&(gn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=qe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zo(this._container),this},bringToBack:function(){return this._map&&vo(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Br){l=null;var d=this._source._layers;for(var f in d)if(d[f]._map){l=d[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=be(this.options.offset),d=this._getAnchor();this._zoomAnimated?kn(this._container,o.add(d)):l=l.add(o).add(d);var f=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(o,l,d,f){var v=l;return v instanceof o||(v=new o(f).setContent(l)),d&&v.setLatLng(d),v}}),Sn.include({_initOverlay:function(o,l,d,f){var v=d;return v instanceof o?(U(v,f),v._source=this):(v=l&&!f?l:new o(f,this),v.setContent(d)),v}});var Ei=Vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Vr.prototype.openOn.call(this,o)},onAdd:function(o){Vr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xo||this._source.on("preclick",Qo))},onRemove:function(o){Vr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xo||this._source.off("preclick",Qo))},getEvents:function(){var o=Vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Wt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Wt("div",o+"-content-wrapper",l);if(this._contentNode=Wt("div",o+"-content",d),as(l),Mc(this._contentNode),ft(l,"contextmenu",Qo),this._tipContainer=Wt("div",o+"-tip-container",l),this._tip=Wt("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Wt("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ft(f,"click",function(v){_t(v),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var d=o.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,v=this.options.maxHeight,b="leaflet-popup-scrolled";v&&f>v?(l.height=v+"px",gt(o,b)):gn(o,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),d=this._getAnchor();kn(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(ns(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,f=this._containerWidth,v=new X(this._containerLeft,-d-this._containerBottom);v._add(eo(this._container));var b=o.layerPointToContainerPoint(v),D=be(this.options.autoPanPadding),j=be(this.options.autoPanPaddingTopLeft||D),G=be(this.options.autoPanPaddingBottomRight||D),oe=o.getSize(),ze=0,Ge=0;b.x+f+G.x>oe.x&&(ze=b.x+f-oe.x+G.x),b.x-ze-j.x<0&&(ze=b.x-j.x),b.y+d+G.y>oe.y&&(Ge=b.y+d-oe.y+G.y),b.y-Ge-j.y<0&&(Ge=b.y-j.y),(ze||Ge)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ze,Ge]))}},_getAnchor:function(){return be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ml=function(o,l){return new Ei(o,l)};Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(o,l,d){return this._initOverlay(Ei,o,l,d).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Sn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Ei,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Br||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ut(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof xo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var gl=Vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Vr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Vr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Vr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,d,f=this._map,v=this._container,b=f.latLngToContainerPoint(f.getCenter()),D=f.layerPointToContainerPoint(o),j=this.options.direction,G=v.offsetWidth,oe=v.offsetHeight,ze=be(this.options.offset),Ge=this._getAnchor();j==="top"?(l=G/2,d=oe):j==="bottom"?(l=G/2,d=0):j==="center"?(l=G/2,d=oe/2):j==="right"?(l=0,d=oe/2):j==="left"?(l=G,d=oe/2):D.x<b.x?(j="right",l=0,d=oe/2):(j="left",l=G+(ze.x+Ge.x)*2,d=oe/2),o=o.subtract(be(l,d,!0)).add(ze).add(Ge),gn(v,"leaflet-tooltip-right"),gn(v,"leaflet-tooltip-left"),gn(v,"leaflet-tooltip-top"),gn(v,"leaflet-tooltip-bottom"),gt(v,"leaflet-tooltip-"+j),kn(v,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Gi(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ia=function(o,l){return new gl(o,l)};Vt.include({openTooltip:function(o,l,d){return this._initOverlay(gl,o,l,d).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Sn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gl,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Br||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(ft(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ft(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,d,f;this._tooltip.options.sticky&&o.originalEvent&&(d=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var hs=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),d=this.options;if(d.html instanceof Element?(is(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var f=be(d.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function _l(o){return new hs(o)}ba.Default=ds;var $t=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){U(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),mn(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof X?o:new X(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,d=-o(-1/0,1/0),f=0,v=l.length,b;f<v;f++)b=l[f].style.zIndex,l[f]!==this._container&&b&&(d=o(d,+b));isFinite(d)&&(this.options.zIndex=d+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ve.ielt9){Gi(this._container,this.options.opacity);var o=+new Date,l=!1,d=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var b=Math.min(1,(o-v.loaded)/200);Gi(v.el,b),b<1?l=!0:(v.active?d=!0:this._onOpaqueTile(v),v.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(ue(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===o?(this._levels[d].el.style.zIndex=l-Math.abs(o-d),this._onUpdateLevel(d)):(mn(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var f=this._levels[o],v=this._map;return f||(f=this._levels[o]={},f.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=v.project(v.unproject(v.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,v.getCenter(),v.getZoom()),_(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var o,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)mn(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,d,f){var v=Math.floor(o/2),b=Math.floor(l/2),D=d-1,j=new X(+v,+b);j.z=+D;var G=this._tileCoordsToKey(j),oe=this._tiles[G];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),D>f?this._retainParent(v,b,D,f):!1)},_retainChildren:function(o,l,d,f){for(var v=2*o;v<2*o+2;v++)for(var b=2*l;b<2*l+2;b++){var D=new X(v,b);D.z=d+1;var j=this._tileCoordsToKey(D),G=this._tiles[j];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);d+1<f&&this._retainChildren(v,b,d+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,d,f){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var b=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||b)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(o),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],o,l)},_setZoomTransform:function(o,l,d){var f=this._map.getZoomScale(d,o.zoom),v=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,d)).round();Ve.any3d?Go(o.el,v,f):kn(o.el,v)},_resetGrid:function(){var o=this._map,l=o.options.crs,d=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/d.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/d.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(d,this._tileZoom),v=l.project(o,this._tileZoom).floor(),b=l.getSize().divideBy(f*2);return new He(v.subtract(b),v.add(b))},_update:function(o){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),v=this._pxBoundsToTileRange(f),b=v.getCenter(),D=[],j=this.options.keepBuffer,G=new He(v.getBottomLeft().subtract([j,-j]),v.getTopRight().add([j,-j]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var ze=this._tiles[oe].coords;(ze.z!==this._tileZoom||!G.contains(new X(ze.x,ze.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(o,d);return}for(var Ge=v.min.y;Ge<=v.max.y;Ge++)for(var Ct=v.min.x;Ct<=v.max.x;Ct++){var Vn=new X(Ct,Ge);if(Vn.z=this._tileZoom,!!this._isValidTile(Vn)){var Pn=this._tiles[this._tileCoordsToKey(Vn)];Pn?Pn.current=!0:D.push(Vn)}}if(D.sort(function(vi,yr){return vi.distanceTo(b)-yr.distanceTo(b)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(Ct=0;Ct<D.length;Ct++)this._addTile(D[Ct],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(o.x<d.min.x||o.x>d.max.x)||!l.wrapLat&&(o.y<d.min.y||o.y>d.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return yt(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,d=this.getTileSize(),f=o.scaleBy(d),v=f.add(d),b=l.unproject(f,o.z),D=l.unproject(v,o.z);return[b,D]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),d=new Bt(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),d=new X(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(o){var l=this._tiles[o];l&&(mn(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){gt(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=_,o.onmousemove=_,Ve.ielt9&&this.options.opacity<1&&Gi(o,this.options.opacity)},_addTile:function(o,l){var d=this._getTilePos(o),f=this._tileCoordsToKey(o),v=this.createTile(this._wrapCoords(o),r(this._tileReady,this,o));this._initTile(v),this.createTile.length<2&&Z(r(this._tileReady,this,o,null,v)),kn(v,d),this._tiles[f]={el:v,coords:o,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:o})},_tileReady:function(o,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:o});var f=this._tileCoordsToKey(o);d=this._tiles[f],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Gi(d.el,0),ue(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(gt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ve.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new X(this._wrapX?m(o.x,this._wrapX):o.x,this._wrapY?m(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new He(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function lf(o){return new $t(o)}var Ko=$t.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=U(this,l),l.detectRetina&&Ve.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var d=document.createElement("img");return ft(d,"load",r(this._tileOnLoad,this,l,d)),ft(d,"error",r(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(o),d},getTileUrl:function(o){var l={r:Ve.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=d),l["-y"]=d}return ce(this._url,i(l,this.options))},_tileOnLoad:function(o,l){Ve.ielt9?setTimeout(r(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,d){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(d,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,f=this.options.zoomOffset;return d&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=_,l.onerror=_,!l.complete)){l.src=st;var d=this._tiles[o].coords;mn(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",st),$t.prototype._removeTile.call(this,o)},_tileReady:function(o,l,d){if(!(!this._map||d&&d.getAttribute("src")===st))return $t.prototype._tileReady.call(this,o,l,d)}});function ps(o,l){return new Ko(o,l)}var zd=Ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var d=i({},this.defaultWmsParams);for(var f in l)f in this.options||(d[f]=l[f]);l=U(this,l);var v=l.detectRetina&&Ve.retina?2:1,b=this.getTileSize();d.width=b.x*v,d.height=b.y*v,this.wmsParams=d},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ko.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),d=this._crs,f=zt(d.project(l[0]),d.project(l[1])),v=f.min,b=f.max,D=(this._wmsVersion>=1.3&&this._crs===vd?[v.y,v.x,b.y,b.x]:[v.x,v.y,b.x,b.y]).join(","),j=Ko.prototype.getTileUrl.call(this,o);return j+q(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function cf(o,l){return new zd(o,l)}Ko.WMS=zd,ps.wms=cf;var io=Sn.extend({options:{padding:.1},initialize:function(o){U(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var d=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),b=f.multiplyBy(-d).add(v).subtract(this._map._getNewPixelOrigin(o,l));Ve.any3d?Go(this._container,b,d):kn(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new He(d,d.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fs=io.extend({options:{tolerance:0},getEvents:function(){var o=io.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ft(o,"mousemove",this._onMouseMove,this),ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,mn(this._container),ln(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){io.prototype._update.call(this);var o=this._bounds,l=this._container,d=o.getSize(),f=Ve.retina?2:1;kn(l,o.min),l.width=f*d.x,l.height=f*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",Ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,d=l.next,f=l.prev;d?d.prev=f:this._drawLast=f,f?f.next=d:this._drawFirst=d,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),d=[],f,v;for(v=0;v<l.length;v++){if(f=Number(l[v]),isNaN(f))return;d.push(f)}o.options._dashArray=d}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new He,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var d,f,v,b,D=o._parts,j=D.length,G=this._ctx;if(j){for(G.beginPath(),d=0;d<j;d++){for(f=0,v=D[d].length;f<v;f++)b=D[d][f],G[f?"lineTo":"moveTo"](b.x,b.y);l&&G.closePath()}this._fillStroke(G,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,d=this._ctx,f=Math.max(Math.round(o._radius),1),v=(Math.max(Math.round(o._radiusY),1)||f)/f;v!==1&&(d.save(),d.scale(1,v)),d.beginPath(),d.arc(l.x,l.y/v,f,0,Math.PI*2,!1),v!==1&&d.restore(),this._fillStroke(d,o)}},_fillStroke:function(o,l){var d=l.options;d.fill&&(o.globalAlpha=d.fillOpacity,o.fillStyle=d.fillColor||d.color,o.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=d.opacity,o.lineWidth=d.weight,o.strokeStyle=d.color,o.lineCap=d.lineCap,o.lineJoin=d.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),d,f,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(d))&&(f=d);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(gn(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var d,f,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(l)&&(f=d);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(gt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,d){this._map._fireDOMEvent(l,d||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var d=l.next,f=l.prev;if(d)d.prev=f;else return;f?f.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var d=l.next,f=l.prev;if(f)f.next=d;else return;d?d.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function ro(o){return Ve.canvas?new fs(o):null}var bo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bd={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(io.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=bo("shape");gt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=bo("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;mn(l),o.removeInteractiveTarget(l),delete this._layers[u(o)]},_updateStyle:function(o){var l=o._stroke,d=o._fill,f=o.options,v=o._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(l||(l=o._stroke=bo("stroke")),v.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=we(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(v.removeChild(l),o._stroke=null),f.fill?(d||(d=o._fill=bo("fill")),v.appendChild(d),d.color=f.fillColor||f.color,d.opacity=f.fillOpacity):d&&(v.removeChild(d),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),d=Math.round(o._radius),f=Math.round(o._radiusY||d);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Zo(o._container)},_bringToBack:function(o){vo(o._container)}},Xo=Ve.vml?bo:me,Fa=io.extend({_initContainer:function(){this._container=Xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mn(this._container),ln(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){io.prototype._update.call(this);var o=this._bounds,l=o.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),kn(d,o.min),d.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Xo("path");o.options.className&&gt(l,o.options.className),o.options.interactive&&gt(l,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){mn(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,d=o.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Ze(o._parts,l))},_updateCircle:function(o){var l=o._point,d=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||d,v="a"+d+","+f+" 0 1,0 ",b=o._empty()?"M0 0":"M"+(l.x-d)+","+l.y+v+d*2+",0 "+v+-d*2+",0 ";this._setPath(o,b)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Zo(o._path)},_bringToBack:function(o){vo(o._path)}});Ve.vml&&Fa.include(bd);function Yc(o){return Ve.svg||Ve.vml?new Fa(o):null}Vt.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&ro(o)||Yc(o)}});var ms=wa.extend({initialize:function(o,l){wa.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=yt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Sd(o,l){return new ms(o,l)}Fa.create=Xo,Fa.pointsToPath=Ze,Ri.geometryToLayer=Li,Ri.coordsToLatLng=Uc,Ri.coordsToLatLngs=pl,Ri.latLngToCoords=Zc,Ri.latLngsToCoords=fl,Ri.getFeature=Ta,Ri.asFeature=vr,Vt.mergeOptions({boxZoom:!0});var Oa=Mn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ln(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yo(),Tc(),this._startPoint=this._map.mouseEventToContainerPoint(o),ft(document,{contextmenu:Ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new He(this._point,this._startPoint),d=l.getSize();kn(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(mn(this._box),gn(this._container,"leaflet-crosshair")),Nr(),il(),ln(document,{contextmenu:Ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var l=new Bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",Oa),Vt.mergeOptions({doubleClickZoom:!0});var So=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,d=l.getZoom(),f=l.options.zoomDelta,v=o.originalEvent.shiftKey?d-f:d+f;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(o.containerPoint,v)}});Vt.addInitHook("addHandler","doubleClickZoom",So),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gs=Mn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new yo(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gn(this._map._container,"leaflet-grab"),gn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=yt(this._map.options.maxBounds);this._offsetLimit=zt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),d=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-l+d)%o+l-d,b=(f+l+d)%o-l-d,D=Math.abs(v+d)<Math.abs(b+d)?v:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(o){var l=this._map,d=l.options,f=!d.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,D=d.easeLinearity,j=v.multiplyBy(D/b),G=j.distanceTo([0,0]),oe=Math.min(d.inertiaMaxSpeed,G),ze=j.multiplyBy(oe/G),Ge=oe/(d.inertiaDeceleration*D),Ct=ze.multiplyBy(-Ge/2).round();!Ct.x&&!Ct.y?l.fire("moveend"):(Ct=l._limitOffset(Ct,l.options.maxBounds),Z(function(){l.panBy(Ct,{duration:Ge,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Vt.addInitHook("addHandler","dragging",gs),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wd=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ln(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,d=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},d=this.keyCodes,f,v;for(f=0,v=d.left.length;f<v;f++)l[d.left[f]]=[-1*o,0];for(f=0,v=d.right.length;f<v;f++)l[d.right[f]]=[o,0];for(f=0,v=d.down.length;f<v;f++)l[d.down[f]]=[0,o];for(f=0,v=d.up.length;f<v;f++)l[d.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},d=this.keyCodes,f,v;for(f=0,v=d.zoomIn.length;f<v;f++)l[d.zoomIn[f]]=o;for(f=0,v=d.zoomOut.length;f<v;f++)l[d.zoomOut[f]]=-o},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ln(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,d=this._map,f;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=be(f).multiplyBy(3)),d.options.maxBounds&&(f=d._limitOffset(be(f),d.options.maxBounds)),d.options.worldCopyJump){var v=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(f)));d.panTo(v)}else d.panBy(f)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ut(o)}}});Vt.addInitHook("addHandler","keyboard",wd),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Td=Mn.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ln(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=dd(o),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),f),Ut(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),d=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,b=d?Math.ceil(v/d)*d:v,D=o._limitZoom(l+(this._delta>0?b:-b))-l;this._delta=0,this._startTime=null,D&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+D):o.setZoomAround(this._lastMousePos,l+D))}});Vt.addInitHook("addHandler","scrollWheelZoom",Td);var uf=600;Vt.mergeOptions({tapHold:Ve.touchNative&&Ve.safari&&Ve.mobile,tapTolerance:15});var _s=Mn.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ln(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new X(l.clientX,l.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",_t),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),uf),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ln(document,"touchend",_t),ln(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ln(document,"touchend touchcancel contextmenu",this._cancel,this),ln(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new X(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var d=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Vt.addInitHook("addHandler","tapHold",_s),Vt.mergeOptions({touchZoom:Ve.touch,bounceAtZoomLimits:!0});var vs=Mn.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gn(this._map._container,"leaflet-touch-zoom"),ln(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(f)._divideBy(2))),this._startDist=d.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),_t(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),v=d.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var b=d._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&b.x===0&&b.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var D=r(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(D,this,!0),_t(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ue(this._animRequest),ln(document,"touchmove",this._onTouchMove,this),ln(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vt.addInitHook("addHandler","touchZoom",vs),Vt.BoxZoom=Oa,Vt.DoubleClickZoom=So,Vt.Drag=gs,Vt.Keyboard=wd,Vt.ScrollWheelZoom=Td,Vt.TapHold=_s,Vt.TouchZoom=vs,e.Bounds=He,e.Browser=Ve,e.CRS=Mt,e.Canvas=fs,e.Circle=hl,e.CircleMarker=dl,e.Class=ge,e.Control=Yi,e.DivIcon=hs,e.DivOverlay=Vr,e.DomEvent=ef,e.DomUtil=sd,e.Draggable=yo,e.Evented=Xe,e.FeatureGroup=Br,e.GeoJSON=Ri,e.GridLayer=$t,e.Handler=Mn,e.Icon=ba,e.ImageOverlay=Se,e.LatLng=Ye,e.LatLngBounds=Bt,e.Layer=Sn,e.LayerGroup=Co,e.LineUtil=Vc,e.Map=Vt,e.Marker=ul,e.Mixin=tf,e.Path=xo,e.Point=X,e.PolyUtil=Rc,e.Polygon=wa,e.Polyline=or,e.Popup=Ei,e.PosAnimation=Dc,e.Projection=Hc,e.Rectangle=ms,e.Renderer=io,e.SVG=Fa,e.SVGOverlay=tn,e.TileLayer=Ko,e.Tooltip=gl,e.Transformation=On,e.Util=Me,e.VideoOverlay=Zt,e.bind=r,e.bounds=zt,e.canvas=ro,e.circle=zo,e.circleMarker=jc,e.control=_r,e.divIcon=_l,e.extend=i,e.featureGroup=Cd,e.geoJSON=J,e.geoJson=Y,e.gridLayer=lf,e.icon=of,e.imageOverlay=ut,e.latLng=qe,e.latLngBounds=yt,e.layerGroup=us,e.map=ai,e.marker=Sa,e.point=be,e.polygon=sf,e.polyline=af,e.popup=ml,e.rectangle=Sd,e.setOptions=U,e.stamp=u,e.svg=Yc,e.svgOverlay=Gc,e.tileLayer=ps,e.tooltip=Ia,e.transformation=pn,e.version=t,e.videoOverlay=Gn;var Qc=window.L;e.noConflict=function(){return window.L=Qc,this},window.L=e})});var dc=vn(p1(),1),Eu=vn(Ch(),1),x2=vn(Jz(),1),z2=vn(_b(),1),cp=vn(r0(),1);var v6=Object.prototype.toString;function y6(e){return v6.call(e)==="[object Function]"}var Mb=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Rh=function(){function e(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function Tb(e){return e.split("").map(function(t){return"(?:"+t.toUpperCase()+"|"+t.toLowerCase()+")"}).join("")}function rc(e,t){for(var i=e.length-1;i>=0;i--)e[i]===t&&Array.prototype.splice.call(e,i,1)}function C6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o0={},Ib=function(){Rh(e,null,[{key:"getInstance",value:function(i){return o0[i]=o0[i]||new e,o0[i]}}]);function e(){Mb(this,e),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return Rh(e,[{key:"acronym",value:function(i){this.acronyms[i.toLowerCase()]=i;var n=[];for(var r in this.acronyms)C6(this.acronyms,r)&&n.push(this.acronyms[r]);this.acronymRegex=new RegExp(n.join("|"))}},{key:"plural",value:function(i,n){typeof i=="string"&&rc(this.uncountables,i),rc(this.uncountables,n),this.plurals.unshift([i,n])}},{key:"singular",value:function(i,n){typeof i=="string"&&rc(this.uncountables,i),rc(this.uncountables,n),this.singulars.unshift([i,n])}},{key:"irregular",value:function(i,n){rc(this.uncountables,i),rc(this.uncountables,n);var r=i[0],a=i.substr(1),u=n[0],p=n.substr(1);if(r.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+r+")"+a+"$","i"),"$1"+p),this.plural(new RegExp("("+u+")"+p+"$","i"),"$1"+p),this.singular(new RegExp("("+r+")"+a+"$","i"),"$1"+a),this.singular(new RegExp("("+u+")"+p+"$","i"),"$1"+a);else{var m=Tb(a),_=Tb(p);this.plural(new RegExp(r.toUpperCase()+m+"$"),u.toUpperCase()+p),this.plural(new RegExp(r.toLowerCase()+m+"$"),u.toLowerCase()+p),this.plural(new RegExp(u.toUpperCase()+_+"$"),u.toUpperCase()+p),this.plural(new RegExp(u.toLowerCase()+_+"$"),u.toLowerCase()+p),this.singular(new RegExp(r.toUpperCase()+m+"$"),r.toUpperCase()+a),this.singular(new RegExp(r.toLowerCase()+m+"$"),r.toLowerCase()+a),this.singular(new RegExp(u.toUpperCase()+_+"$"),r.toUpperCase()+a),this.singular(new RegExp(u.toLowerCase()+_+"$"),r.toLowerCase()+a)}}},{key:"uncountable",value:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];this.uncountables=this.uncountables.concat(n)}},{key:"human",value:function(i,n){this.humans.unshift([i,n])}},{key:"clear",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";i==="all"?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[i]=[]}}]),e}();function x6(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var Fb={en:x6};function Wa(e,t){if(y6(e)&&(t=e,e=null),e=e||"en",t)t(Ib.getInstance(e));else return Ib.getInstance(e)}for(a0 in Fb)Wa(a0,Fb[a0]);var a0;function Pb(e,t){var i=""+e,n,r,a;if(i.length===0)return i;var u=i.toLowerCase().match(/\b\w+$/);if(u&&Wa().uncountables.indexOf(u[0])>-1)return i;for(var p=0,m=t.length;p<m;p++)if(n=t[p],r=n[0],a=n[1],i.match(r)){i=i.replace(r,a);break}return i}function l0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Pb(e,Wa(t).plurals)}function c0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Pb(e,Wa(t).singulars)}function Lh(e){var t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)}function Db(e,t){t==null&&(t=!0);var i=""+e;return t?i=i.replace(/^[a-z\d]*/,function(n){return Wa().acronyms[n]||Lh(n)}):i=i.replace(new RegExp("^(?:"+Wa().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(n){return n.toLowerCase()}),i=i.replace(/(?:_|(\/))([a-z\d]*)/gi,function(n,r,a,u,p){return r||(r=""),""+r+(Wa().acronyms[a]||Lh(a))}),i}function Eb(e){var t=""+e;return t=t.replace(new RegExp("(?:([A-Za-z\\d])|^)("+Wa().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(i,n,r){return""+(n||"")+(n?"_":"")+r.toLowerCase()}),t=t.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/([a-z\d])([A-Z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()}function Ab(e){return e.replace(/_/g,"-")}var Ob={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00C6:"AE",\u00C7:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O","\xD7":"x",\u00D8:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00DD:"Y",\u00DE:"Th",\u00DF:"ss",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00E6:"ae",\u00E7:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FE:"th",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u011D:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014A:"NG",\u014B:"ng",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041A:"K",\u041B:"L",\u041C:"M",\u041D:"N",\u041E:"O",\u041F:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042A:"",\u042B:"Y",\u042C:"",\u042D:"E",\u042E:"YU",\u042F:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043A:"k",\u043B:"l",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044A:"",\u044B:"y",\u044C:"",\u044D:"e",\u044E:"yu",\u044F:"ya"},z6="?",s0={},Ane=function(){Rh(e,null,[{key:"getInstance",value:function(i){return s0[i]=s0[i]||new e,s0[i]}}]);function e(){Mb(this,e),this.approximations={};for(var t in Ob)this.approximate(t,Ob[t])}return Rh(e,[{key:"approximate",value:function(i,n){this.approximations[i]=n}},{key:"transliterate",value:function(i,n){var r=this;return i.replace(/[^\u0000-\u007f]/g,function(a){return r.approximations[a]||n||z6})}}]),e}();var b2=vn(eS(),1),Kh=vn(nS(),1),S2=vn(cS(),1),w2=vn(bw(),1),ma=vn(qw(),1),Au=vn(Ww(),1),T2=vn(Yw(),1),Yh=vn(Jw(),1),Xh=vn(tT(),1),eg=vn(Xm(),1),tg=vn(iT(),1),I2=vn(sT(),1),F2=vn(vT(),1),Jh=vn(ST(),1),Qh=vn(HT(),1),H0=vn(jT(),1);typeof global<"u"&&typeof global.self>"u"&&(global.self={},global.__pretenderNodePolyfill=!0);var V7=Object.create;function C0(){var e=V7(null);return e.__=void 0,delete e.__,e}var YT=function(t,i,n){this.path=t,this.matcher=i,this.delegate=n};YT.prototype.to=function(t,i){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),i){if(i.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,i,this.delegate)}};var Hh=function(t){this.routes=C0(),this.children=C0(),this.target=t};Hh.prototype.add=function(t,i){this.routes[t]=i};Hh.prototype.addChild=function(t,i,n,r){var a=new Hh(i);this.children[t]=a;var u=x0(t,a,r);r&&r.contextEntered&&r.contextEntered(i,u),n(u)};function x0(e,t,i){function n(r,a){var u=e+r;if(a)a(x0(u,t,i));else return new YT(u,t,i)}return n}function $7(e,t,i){for(var n=0,r=0;r<e.length;r++)n+=e[r].path.length;t=t.substr(n);var a={path:t,handler:i};e.push(a)}function QT(e,t,i,n){for(var r=t.routes,a=Object.keys(r),u=0;u<a.length;u++){var p=a[u],m=e.slice();$7(m,p,r[p]);var _=t.children[p];_?QT(m,_,i,n):i.call(n,m)}}var H7=function(e,t){var i=new Hh;e(x0("",i,this.delegate)),QT([],i,function(n){t?t(this,n):this.add(n)},this)};function KT(e){return e.split("/").map(z0).join("/")}var q7=/%|\//g;function z0(e){return e.length<3||e.indexOf("%")===-1?e:decodeURIComponent(e).replace(q7,encodeURIComponent)}var j7=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function XT(e){return encodeURIComponent(e).replace(j7,decodeURIComponent)}var W7=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,jh=Array.isArray,U7=Object.prototype.hasOwnProperty;function JT(e,t){if(typeof e!="object"||e===null)throw new Error("You must pass an object as the second argument to `generate`.");if(!U7.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.");var i=e[t],n=typeof i=="string"?i:""+i;if(n.length===0)throw new Error("You must provide a param `"+t+"`.");return n}var Fu=[];Fu[0]=function(e,t){for(var i=t,n=e.value,r=0;r<n.length;r++){var a=n.charCodeAt(r);i=i.put(a,!1,!1)}return i};Fu[1]=function(e,t){return t.put(47,!0,!0)};Fu[2]=function(e,t){return t.put(-1,!1,!0)};Fu[4]=function(e,t){return t};var Ou=[];Ou[0]=function(e){return e.value.replace(W7,"\\$1")};Ou[1]=function(){return"([^/]+)"};Ou[2]=function(){return"(.+)"};Ou[4]=function(){return""};var Mu=[];Mu[0]=function(e){return e.value};Mu[1]=function(e,t){var i=JT(t,e.value);return nr.ENCODE_AND_DECODE_PATH_SEGMENTS?XT(i):i};Mu[2]=function(e,t){return JT(t,e.value)};Mu[4]=function(){return""};var WT=Object.freeze({}),qh=Object.freeze([]);function Z7(e,t,i){t.length>0&&t.charCodeAt(0)===47&&(t=t.substr(1));for(var n=t.split("/"),r=void 0,a=void 0,u=0;u<n.length;u++){var p=n[u],m=0,_=0;p===""?_=4:p.charCodeAt(0)===58?_=1:p.charCodeAt(0)===42?_=2:_=0,m=2<<_,m&12&&(p=p.slice(1),r=r||[],r.push(p),a=a||[],a.push((m&4)!==0)),m&14&&i[_]++,e.push({type:_,value:z0(p)})}return{names:r||qh,shouldDecodes:a||qh}}function UT(e,t,i){return e.char===t&&e.negate===i}var sc=function(t,i,n,r,a){this.states=t,this.id=i,this.char=n,this.negate=r,this.nextStates=a?i:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};sc.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex};sc.prototype.get=function(t,i){var n=this,r=this.nextStates;if(r!==null)if(jh(r))for(var a=0;a<r.length;a++){var u=n.states[r[a]];if(UT(u,t,i))return u}else{var p=this.states[r];if(UT(p,t,i))return p}};sc.prototype.put=function(t,i,n){var r;if(r=this.get(t,i))return r;var a=this.states;return r=new sc(a,a.length,t,i,n),a[a.length]=r,this.nextStates==null?this.nextStates=r.id:jh(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r};sc.prototype.match=function(t){var i=this,n=this.nextStates;if(!n)return[];var r=[];if(jh(n))for(var a=0;a<n.length;a++){var u=i.states[n[a]];ZT(u,t)&&r.push(u)}else{var p=this.states[n];ZT(p,t)&&r.push(p)}return r};function ZT(e,t){return e.negate?e.char!==t&&e.char!==-1:e.char===t||e.char===-1}function G7(e){return e.sort(function(t,i){var n=t.types||[0,0,0],r=n[0],a=n[1],u=n[2],p=i.types||[0,0,0],m=p[0],_=p[1],O=p[2];if(u!==O)return u-O;if(u){if(r!==m)return m-r;if(a!==_)return _-a}return a!==_?a-_:r!==m?m-r:0})}function Y7(e,t){for(var i=[],n=0,r=e.length;n<r;n++){var a=e[n];i=i.concat(a.match(t))}return i}var Wh=function(t){this.length=0,this.queryParams=t||{}};Wh.prototype.splice=Array.prototype.splice;Wh.prototype.slice=Array.prototype.slice;Wh.prototype.push=Array.prototype.push;function Q7(e,t,i){var n=e.handlers,r=e.regex();if(!r||!n)throw new Error("state not initialized");var a=t.match(r),u=1,p=new Wh(i);p.length=n.length;for(var m=0;m<n.length;m++){var _=n[m],O=_.names,F=_.shouldDecodes,N=WT,U=!1;if(O!==qh&&F!==qh)for(var q=0;q<O.length;q++){U=!0;var se=O[q],ce=a&&a[u++];N===WT&&(N={}),nr.ENCODE_AND_DECODE_PATH_SEGMENTS&&F[q]?N[se]=ce&&decodeURIComponent(ce):N[se]=ce}p[m]={handler:_.handler,params:N,isDynamic:U}}return p}function GT(e){e=e.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(e)}catch{t=""}return t}var nr=function(){this.names=C0();var t=[],i=new sc(t,0,-1,!0,!1);t[0]=i,this.states=t,this.rootState=i};nr.prototype.add=function(t,i){for(var n=this.rootState,r="^",a=[0,0,0],u=new Array(t.length),p=[],m=!0,_=0,O=0;O<t.length;O++){for(var F=t[O],N=Z7(p,F.path,a),U=N.names,q=N.shouldDecodes;_<p.length;_++){var se=p[_];se.type!==4&&(m=!1,n=n.put(47,!1,!1),r+="/",n=Fu[se.type](se,n),r+=Ou[se.type](se))}u[O]={handler:F.handler,names:U,shouldDecodes:q}}m&&(n=n.put(47,!1,!1),r+="/"),n.handlers=u,n.pattern=r+"$",n.types=a;var ce;typeof i=="object"&&i!==null&&i.as&&(ce=i.as),ce&&(this.names[ce]={segments:p,handlers:u})};nr.prototype.handlersFor=function(t){var i=this.names[t];if(!i)throw new Error("There is no route named "+t);for(var n=new Array(i.handlers.length),r=0;r<i.handlers.length;r++){var a=i.handlers[r];n[r]=a}return n};nr.prototype.hasRoute=function(t){return!!this.names[t]};nr.prototype.generate=function(t,i){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var a=n.segments,u=0;u<a.length;u++){var p=a[u];p.type!==4&&(r+="/",r+=Mu[p.type](p,i))}return r.charAt(0)!=="/"&&(r="/"+r),i&&i.queryParams&&(r+=this.generateQueryString(i.queryParams)),r};nr.prototype.generateQueryString=function(t){var i=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var a=n[r],u=t[a];if(u!=null){var p=encodeURIComponent(a);if(jh(u))for(var m=0;m<u.length;m++){var _=a+"[]="+encodeURIComponent(u[m]);i.push(_)}else p+="="+encodeURIComponent(u),i.push(p)}}return i.length===0?"":"?"+i.join("&")};nr.prototype.parseQueryString=function(t){for(var i=t.split("&"),n={},r=0;r<i.length;r++){var a=i[r].split("="),u=GT(a[0]),p=u.length,m=!1,_=void 0;a.length===1?_="true":(p>2&&u.slice(p-2)==="[]"&&(m=!0,u=u.slice(0,p-2),n[u]||(n[u]=[])),_=a[1]?GT(a[1]):""),m?n[u].push(_):n[u]=_}return n};nr.prototype.recognize=function(t){var i,n=[this.rootState],r={},a=!1,u=t.indexOf("#");u!==-1&&(t=t.substr(0,u));var p=t.indexOf("?");if(p!==-1){var m=t.substr(p+1,t.length);t=t.substr(0,p),r=this.parseQueryString(m)}t.charAt(0)!=="/"&&(t="/"+t);var _=t;nr.ENCODE_AND_DECODE_PATH_SEGMENTS?t=KT(t):(t=decodeURI(t),_=decodeURI(_));var O=t.length;O>1&&t.charAt(O-1)==="/"&&(t=t.substr(0,O-1),_=_.substr(0,_.length-1),a=!0);for(var F=0;F<t.length&&(n=Y7(n,t.charCodeAt(F)),!!n.length);F++);for(var N=[],U=0;U<n.length;U++)n[U].handlers&&N.push(n[U]);n=G7(N);var q=N[0];return q&&q.handlers&&(a&&q.pattern&&q.pattern.slice(-5)==="(.+)$"&&(_=_+"/"),i=Q7(q,_,r)),i};nr.VERSION="0.3.4";nr.ENCODE_AND_DECODE_PATH_SEGMENTS=!0;nr.Normalizer={normalizeSegment:z0,normalizePath:KT,encodePathSegment:XT};nr.prototype.map=H7;var Ua=nr;var Za=function(t,i,n,r){this.type=t,this.bubbles=i,this.cancelable=n,this.target=r};Za.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var K7={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function X7(e){var t;if(typeof DOMParser<"u"){var i=new DOMParser;t=i.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}var J7={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function eq(e,t){t.addEventListener(e,function(i){var n=t["on"+e];n&&typeof n=="function"&&n.call(i.target,i)})}function Uh(){this._eventListeners={};for(var e=["loadstart","progress","load","abort","loadend"],t=e.length-1;t>=0;t--)eq(e[t],this)}Uh.prototype={addEventListener:function(t,i){this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push(i)},removeEventListener:function(t,i){for(var n=this._eventListeners[t]||[],r=0,a=n.length;r<a;++r)if(n[r]==i)return n.splice(r,1)},dispatchEvent:function(t){for(var i=t.type,n=this._eventListeners[i]||[],r=0;r<n.length;r++)typeof n[r]=="function"?n[r].call(this,t):n[r].handleEvent(t);return!!t.defaultPrevented},_progress:function(t,i,n){var r=new Za("progress");r.target=this,r.lengthComputable=t,r.loaded=i,r.total=n,this.dispatchEvent(r)}};function xn(){Uh.call(this),this.readyState=xn.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new Uh,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}xn.prototype=new Uh;xn.UNSENT=0;xn.OPENED=1;xn.HEADERS_RECEIVED=2;xn.LOADING=3;xn.DONE=4;var e2={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(t,i,n,r,a){this.method=t,this.url=i,this.async=typeof n=="boolean"?n:!0,this.username=r,this.password=a,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=i,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(xn.OPENED)},setRequestHeader:function(t,i){if(t2(this),J7[t]||/^(Sec-|Proxy-)/.test(t))throw new Error('Refused to set unsafe header "'+t+'"');this.requestHeaders[t]?this.requestHeaders[t]+=","+i:this.requestHeaders[t]=i},send:function(t){if(t2(this),!/^(get|head)$/i.test(this.method)){var i=!1;Object.keys(this.requestHeaders).forEach(function(n){n.toLowerCase()==="content-type"&&(i=!0)}),!i&&!(t||"").toString().match("FormData")&&(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=t}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(xn.OPENED),typeof this.onSend=="function"&&this.onSend(this),this.dispatchEvent(new Za("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new Za("abort",!1,!1,this)),this.readyState>xn.UNSENT&&this.sendFlag&&(this._readyStateChange(xn.UNSENT),this.sendFlag=!1),typeof this.onerror=="function"&&this.onerror()},getResponseHeader:function(t){if(this.readyState<xn.HEADERS_RECEIVED||/^Set-Cookie2?$/i.test(t))return null;t=t.toLowerCase();for(var i in this.responseHeaders)if(i.toLowerCase()==t)return this.responseHeaders[i];return null},getAllResponseHeaders:function(){if(this.readyState<xn.HEADERS_RECEIVED)return"";var t="";for(var i in this.responseHeaders)this.responseHeaders.hasOwnProperty(i)&&!/^Set-Cookie2?$/i.test(i)&&(t+=i+": "+this.responseHeaders[i]+`\r
`);return t},overrideMimeType:function(t){typeof t=="string"&&(this.forceMimeType=t.toLowerCase())},_readyStateChange:function(t){this.readyState=t,typeof this.onreadystatechange=="function"&&this.onreadystatechange(new Za("readystatechange")),this.dispatchEvent(new Za("readystatechange")),this.readyState==xn.DONE&&this.dispatchEvent(new Za("load",!1,!1,this)),(this.readyState==xn.UNSENT||this.readyState==xn.DONE)&&this.dispatchEvent(new Za("loadend",!1,!1,this))},_setResponseHeaders:function(t){this.responseHeaders={};for(var i in t)t.hasOwnProperty(i)&&(this.responseHeaders[i]=t[i]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(xn.HEADERS_RECEIVED):this.readyState=xn.HEADERS_RECEIVED},_setResponseBody:function(t){tq(this),nq(this),iq(t);var i=this.chunkSize||10,n=0;this.responseText="",this.response=this.responseText;do this.async&&this._readyStateChange(xn.LOADING),this.responseText+=t.substring(n,n+i),this.response=this.responseText,n+=i;while(n<t.length);var r=this.getResponseHeader("Content-Type");if(this.responseText&&(!r||/(text\/xml)|(application\/xml)|(\+xml)/.test(r)))try{this.responseXML=X7(this.responseText)}catch{}this.async?this._readyStateChange(xn.DONE):this.readyState=xn.DONE},respond:function(t,i,n){this._setResponseHeaders(i||{}),this.status=typeof t=="number"?t:200,this.statusText=K7[this.status],this._setResponseBody(n||"")}};for(b0 in e2)xn.prototype[b0]=e2[b0];var b0;function t2(e){if(e.readyState!==xn.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function tq(e){if(e.readyState==xn.DONE)throw new Error("Request done")}function nq(e){if(e.async&&e.readyState!=xn.HEADERS_RECEIVED)throw new Error("No headers received")}function iq(e){if(typeof e!="string"){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw t.name="InvalidBodyException",t}}var Pu=xn;var n2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c2=function(t,i){if(i=i.split(":")[0],t=+t,!t)return!1;switch(i){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},rq=Object.prototype.hasOwnProperty,oq;function i2(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function aq(e){for(var t=/([^=?&]+)=?([^&]*)/g,i={},n;n=t.exec(e);){var r=i2(n[1]),a=i2(n[2]);r===null||a===null||r in i||(i[r]=a)}return i}function sq(e,t){t=t||"";var i=[],n,r;typeof t!="string"&&(t="?");for(r in e)if(rq.call(e,r)){if(n=e[r],!n&&(n===null||n===oq||isNaN(n))&&(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),r===null||n===null)continue;i.push(r+"="+n)}return i.length?t+i.join("&"):""}var lq=sq,cq=aq,Zh={stringify:lq,parse:cq},uq=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,dq=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,hq=/^[a-zA-Z]:/,pq="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",fq=new RegExp("^"+pq+"+");function F0(e){return(e||"").toString().replace(fq,"")}var T0=[["#","hash"],["?","query"],function(t,i){return fa(i.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],r2={hash:1,query:1};function u2(e){var t;typeof window<"u"?t=window:typeof n2<"u"?t=n2:typeof self<"u"?t=self:t={};var i=t.location||{};e=e||i;var n={},r=typeof e,a;if(e.protocol==="blob:")n=new qo(unescape(e.pathname),{});else if(r==="string"){n=new qo(e,{});for(a in r2)delete n[a]}else if(r==="object"){for(a in e)a in r2||(n[a]=e[a]);n.slashes===void 0&&(n.slashes=uq.test(e.href))}return n}function fa(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function d2(e,t){e=F0(e),t=t||{};var i=dq.exec(e),n=i[1]?i[1].toLowerCase():"",r=!!i[2],a=!!i[3],u=0,p;return r?a?(p=i[2]+i[3]+i[4],u=i[2].length+i[3].length):(p=i[2]+i[4],u=i[2].length):a?(p=i[3]+i[4],u=i[3].length):p=i[4],n==="file:"?u>=2&&(p=p.slice(2)):fa(n)?p=i[4]:n?r&&(p=p.slice(2)):u>=2&&fa(t.protocol)&&(p=i[4]),{protocol:n,slashes:r||fa(n),slashesCount:u,rest:p}}function mq(e,t){if(e==="")return t;for(var i=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=i.length,r=i[n-1],a=!1,u=0;n--;)i[n]==="."?i.splice(n,1):i[n]===".."?(i.splice(n,1),u++):u&&(n===0&&(a=!0),i.splice(n,1),u--);return a&&i.unshift(""),(r==="."||r==="..")&&i.push(""),i.join("/")}function qo(e,t,i){if(e=F0(e),!(this instanceof qo))return new qo(e,t,i);var n,r,a,u,p,m,_=T0.slice(),O=typeof t,F=this,N=0;for(O!=="object"&&O!=="string"&&(i=t,t=null),i&&typeof i!="function"&&(i=Zh.parse),t=u2(t),r=d2(e||"",t),n=!r.protocol&&!r.slashes,F.slashes=r.slashes||n&&t.slashes,F.protocol=r.protocol||t.protocol||"",e=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||hq.test(e))||!r.slashes&&(r.protocol||r.slashesCount<2||!fa(F.protocol)))&&(_[3]=[/(.*)/,"pathname"]);N<_.length;N++){if(u=_[N],typeof u=="function"){e=u(e,F);continue}a=u[0],m=u[1],a!==a?F[m]=e:typeof a=="string"?~(p=e.indexOf(a))&&(typeof u[2]=="number"?(F[m]=e.slice(0,p),e=e.slice(p+u[2])):(F[m]=e.slice(p),e=e.slice(0,p))):(p=a.exec(e))&&(F[m]=p[1],e=e.slice(0,p.index)),F[m]=F[m]||n&&u[3]&&t[m]||"",u[4]&&(F[m]=F[m].toLowerCase())}i&&(F.query=i(F.query)),n&&t.slashes&&F.pathname.charAt(0)!=="/"&&(F.pathname!==""||t.pathname!=="")&&(F.pathname=mq(F.pathname,t.pathname)),F.pathname.charAt(0)!=="/"&&fa(F.protocol)&&(F.pathname="/"+F.pathname),c2(F.port,F.protocol)||(F.host=F.hostname,F.port=""),F.username=F.password="",F.auth&&(u=F.auth.split(":"),F.username=u[0]||"",F.password=u[1]||""),F.origin=F.protocol!=="file:"&&fa(F.protocol)&&F.host?F.protocol+"//"+F.host:"null",F.href=F.toString()}function gq(e,t,i){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(i||Zh.parse)(t)),n[e]=t;break;case"port":n[e]=t,c2(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!i;break;case"pathname":case"hash":if(t){var r=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==r?r+t:t}else n[e]=t;break;default:n[e]=t}for(var a=0;a<T0.length;a++){var u=T0[a];u[4]&&(n[u[1]]=n[u[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&fa(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function _q(e){(!e||typeof e!="function")&&(e=Zh.stringify);var t,i=this,n=i.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var r=n+(i.slashes||fa(i.protocol)?"//":"");return i.username&&(r+=i.username,i.password&&(r+=":"+i.password),r+="@"),r+=i.host+i.pathname,t=typeof i.query=="object"?e(i.query):i.query,t&&(r+=t.charAt(0)!=="?"?"?"+t:t),i.hash&&(r+=i.hash),r}qo.prototype={set:gq,toString:_q};qo.extractProtocol=d2;qo.location=u2;qo.trimLeft=F0;qo.qs=Zh;var vq=qo;function lc(e){var t=new vq(e);t.host||(t.href=t.href);var i=t.pathname;i.charAt(0)!=="/"&&(i="/"+i);var n=t.host;return(t.port==="80"||t.port==="443")&&(n=t.hostname),{host:n,protocol:t.protocol,search:t.query,hash:t.hash,href:t.href,pathname:i,fullpath:i+(t.query||"")+(t.hash||"")}}var O0=function(){function e(){this.verbs={GET:new Ua,PUT:new Ua,POST:new Ua,DELETE:new Ua,PATCH:new Ua,HEAD:new Ua,OPTIONS:new Ua}}return e}(),I0=function(){function e(){this.registries={}}return e.prototype.forURL=function(t){var i=lc(t).host,n=this.registries[i];return n===void 0&&(n=this.registries[i]=new O0),n.verbs},e}(),Zi=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Zi<"u"&&Zi,mr={searchParams:"URLSearchParams"in Zi,iterable:"Symbol"in Zi&&"iterator"in Symbol,blob:"FileReader"in Zi&&"Blob"in Zi&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Zi,arrayBuffer:"ArrayBuffer"in Zi};function yq(e){return e&&DataView.prototype.isPrototypeOf(e)}mr.arrayBuffer&&(o2=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h2=ArrayBuffer.isView||function(e){return e&&o2.indexOf(Object.prototype.toString.call(e))>-1});var o2,h2;function Du(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function M0(e){return typeof e!="string"&&(e=String(e)),e}function P0(e){var t={next:function(){var i=e.shift();return{done:i===void 0,value:i}}};return mr.iterable&&(t[Symbol.iterator]=function(){return t}),t}function ci(e){this.map={},e instanceof ci?e.forEach(function(t,i){this.append(i,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}ci.prototype.append=function(e,t){e=Du(e),t=M0(t);var i=this.map[e];this.map[e]=i?i+", "+t:t};ci.prototype.delete=function(e){delete this.map[Du(e)]};ci.prototype.get=function(e){return e=Du(e),this.has(e)?this.map[e]:null};ci.prototype.has=function(e){return this.map.hasOwnProperty(Du(e))};ci.prototype.set=function(e,t){this.map[Du(e)]=M0(t)};ci.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)};ci.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),P0(e)};ci.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),P0(e)};ci.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),P0(e)};mr.iterable&&(ci.prototype[Symbol.iterator]=ci.prototype.entries);function S0(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p2(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function Cq(e){var t=new FileReader,i=p2(t);return t.readAsArrayBuffer(e),i}function xq(e){var t=new FileReader,i=p2(t);return t.readAsText(e),i}function zq(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}function a2(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f2(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:mr.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:mr.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:mr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():mr.arrayBuffer&&mr.blob&&yq(e)?(this._bodyArrayBuffer=a2(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):mr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||h2(e))?this._bodyArrayBuffer=a2(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):mr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},mr.blob&&(this.blob=function(){var e=S0(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=S0(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Cq)}),this.text=function(){var e=S0(this);if(e)return e;if(this._bodyBlob)return xq(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(zq(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},mr.formData&&(this.formData=function(){return this.text().then(wq)}),this.json=function(){return this.text().then(JSON.parse)},this}var bq=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Sq(e){var t=e.toUpperCase();return bq.indexOf(t)>-1?t:e}function Ya(e,t){if(!(this instanceof Ya))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var i=t.body;if(e instanceof Ya){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new ci(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!i&&e._bodyInit!=null&&(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new ci(t.headers)),this.method=Sq(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var r=/\?/;this.url+=(r.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ya.prototype.clone=function(){return new Ya(this,{body:this._bodyInit})};function wq(e){var t=new FormData;return e.trim().split("&").forEach(function(i){if(i){var n=i.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function Tq(e){var t=new ci,i=e.replace(/\r?\n[\t ]+/g," ");return i.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var r=n.split(":"),a=r.shift().trim();if(a){var u=r.join(":").trim();t.append(a,u)}}),t}f2.call(Ya.prototype);function fo(e,t){if(!(this instanceof fo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new ci(t.headers),this.url=t.url||"",this._initBody(e)}f2.call(fo.prototype);fo.prototype.clone=function(){return new fo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ci(this.headers),url:this.url})};fo.error=function(){var e=new fo(null,{status:0,statusText:""});return e.type="error",e};var Iq=[301,302,303,307,308];fo.redirect=function(e,t){if(Iq.indexOf(t)===-1)throw new RangeError("Invalid status code");return new fo(null,{status:t,headers:{location:e}})};var Ga=Zi.DOMException;try{new Ga}catch{Ga=function(t,i){this.message=t,this.name=i;var n=Error(t);this.stack=n.stack},Ga.prototype=Object.create(Error.prototype),Ga.prototype.constructor=Ga}function D0(e,t){return new Promise(function(i,n){var r=new Ya(e,t);if(r.signal&&r.signal.aborted)return n(new Ga("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var m={status:a.status,statusText:a.statusText,headers:Tq(a.getAllResponseHeaders()||"")};m.url="responseURL"in a?a.responseURL:m.headers.get("X-Request-URL");var _="response"in a?a.response:a.responseText;setTimeout(function(){i(new fo(_,m))},0)},a.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){n(new Ga("Aborted","AbortError"))},0)};function p(m){try{return m===""&&Zi.location.href?Zi.location.href:m}catch{return m}}a.open(r.method,p(r.url),!0),r.credentials==="include"?a.withCredentials=!0:r.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(mr.blob?a.responseType="blob":mr.arrayBuffer&&r.headers.get("Content-Type")&&r.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(a.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof ci)?Object.getOwnPropertyNames(t.headers).forEach(function(m){a.setRequestHeader(m,M0(t.headers[m]))}):r.headers.forEach(function(m,_){a.setRequestHeader(_,m)}),r.signal&&(r.signal.addEventListener("abort",u),a.onreadystatechange=function(){a.readyState===4&&r.signal.removeEventListener("abort",u)}),a.send(typeof r._bodyInit>"u"?null:r._bodyInit)})}D0.polyfill=!0;Zi.fetch||(Zi.fetch=D0,Zi.Headers=ci,Zi.Request=Ya,Zi.Response=fo);var s2=Object.freeze({__proto__:null,Headers:ci,Request:Ya,Response:fo,get DOMException(){return Ga},fetch:D0});function Fq(e,t){var i=["error","timeout","abort","readystatechange"],n=[],r=["readyState","responseText","response","responseXML","responseURL","status","statusText"],a=e._passthroughRequest=new t;a.open(e.method,e.url,e.async,e.username,e.password),e.responseType==="arraybuffer"&&(r=["readyState","response","status","statusText"],a.responseType=e.responseType),"onload"in a&&i.push("load"),e.async&&e.responseType!=="arraybuffer"&&(i.push("progress"),n.push("progress"));function u(N,U,q){for(var se=0;se<N.length;se++){var ce=N[se];ce in U&&(q[ce]=U[ce])}}function p(N,U,q){N.dispatchEvent(q),N["on"+U]&&N["on"+U](q)}function m(N){a["on"+N]=function(U){u(r,a,e),p(e,N,U)}}function _(N){a.upload&&e.upload&&e.upload["on"+N]&&(a.upload["on"+N]=function(U){p(e.upload,N,U)})}var O;for(O=0;O<i.length;O++)m(i[O]);for(O=0;O<n.length;O++)_(n[O]);e.async&&(a.timeout=e.timeout,a.withCredentials=e.withCredentials),!a.timeout&&a.timeout!==0&&(a.timeout=0);for(var F in e.requestHeaders)a.setRequestHeader(F,e.requestHeaders[F]);return a}function Oq(e){function t(){Pu.call(this)}return t.prototype=Object.create(Pu.prototype),t.prototype.constructor=t,t.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");Pu.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},t.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var n=Fq(this,e.pretender._nativeXMLHttpRequest);return n.send.apply(n,this.sendArguments),n},t.prototype._passthroughCheck=function(i,n){return this._passthroughRequest?this._passthroughRequest[i].apply(this._passthroughRequest,n):Pu.prototype[i].apply(this,n)},t.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},t.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},t.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),t}var w0=function(){function e(){this.length=0}return e.prototype.push=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return 0},e}();function m2(e,t,i){var n=0,r=e.requestBody;r&&(r instanceof FormData?r.forEach(function(a){a instanceof File?n+=a.size:n+=a.length}):n=r.byteLength||r.size||r.length||0),setTimeout(function(){if(!e.aborted&&!e.status){var a=new Date().getTime()-t.getTime(),u=i<=0?0:a/i*n;e.upload._progress(!0,u,n),e._progress(!0,u,n),m2(e,t,i)}else e.status&&(e.upload._progress(!0,n,n),e._progress(!0,n,n))},50)}function Mq(e){return Object.prototype.toString.call(e)==="[object Array]"}var l2={};function Vs(e){return function(t,i,n){return this.register(e,t,i,n)}}var Gh=function(){function e(){var t=this;this.hosts=new I0,this.handlers=[],this.get=Vs("GET"),this.post=Vs("POST"),this.put=Vs("PUT"),this.delete=Vs("DELETE"),this.patch=Vs("PATCH"),this.head=Vs("HEAD"),this.options=Vs("OPTIONS"),this.passthrough=l2;var i=arguments[arguments.length-1],n=typeof i=="object"?i:null,r=n&&n.trackRequests===!1;this.handledRequests=r?new w0:[],this.passthroughRequests=r?new w0:[],this.unhandledRequests=r?new w0:[],this.requestReferences=[],this.forcePassthrough=n&&n.forcePassthrough===!0,this.disableUnhandled=n&&n.disableUnhandled===!0,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var a={pretender:this};this.ctx=a,self.XMLHttpRequest=Oq(a),this._fetchProps=s2?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach(function(m){t["_native"+m]=self[m],self[m]=s2[m]},this),this.running=!0;for(var u=n?arguments.length-1:arguments.length,p=0;p<u;p++)this.map(arguments[p])}return e.prototype.map=function(t){t.call(this)},e.prototype.register=function(t,i,n,r){if(!n)throw new Error("The function you tried passing to Pretender to handle "+t+" "+i+" is undefined or missing.");var a=n;a.numberOfCalls=0,a.async=r,this.handlers.push(a);var u=this.hosts.forURL(i)[t];return u.add([{path:lc(i).fullpath,handler:a}]),a},e.prototype.checkPassthrough=function(t){var i=t.method.toUpperCase(),n=lc(t.url).fullpath,r=this.hosts.forURL(t.url)[i].recognize(n),a=r&&r[0];return a&&a.handler===l2||this.forcePassthrough?(this.passthroughRequests.push(t),this.passthroughRequest(i,n,t),!0):!1},e.prototype.handleRequest=function(t){var i=t.method.toUpperCase(),n=t.url,r=this._handlerFor(i,n,t);if(r){r.handler.numberOfCalls++;var a=r.handler.async;this.handledRequests.push(t);var u=this,p=function(_){if(!Mq(_)){var O="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+n+". "+O)}var F=_[0],N=u.prepareHeaders(_[1]),U=u.prepareBody(_[2],N);u.handleResponse(t,a,function(){t.respond(F,N,U),u.handledRequest(i,n,t)})};try{var m=r.handler(t);m&&typeof m.then=="function"?m.then(function(_){p(_)}):p(m)}catch(_){this.erroredRequest(i,n,t,_),this.resolve(t)}}else this.disableUnhandled||(this.unhandledRequests.push(t),this.unhandledRequest(i,n,t))},e.prototype.handleResponse=function(t,i,n){var r=typeof i=="function"?i():i;if(r=typeof r=="boolean"||typeof r=="number"?r:0,r===!1)n();else{var a=this;a.requestReferences.push({request:t,callback:n}),r!==!0&&(m2(t,new Date,r),setTimeout(function(){a.resolve(t)},r))}},e.prototype.resolve=function(t){for(var i=0,n=this.requestReferences.length;i<n;i++){var r=this.requestReferences[i];if(r.request===t){r.callback(),this.requestReferences.splice(i,1);break}}},e.prototype.requiresManualResolution=function(t,i){var n=this._handlerFor(t.toUpperCase(),i,{});if(!n)return!1;var r=n.handler.async;return typeof r=="function"?r()===!0:r===!0},e.prototype.prepareBody=function(t,i){return t},e.prototype.prepareHeaders=function(t){return t},e.prototype.handledRequest=function(t,i,n){},e.prototype.passthroughRequest=function(t,i,n){},e.prototype.unhandledRequest=function(t,i,n){throw new Error("Pretender intercepted "+t+" "+i+" but no handler was defined for this type of request")},e.prototype.erroredRequest=function(t,i,n,r){throw r.message="Pretender intercepted "+t+" "+i+" but encountered an error: "+r.message,r},e.prototype.shutdown=function(){var t=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach(function(i){self[i]=t["_native"+i]},this),this.ctx.pretender=void 0,this.running=!1},e.prototype._handlerFor=function(t,i,n){var r=this.hosts.forURL(i)[t],a=r.recognize(lc(i).fullpath),u=a?a[0]:null;return u&&(n.params=u.params,n.queryParams=a.queryParams),u},e.parseURL=lc,e.Hosts=I0,e.Registry=O0,e}();Gh.parseURL=lc;Gh.Hosts=I0;Gh.Registry=O0;var g2=Gh;typeof global<"u"&&global.__pretenderNodePolyfill&&(delete global.self,delete global.__pretenderNodePolyfill);function Pq(e){for(var t=(0,z2.default)((0,cp.default)(e)),i=t.length,n=new Array(i),r={},a=i,u=function p(m,_,O){if(O.indexOf(m)>=0)throw new Error("Cyclic dependency in properties ".concat(JSON.stringify(O)));if(!r[_]){r[_]=!0;var F=e.filter(function(se){return se&&se[0]===m});if(_=F.length,_){var N=O.concat(m);do{var U=F[--_],q=U[1];q&&p(q,t.indexOf(q),N)}while(_)}n[--i]=m}};a--;)r[a]||u(t[a],a,[]);return n.reverse()}var $s=function e(){this.build=function(t){var i={},n=Object.assign({},this.attrs);delete n.afterCreate,Object.keys(n).forEach(a=>{e.isTrait.call(this,a)&&delete n[a]});var r=Dq(n,t);return r.forEach(function(a){var u,p;u=function(O){return(0,x2.default)(O,p)},p=_=>Array.isArray(_)?_.map(p):(0,dc.default)(_)?u(_):(0,Eu.default)(_)?_.call(n,t):_;var m=n[a];(0,Eu.default)(m)?i[a]=m.call(i,t):i[a]=p(m)}),i}};$s.extend=function(e){var t=Object.assign({},this.attrs,e),i=function(){this.attrs=t,$s.call(this)};return i.extend=$s.extend,i.extractAfterCreateCallbacks=$s.extractAfterCreateCallbacks,i.isTrait=$s.isTrait,i.attrs=t,i};$s.extractAfterCreateCallbacks=function(){var{traits:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=[],i=this.attrs||{},n;return i.afterCreate&&t.push(i.afterCreate),Array.isArray(e)?n=e:n=Object.keys(i),n.filter(r=>this.isTrait(r)&&i[r].extension.afterCreate).forEach(r=>{t.push(i[r].extension.afterCreate)}),t};$s.isTrait=function(e){var{attrs:t}=this;return(0,dc.default)(t[e])&&t[e].__isTrait__===!0};function Dq(e,t){var i=function(){},n=new i,r=[],a;return Object.keys(e).forEach(function(u){var p;Object.defineProperty(n.constructor.prototype,u,{get(){return r.push([a,u]),p},set(m){p=m},enumerable:!1,configurable:!0})}),Object.keys(e).forEach(function(u){var p=e[u];typeof p!="function"&&(n[u]=p)}),Object.keys(e).forEach(function(u){var p=e[u];a=u,typeof p=="function"&&(n[u]=p.call(n,t)),r.push([u])}),Pq(r)}function Eq(e){return(+e).toString()===e.toString()}var q0=class{constructor(){this._nextId=1,this._ids={}}get(){return this._nextId}set(t){if(this._ids[t])throw new Error("Attempting to use the ID ".concat(t,", but it's already been used"));Eq(t)&&+t>=this._nextId&&(this._nextId=+t+1),this._ids[t]=!0}inc(){var t=this.get()+1;return this._nextId=t,t}fetch(){var t=this.get();return this._ids[t]=!0,this.inc(),t.toString()}reset(){this._nextId=1,this._ids={}}};var Aq=console.warn,ki=class{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.code=t,this.headers=i,t===204?n!==void 0&&n!==""?Aq(`Mirage: One of your route handlers is returning a custom
          204 Response that has data, but this is a violation of the HTTP spec
          and could lead to unexpected behavior. 204 responses should have no
          content (an empty string) as their body.`):this.data="":(n===void 0||n==="")&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data={}:this.data=n,t!==204&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")&&(this.headers["Content-Type"]="application/json")}toRackResponse(){return[this.code,this.headers,this.data]}};function _2(e,t,i,n,r,a,u){try{var p=e[a](u),m=p.value}catch(_){return void i(_)}p.done?t(m):Promise.resolve(m).then(n,r)}function kq(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var a=e.apply(t,i);function u(m){_2(a,n,r,u,p,"next",m)}function p(m){_2(a,n,r,u,p,"throw",m)}u(void 0)})}}function Qa(e,t,i){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v2(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Nq(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(i),!0).forEach(function(n){Qa(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v2(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Rq(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}var E0={},A0={},k0={},N0={};function lt(e){if(typeof E0[e]!="string"){var t=Db(jo(e),!1),i=t.split("/").map(b2.default).join("/");E0[e]=i}return E0[e]}function zn(e){if(typeof A0[e]!="string"){var t=Ab(jo(e));A0[e]=t}return A0[e]}function jo(e){if(typeof k0[e]!="string"){var t=Eb(e);k0[e]=t}return k0[e]}function ep(e){if(typeof N0[e]!="string"){var t=Lh(e);N0[e]=t}return N0[e]}function Bq(e){return(0,dc.default)(e)&&e.__isAssociation__===!0}var y2=["description","fileName","lineNumber","message","name","number","stack"];function at(e,t){if(typeof e=="string"&&!t)throw new tp(e);if(!e)throw new tp(t.replace(/^ +/gm,"")||"Assertion failed")}function tp(e,t){var i=Error(e);t&&(i.stack=t);for(var n=0;n<y2.length;n++){var r=y2[n];["description","message","stack"].indexOf(r)>-1?this[r]="Mirage: ".concat(i[r]):this[r]=i[r]}}tp.prototype=Object.create(Error.prototype);var js=class{constructor(t,i){this.modelName=void 0,typeof t=="object"?(this.modelName=void 0,this.opts=t):(this.modelName=t?zn(t):"",this.opts=i||{}),this.name="",this.ownerModelName=""}setSchema(t){this.schema=t}isReflexive(){var t=!!(this.modelName===this.ownerModelName&&this.opts.inverse),i=this.opts.inverse===void 0&&this.ownerModelName===this.modelName;return t||i}get isPolymorphic(){return this.opts.polymorphic}get type(){throw new Error("Subclasses of Association must implement a getter for type")}get foreignKey(){return this.getForeignKey()}get identifier(){throw new Error("Subclasses of Association must implement a getter for identifier")}},cc={},qs=class extends js{get identifier(){if(typeof cc[this.name]!="string"){var t="".concat(lt(this.name),"Id");cc[this.name]=t}return cc[this.name]}get type(){return"belongsTo"}getForeignKeyArray(){return[lt(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof cc[this.name]!="string"){var t="".concat(lt(this.name),"Id");cc[this.name]=t}return cc[this.name]}addMethodsToModelClass(t,i){var n=t.prototype,r=this,a=this.getForeignKey(),u={[i]:this};n.belongsToAssociations=Object.assign(n.belongsToAssociations,u),Object.keys(n.belongsToAssociations).forEach(p=>{var m=n.belongsToAssociations[p];n.belongsToAssociationFks[m.getForeignKey()]=m}),this.schema.addDependentAssociation(this,this.modelName),n.associationKeys.add(i),n.associationIdKeys.add(a),Object.defineProperty(n,a,{get(){this._tempAssociations=this._tempAssociations||{};var p=this._tempAssociations[i],m;return p===null?m=null:r.isPolymorphic?p?m={id:p.id,type:p.modelName}:m=this.attrs[a]:p?m=p.id:m=this.attrs[a],m},set(p){var m;p===null?m=null:p!==void 0&&(r.isPolymorphic?(at(typeof p=="object","You're setting an ID on the polymorphic association '".concat(r.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),m=r.schema[r.schema.toCollectionName(p.type)].find(p.id)):(m=r.schema[r.schema.toCollectionName(r.modelName)].find(p),at(m,"Couldn't find ".concat(r.modelName," with id = ").concat(p)))),this[i]=m}}),Object.defineProperty(n,i,{get(){this._tempAssociations=this._tempAssociations||{};var p=this._tempAssociations[i],m=this[a],_=null;return p?_=p:m!==null&&(r.isPolymorphic?_=r.schema[r.schema.toCollectionName(m.type)].find(m.id):_=r.schema[r.schema.toCollectionName(r.modelName)].find(m)),_},set(p){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[i]=p,p&&p.hasInverseFor(r)){var m=p.inverseFor(r);p.associate(this,m)}}}),n["new".concat(ep(i))]=function(){var p,m;r.isPolymorphic?(p=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1]):(p=r.modelName,m=arguments.length<=0?void 0:arguments[0]);var _=r.schema[r.schema.toCollectionName(p)].new(m);return this[i]=_,_},n["create".concat(ep(i))]=function(){var p,m;r.isPolymorphic?(p=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1]):(p=r.modelName,m=arguments.length<=0?void 0:arguments[0]);var _=r.schema[r.schema.toCollectionName(p)].create(m);return this[i]=_,this.save(),_.reload()}}disassociateAllDependentsFromTarget(t){var i=this.ownerModelName,n;this.isPolymorphic?n={type:t.modelName,id:t.id}:n=t.id;var r=this.schema[this.schema.toCollectionName(i)].where(a=>{var u=a[this.getForeignKey()];return u?typeof u=="object"?u.type===n.type&&u.id===n.id:u===n:!1});r.models.forEach(a=>{a.disassociate(t,this),a.save()})}};function Ka(e){return Array.isArray(e)?e.map(Ka):Object.assign({},e)}var j0=class{constructor(t,i,n){this.name=t,this._records=[],this.identityManager=new n,i&&this.insert(i)}all(){return Ka(this._records)}insert(t){return Array.isArray(t)?(0,S2.default)(t,i=>this._insertRecord(i)):this._insertRecord(t)}find(t){if(Array.isArray(t)){var i=this._findRecords(t).filter(Boolean).map(Ka);return i}else{var n=this._findRecord(t);return n?Ka(n):null}}findBy(t){var i=this._findRecordBy(t);return i?Ka(i):null}where(t){return this._findRecordsWhere(t).map(Ka)}firstOrCreate(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.where(t),[r]=n;if(r)return r;var a=Object.assign(i,t),u=this.insert(a);return u}update(t,i){var n;if(typeof i>"u"){i=t;var r=[];return this._records.forEach(_=>{var O=Object.assign({},_);this._updateRecord(_,i),(0,Kh.default)(O,_)||r.push(_)}),r}else if(typeof t=="number"||typeof t=="string"){var a=t,u=this._findRecord(a);return this._updateRecord(u,i),u}else if(Array.isArray(t)){var p=t;return n=this._findRecords(p),n.forEach(_=>{this._updateRecord(_,i)}),n}else if(typeof t=="object"){var m=t;return n=this._findRecordsWhere(m),n.forEach(_=>{this._updateRecord(_,i)}),n}}remove(t){var i;if(typeof t>"u")this._records=[],this.identityManager.reset();else if(typeof t=="number"||typeof t=="string"){var n=this._findRecord(t),r=this._records.indexOf(n);this._records.splice(r,1)}else Array.isArray(t)?(i=this._findRecords(t),i.forEach(a=>{var u=this._records.indexOf(a);this._records.splice(u,1)})):typeof t=="object"&&(i=this._findRecordsWhere(t),i.forEach(a=>{var u=this._records.indexOf(a);this._records.splice(u,1)}))}_findRecord(t){return t=t.toString(),this._records.find(i=>i.id===t)}_findRecordBy(t){return this._findRecordsWhere(t)[0]}_findRecords(t){return t.map(this._findRecord,this)}_findRecordsWhere(t){var i=this._records;function n(a){var u=Object.keys(t);return u.every(function(p){return String(a[p])===String(t[p])})}var r=typeof t=="object"?n:t;return i.filter(r)}_insertRecord(t){var i=Ka(t);return i&&(i.id===void 0||i.id===null)?i.id=this.identityManager.fetch(i):(i.id=i.id.toString(),this.identityManager.set(i.id)),this._records.push(i),Ka(i)}_updateRecord(t,i){var n=i&&Object.prototype.hasOwnProperty.call(i,"id")?i.id.toString():null,r=t.id;if(n&&r!==n)throw new Error("Updating the ID of a record is not permitted");for(var a in i)a!=="id"&&(t[a]=i[a])}},np=class{constructor(t,i){this._collections=[],this.registerIdentityManagers(i),t&&this.loadData(t)}loadData(t){for(var i in t)this.createCollection(i,(0,w2.default)(t[i]))}dump(){return this._collections.reduce((t,i)=>(t[i.name]=i.all(),t),{})}createCollection(t,i){if(this[t])i&&this[t].insert(i);else{var n=this.identityManagerFor(t),r=new j0(t,i,n);Object.defineProperty(this,t,{get(){var a=r.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){a[u]=function(){return r[u](...arguments)}}),a}}),Object.defineProperty(this,"_".concat(t),{get(){var a=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(u){a[u]=function(){return r[u](...arguments)}}),a}}),this._collections.push(r)}return this}createCollections(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];i.forEach(r=>this.createCollection(r))}emptyData(){this._collections.forEach(t=>t.remove())}identityManagerFor(t){return this._identityManagers[this._container.inflector.singularize(t)]||this._identityManagers.application||q0}registerIdentityManagers(t){this._identityManagers=t||{}}},Qr=class e{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];at(t&&typeof t=="string","You must pass a `modelName` into a Collection"),this.modelName=t,this.models=i}get length(){return this.models.length}update(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(0,ma.default)(this.models,"update",...i),this}save(){return(0,ma.default)(this.models,"save"),this}reload(){return(0,ma.default)(this.models,"reload"),this}destroy(){return(0,ma.default)(this.models,"destroy"),this}add(t){return this.models.push(t),this}remove(t){var i=this.models.find(r=>r.toString()===t.toString());if(i){var n=this.models.indexOf(i);this.models.splice(n,1)}return this}includes(t){return this.models.some(i=>i.toString()===t.toString())}filter(t){var i=this.models.filter(t);return new e(this.modelName,i)}sort(t){var i=this.models.concat().sort(t);return new e(this.modelName,i)}slice(){var t=this.models.slice(...arguments);return new e(this.modelName,t)}mergeCollection(t){return this.models=this.models.concat(t.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(t=>t.id).join(","),")")}},ir=class e{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.models=t}get length(){return this.models.length}update(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(0,ma.default)(this.models,"update",...i),this}destroy(){return(0,ma.default)(this.models,"destroy"),this}save(){return(0,ma.default)(this.models,"save"),this}reload(){return(0,ma.default)(this.models,"reload"),this}add(t){return this.models.push(t),this}remove(t){var i=this.models.find(r=>(0,Kh.default)(r.attrs,t.attrs));if(i){var n=this.models.indexOf(i);this.models.splice(n,1)}return this}includes(t){return this.models.some(i=>(0,Kh.default)(i.attrs,t.attrs))}filter(t){var i=this.models.filter(t);return new e(i)}sort(t){var i=this.models.concat().sort(t);return new e(i)}slice(){var t=this.models.slice(...arguments);return new e(t)}mergeCollection(t){return this.models=this.models.concat(t.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(t=>t.id).join(","),")")}},uc={},Hs=class extends js{get identifier(){if(typeof uc[this.name]!="string"){var t="".concat(lt(this._container.inflector.singularize(this.name)),"Ids");uc[this.name]=t}return uc[this.name]}get type(){return"hasMany"}getForeignKeyArray(){return[lt(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof uc[this.name]!="string"){var t="".concat(this._container.inflector.singularize(lt(this.name)),"Ids");uc[this.name]=t}return uc[this.name]}addMethodsToModelClass(t,i){var n=t.prototype,r=this,a=this.getForeignKey(),u={[i]:this};n.hasManyAssociations=Object.assign(n.hasManyAssociations,u),Object.keys(n.hasManyAssociations).forEach(p=>{var m=n.hasManyAssociations[p];n.hasManyAssociationFks[m.getForeignKey()]=m}),this.schema.addDependentAssociation(this,this.modelName),n.associationKeys.add(i),n.associationIdKeys.add(a),Object.defineProperty(n,a,{get(){this._tempAssociations=this._tempAssociations||{};var p=this._tempAssociations[i],m=[];return p?r.isPolymorphic?m=p.models.map(_=>({type:_.modelName,id:_.id})):m=p.models.map(_=>_.id):m=this.attrs[a]||[],m},set(p){var m;if(p===null)m=[];else if(p!==void 0)if(at(Array.isArray(p),"You must pass an array in when setting ".concat(a," on ").concat(this)),r.isPolymorphic){at(p.every(O=>typeof O=="object"&&typeof O.type<"u"&&typeof O.id<"u"),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(a," on ").concat(this));var _=p.map(O=>{var{type:F,id:N}=O;return r.schema[r.schema.toCollectionName(F)].find(N)});m=new ir(_)}else m=r.schema[r.schema.toCollectionName(r.modelName)].find(p);this[i]=m}}),Object.defineProperty(n,i,{get(){this._tempAssociations=this._tempAssociations||{};var p=null;if(this._tempAssociations[i])p=this._tempAssociations[i];else{if(r.isPolymorphic)if(this[a]){var m=this[a],_=m.map(O=>{var{type:F,id:N}=O;return r.schema[r.schema.toCollectionName(F)].find(N)});p=new ir(_)}else p=new ir(r.modelName);else this[a]?p=r.schema[r.schema.toCollectionName(r.modelName)].find(this[a]):p=new Qr(r.modelName);this._tempAssociations[i]=p}return p},set(p){(p instanceof Qr||p instanceof ir)&&(p=p.models),p=p?(0,Au.default)(p):[],this._tempAssociations=this._tempAssociations||{};var m;r.isPolymorphic?m=new ir(p):m=new Qr(r.modelName,p),this._tempAssociations[i]=m,p.forEach(_=>{if(_.hasInverseFor(r)){var O=_.inverseFor(r);_.associate(this,O)}})}}),n["new".concat(ep(lt(this._container.inflector.singularize(r.name))))]=function(){var p,m;r.isPolymorphic?(p=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1]):(p=r.modelName,m=arguments.length<=0?void 0:arguments[0]);var _=r.schema[r.schema.toCollectionName(p)].new(m),O=this[i].models;return O.push(_),this[i]=O,_},n["create".concat(ep(lt(this._container.inflector.singularize(r.name))))]=function(){var p,m;r.isPolymorphic?(p=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1]):(p=r.modelName,m=arguments.length<=0?void 0:arguments[0]);var _=r.schema[r.schema.toCollectionName(p)].create(m),O=this[i].models;return O.push(_),this[i]=O,this.save(),_.reload()}}disassociateAllDependentsFromTarget(t){var i=this.ownerModelName,n;this.isPolymorphic?n={type:t.modelName,id:t.id}:n=t.id;var r=this.schema[this.schema.toCollectionName(i)].where(a=>{var u=a[this.getForeignKey()];return u&&u.find(p=>typeof p=="object"?p.type===n.type&&p.id===n.id:p===n)});r.models.forEach(a=>{a.disassociate(t,this),a.save()})}},R0={},hc=class{getModelClassFromPath(t){if(t){if(typeof R0[t]!="string"){for(var i=t.split("/"),n,r=i.length-1;r>=0;r--){var a=i[r];if(a.length&&a[0]!==":"){n=a;break}}R0[t]=zn(lt(this._container.inflector.singularize(n)))}return R0[t]}}_getIdForRequest(t,i){var n;return t&&t.params&&t.params.id?n=t.params.id:i&&i.data&&i.data.id&&(n=i.data.id),n}_getJsonApiDocForRequest(t,i){var n;return t&&t.requestBody&&(n=JSON.parse(t.requestBody)),this.serializerOrRegistry.normalize(n,i)}_getAttrsForRequest(t,i){var n=this._getJsonApiDocForRequest(t,i),r=this._getIdForRequest(t,n),a={};return at(n.data&&(n.data.attributes||n.data.type||n.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),n.data.attributes&&(a=Object.keys(n.data.attributes).reduce((u,p)=>(u[lt(p)]=n.data.attributes[p],u),{})),n.data.relationships&&Object.keys(n.data.relationships).forEach(u=>{var p=n.data.relationships[u],m=this.schema.modelClassFor(i),_=m.associationFor(lt(u)),O;at(_,"You're passing the relationship '".concat(u,"' to the '").concat(i,"' model via a ").concat(t.method," to '").concat(t.url,"', but you did not define the '").concat(u,"' association on the '").concat(i,"' model.")),_.isPolymorphic?O=p.data:_ instanceof Hs?O=p.data&&p.data.map(F=>F.id):O=p.data&&p.data.id,a[_.identifier]=O},{}),r&&(a.id=r),a}_getAttrsForFormRequest(t){var{requestBody:i}=t,n,r=[];return at(i&&typeof i=="string","You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),r=i.split("&"),n=r.reduce((a,u)=>{var[p,m]=u.split("=");return a[p]=decodeURIComponent(m.replace(/\+/g," ")),a},{}),n}},ip=class extends hc{constructor(t,i,n,r,a){super(a),this.schema=t,this.serializerOrRegistry=i,this.userFunction=n,this.path=r}handle(t){return this.userFunction(this.schema,t)}setRequest(t){this.request=t}serialize(t,i){var n;return i?n=this.serializerOrRegistry.serializerFor(i,{explicit:!0}):n=this.serializerOrRegistry,n.serialize(t,this.request)}normalizedRequestAttrs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,{path:i,request:n,request:{requestHeaders:r}}=this,a,u={};for(var p in r)u[p.toLowerCase()]=r[p];return/x-www-form-urlencoded/.test(u["content-type"])?a=this._getAttrsForFormRequest(n):(t?at(zn(t)===t,"You called normalizedRequestAttrs('".concat(t,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(zn(t),"').")):t=this.getModelClassFromPath(i),at(this.schema.hasModelForModelName(t),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(t,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),a=this._getAttrsForRequest(n,t)),a}},W0=class{constructor(t,i,n){this.schema=t,this.serializerOrRegistry=i,this.object=n}handle(){return this.object}},Ws=class extends hc{constructor(t,i,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};super(),n=n||this.getModelClassFromPath(r),this.schema=t,this.serializerOrRegistry=i,this.shorthand=n,this.options=a;var u=Array.isArray(n)?"array":typeof n;if(u==="string"){var p=this.schema[this.schema.toCollectionName(n)];this.handle=_=>this.handleStringShorthand(_,p)}else if(u==="array"){var m=n.map(_=>this.schema[this.schema.toCollectionName(_)]);this.handle=_=>this.handleArrayShorthand(_,m)}}},U0=class extends Ws{handleStringShorthand(t,i){var n=this.shorthand,r=lt(n);at(i,"The route handler for ".concat(t.url," is trying to access the ").concat(r," model, but that model doesn't exist."));var a=this._getIdForRequest(t);if(a){var u=i.find(a);return u||new ki(404)}else if(this.options.coalesce){var p=this.serializerOrRegistry.getCoalescedIds(t,r);if(p)return i.find(p)}return i.all()}handleArrayShorthand(t,i){var n=this.shorthand,r=this._getIdForRequest(t);return at(!r||this._container.inflector.singularize(n[0])!==n[0],`It looks like you're using the "Single record with
      related records" version of the array shorthand, in addition to opting
      in to the model layer. This shorthand was made when there was no
      serializer layer. Now that you're using models, please ensure your
      relationships are defined, and create a serializer for the parent
      model, adding the relationships there.`),i.map(a=>a.all())}},Z0=class extends Ws{handleStringShorthand(t,i){var n=this.shorthand,r=lt(n);at(i,"The route handler for ".concat(t.url," is trying to access the ").concat(r," model, but that model doesn't exist."));var a=this._getAttrsForRequest(t,i.camelizedModelName);return i.create(a)}},G0=class extends Ws{handleStringShorthand(t,i){var n=this.shorthand,r=lt(n);at(i,"The route handler for ".concat(t.url," is trying to access the ").concat(r," model, but that model doesn't exist."));var a=this._getIdForRequest(t),u=i.find(a);if(!u)return new ki(404);var p=this._getAttrsForRequest(t,i.camelizedModelName);return u.update(p)}},Y0=class extends Ws{handleStringShorthand(t,i){var n=this.shorthand,r=lt(n);at(i,"The route handler for ".concat(t.url," is trying to access the ").concat(r," model, but that model doesn't exist."));var a=this._getIdForRequest(t),u=i.find(a);if(!u)return new ki(404);u.destroy()}handleArrayShorthand(t,i){var n=this._getIdForRequest(t),r=i[0].find(n),a=i.slice(1).map(u=>this._container.inflector.pluralize(u.camelizedModelName));a.forEach(u=>r[u].destroy()),r.destroy()}},Q0=class extends Ws{handleStringShorthand(t,i){var n=this.shorthand,r=lt(n);at(i,"The route handler for ".concat(t.url," is trying to access the ").concat(r," model, but that model doesn't exist."));var a=this._getIdForRequest(t);if(a){var u=i.find(a);return u?new ki(204):new ki(404)}else if(this.options.coalesce&&t.queryParams&&t.queryParams.ids){var p=i.find(t.queryParams.ids);return p?new ki(204):new ki(404)}else return new ki(204)}},Vq={get:200,put:204,post:201,delete:204};function $q(e){var{verb:t,schema:i,serializerOrRegistry:n,path:r,rawHandler:a,options:u,middleware:p}=e,m,_=[i,n,a,r,u,p],O=typeof a;return O==="function"?m=new ip(..._):O==="object"&&a?m=new W0(..._):t==="get"?m=new U0(..._):t==="post"?m=new Z0(..._):t==="put"||t==="patch"?m=new G0(..._):t==="delete"?m=new Y0(..._):t==="head"&&(m=new Q0(..._)),m}var rp=class{constructor(t){var{schema:i,verb:n,rawHandler:r,customizedCode:a,options:u,path:p,serializerOrRegistry:m,middleware:_}=t;this.verb=n,this.customizedCode=a,this.serializerOrRegistry=m,this.middleware=_||[],this.handler=$q({verb:n,schema:i,path:p,serializerOrRegistry:m,rawHandler:r,options:u})}handle(t){return this._getMirageResponseForRequest(t,this.middleware).then(i=>this.serialize(i,t)).then(i=>i.toRackResponse())}_getMirageResponseForRequest(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n;try{this.handler instanceof ip&&this.handler.setRequest(t),n=this.handleWithMiddleware(t,[...i,(a,u)=>this.handler.handle(u)])}catch(a){if(a instanceof tp)n=new ki(500,{},a);else{var r=a.message||a;n=new ki(500,{},{message:r,stack:"Mirage: Your ".concat(t.method," handler for the url ").concat(t.url,` threw an error:

`).concat(a.stack||a)})}}return this._toMirageResponse(n)}handleWithMiddleware(t,i){var n=this,[r,...a]=i;return r(this.schema,t,function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t;return n.handleWithMiddleware(u,a)})}_toMirageResponse(t){var i;return new Promise((n,r)=>{Promise.resolve(t).then(a=>{if(a instanceof ki)i=t;else{var u=this._getCodeForResponse(a);i=new ki(u,{},a)}n(i)}).catch(r)})}_getCodeForResponse(t){var i;return this.customizedCode?i=this.customizedCode:(i=Vq[this.verb],i===204&&t!==void 0&&t!==""&&(i=200)),i}serialize(t,i){return t.data=this.serializerOrRegistry.serialize(t.data,i),t}};function O2(e,t){class i extends this{constructor(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];super(...a),e&&(0,T2.default)(e,"constructor")&&e.constructor.call(this,...a)}}return Object.assign(i,this,t),e&&Object.assign(i.prototype,e),i}var M2=(()=>{class e{constructor(i,n,r,a){return at(i,"A model requires a schema"),at(n,"A model requires a modelName"),this._schema=i,this.modelName=n,this.fks=a||[],this.attrs={},r=r||{},this.fks.forEach(u=>{this.attrs[u]=r[u]!==void 0?r[u]:null}),Object.keys(r).forEach(u=>{var p=r[u];this._validateAttr(u,p),this._setupAttr(u,p),this._setupRelationship(u,p)}),this}save(){var i=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[i].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[i].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}update(i,n){var r;return i==null?this:(typeof i=="object"?r=i:(r={})[i]=n,Object.keys(r).forEach(function(a){!this.associationKeys.has(a)&&!this.associationIdKeys.has(a)&&this._definePlainAttribute(a),this[a]=r[a]},this),this.save(),this)}destroy(){if(this.isSaved()){this._disassociateFromDependents();var i=this._schema.toInternalCollectionName(this.modelName);this._schema.db[i].remove(this.attrs.id)}}isNew(){var i=!1,n=this.attrs.id!==void 0&&this.attrs.id!==null;if(n){var r=this._schema.toInternalCollectionName(this.modelName),a=this._schema.db[r].find(this.attrs.id);a&&(i=!0)}return!i}isSaved(){return!this.isNew()}reload(){if(this.id){var i=this._schema.toInternalCollectionName(this.modelName),n=this._schema.db[i].find(this.id);Object.keys(n).filter(function(r){return r!=="id"}).forEach(function(r){this.attrs[r]=n[r]},this)}return this._tempAssociations={},this}toJSON(){return Nq({},this.attrs)}get associations(){return this._schema.associationsFor(this.modelName)}associationFor(i){return this.associations[i]}inverseFor(i){return this._explicitInverseFor(i)||this._implicitInverseFor(i)}_explicitInverseFor(i){this._checkForMultipleExplicitInverses(i);var n=this._schema.associationsFor(this.modelName),r=i.opts.inverse,a=r?n[r]:null,u=a&&a.isPolymorphic,p=a&&a.modelName===i.ownerModelName,m=a&&a.opts.inverse;return m&&a.opts.inverse!==i.name&&at(!1,"You specified an inverse of ".concat(r," for ").concat(i.name,", but it does not match ").concat(a.modelName," ").concat(a.name,"'s inverse")),u||p?a:null}_checkForMultipleExplicitInverses(i){var n=this._schema.associationsFor(this.modelName),r=Object.keys(n).filter(a=>{var u=n[a],p=i.ownerModelName===u.modelName,m=i.name===u.opts.inverse;return p&&m});at(r.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(i.ownerModelName,".").concat(i.name," association."))}_implicitInverseFor(i){var n=this._schema.associationsFor(this.modelName),r=i.ownerModelName;return(0,Yh.default)(n).filter(a=>a.modelName===r).reduce((a,u)=>{var p=u.opts.inverse,m=p===void 0,_=p===i.name,O=m||_;return O&&(at(!a,"The ".concat(this.modelName," model has multiple possible inverse associations for the ").concat(i.ownerModelName,".").concat(i.name," association.")),a=u),a},null)}hasInverseFor(i){return!!this.inverseFor(i)}alreadyAssociatedWith(i,n){var r=this[n.name];if(r&&i)return r instanceof e?r.isSaved()&&i.isSaved()?r.toString()===i.toString():r===i:r.includes(i)}associate(i,n){if(!this.alreadyAssociatedWith(i,n)){var{name:r}=n;n instanceof Hs?this[r].includes(i)||this[r].add(i):this[r]=i}}disassociate(i,n){var r=n.getForeignKey();if(n instanceof Hs){var a;if(n.isPolymorphic){var u=this[r].find(p=>{var{type:m,id:_}=p;return m===i.modelName&&_===i.id});a=u&&this[r].indexOf(u)}else a=this[r].map(p=>p.toString()).indexOf(i.id.toString());a>-1&&this.attrs[r].splice(a,1)}else this.attrs[r]=null}get isSaving(){return this._schema.isSaving[this.toString()]}_setupAttr(i,n){var r=this.associationKeys.has(i)||this.associationIdKeys.has(i);r||(this.attrs[i]=n,this._definePlainAttribute(i))}_definePlainAttribute(i){var n=Object.getOwnPropertyDescriptor(this,i);n&&n.get||(Object.prototype.hasOwnProperty.call(this.attrs,i)||(this.attrs[i]=null),Object.defineProperty(this,i,{get(){return this.attrs[i]},set(r){this.attrs[i]=r}}))}_setupRelationship(i,n){var r=this.associationIdKeys.has(i)||this.fks.includes(i),a=this.associationKeys.has(i);r&&(n!=null&&this._validateForeignKeyExistsInDatabase(i,n),this.attrs[i]=n),a&&(this[i]=n)}_validateAttr(i,n){if(this.associationKeys.has(i)){var r=this.associationFor(i),a=n===null;if(r instanceof Hs){var u=n instanceof Qr||n instanceof ir,p=Array.isArray(n)&&n.every(U=>U instanceof e);at(u||p||a,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(i," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else r instanceof qs&&at(n instanceof e||a,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(i," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(i)&&i.endsWith("Ids")){var m=Array.isArray(n),_=n===null;at(m||_,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(i," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}{var O=n instanceof e||n instanceof Qr||n instanceof ir,F=Array.isArray(n)&&n.length&&n.every(U=>U instanceof e);if(O||F){var N=n;at(this.associationKeys.has(i),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(N.toString()," under the ").concat(i," key, but you haven't defined that key as an association on your model."))}}}_validateForeignKeyExistsInDatabase(i,n){if(Array.isArray(n)){var r=this.hasManyAssociationFks[i],a;r.isPolymorphic?(a=n.map(O=>{var{type:F,id:N}=O;return this._schema.db[this._schema.toInternalCollectionName(F)].find(N)}),a=(0,Au.default)(a)):a=this._schema.db[this._schema.toInternalCollectionName(r.modelName)].find(n);var u=r.isPolymorphic?n.map(O=>"".concat(O.type,":").concat(O.id)).join(","):n;at(a.length===n.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(i," of ").concat(u,", but some of those records don't exist in the database."))}else{var p=this.belongsToAssociationFks[i],m;p.isPolymorphic?m=this._schema.db[this._schema.toInternalCollectionName(n.type)].find(n.id):m=this._schema.db[this._schema.toInternalCollectionName(p.modelName)].find(n);var _=p.isPolymorphic?"".concat(n.type,":").concat(n.id):n;at(m,"You're instantiating a ".concat(this.modelName," that has a ").concat(i," of ").concat(_,", but that record doesn't exist in the database."))}}_saveAssociations(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}_saveBelongsToAssociations(){(0,Yh.default)(this.belongsToAssociations).forEach(i=>{this._disassociateFromOldInverses(i),this._saveNewAssociates(i),this._associateWithNewInverses(i)})}_saveHasManyAssociations(){(0,Yh.default)(this.hasManyAssociations).forEach(i=>{this._disassociateFromOldInverses(i),this._saveNewAssociates(i),this._associateWithNewInverses(i)})}_disassociateFromOldInverses(i){i instanceof Hs?this._disassociateFromHasManyInverses(i):i instanceof qs&&this._disassociateFromBelongsToInverse(i)}_disassociateFromHasManyInverses(i){var n=i.getForeignKey(),r=this._tempAssociations&&this._tempAssociations[i.name],a=this.attrs[n];if(r&&a){var u;i.isPolymorphic?u=a.map(p=>{var{type:m,id:_}=p;return this._schema[this._schema.toCollectionName(m)].find(_)}):u=this._schema[this._schema.toCollectionName(i.modelName)].find(a||[]).models,u.filter(p=>!p.isSaving&&!r.includes(p)&&p.hasInverseFor(i)).forEach(p=>{var m=p.inverseFor(i);p.disassociate(this,m),p.save()})}}_disassociateFromBelongsToInverse(i){var n=i.getForeignKey(),r=this._tempAssociations&&this._tempAssociations[i.name],a=this.attrs[n];if(r!==void 0&&a){var u;if(i.isPolymorphic?u=this._schema[this._schema.toCollectionName(a.type)].find(a.id):u=this._schema[this._schema.toCollectionName(i.modelName)].find(a),u.hasInverseFor(i)){var p=u.inverseFor(i);u.disassociate(this,p),u._updateInDb(u.attrs)}}}_disassociateFromDependents(){this._schema.dependentAssociationsFor(this.modelName).forEach(i=>{i.disassociateAllDependentsFromTarget(this)})}_saveNewAssociates(i){var n=i.getForeignKey(),r=this._tempAssociations&&this._tempAssociations[i.name];if(r!==void 0){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[i.name],r instanceof Qr)r.models.filter(u=>!u.isSaving).forEach(u=>{u.save()}),this._updateInDb({[n]:r.models.map(u=>u.id)});else if(r instanceof ir)r.models.filter(u=>!u.isSaving).forEach(u=>{u.save()}),this._updateInDb({[n]:r.models.map(u=>({type:u.modelName,id:u.id}))});else if(r===null)this._updateInDb({[n]:null});else if(this.equals(r))this._updateInDb({[n]:this.id});else if(!r.isSaving){r.save(),this._syncTempAssociations(r);var a;i.isPolymorphic?a={id:r.id,type:r.modelName}:a=r.id,this._updateInDb({[n]:a})}this.__isSavingNewChildren=!1}}_associateWithNewInverses(i){if(!this.__isSavingNewChildren){var n=this[i.name];n instanceof e?this._associateModelWithInverse(n,i):(n instanceof Qr||n instanceof ir)&&n.models.forEach(r=>{this._associateModelWithInverse(r,i)}),delete this._tempAssociations[i.name]}}_associateModelWithInverse(i,n){if(i.hasInverseFor(n)){var r=i.inverseFor(n),a=r.getForeignKey(),u=this.id;if(r instanceof qs){var p;r.isPolymorphic?p={type:this.modelName,id:u}:p=u,this._schema.db[this._schema.toInternalCollectionName(i.modelName)].update(i.id,{[a]:p})}else{var m=this._schema.db[this._schema.toInternalCollectionName(i.modelName)],_=m.find(i.id)[r.getForeignKey()]||[],O=Object.assign([],_),F,N;r.isPolymorphic?(F={type:this.modelName,id:u},N=O.some(U=>U.type==this.modelName&&U.id==u)):(F=u,N=O.includes(u)),N||O.push(F),m.update(i.id,{[a]:O})}}}_updateInDb(i){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,i)}_syncTempAssociations(i){Object.keys(this._tempAssociations).forEach(n=>{this._tempAssociations[n]&&this._tempAssociations[n].toString()===i.toString()&&(this._tempAssociations[n]=i)})}toString(){var i=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(i)}equals(i){return this.toString()===i.toString()}}return e.extend=O2,e.findBelongsToAssociation=function(t){return this.prototype.belongsToAssociations[t]},e})(),gr=class{constructor(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.registry=t,this.type=i,this.request=n,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=(0,Eu.default)(this.embed)?this.embed:()=>!!this.embed,this.serializeIds=this.serializeIds||void 0,this.primaryKey=this.primaryKey||void 0}serialize(t){return this.primaryResource=t,this.buildPayload(t)}normalize(t){return t}buildPayload(t,i,n,r){if(!t&&(0,Xh.default)(i))return r;if(t){var[a,u]=this.getHashForPrimaryResource(t),p=this.isCollection(t)?t.models:[t];return this.buildPayload(void 0,u,p,a)}else{var m=i.shift(),[_,O]=this.getHashForIncludedResource(m),F=O.filter(q=>!n.map(se=>se.toString()).includes(q.toString())).concat(i),N=(this.isCollection(m)?m.models:[m]).concat(n),U=this.mergePayloads(r,_);return this.buildPayload(void 0,F,N,U)}}getHashForPrimaryResource(t){var[i,n]=this.getHashForResource(t),r;if(this.root){at(!(t instanceof ir),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var a=this.serializerFor(t.modelName),u=a.keyForResource(t);r={[u]:i}}else r=i;return[r,n]}getHashForIncludedResource(t){var i,n;if(t instanceof ir)i={},n=t.models;else{var r=this.serializerFor(t.modelName),[a,u]=r.getHashForResource(t),p=r.keyForRelationship(t.modelName);i=Array.isArray(a)?{[p]:a}:{[p]:[a]},n=u}return[i,n]}getHashForResource(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this,u;r&&t.modelName&&(a=this.serializerFor(t.modelName)),this.isModel(t)?u=a._hashForModel(t,i,n):u=t.models.map(m=>{var _=a;return _||(_=this.serializerFor(m.modelName)),_._hashForModel(m,i,n)});var p=(0,tg.default)((0,Au.default)((0,cp.default)(a.getKeysForIncluded().map(m=>this.isCollection(t)?t.models.map(_=>_[m]):t[m]))),m=>m.toString());return[u,p]}mergePayloads(t,i){var n,[r]=Object.keys(i);return t[r]?(n=t,n[r]=t[r].concat(i[r])):n=Object.assign(t,i),n}keyForResource(t){var{modelName:i}=t;return this.isModel(t)?this.keyForModel(i):this.keyForCollection(i)}keyForModel(t){return lt(t)}keyForCollection(t){return this._container.inflector.pluralize(this.keyForModel(t))}_hashForModel(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this._attrsForModel(t);if(i&&t.fks.forEach(u=>{delete r[u]}),this.embed){var a=Object.assign({},n);a[t.modelName]=a[t.modelName]||{},a[t.modelName][t.id]=!0,this.getKeysForEmbedded().forEach(u=>{var p=t[u];if(p&&!(0,eg.default)(a,"".concat(p.modelName,".").concat(p.id))){var[m]=this.getHashForResource(p,!0,a,!0),_=this.keyForEmbeddedRelationship(u);if(r[_]=m,this.isModel(p)){var O="".concat(lt(u),"Id");delete r[O]}}})}return this._maybeAddAssociationIds(t,r)}_attrsForModel(t){var i={};return this.attrs?i=this.attrs.reduce((n,r)=>(n[r]=t[r],n),{}):i=Object.assign(i,t.attrs),t.fks.forEach(n=>delete i[n]),this._formatAttributeKeys(i)}_maybeAddAssociationIds(t,i){var n=Object.assign({},i);return this.serializeIds==="always"?[...t.associationKeys].filter(r=>!this._embedFn(r)).forEach(r=>{var a=t[r],u=t.associationFor(r);if(this.isCollection(a)){var p=this.keyForRelationshipIds(r);n[p]=t["".concat(this._container.inflector.singularize(r),"Ids")]}else if(this.isModel(a)&&u.isPolymorphic){var m=this.keyForPolymorphicForeignKeyType(r),_=this.keyForPolymorphicForeignKeyId(r);n[m]=t["".concat(r,"Id")].type,n[_]=t["".concat(r,"Id")].id}else if(a){var O=this.keyForForeignKey(r);n[O]=t["".concat(r,"Id")]}}):this.serializeIds==="included"&&this.getKeysForIncluded().forEach(r=>{var a=t[r],u=t.associationFor(r);if(this.isCollection(a)){var p=this.keyForRelationshipIds(r);n[p]=t["".concat(this._container.inflector.singularize(r),"Ids")]}else if(this.isModel(a)&&u.isPolymorphic){var m=this.keyForPolymorphicForeignKeyType(r),_=this.keyForPolymorphicForeignKeyId(r);n[m]=t["".concat(r,"Id")].type,n[_]=t["".concat(r,"Id")].id}else if(this.isModel(a)){var O=this.keyForForeignKey(r);n[O]=t["".concat(r,"Id")]}}),n}keyForAttribute(t){return t==="id"?this.keyForId():t}keyForRelationship(t){return lt(this._container.inflector.pluralize(t))}keyForEmbeddedRelationship(t){return lt(t)}keyForRelationshipIds(t){return"".concat(this._container.inflector.singularize(lt(t)),"Ids")}keyForForeignKey(t){return"".concat(lt(t),"Id")}keyForPolymorphicForeignKeyId(t){return"".concat(lt(t),"Id")}keyForPolymorphicForeignKeyType(t){return"".concat(lt(t),"Type")}isModel(t){return t instanceof M2}isCollection(t){return t instanceof Qr||t instanceof ir}isModelOrCollection(t){return this.isModel(t)||this.isCollection(t)}serializerFor(t){return this.registry.serializerFor(t)}getAssociationKeys(){return(0,Eu.default)(this.include)?this.include(this.request,this.primaryResource):this.include}getKeysForEmbedded(){return this.getAssociationKeys().filter(t=>this._embedFn(t))}getKeysForIncluded(){return this.getAssociationKeys().filter(t=>!this._embedFn(t))}get schema(){return this.registry.schema}keyForId(){return this.primaryKey}valueForId(t){return t}_formatAttributeKeys(t){var i={};for(var n in t){var r=t[n];n==="id"&&(r=this.valueForId(r));var a=this.keyForAttribute(n);i[a]=r}return i}getCoalescedIds(){}};gr.prototype.include=[];gr.prototype.root=!0;gr.prototype.embed=!1;gr.prototype.primaryKey="id";gr.prototype.serializeIds="included";gr.extend=O2;var op=class extends gr{constructor(){super(...arguments),this.alwaysIncludeLinkageData=this.alwaysIncludeLinkageData||void 0}keyForModel(t){return zn(t)}keyForCollection(t){return zn(t)}keyForAttribute(t){return zn(t)}keyForRelationship(t){return zn(t)}links(){}getHashForPrimaryResource(t){this._createRequestedIncludesGraph(t);var i=this.getHashForResource(t),n={data:i},r=this.getAddToIncludesForResource(t);return[n,r]}getHashForIncludedResource(t){var i=this.serializerFor(t.modelName),n=i.getHashForResource(t),r={included:this.isModel(t)?[n]:n},a=[];return this.hasQueryParamIncludes()||(a=this.getAddToIncludesForResource(t)),[r,a]}getHashForResource(t){var i;return this.isModel(t)?i=this.getResourceObjectForModel(t):i=t.models.map(n=>this.getResourceObjectForModel(n)),i}getAddToIncludesForResource(t){var i;if(this.hasQueryParamIncludes())i=this.getQueryParamIncludes();else{var n=this.serializerFor(t.modelName);i=n.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(t,i)}getAddToIncludesForResourceAndPaths(t,i){var n=[];return i.forEach(r=>{var a=r.split("."),u=this.getIncludesForResourceAndPath(t,...a);n.push(u)}),(0,tg.default)((0,Au.default)((0,cp.default)(n)),r=>r.toString())}getIncludesForResourceAndPath(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a=lt(n.shift()),u=[],p=[];if(this.isModel(t)){var m=t[a];this.isModel(m)?p=[m]:this.isCollection(m)&&(p=m.models)}else t.models.forEach(_=>{var O=_[a];this.isModel(O)?p.push(O):this.isCollection(O)&&(p=p.concat(O.models))});return u=u.concat(p),n.length&&p.forEach(_=>{u=u.concat(this.getIncludesForResourceAndPath(_,...n))}),u}getResourceObjectForModel(t){var i=this._attrsForModel(t,!0);delete i.id;var n={type:this.typeKeyForModel(t),id:t.id,attributes:i};return this._maybeAddRelationshipsToResourceObjectForModel(n,t)}_maybeAddRelationshipsToResourceObjectForModel(t,i){var n={};return i.associationKeys.forEach(r=>{var a=i[r],u=this.keyForRelationship(r),p={};if(this.hasLinksForRelationship(i,r)){var m=this.serializerFor(i.modelName),_=m.links(i);p.links=_[r]}if(this.alwaysIncludeLinkageData||this.shouldIncludeLinkageData(r,i)||this._relationshipIsIncludedForModel(r,i)){var O=null;this.isModel(a)?O={type:this.typeKeyForModel(a),id:a.id}:this.isCollection(a)&&(O=a.models.map(F=>({type:this.typeKeyForModel(F),id:F.id}))),p.data=O}(0,Xh.default)(p)||(n[u]=p)}),(0,Xh.default)(n)||(t.relationships=n),t}hasLinksForRelationship(t,i){var n=this.serializerFor(t.modelName),r=n.links&&n.links(t);return r&&r[i]!=null}_relationshipIsIncludedForModel(t,i){if(this.hasQueryParamIncludes()){var n=this.request._includesGraph,r=this._graphKeyForModel(i),a;return n.data[r]?a=n.data[r]:n.included[this._container.inflector.pluralize(i.modelName)]&&(a=n.included[this._container.inflector.pluralize(i.modelName)][r]),a&&a.relationships&&Object.prototype.hasOwnProperty.call(a.relationships,zn(t))}else{var u=this.getKeysForIncluded();return u.includes(t)}}_createRequestedIncludesGraph(t){var i={data:{}};if(this.isModel(t)){var n=this._graphKeyForModel(t);i.data[n]={},this._addPrimaryModelToRequestedIncludesGraph(i,t)}else this.isCollection(t)&&t.models.forEach(r=>{var a=this._graphKeyForModel(r);i.data[a]={},this._addPrimaryModelToRequestedIncludesGraph(i,r)});this.request._includesGraph=i}_addPrimaryModelToRequestedIncludesGraph(t,i){if(this.hasQueryParamIncludes()){var n=this._graphKeyForModel(i);this.getQueryParamIncludes().filter(r=>!!r.trim()).forEach(r=>{t.data[n].relationships=t.data[n].relationships||{};var a=r.split(".").map(zn),u=a[0],p=u,m=lt(u),_=i.associationKeys.has(m);at(_,'You tried to include "'.concat(u,'" with ').concat(i,' but no association named "').concat(m,'" is defined on the model.'));var O=i[m],F;this.isModel(O)?F=this._graphKeyForModel(O):this.isCollection(O)?F=O.models.map(this._graphKeyForModel):F=null,t.data[n].relationships[p]=F,O&&this._addResourceToRequestedIncludesGraph(t,O,a.slice(1))})}}_addResourceToRequestedIncludesGraph(t,i,n){t.included=t.included||{};var r=this.isCollection(i)?i.models:[i];r.forEach(a=>{var u=this._container.inflector.pluralize(a.modelName);t.included[u]=t.included[u]||{},this._addModelToRequestedIncludesGraph(t,a,n)})}_addModelToRequestedIncludesGraph(t,i,n){var r=this._container.inflector.pluralize(i.modelName),a=this._graphKeyForModel(i);t.included[r][a]=t.included[r][a]||{},n.length&&this._addResourceRelationshipsToRequestedIncludesGraph(t,r,a,i,n)}_addResourceRelationshipsToRequestedIncludesGraph(t,i,n,r,a){t.included[i][n].relationships=t.included[i][n].relationships||{};var u=a[0],p=r[lt(u)],m;this.isModel(p)?m=this._graphKeyForModel(p):this.isCollection(p)&&(m=p.models.map(this._graphKeyForModel)),t.included[i][n].relationships[u]=m,p&&this._addResourceToRequestedIncludesGraph(t,p,a.slice(1))}_graphKeyForModel(t){return"".concat(t.modelName,":").concat(t.id)}getQueryParamIncludes(){var t=(0,eg.default)(this,"request.queryParams.include");return t&&!Array.isArray(t)&&(t=t.split(",")),t}hasQueryParamIncludes(){return!!this.getQueryParamIncludes()}typeKeyForModel(t){return zn(this._container.inflector.pluralize(t.modelName))}getCoalescedIds(t){var i=t.queryParams&&t.queryParams["filter[id]"];return typeof i=="string"?i.split(","):i}shouldIncludeLinkageData(t,i){return!1}};op.prototype.alwaysIncludeLinkageData=!1;var ap=class{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.schema=t,this._serializerMap=i}normalize(t,i){return this.serializerFor(i).normalize(t)}serialize(t,i){if(this.request=i,this._isModelOrCollection(t)){var n=this.serializerFor(t.modelName);return n.serialize(t,i)}else return Array.isArray(t)&&t.some(this._isCollection)?t.reduce((r,a)=>{var u=this.serializerFor(a.modelName);return u.embed?r[this._container.inflector.pluralize(a.modelName)]=u.serialize(a,i):r=Object.assign(r,u.serialize(a,i)),r},{}):t}serializerFor(t){var{explicit:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t&&this._serializerMap&&this._serializerMap[lt(t)];return i?at(!!n,"You passed in ".concat(t," as an explicit serializer type but that serializer doesn't exist.")):(n=n||this._serializerMap.application||gr,at(!n||n.prototype.embed||n.prototype.root||new n instanceof op,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new n(this,t,this.request)}_isModel(t){return t instanceof M2}_isCollection(t){return t instanceof Qr||t instanceof ir}_isModelOrCollection(t){return this._isModel(t)||this._isCollection(t)}registerSerializers(t){var i=this._serializerMap||{};this._serializerMap=Object.assign(i,t)}getCoalescedIds(t,i){return this.serializerFor(i).getCoalescedIds(t)}},L0={},B0={},V0={},sp=class{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};at(t,"A schema requires a db"),this.db=t,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(i),this.isSaving={}}registerModels(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,I2.default)(t,(i,n)=>{this.registerModel(n,t[n])})}registerModel(t,i){var n=lt(t),r=zn(n);i=i.extend(),this._registry[n]=this._registry[n]||{class:null,foreignKeys:[]},this._registry[n].class=i,i.prototype._schema=this,i.prototype.modelName=r,i.prototype.hasManyAssociations={},i.prototype.hasManyAssociationFks={},i.prototype.belongsToAssociations={},i.prototype.belongsToAssociationFks={},i.prototype.associationKeys=new Set,i.prototype.associationIdKeys=new Set,i.prototype.dependentAssociations=[];var a={};for(var u in i.prototype)if(i.prototype[u]instanceof js){var p=i.prototype[u];p.name=u,p.modelName=p.modelName||this.toModelName(u),p.ownerModelName=r,p.setSchema(this);var[m,_]=p.getForeignKeyArray();a[m]=a[m]||[],at(!a[m].includes(_),"Your '".concat(t,"' model definition has multiple possible inverse relationships of type '").concat(m,"'. Please use explicit inverses.")),a[m].push(_),this._addForeignKeyToRegistry(m,_),p.addMethodsToModelClass(i,u)}var O=this.toCollectionName(r);return this.db[O]||this.db.createCollection(O),this[O]={camelizedModelName:n,new:F=>this.new(n,F),create:F=>this.create(n,F),all:F=>this.all(n,F),find:F=>this.find(n,F),findBy:F=>this.findBy(n,F),findOrCreateBy:F=>this.findOrCreateBy(n,F),where:F=>this.where(n,F),none:F=>this.none(n,F),first:F=>this.first(n,F)},this}modelFor(t){return this._registry[t]}new(t,i){return this._instantiateModel(zn(t),i)}create(t,i){return this.new(t,i).save()}all(t){var i=this.collectionForType(t);return this._hydrate(i,zn(t))}none(t){return this._hydrate([],zn(t))}find(t,i){var n=this.collectionForType(t),r=n.find(i);return Array.isArray(i)&&at(r.length===i.length,"Couldn't find all ".concat(this._container.inflector.pluralize(t)," with ids: (").concat(i.join(","),") (found ").concat(r.length," results, but was looking for ").concat(i.length,")")),this._hydrate(r,zn(t))}findBy(t,i){var n=this.collectionForType(t),r=n.findBy(i);return this._hydrate(r,zn(t))}findOrCreateBy(t,i){var n=this.collectionForType(t),r=n.findBy(i),a;return r?a=this._hydrate(r,zn(t)):a=this.create(t,i),a}where(t,i){var n=this.collectionForType(t),r=n.where(i);return this._hydrate(r,zn(t))}first(t){var i=this.collectionForType(t),n=i[0];return this._hydrate(n,zn(t))}modelClassFor(t){var i=this._registry[lt(t)];return at(i,"Model not registered: ".concat(t)),i.class.prototype}addDependentAssociation(t,i){t.isPolymorphic?this._dependentAssociations.polymorphic.push(t):(this._dependentAssociations[i]=this._dependentAssociations[i]||[],this._dependentAssociations[i].push(t))}dependentAssociationsFor(t){var i=this._dependentAssociations[t]||[],n=this._dependentAssociations.polymorphic||[];return i.concat(n)}associationsFor(t){var i=this.modelClassFor(t);return Object.assign({},i.belongsToAssociations,i.hasManyAssociations)}hasModelForModelName(t){return this.modelFor(lt(t))}collectionForType(t){var i=this.toCollectionName(t);return at(this.db[i],"You're trying to find model(s) of type ".concat(t," but this collection doesn't exist in the database.")),this.db[i]}toCollectionName(t){if(typeof L0[t]!="string"){var i=zn(t),n=lt(this._container.inflector.pluralize(i));L0[t]=n}return L0[t]}toInternalCollectionName(t){if(typeof B0[t]!="string"){var i="_".concat(this.toCollectionName(t));B0[t]=i}return B0[t]}toModelName(t){if(typeof V0[t]!="string"){var i=zn(t),n=this._container.inflector.singularize(i);V0[t]=n}return V0[t]}_addForeignKeyToRegistry(t,i){this._registry[t]=this._registry[t]||{class:null,foreignKeys:[]};var n=this._registry[t].foreignKeys;n.includes(i)||n.push(i)}_instantiateModel(t,i){var n=this._modelFor(t),r=this._foreignKeysFor(t);return new n(this,t,i,r)}_modelFor(t){return this._registry[lt(t)].class}_foreignKeysFor(t){return this._registry[lt(t)].foreignKeys}_hydrate(t,i){if(Array.isArray(t)){var n=t.map(function(r){return this._instantiateModel(i,r)},this);return new Qr(i,n)}else return t?this._instantiateModel(i,t):null}},Hq={Db:np,Association:js,RouteHandler:rp,BaseRouteHandler:hc,Serializer:gr,SerializerRegistry:ap,Schema:sp},qq={singularize:c0,pluralize:l0},lp=class{constructor(){this.inflector=qq}register(t,i){this[t]=i}create(t){var i=Hq[t];i.prototype._container=this;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new i(...r)}},Us=new lp;np.prototype._container=Us;js.prototype._container=Us;hc.prototype._container=Us;rp.prototype._container=Us;gr.prototype._container=Us;ap.prototype._container=Us;sp.prototype._container=Us;var jq=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",e=>/.+\.hot-update.json$/.test(e.url)],K0={coalesce:!1,timing:void 0};function Wq(e){if(!e||typeof e!="object")return!1;for(var t=Object.keys(K0),i=Object.keys(e),n=0;n<i.length;n++){var r=i[n];if(t.indexOf(r)>-1)return!0}return!1}function Uq(e){var[t]=e.splice(-1);Wq(t)?t=(0,Jh.default)({},K0,t):(e.push(t),t=K0);for(var i=2-e.length;i-- >0;)e.push(void 0);return e.push(t),e}var X0=class{constructor(){Qa(this,"urlPrefix",void 0),Qa(this,"namespace",void 0),Qa(this,"timing",void 0),Qa(this,"passthroughChecks",void 0),Qa(this,"pretender",void 0),Qa(this,"mirageServer",void 0),Qa(this,"trackRequests",void 0)}create(t,i){var n=this;this.mirageServer=t,this.pretender=this._create(t,i),t.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(i),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach(r=>{var[a,u]=r;this[a]=function(p){for(var m,_=arguments.length,O=new Array(_>1?_-1:0),F=1;F<_;F++)O[F-1]=arguments[F];var[N,U,q]=Uq(O),se=t.registerRouteHandler(a,p,N,U,q),ce=n._getFullPath(p),we=q.timing!==void 0?q.timing:()=>n.timing;return(m=n.pretender)===null||m===void 0?void 0:m[a](ce,se,we)},t[a]=this[a],u&&(this[u]=this[a],t[u]=this[a])})}config(t){var i,n,r=typeof t.useDefaultPassthroughs<"u"?t.useDefaultPassthroughs:!0;r&&this._configureDefaultPassthroughs();var a=t.trackRequests!==void 0&&t.trackRequests!==this.trackRequests;at(!a,"You cannot modify Pretender's request tracking once the server is created"),this.timing=(i=(n=t.timing)!==null&&n!==void 0?n:this.timing)!==null&&i!==void 0?i:400,this.urlPrefix=this.urlPrefix||t.urlPrefix||"",this.namespace=this.namespace||t.namespace||""}_configureDefaultPassthroughs(){jq.forEach(t=>{this.passthrough(t)})}_create(t,i){if(typeof window<"u")return this.trackRequests=i.trackRequests||!1,new g2(function(){this.passthroughRequest=function(r,a,u){t.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(r.toUpperCase()," ").concat(u.url))},this.handledRequest=function(r,a,u){if(t.shouldLog()){console.groupCollapsed("Mirage: [".concat(u.status,"] ").concat(r.toUpperCase()," ").concat(u.url));var{requestBody:p,responseText:m}=u,_,O;try{_=JSON.parse(p)}catch{_=p}try{O=JSON.parse(m)}catch{O=m}console.groupCollapsed("Response"),console.log(O),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(_),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(u),console.groupEnd(),console.groupEnd()}};var n=this.checkPassthrough;this.checkPassthrough=function(r){var a=t.passthroughChecks.some(p=>p(r));if(a){var u=r.url.includes("?")?r.url.substr(0,r.url.indexOf("?")):r.url;this[r.method.toLowerCase()](u,this.passthrough)}return n.apply(this,arguments)},this.unhandledRequest=function(r,a){a=decodeURI(a);var u="";this.namespace===""?u="There is no existing namespace defined. Please define one":u="The existing namespace is ".concat(this.namespace),at("Your app tried to ".concat(r," '").concat(a,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(u))}},{trackRequests:this.trackRequests})}passthrough(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(typeof window<"u"){var r=["get","post","put","delete","patch","options","head"],a=i[i.length-1];i.length===0?i=["/**","/"]:i.length>1&&Array.isArray(a)&&(r=i.pop()),i.forEach(u=>{typeof u=="function"?this.passthroughChecks.push(u):r.forEach(p=>{var m=this._getFullPath(u);this.pretender[p](m,this.pretender.passthrough)})})}}_getFullPath(t){t=t[0]==="/"?t.slice(1):t;var i="",n=this.urlPrefix?this.urlPrefix.trim():"",r="";if(this.urlPrefix&&this.namespace&&(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(r=this.namespace.substring(0,this.namespace.length-1).substring(1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(r=this.namespace.substring(1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"&&(r=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(r=this.namespace)),this.namespace&&!this.urlPrefix){if(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(r=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(r=this.namespace),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"){var a=this.namespace.substring(0,this.namespace.length-1);r="/".concat(a)}this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(r="/".concat(this.namespace))}return this.namespace||(r=""),/^https?:\/\//.test(t)?i+=t:(n.length&&(i+=n[n.length-1]==="/"?n:"".concat(n,"/")),i+=r,i[i.length-1]!=="/"&&(i+="/"),i+=t,/^https?:\/\//.test(i)||(i="/".concat(i),i=i.replace(/\/+/g,"/"))),i}start(){}shutdown(){this.pretender.shutdown()}},$0={},Zq={singularize:c0,pluralize:l0};function P2(e){var t=new J0(e);return t}var J0=class{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._container=new lp,this.config(t),this.db=this.db||void 0,this.schema=this.schema||void 0,this.middleware=[]}get namespace(){return this.interceptor.namespace}set namespace(t){this.interceptor.namespace=t}get urlPrefix(){return this.interceptor.urlPrefix}set urlPrefix(t){this.interceptor.urlPrefix=t}get timing(){return this.interceptor.timing}set timing(t){this.interceptor.timing=t}get passthroughChecks(){return this.interceptor.passthroughChecks}set passthroughChecks(t){this.interceptor.passthroughChecks=t}config(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interceptor||(t.interceptor=new X0),this.interceptor?this.interceptor.config(t):(this.interceptor=t.interceptor,this.interceptor.create(this,t));var i=t.environment&&this.environment&&this.environment!==t.environment;at(!i,"You cannot modify Mirage's environment once the server is created"),this.environment=t.environment||this.environment||"development",t.routes&&(at(!t.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),t.baseConfig=t.routes),t.seeds&&(at(!t.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),t.scenarios={default:t.seeds}),this._config=t,this.inflector=t.inflector||Zq,this._container.register("inflector",this.inflector),this.logging=t.logging!==void 0?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=t.trackRequests,this.db?this.db.registerIdentityManagers(t.identityManagers):this.db=this._container.create("Db",void 0,t.identityManagers),this.schema?(this.schema.registerModels(t.models),this.serializerOrRegistry.registerSerializers(t.serializers||{})):(this.schema=this._container.create("Schema",this.db,t.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,t.serializers));var n=this._hasModulesOfType(t,"factories"),r=t.scenarios&&Object.prototype.hasOwnProperty.call(t.scenarios,"default");t.baseConfig&&this.loadConfig(t.baseConfig),this.isTest()&&(this.loadConfig(t.testConfig),typeof window<"u"&&(window.server=this)),this.isTest()&&n?this.loadFactories(t.factories):!this.isTest()&&r?(this.loadFactories(t.factories),t.scenarios.default(this)):this.loadFixtures()}start(){var t=this;return kq(function*(){var i,n;yield(i=(n=t.interceptor).start)===null||i===void 0?void 0:i.call(n)})()}isTest(){return this.environment==="test"}shouldLog(){return typeof this.logging<"u"?this.logging:!this.isTest()}loadConfig(t){t?.call(this),this.timing=this.isTest()?0:this.timing||0}passthrough(){for(var t,i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=(i=this.interceptor).passthrough)===null||t===void 0||t.call(i,...r)}loadFixtures(){for(var{fixtures:t}=this._config,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(n.length){var a=n.map(lt),u=a.filter(p=>!t[p]);if(u.length)throw new Error("Fixtures not found: ".concat(u.join(", ")));t=(0,F2.default)(t,...a)}this.db.loadData(t)}loadFactories(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this._factoryMap||{};this._factoryMap=(0,Jh.default)(i,t),Object.keys(t).forEach(n=>{var r=this.schema.toCollectionName(n);this.db.createCollection(r)})}factoryFor(t){var i=lt(t);if(this._factoryMap&&this._factoryMap[i])return this._factoryMap[i]}build(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a=n.filter(q=>q&&typeof q=="string"),u=(0,Qh.default)(n,q=>(0,dc.default)(q)),p=lt(t);this.factorySequences=this.factorySequences||{},this.factorySequences[p]=this.factorySequences[p]+1||0;var m=this.factoryFor(t);if(m){m=m.extend({});var _=m.attrs||{};this._validateTraits(a,m,t);var O=this._mergeExtensions(_,a,u);this._mapAssociationsFromAttributes(t,_,u),this._mapAssociationsFromAttributes(t,O);var F=m.extend(O),N=new F,U=this.factorySequences[p];return N.build(U)}else return u}buildList(t,i){at((0,H0.default)(i),"second argument has to be an integer, you passed: ".concat(typeof i));for(var n=[],r=arguments.length,a=new Array(r>2?r-2:0),u=2;u<r;u++)a[u-2]=arguments[u];for(var p=[t,...a],m=0;m<i;m++)n.push(this.build.apply(this,p));return n}create(t){at(this._modelOrFactoryExistsForType(t),"You called server.create('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a=n.filter(q=>q&&typeof q=="string"),u=(0,Qh.default)(n,q=>(0,dc.default)(q)),p=(0,Qh.default)(n,q=>q&&Array.isArray(q)),m=this.build(t,...a,u),_;if(this.schema&&this.schema[this.schema.toCollectionName(t)]){var O=this.schema[this.schema.toCollectionName(t)];_=O.create(m)}else{var F,N;p?F=p:(N=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),F=this.db[N]),at(F,"You called server.create('".concat(t,"') but no model or factory was found.")),_=F.insert(m)}var U=this.factoryFor(t);return U&&U.extractAfterCreateCallbacks({traits:a}).forEach(q=>{q(_,this)}),_}createList(t,i){at(this._modelOrFactoryExistsForType(t),"You called server.createList('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),at((0,H0.default)(i),"second argument has to be an integer, you passed: ".concat(typeof i));for(var n=[],r=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),a=this.db[r],u=arguments.length,p=new Array(u>2?u-2:0),m=2;m<u;m++)p[m-2]=arguments[m];for(var _=[t,...p,a],O=0;O<i;O++)n.push(this.create.apply(this,_));return n}shutdown(){typeof window<"u"&&this.interceptor.shutdown(),typeof window<"u"&&this.environment==="test"&&(window.server=void 0)}resource(t){var{only:i,except:n,path:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t=this.inflector.pluralize(t),r=r||"/".concat(t),i=i||[],n=n||[],i.length>0&&n.length>0)throw"cannot use both :only and :except options";var a={index:{methods:["get"],path:"".concat(r)},show:{methods:["get"],path:"".concat(r,"/:id")},create:{methods:["post"],path:"".concat(r)},update:{methods:["put","patch"],path:"".concat(r,"/:id")},delete:{methods:["del"],path:"".concat(r,"/:id")}},u=Object.keys(a),p=i.length>0&&i||n.length>0&&u.filter(m=>n.indexOf(m)===-1)||u;p.forEach(m=>{var _=a[m];_.methods.forEach(O=>r===t?this[O](_.path):this[O](_.path,t))})}_serialize(t){return typeof t=="string"||t instanceof Blob||t instanceof ArrayBuffer||t instanceof FormData||t instanceof ReadableStream||t instanceof URLSearchParams||t&&typeof t=="object"&&"isView"in t&&t.isView()?t:JSON.stringify(t)}registerRouteHandler(t,i,n,r,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.middleware,p=this._container.create("RouteHandler",{schema:this.schema,verb:t,rawHandler:n,customizedCode:r,options:a,path:i,serializerOrRegistry:this.serializerOrRegistry,middleware:u});return m=>p.handle(m).then(_=>{var[O,F,N]=_;return[O,F,this._serialize(N)]})}_hasModulesOfType(t,i){var n=t[i];return n?Object.keys(n).length>0:!1}_typeIsPluralForModel(t){if(typeof $0[t]!="boolean"){var i=this._modelOrFactoryExistsForTypeOrCollectionName(t),n=t===this.inflector.pluralize(t),r=this.inflector.singularize(t)===this.inflector.pluralize(t),a=n&&!r&&i;$0[t]=a}return $0[t]}_modelOrFactoryExistsForType(t){var i=this.schema&&this.schema.modelFor(lt(t)),n=this.db[this.schema.toInternalCollectionName(t)];return(i||n)&&!this._typeIsPluralForModel(t)}_modelOrFactoryExistsForTypeOrCollectionName(t){var i=this.schema&&this.schema.modelFor(lt(t)),n=this.db[this.schema.toInternalCollectionName(t)];return i||n}_validateTraits(t,i,n){t.forEach(r=>{if(!i.isTrait(r))throw new Error("'".concat(r,"' trait is not registered in '").concat(n,"' factory"))})}_mergeExtensions(t,i,n){var r=i.map(a=>t[a].extension);return r.push(n||{}),r.reduce((a,u)=>(0,Jh.default)(a,u),{})}_mapAssociationsFromAttributes(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i||{}).filter(r=>Bq(i[r])).forEach(r=>{var a=this.schema.modelClassFor(t),u=a.associationFor(r);at(u&&u instanceof qs,"You're using the `association` factory helper on the '".concat(r,"' attribute of your ").concat(t," factory, but that attribute is not a `belongsTo` association."));var p=u&&u instanceof qs&&u.modelName===t;at(!p,"You're using the association() helper on your ".concat(t," factory for ").concat(r,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var m=u&&u.opts&&u.opts.polymorphic;at(!m,"You're using the association() helper on your ".concat(t," factory for ").concat(r,", which is a polymorphic relationship. This is not currently supported."));var _=i[r],O="".concat(lt(r),"Id");n[r]||(i[O]=this.create(u.modelName,..._.traitsAndOverrides).id),delete i[r]})}},C2=gr.extend({serializeIds:"always",normalizeIds:!0,keyForModel(e){return jo(e)},keyForAttribute(e){return e=gr.prototype.keyForAttribute.apply(this,arguments),jo(e)},keyForRelationship(e){return this._container.inflector.pluralize(jo(e))},keyForEmbeddedRelationship(e){return jo(e)},keyForRelationshipIds(e){return"".concat(jo(this._container.inflector.singularize(e)),"_ids")},keyForForeignKey(e){return"".concat(jo(e),"_id")},keyForPolymorphicForeignKeyId(e){return"".concat(jo(e),"_id")},keyForPolymorphicForeignKeyType(e){return"".concat(jo(e),"_type")},normalize(e){var t=Object.keys(e)[0],i=e[t],n=lt(t),r=this.schema.modelClassFor(n),{belongsToAssociations:a,hasManyAssociations:u}=r,p=Object.keys(a),m=Object.keys(u);this.primaryKey!=="id"&&(i.id=i[this.primaryKey],delete i[this.primaryKey]);var _={data:{type:this._container.inflector.pluralize(t),attributes:{}}};i.id&&(_.data.id=i.id);var O={};return Object.keys(i).forEach(F=>{if(F!=="id")if(this.normalizeIds)if(p.includes(F)){var N=a[F],U=N.modelName;O[zn(F)]={data:{type:U,id:i[F]}}}else if(m.includes(F)){var q=u[F],se=q.modelName,ce=i[F].map(we=>({type:se,id:we}));O[zn(F)]={data:ce}}else _.data.attributes[zn(F)]=i[F];else _.data.attributes[zn(F)]=i[F]}),Object.keys(O).length&&(_.data.relationships=O),_},getCoalescedIds(e){return e.queryParams&&e.queryParams.ids}}),mre=C2.extend({serializeIds:"always",keyForModel(e){return lt(e)},keyForAttribute(e){return e=C2.prototype.keyForAttribute.apply(this,arguments),lt(e)},keyForRelationship(e){return lt(this._container.inflector.pluralize(e))},keyForEmbeddedRelationship(e){return lt(e)},keyForRelationshipIds(e){return lt(this._container.inflector.pluralize(e))},keyForForeignKey(e){return lt(this._container.inflector.singularize(e))},getCoalescedIds(e){return e.queryParams&&e.queryParams.ids}});var rg=(e,t)=>t.some(i=>e instanceof i),D2,E2;function Gq(){return D2||(D2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yq(){return E2||(E2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var og=new WeakMap,ng=new WeakMap,up=new WeakMap;function Qq(e){let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",u)},a=()=>{i(Zs(e.result)),r()},u=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",u)});return up.set(t,e),t}function Kq(e){if(og.has(e))return;let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",u),e.removeEventListener("abort",u)},a=()=>{i(),r()},u=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",u),e.addEventListener("abort",u)});og.set(e,t)}var ag={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return og.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function R2(e){ag=e(ag)}function Xq(e){return Yq().includes(e)?function(...t){return e.apply(sg(this),t),Zs(this.request)}:function(...t){return Zs(e.apply(sg(this),t))}}function Jq(e){return typeof e=="function"?Xq(e):(e instanceof IDBTransaction&&Kq(e),rg(e,Gq())?new Proxy(e,ag):e)}function Zs(e){if(e instanceof IDBRequest)return Qq(e);if(ng.has(e))return ng.get(e);let t=Jq(e);return t!==e&&(ng.set(e,t),up.set(t,e)),t}var sg=e=>up.get(e);function L2(e,t,{blocked:i,upgrade:n,blocking:r,terminated:a}={}){let u=indexedDB.open(e,t),p=Zs(u);return n&&u.addEventListener("upgradeneeded",m=>{n(Zs(u.result),m.oldVersion,m.newVersion,Zs(u.transaction),m)}),i&&u.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),p.then(m=>{a&&m.addEventListener("close",()=>a()),r&&m.addEventListener("versionchange",_=>r(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}var e9=["get","getKey","getAll","getAllKeys","count"],t9=["put","add","delete","clear"],ig=new Map;function A2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ig.get(t))return ig.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=t9.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||e9.includes(i)))return;let a=function(u,...p){return Kt(this,null,function*(){let m=this.transaction(u,r?"readwrite":"readonly"),_=m.store;return n&&(_=_.index(p.shift())),(yield Promise.all([_[i](...p),r&&m.done]))[0]})};return ig.set(t,a),a}R2(e=>Kn(qt({},e),{get:(t,i,n)=>A2(t,i)||e.get(t,i,n),has:(t,i)=>!!A2(t,i)||e.has(t,i)}));var n9=["continue","continuePrimaryKey","advance"],k2={},lg=new WeakMap,B2=new WeakMap,i9={get(e,t){if(!n9.includes(t))return e[t];let i=k2[t];return i||(i=k2[t]=function(...n){lg.set(this,B2.get(this)[t](...n))}),i}};function r9(...e){return Ov(this,null,function*(){let t=this;if(t instanceof IDBCursor||(t=yield new am(t.openCursor(...e))),!t)return;t=t;let i=new Proxy(t,i9);for(B2.set(i,t),up.set(i,sg(t));t;)yield i,t=yield new am(lg.get(i)||t.continue()),lg.delete(i)})}function N2(e,t){return t===Symbol.asyncIterator&&rg(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&rg(e,[IDBIndex,IDBObjectStore])}R2(e=>Kn(qt({},e),{get(t,i,n){return N2(t,i)?r9:e.get(t,i,n)},has(t,i){return N2(t,i)||e.has(t,i)}}));var De=vn(V2()),dg=vn($2());var o9=6371;function hp(e){return e*(Math.PI/180)}function hg(e,t,i,n){let r=hp(i-e),a=hp(n-t),u=Math.sin(r/2)*Math.sin(r/2)+Math.cos(hp(e))*Math.cos(hp(i))*Math.sin(a/2)*Math.sin(a/2),p=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return o9*p}function mp(e){return(0,dg.sha512)(e)}function q2(e,t,i){let n=[],r=(0,De.keyBy)(i,"carriageCode");for(let a=0;a<e.departureTime.length;a++){let u=t.reduce((p,m)=>(p[m]=r[m].price[a],p),{});n.push({time:[e.departureTime[a],e.arrivalTime[a]],price:u})}return n}function a9(e){return(0,dg.sha512)(`-user:${e.email}:${Date.now()}`)}var Nu=function(e){return e.active="active",e.canceled="canceled",e.completed="completed",e.rejected="rejected",e}(Nu||{}),fc=function(e){return e.manager="manager",e.user="user",e}(fc||{}),an=L2("rsschool@train-a",1,{upgrade(e,t,i){let n=e.createObjectStore("users",{keyPath:"id",autoIncrement:!0}),r=e.createObjectStore("stations",{keyPath:"id",autoIncrement:!0}),a=e.createObjectStore("carriages",{keyPath:"code"}),u=e.createObjectStore("railways",{keyPath:"id",autoIncrement:!0}),p=e.createObjectStore("routes",{keyPath:"id",autoIncrement:!0}),m=e.createObjectStore("schedule",{keyPath:"id",autoIncrement:!0}),_=e.createObjectStore("price",{keyPath:"id",autoIncrement:!0}),O=e.createObjectStore("order",{keyPath:"id",autoIncrement:!0});n.createIndex("email","email",{unique:!0}),n.createIndex("token","accessToken",{unique:!0}),r.createIndex("city","city",{unique:!0}),r.createIndex("geolocation",["latitude","longitude"],{unique:!0}),r.createIndex("latitude","latitude"),r.createIndex("longitude","longitude"),u.createIndex("stations",["station1","station2"],{unique:!0}),u.createIndex("station1","station1"),u.createIndex("station2","station2"),p.createIndex("carriage","carriages",{multiEntry:!0}),p.createIndex("station","path",{multiEntry:!0}),m.createIndex("route","routeId"),m.createIndex("ride",["routeId","id"],{unique:!0}),m.createIndex("arrivalTime","arrivalTime",{multiEntry:!0}),m.createIndex("departureTime","departureTime",{multiEntry:!0}),_.createIndex("carriage","carriageCode"),_.createIndex("ride","rideId"),_.createIndex("carriage_ride",["carriageCode","rideId"],{unique:!0}),_.createIndex("price","price",{multiEntry:!0}),O.createIndex("userId","userId"),O.createIndex("rideId","rideId"),O.createIndex("stationStart","stationStart"),O.createIndex("stationEnd","stationEnd"),O.createIndex("status","status"),O.createIndex("trip",["userId","rideId"]),O.createIndex("user_ride_status",["userId","rideId","status"],{unique:!0}),n.add({email:"admin@admin.com",name:"Admin",role:fc.manager,passHash:mp("my-password"),accessToken:null});let F=[],N=new Map,U=new Map,q=new Map,se=new Map;(0,De.range)(1,(0,De.random)(60,200)).forEach(mt=>{let ke={city:`city${mt}`,latitude:(0,De.random)(-90,90,!0),longitude:(0,De.random)(-180,180,!0)};q.set(ke,new Map);for(let Pt of F){let sn=Pt.latitude,Z=Pt.longitude,ue=ke.latitude,Me=ke.longitude,ge=Math.ceil(hg(sn,Z,ue,Me));U.has(ge)||U.set(ge,[]),q.has(Pt)||q.set(Pt,new Map),U.get(ge).push([Pt,ke]),q.get(ke).set(Pt,ge),q.get(Pt).set(ke,ge)}r.add(ke),F.push(ke),N.set(ke,mt)});let ce=Array.from(U.keys()).sort((mt,ke)=>mt-ke),we=ce.slice(0,Math.floor(ce.length/5));for(let mt of we)for(let[ke,Pt]of U.get(mt))se.has(ke)||se.set(ke,[]),se.has(Pt)||se.set(Pt,[]),se.get(ke).push(Pt),se.get(Pt).push(ke),u.add({station1:N.get(ke),station2:N.get(Pt),distance:mt});let tt=[];(0,De.range)(1,(0,De.random)(4,7)).forEach(mt=>{let ke={code:`carriage${mt}`,name:`carriage${mt}`,rows:(0,De.random)(8,20),leftSeats:(0,De.random)(1,4),rightSeats:(0,De.random)(1,3)};tt.push(ke),a.add(ke)});let st=60,Lt=1;(0,De.range)(1,(0,De.random)(500,700)).forEach(mt=>{let ke=(0,De.range)((0,De.random)(8,25)).map(()=>tt[(0,De.random)(0,tt.length-1)].code),Pt=Array.from(new Set(ke)),sn=(0,De.random)(10,30),Z=[],ue=[],Me=0,ge=F[(0,De.random)(0,F.length-1)];for(;Me<sn&&ge;){let ct=N.get(ge);Z.push(ge),ue.push(ct);let de=se.get(ge),Xe=(0,De.differenceWith)(de,Z,(X,pt)=>X.city===pt.city);Xe.length>0?ge=Xe[(0,De.random)(Xe.length-1)]:ge=null,Me++}p.add({path:ue,carriages:ke}),(0,De.range)(1,(0,De.random)(2,7)).forEach(()=>{let ct=[],de=[];de.push(new Date(Date.now()+(0,De.random)(-864e6,1296e6)));for(let Xe=1;Xe<Z.length;Xe++){let X=Z[Xe],pt=Z[Xe-1],be=q.get(X).get(pt),He=de[Xe-1],zt=new Date(He.getTime()+Math.floor(be/st*36e5));if(ct.push(zt),Xe<Z.length-1){let Bt=(0,De.random)(5,60),yt=new Date(zt.getTime()+Bt*6e4);de.push(yt)}}m.add({routeId:mt,arrivalTime:ct,departureTime:de});for(let Xe of Pt){let X=(0,De.range)(ue.length-1).map(()=>(0,De.random)(100,2500));_.add({rideId:Lt,carriageCode:Xe,price:X})}Lt++})})}}),s9=(e,t,i)=>Kt(void 0,null,function*(){yield(yield an).put("users",Kn(qt({},i),{accessToken:null}))}),j2=/^Bearer\s+([\w\d]{5,})$/,pg=/^[\w\d\._]+@[\w\d_]+\.\w{2,7}$/,W2=function(e){return e.token="invalidAccessToken",e}(W2||{}),gp=function(e){return e.recordNotFound="recordNotFound",e}(gp||{}),Ru=function(e){return e.orderNotFound="orderNotFound",e.alreadyBooked="alreadyBooked",e.orderNotActive="orderNotActive",e}(Ru||{}),Xa=function(e){return e.stationNotFound="stationNotFound",e.rideNotFound="rideNotFound",e.invalidStations="invalidStations",e}(Xa||{}),pp=function(e){return e.notFound="userNotFound",e.alreadyLoggedIn="alreadyLoggedIn",e}(pp||{}),ga=function(e){return e.invalidFields="invalidFields",e.invalidEmail="invalidEmail",e.invalidPassword="invalidPassword",e.invalidUniqueKey="invalidUniqueKey",e}(ga||{}),U2=function(e){return e.invalidStationData="invalidStationData",e}(U2||{}),cg=class extends ki{constructor(t,i){super(400,{},{message:t,reason:i})}};function bn(e,t){return new cg(e,t)}var ug=class extends ki{constructor(){super(401,{},{message:"Access is not granted",reason:W2.token})}};function fp(){return new ug}var l9=(e,t)=>Kt(void 0,null,function*(){let{email:i,password:n}=JSON.parse(t.requestBody),{Authorization:r=""}=t.requestHeaders;if(j2.test(r))return bn("Authorization error",pp.alreadyLoggedIn);if(!i||!n)return bn("Fields are empty",ga.invalidFields);if(!pg.test(i))return bn("Email is wrong",ga.invalidEmail);let a=yield an,u=yield a.getFromIndex("users","email",i);if(u){if(mp(n)!==u.passHash)return bn("User is not found",pp.notFound)}else return bn("User is not found",pp.notFound);let p=a9(u);return yield a.put("users",Kn(qt({},u),{accessToken:p})),{token:p}}),c9=(e,t)=>Kt(void 0,null,function*(){let{email:i,password:n}=JSON.parse(t.requestBody);if(i&&n)if(pg.test(i)){if(n.length<8)return bn("Password is wrong",ga.invalidPassword)}else return bn("Email is wrong",ga.invalidEmail);else return bn("Fields are empty",ga.invalidFields);let r=mp(n),a=yield an;try{yield a.add("users",{name:null,accessToken:null,email:i,passHash:r,role:fc.user})}catch(u){if(u instanceof Error&&(u.name==="ConstraintError"||(u.message?.toLowerCase()).includes("already exist")))return bn("User already exists",ga.invalidUniqueKey);throw u}}),u9=(e,t,i)=>Kt(void 0,null,function*(){let n=JSON.parse(t.requestBody),r=(0,De.toInteger)(n.stationStart),a=(0,De.toInteger)(n.stationEnd),u=(0,De.toInteger)(n.rideId),p=(0,De.toInteger)(n.seat),m=yield an,_=yield m.get("schedule",u);if(!_)return bn("Ride not found",Xa.rideNotFound);let O=yield m.get("routes",_.routeId);if(!O)return bn("Ride not found",Xa.rideNotFound);let F=O.path.indexOf(r),N=O.path.indexOf(a);if(F>=0&&N>F)try{return{id:yield m.add("order",{userId:i.id,rideId:u,seatId:(0,De.toInteger)(p),stationStart:r,stationEnd:a,status:Nu.active})}}catch(U){if(U.name==="ConstraintError")return bn("Ride is already booked",Ru.alreadyBooked);throw U}else return bn("Invalid stations",Xa.invalidStations)}),d9=(e,t,i)=>Kt(void 0,null,function*(){let n=Number(t.params.rideId),r=yield an;if(!n||n<1)return bn("Order is not found",Ru.orderNotFound);let a=yield r.getAllFromIndex("order","rideId",n);if(!a.length)return bn("Order is not found",Ru.orderNotFound);let u=a.find(m=>m.status===Nu.active),p=i.role===fc.manager;return!u||!p&&u.userId!==i.id?bn("Order is not active",Ru.orderNotActive):(yield r.put("order",Kn(qt({},u),{status:p?Nu.rejected:Nu.canceled})),null)}),h9=(e,t)=>Kt(void 0,null,function*(){return(yield an).getAll("carriages")}),p9=(e,t)=>Kt(void 0,null,function*(){let{name:i,rows:n,leftSeats:r,rightSeats:a}=JSON.parse(t.requestBody),u=yield an,p=(0,De.kebabCase)(i),m={code:p,name:i,rows:n,leftSeats:r,rightSeats:a};return yield u.add("carriages",m),{code:p}}),f9=(e,t)=>Kt(void 0,null,function*(){let i=t.params.code;return yield(yield an).delete("carriages",i),null}),m9=(e,t)=>Kt(void 0,null,function*(){let i=JSON.parse(t.requestBody),n=t.params.code,r=yield an,a=yield r.get("carriages",n);if(a){let u=Kn(qt({},a),{name:i.name,rows:i.rows,leftSeats:i.leftSeats,rightSeats:i.rightSeats});return{code:yield r.put("carriages",u)}}else return bn("Carriage not found",gp.recordNotFound)}),g9=(e,t,i)=>Kt(void 0,null,function*(){let n=i.role===fc.manager&&t.queryParams.all&&t.queryParams.all!=="false",r=yield an,a=r.getAllFromIndex("order","userId",i.id);n&&(a=r.getAll("order"));let u=yield a,p=Array.from(new Set(u.map(ce=>ce.rideId))),m=yield Promise.all(p.map(ce=>r.get("schedule",ce))),_=(0,De.keyBy)(m,"id"),O=Array.from(new Set(m.map(ce=>ce.routeId))),F=yield Promise.all(O.map(ce=>r.get("routes",ce))),N=(0,De.keyBy)(F,"id"),U=yield Promise.all(p.map(ce=>r.getAllFromIndex("price","ride",ce))),q=(0,De.keyBy)(U,ce=>ce[0].rideId);return u.map(ce=>Kn(qt({},ce),{routeId:_[ce.rideId].routeId,carriages:N[_[ce.rideId].routeId].carriages,path:N[_[ce.rideId].routeId].path,schedule:{segments:q2(_[ce.rideId],Array.from(new Set(N[_[ce.rideId].routeId].carriages)),q[ce.rideId])}})).map(ce=>(0,De.pick)(ce,["id","userId","routeId","rideId","seatId","path","carriages","stationStart","stationEnd","schedule","status"]))}),_9=(e,t,i)=>(0,De.pick)(i,["name","email","role"]),v9=(e,t,i)=>Kt(void 0,null,function*(){let{name:n,email:r}=JSON.parse(t.requestBody),a=qt({},i);n&&n!==i.name&&(a.name=n),r&&r!==i.email&&pg.test(r)&&(a.email=r);let u=yield an;try{yield u.put("users",a)}catch(p){if(p instanceof Error&&(p.name==="ConstraintError"||(p.message?.toLowerCase()).includes("Unable to add key to index")))return bn("Email already exists",ga.invalidUniqueKey);throw p}return(0,De.pick)(a,["name","email","role"])}),y9=(e,t,i)=>Kt(void 0,null,function*(){let{password:n}=JSON.parse(t.requestBody);if(n.length<8)return bn("Password is wrong",ga.invalidPassword);let r=mp(n);yield(yield an).put("users",Kn(qt({},i),{passHash:r}))}),C9=(e,t)=>Kt(void 0,null,function*(){let i=Number(t.params.id),n=yield an,r=yield n.get("schedule",i);if(!r)return bn("Ride not found",Xa.rideNotFound);let a=yield n.get("routes",r.routeId),u=yield n.getAllFromIndex("price","ride",i),p=(0,De.keyBy)(u,"carriageCode"),m=yield n.getAllFromIndex("order","rideId",i),_=a.path,O=a.carriages,F=Array.from(new Set(O)),N=[],U=(0,De.range)(_.length-1).map(()=>[]);for(let q of m){let se=_.indexOf(q.stationStart),ce=_.indexOf(q.stationEnd);for(let we of(0,De.range)(se,ce))U[we].push(q.seatId)}for(let q=0;q<_.length-1;q++){let se=[r.departureTime[q],r.arrivalTime[q]],ce=F.reduce((we,tt)=>(we[tt]=p[tt].price[q],we),{});N.push({time:se,price:ce,occupiedSeats:U[q]})}return{rideId:i,path:_,carriages:O,schedule:{segments:N}}}),x9=(e,t)=>Kt(void 0,null,function*(){return(yield an).getAll("routes")}),z9=(e,t)=>Kt(void 0,null,function*(){let{path:i,carriages:n}=JSON.parse(t.requestBody);return{id:yield(yield an).add("routes",{path:i.map(De.toInteger),carriages:n})}}),b9=(e,t)=>Kt(void 0,null,function*(){let i=Number(t.params.id);return yield(yield an).delete("routes",i),null}),S9=(e,t)=>Kt(void 0,null,function*(){let i=Number(t.params.id),n=yield an,[r,a]=yield Promise.all([n.get("routes",i),n.getAllFromIndex("schedule","route",i)]);if(!r)return bn("Ride not found",Xa.rideNotFound);let u=yield Promise.all(a.map(({id:O})=>n.getAllFromIndex("price","ride",O))),p=(0,De.keyBy)(u,O=>O[0].rideId),m=Array.from(new Set(r.carriages)),_=a.map(O=>{let F=q2(O,m,p[O.id]);return{rideId:O.id,segments:F}});return{id:r.id,path:r.path,carriages:r.carriages,schedule:_}}),w9=(e,t)=>Kt(void 0,null,function*(){let i=JSON.parse(t.requestBody),n=Number(t.params.routeId),r=yield an,a=yield r.get("routes",n);if(!a)return bn("Route not found",gp.recordNotFound);let u=Array.from(new Set(a.carriages)),p=[],m=[],_={};for(let q of i.segments){let[se,ce]=q.time;p.push(ce),m.push(se);for(let we of u)_[we]||(_[we]=[]),_[we].push((0,De.toInteger)(q.price[we]))}let O=r.transaction(["schedule","price"],"readwrite"),F=O.objectStore("schedule"),N=O.objectStore("price"),U=yield F.add({routeId:n,arrivalTime:p,departureTime:m});return yield Promise.all([...u.map(q=>N.add({rideId:U,carriageCode:q,price:_[q]})),O.done]),{id:U}}),T9=(e,t)=>Kt(void 0,null,function*(){let i=JSON.parse(t.requestBody),n=(0,De.toInteger)(t.params.routeId),r=(0,De.toInteger)(t.params.rideId),a=yield an,[u,p]=yield Promise.all([a.get("routes",n),a.getFromIndex("schedule","ride",[n,r])]);if(!p||!u)return bn("Ride not found",gp.recordNotFound);let m=Array.from(new Set(u.carriages)),_=[],O=[],F={};for(let we of i.segments){let[tt,st]=we.time;_.push(st),O.push(tt);for(let Lt of m)F[Lt]||(F[Lt]=[]),F[Lt].push((0,De.toInteger)(we.price[Lt]))}let N=a.transaction(["schedule","price"],"readwrite"),U=N.objectStore("schedule"),q=N.objectStore("price"),se=yield q.index("ride").getAll(r),ce=(0,De.keyBy)(se,"carriageCode");return yield Promise.all([U.put(Kn(qt({},p),{arrivalTime:_,departureTime:O})),...m.map(we=>q.put(Kn(qt({},ce[we]),{price:F[we]}))),N.done]),null}),I9=(e,t)=>Kt(void 0,null,function*(){let{path:i,carriages:n}=JSON.parse(t.requestBody),r=(0,De.toInteger)(t.params.id),u=yield(yield an).put("routes",{id:r,path:i.map(De.toInteger),carriages:n});if(r===u)return{id:r}}),F9=50,O9=(e,t)=>Kt(void 0,null,function*(){let i=t.queryParams,n=yield an,r=yield H2(i.fromCity,i.fromLatitude,i.fromLongitude);if(!r)return bn("Start station not found",Xa.stationNotFound);let a=yield H2(i.toCity,i.toLatitude,i.toLongitude);if(!a)return bn("End station not found",Xa.stationNotFound);let u=yield n.getAllFromIndex("routes","station",r.id),p=yield n.getAllFromIndex("routes","station",a.id),m=(0,De.intersectionBy)(u,p,"id").filter(N=>{let U=N.path.indexOf(r.id);return U>=0&&U<N.path.indexOf(a.id)}),_=i.time?new Date(i.time):new Date;return{routes:(yield Promise.all(m.map(N=>n.getAllFromIndex("schedule","route",N.id).then(U=>{let q=N.path.indexOf(r.id);return U.filter(se=>se.departureTime[q]>=_)}).then(U=>Promise.all(U.map(q=>Promise.all([n.getAllFromIndex("price","ride",q.id).then(se=>(0,De.keyBy)(se,"carriageCode")),n.getAllFromIndex("order","rideId",q.id)]).then(([se,ce])=>Kn(qt({},q),{prices:se,orders:ce})))).then(q=>{let se=Array.from(new Set(N.carriages));return Kn(qt({},N),{schedule:q.map(ce=>{let we=[],tt=(0,De.range)(N.path.length-1).map(()=>[]);for(let st of ce.orders){let Lt=N.path.indexOf(st.stationStart),mt=N.path.indexOf(st.stationEnd);for(let ke of(0,De.range)(Lt,mt+1))tt[ke].push(st.seatId)}for(let st=0;st<N.path.length-1;st++){let Lt=[ce.departureTime[st],ce.arrivalTime[st]],mt=se.reduce((ke,Pt)=>(ke[Pt]=ce.prices[Pt].price[st],ke),{});we.push({time:Lt,price:mt,occupiedSeats:tt[st]})}return{rideId:ce.id,segments:we}})})}))))).filter(({schedule:N})=>N.length>0),from:{stationId:r.id,city:r.city,geolocation:{latitude:r.latitude,longitude:r.longitude}},to:{stationId:a.id,city:a.city,geolocation:{latitude:a.latitude,longitude:a.longitude}}}});function M9(e,t){return Kt(this,null,function*(){let i=new Map,r=yield(yield an).transaction("stations").store.openCursor();for(;r;){let u=r.value,p=hg(e,t,u.latitude,u.longitude);i.set(p,u),r=yield r.continue()}let a=Math.min(...i.keys());return a<F9?i.get(a)??null:null})}function H2(e,t,i){return Kt(this,null,function*(){let n=yield an;if(e=e?.trim(),e){let r=yield n.getFromIndex("stations","city",e);if(r)return r;if(t&&i&&(r=yield n.getFromIndex("stations","geolocation",IDBKeyRange.only([t,i])),r))return r}return t&&i?M9(t,i):null})}var P9=(e,t)=>Kt(void 0,null,function*(){let i=yield an,n=yield i.getAll("stations"),r=[];for(let{id:a,city:u,latitude:p,longitude:m}of n){let _=yield i.getAllFromIndex("railways","station1",IDBKeyRange.only(a)),O=yield i.getAllFromIndex("railways","station2",IDBKeyRange.only(a)),F=[];for(let{station2:N,distance:U}of _)F.push({id:N,distance:U});for(let{station1:N,distance:U}of O)F.push({id:N,distance:U});r.push({id:a,city:u,latitude:p,longitude:m,connectedTo:F})}return r}),D9=(e,t)=>Kt(void 0,null,function*(){let{city:i,latitude:n,longitude:r,relations:a}=JSON.parse(t.requestBody);if(!i||!(0,De.inRange)(n,-90,90.01)||!(0,De.inRange)(r,-90,90.01)||!Array.isArray(a))return bn("Invalid station data",U2.invalidStationData);let u=(yield an).transaction(["stations","railways"],"readwrite"),p=u.objectStore("stations"),m=u.objectStore("railways"),_=yield p.add({city:i,latitude:n,longitude:r});return yield Promise.all(a.map(O=>p.get(O).then(F=>{if(!F)return;let N=F.latitude,U=F.longitude,ce=Math.ceil(hg(N,U,n,r));return m.add({station1:Number(O),station2:Number(_),distance:ce})})).concat(u.done)),{id:_}}),E9=(e,t)=>Kt(void 0,null,function*(){let i=Number(t.params.id),r=(yield an).transaction(["stations","railways"],"readwrite"),a=r.objectStore("railways"),u=yield a.index("station1").getAllKeys(i),p=yield a.index("station2").getAllKeys(i),m=[r.objectStore("stations").delete(i),r.done];return u.length>0&&m.push(...u.map(_=>a.delete(_))),p.length>0&&m.push(...p.map(_=>a.delete(_))),yield Promise.all(m),null}),A9=(e,t)=>Kt(void 0,null,function*(){return(yield(yield an).getAll("users")).map(r=>(0,De.pick)(r,["id","email","role","name"]))});function Gs(e){return(t,i)=>Kt(this,null,function*(){let{Authorization:n=""}=i.requestHeaders,a=n.match(j2)?.[1];if(!a)return fp();let u=yield(yield an).getFromIndex("users","token",a);return u?e(t,i,u):fp()})}function Kr(e){return(t,i)=>Kt(this,null,function*(){let{Authorization:n}=i.requestHeaders,a=n.match(/^Bearer\s+([\w\d]+)$/)?.[1];if(!a)return fp();let u=yield(yield an).getFromIndex("users","token",a);return u?.role===fc.manager?e(t,i,u):fp()})}var k9=P2({routes(){this.namespace="api",this.post("/signin",l9),this.post("/signup",c9),this.delete("/logout",Gs(s9)),this.get("/profile",Gs(_9)),this.put("/profile",Gs(v9)),this.put("/profile/password",Gs(y9)),this.get("/station",P9),this.post("/station",Kr(D9)),this.delete("/station/:id",Kr(E9)),this.get("/carriage",h9),this.post("/carriage",Kr(p9)),this.put("/carriage/:code",Kr(m9)),this.delete("/carriage/:code",Kr(f9)),this.get("/route",x9),this.post("/route",Kr(z9)),this.get("/route/:id",Kr(S9)),this.put("/route/:id",Kr(I9)),this.delete("/route/:id",Kr(b9)),this.post("/route/:routeId/ride",Kr(w9)),this.put("/route/:routeId/ride/:rideId",Kr(T9)),this.get("/search",O9),this.get("/search/:id",C9),this.get("/order",Gs(g9)),this.post("/order",Gs(u9)),this.delete("/order/:id",Gs(d9)),this.get("/users",Kr(A9)),this.passthrough(e=>!/^\/api\//.test(e.url)&&!new RegExp(`^${document.location.origin}/api/`).test(e.url))}});function Z2(){return k9.start()}function N9(e){let t=e,i=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var G2=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N9];var R9="@",L9=(()=>{let t=class t{constructor(n,r,a,u,p){this.doc=n,this.delegate=r,this.zone=a,this.animationType=u,this.moduleImpl=p,this._rendererFactoryPromise=null,this.scheduler=Ee($v,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-LTCGWL5Y.js").then(r=>r)).catch(r=>{throw new au(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let u=new a(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(n,r){let a=this.delegate.createRenderer(n,r);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let u=new fg(a);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let m=p.createRenderer(n,r);u.use(m),this.scheduler?.notify(9)}).catch(p=>{u.use(a)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Vv()},t.\u0275prov=hn({token:t,factory:t.\u0275fac});let e=t;return e})(),fg=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(R9)}};function Y2(e="animations"){return qv("NgAsyncAnimations"),Ev([{provide:Hv,useFactory:(t,i,n)=>new L9(t,i,n,e),deps:[Ml,iy,cn]},{provide:rh,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var B9=["hourListElement"],V9=["minuteListElement"],$9=["secondListElement"],H9=["use12HoursListElement"];function q9(e,t){if(e&1&&(z(0,"div",8)(1,"div",9),H(2),S()()),e&2){let i=C();y(2),Ae(i.dateHelper.format(i.time==null?null:i.time.value,i.format)||"\xA0")}}function j9(e,t){if(e&1){let i=he();z(0,"li",13),Q("click",function(){B(i);let r=C().$implicit,a=C(2);return V(a.selectHour(r))}),z(1,"div",14),H(2),wn(3,"number"),S()()}if(e&2){let i=C().$implicit,n=C(2);ve("ant-picker-time-panel-cell-selected",n.isSelectedHour(i))("ant-picker-time-panel-cell-disabled",i.disabled),y(2),Ae(fr(3,5,i.index,"2.0-0"))}}function W9(e,t){if(e&1&&(Fe(0),M(1,j9,4,8,"li",12),Oe()),e&2){let i=t.$implicit,n=C(2);y(),w("ngIf",!(n.nzHideDisabledOptions&&i.disabled))}}function U9(e,t){if(e&1&&(z(0,"ul",10,0),M(2,W9,2,1,"ng-container",11),S()),e&2){let i=C();y(2),w("ngForOf",i.hourRange)("ngForTrackBy",i.trackByFn)}}function Z9(e,t){if(e&1){let i=he();z(0,"li",13),Q("click",function(){B(i);let r=C().$implicit,a=C(2);return V(a.selectMinute(r))}),z(1,"div",14),H(2),wn(3,"number"),S()()}if(e&2){let i=C().$implicit,n=C(2);ve("ant-picker-time-panel-cell-selected",n.isSelectedMinute(i))("ant-picker-time-panel-cell-disabled",i.disabled),y(2),Ae(fr(3,5,i.index,"2.0-0"))}}function G9(e,t){if(e&1&&(Fe(0),M(1,Z9,4,8,"li",12),Oe()),e&2){let i=t.$implicit,n=C(2);y(),w("ngIf",!(n.nzHideDisabledOptions&&i.disabled))}}function Y9(e,t){if(e&1&&(z(0,"ul",10,1),M(2,G9,2,1,"ng-container",11),S()),e&2){let i=C();y(2),w("ngForOf",i.minuteRange)("ngForTrackBy",i.trackByFn)}}function Q9(e,t){if(e&1){let i=he();z(0,"li",13),Q("click",function(){B(i);let r=C().$implicit,a=C(2);return V(a.selectSecond(r))}),z(1,"div",14),H(2),wn(3,"number"),S()()}if(e&2){let i=C().$implicit,n=C(2);ve("ant-picker-time-panel-cell-selected",n.isSelectedSecond(i))("ant-picker-time-panel-cell-disabled",i.disabled),y(2),Ae(fr(3,5,i.index,"2.0-0"))}}function K9(e,t){if(e&1&&(Fe(0),M(1,Q9,4,8,"li",12),Oe()),e&2){let i=t.$implicit,n=C(2);y(),w("ngIf",!(n.nzHideDisabledOptions&&i.disabled))}}function X9(e,t){if(e&1&&(z(0,"ul",10,2),M(2,K9,2,1,"ng-container",11),S()),e&2){let i=C();y(2),w("ngForOf",i.secondRange)("ngForTrackBy",i.trackByFn)}}function J9(e,t){if(e&1){let i=he();Fe(0),z(1,"li",13),Q("click",function(){let r=B(i).$implicit,a=C(2);return V(a.select12Hours(r))}),z(2,"div",14),H(3),S()(),Oe()}if(e&2){let i=t.$implicit,n=C(2);y(),ve("ant-picker-time-panel-cell-selected",n.isSelected12Hours(i)),y(2),Ae(i.value)}}function ej(e,t){if(e&1&&(z(0,"ul",10,3),M(2,J9,4,3,"ng-container",15),S()),e&2){let i=C();y(2),w("ngForOf",i.use12HoursRange)}}function tj(e,t){}function nj(e,t){if(e&1&&(z(0,"div",23),M(1,tj,0,0,"ng-template",24),S()),e&2){let i=C(2);y(),w("ngTemplateOutlet",i.nzAddOn)}}function ij(e,t){if(e&1){let i=he();z(0,"div",16),M(1,nj,2,1,"div",17),z(2,"ul",18)(3,"li",19)(4,"a",20),Q("click",function(){B(i);let r=C();return V(r.onClickNow())}),H(5),wn(6,"nzI18n"),S()(),z(7,"li",21)(8,"button",22),Q("click",function(){B(i);let r=C();return V(r.onClickOk())}),H(9),wn(10,"nzI18n"),S()()()()}if(e&2){let i=C();y(),w("ngIf",i.nzAddOn),y(4),xe(" ",i.nzNowText||pr(6,3,"Calendar.lang.now")," "),y(4),xe(" ",i.nzOkText||pr(10,5,"Calendar.lang.ok")," ")}}var rj=["inputElement"];function oj(e,t){if(e&1&&(Fe(0),W(1,"span",8),Oe()),e&2){let i=t.$implicit;y(),w("nzType",i)}}function aj(e,t){if(e&1&&W(0,"nz-form-item-feedback-icon",9),e&2){let i=C();w("status",i.status)}}function sj(e,t){if(e&1){let i=he();z(0,"span",10),Q("click",function(r){B(i);let a=C();return V(a.onClickClearBtn(r))}),W(1,"span",11),S()}if(e&2){let i=C();y(),Ft("aria-label",i.nzClearText)("title",i.nzClearText)}}function lj(e,t){if(e&1){let i=he();z(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),wn(4,"async"),qi("ngModelChange",function(r){B(i);let a=C();return Hi(a.value,r)||(a.value=r),V(r)}),Q("ngModelChange",function(r){B(i);let a=C();return V(a.onPanelValueChange(r))})("closePanel",function(){B(i);let r=C();return V(r.closePanel())}),S()()()()}if(e&2){let i=C();w("@slideMotion","enter"),y(3),w("ngClass",i.nzPopupClassName)("format",i.nzFormat)("nzHourStep",i.nzHourStep)("nzMinuteStep",i.nzMinuteStep)("nzSecondStep",i.nzSecondStep)("nzDisabledHours",i.nzDisabledHours)("nzDisabledMinutes",i.nzDisabledMinutes)("nzDisabledSeconds",i.nzDisabledSeconds)("nzPlaceHolder",i.nzPlaceHolder||pr(4,19,i.i18nPlaceHolder$))("nzHideDisabledOptions",i.nzHideDisabledOptions)("nzUse12Hours",i.nzUse12Hours)("nzDefaultOpenValue",i.nzDefaultOpenValue)("nzAddOn",i.nzAddOn)("nzClearText",i.nzClearText)("nzNowText",i.nzNowText)("nzOkText",i.nzOkText)("nzAllowEmpty",i.nzAllowEmpty),$i("ngModel",i.value)}}var gg=class{setMinutes(t,i){return i||(this.initValue(),this.value.setMinutes(t),this.update()),this}setHours(t,i){return i||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&t!==12?this.value.setHours(t+12):this.selected12Hours==="AM"&&t===12?this.value.setHours(0):this.value.setHours(t):this.value.setHours(t),this.update()),this}setSeconds(t,i){return i||(this.initValue(),this.value.setSeconds(t),this.update()),this}setUse12Hours(t){return this._use12Hours=t,this}get changes(){return this._changes.asObservable()}setValue(t,i){return si(i)&&(this._use12Hours=i),t!==this.value&&(this._value=t,si(this.value)?this._use12Hours&&si(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){gm(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(si(this.hours)||si(this.minutes)||si(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(si(this.hours)&&this.value.setHours(this.hours),si(this.minutes)&&this.value.setMinutes(this.minutes),si(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&si(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(t){t.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=t.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(t){return this._defaultOpenValue=t,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new Ue}calculateViewHour(t){let i=this.selected12Hours;return i==="PM"&&t>12?t-12:i==="AM"&&t===0?12:t}};function mg(e,t=1,i=0){return new Array(Math.ceil(e/t)).fill(0).map((n,r)=>(r+i)*t)}var yp=(()=>{let t=class t{set nzAllowEmpty(n){this._allowEmpty=n}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(n){this._disabledHours=n,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(n){si(n)&&(this._disabledMinutes=n,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(n){si(n)&&(this._disabledSeconds=n,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(n){if(si(n)){this._format=n,this.enabledColumns=0;let r=new Set(n);this.hourEnabled=r.has("H")||r.has("h"),this.minuteEnabled=r.has("m"),this.secondEnabled=r.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(n){this._nzHourStep=n||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(n){this._nzMinuteStep=n||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(n){this._nzSecondStep=n||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}trackByFn(n){return n}buildHours(){let n=24,r=this.nzDisabledHours?.(),a=0;if(this.nzUse12Hours&&(n=12,r&&(this.time.selected12Hours==="PM"?r=r.filter(u=>u>=12).map(u=>u>12?u-12:u):r=r.filter(u=>u<12||u===24).map(u=>u===24||u===0?12:u)),a=1),this.hourRange=mg(n,this.nzHourStep,a).map(u=>({index:u,disabled:!!r&&r.indexOf(u)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let u=[...this.hourRange];u.unshift(u[u.length-1]),u.splice(u.length-1,1),this.hourRange=u}}buildMinutes(){this.minuteRange=mg(60,this.nzMinuteStep).map(n=>({index:n,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(n)!==-1}))}buildSeconds(){this.secondRange=mg(60,this.nzSecondStep).map(n=>({index:n,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(n)!==-1}))}build12Hours(){let n=this._format.includes("A");this.use12HoursRange=[{index:0,value:n?"AM":"am"},{index:1,value:n?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(n=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,n,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,n,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,n,"second"),this.nzUse12Hours&&this.use12HoursListElement){let a=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,a,n,"12-hour")}}selectHour(n){this.time.setHours(n.index,n.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(n){this.time.setMinutes(n.index,n.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(n){this.time.setSeconds(n.index,n.disabled)}select12Hours(n){this.time.setSelected12Hours(n.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(n,r,a=0,u){if(!n)return;let p=this.translateIndex(r,u),m=n.children[p]||n.children[0];this.scrollTo(n,m.offsetTop,a)}translateIndex(n,r){return r==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(a=>a.index).indexOf(n)):r==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(a=>a.index).indexOf(n)):r==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(a=>a.index).indexOf(n)):this.calcIndex([],this.use12HoursRange.map(a=>a.index).indexOf(n))}scrollTo(n,r,a){if(a<=0){n.scrollTop=r;return}let p=(r-n.scrollTop)/a*10;this.ngZone.runOutsideAngular(()=>{$a(()=>{n.scrollTop=n.scrollTop+p,n.scrollTop!==r&&this.scrollTo(n,r,a-10)})})}calcIndex(n,r){return n?.length&&this.nzHideDisabledOptions?r-n.reduce((a,u)=>a+(u<r?1:0),0):r}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(n){let r=n.getHours(),a=n.getMinutes(),u=n.getSeconds();return(this.nzDisabledHours?.().indexOf(r)??-1)>-1||(this.nzDisabledMinutes?.(r).indexOf(a)??-1)>-1||(this.nzDisabledSeconds?.(r,a).indexOf(u)??-1)>-1}onClickNow(){let n=new Date;this.timeDisabled(n)||(this.time.setValue(n),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(n){return n.index===this.time.viewHours}isSelectedMinute(n){return n.index===this.time.minutes}isSelectedSecond(n){return n.index===this.time.seconds}isSelected12Hours(n){return n.value.toUpperCase()===this.time.selected12Hours}constructor(n,r,a,u){this.ngZone=n,this.cdr=r,this.dateHelper=a,this.elementRef=u,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new Ue,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new gg,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new fe}ngOnInit(){this.time.changes.pipe(le(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),dn(this.elementRef.nativeElement,"mousedown").pipe(le(this.unsubscribe$)).subscribe(n=>{n.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(n){let{nzUse12Hours:r,nzDefaultOpenValue:a}=n;!r?.previousValue&&r?.currentValue&&(this.build12Hours(),this.enabledColumns++),a?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(n){this.time.setValue(n,this.nzUse12Hours),this.buildTimes(),n&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouch=n}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(ht),k(Ir),k(St))},t.\u0275cmp=ie({type:t,selectors:[["nz-time-picker-panel"]],viewQuery:function(r,a){if(r&1&&(Qe(B9,5),Qe(V9,5),Qe($9,5),Qe(H9,5)),r&2){let u;Te(u=Ie())&&(a.hourListElement=u.first),Te(u=Ie())&&(a.minuteListElement=u.first),Te(u=Ie())&&(a.secondListElement=u.first),Te(u=Ie())&&(a.use12HoursListElement=u.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(r,a){r&2&&ve("ant-picker-time-panel-column-0",a.enabledColumns===0&&!a.nzInDatePicker)("ant-picker-time-panel-column-1",a.enabledColumns===1&&!a.nzInDatePicker)("ant-picker-time-panel-column-2",a.enabledColumns===2&&!a.nzInDatePicker)("ant-picker-time-panel-column-3",a.enabledColumns===3&&!a.nzInDatePicker)("ant-picker-time-panel-narrow",a.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!a.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",ee],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",ee],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",ee],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",ji],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",ji],nzSecondStep:[2,"nzSecondStep","nzSecondStep",ji]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[on([{provide:da,useExisting:t,multi:!0}]),Je,$e,re],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(r,a){r&1&&(M(0,q9,3,1,"div",4),z(1,"div",5),M(2,U9,3,2,"ul",6)(3,Y9,3,2,"ul",6)(4,X9,3,2,"ul",6)(5,ej,3,1,"ul",6),S(),M(6,ij,11,7,"div",7)),r&2&&(w("ngIf",a.nzInDatePicker),y(2),w("ngIf",a.hourEnabled),y(),w("ngIf",a.minuteEnabled),y(),w("ngIf",a.secondEnabled),y(),w("ngIf",a.nzUse12Hours),y(),w("ngIf",!a.nzInDatePicker))},dependencies:[Jn,Tr,Xv,Qt,yy,vy,Gr,Ui,Ur,Zr],encapsulation:2,changeDetection:0});let e=t;return e})(),cj="timePicker",uj=(()=>{let t=class t{emitValue(n){this.setValue(n,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(n,r=!1){r&&(this.preValue=su(n)?new Date(n):null),this.value=su(n)?new Date(n):null,this.inputValue=this.dateHelper.format(n,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(n){n.stopPropagation(),this.emitValue(null)}onClickOutside(n){let r=dh(n);this.element.nativeElement.contains(r)||this.setCurrentValueAndClose()}onFocus(n){this.focused=n,n||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&su(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(n){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(n))}onPanelValueChange(n){this.setValue(n),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(n,r,a,u,p,m,_,O){this.nzConfigService=n,this.i18n=r,this.element=a,this.renderer=u,this.cdr=p,this.dateHelper=m,this.platform=_,this.directionality=O,this._nzModuleName=cj,this.destroy$=new Ue,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=ur(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new fe,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzFormStatusService=Ee(Rl,{optional:!0}),this.nzFormNoStatusService=Ee(Ll,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Sr((n,r)=>n.status===r.status&&n.hasFeedback===r.hasFeedback),Il(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:ur(!1)),Fi(([{status:n,hasFeedback:r},a])=>({status:a?"":n,hasFeedback:r})),le(this.destroy$)).subscribe(({status:n,hasFeedback:r})=>{this.setStatusStyles(n,r)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new ho(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(Fi(n=>n.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(n){let{nzUse12Hours:r,nzFormat:a,nzDisabled:u,nzAutoFocus:p,nzStatus:m}=n;if(r&&!r.previousValue&&r.currentValue&&!a&&(this.nzFormat="h:mm:ss a"),u){let _=u.currentValue,O=this.inputRef.nativeElement;_?this.renderer.setAttribute(O,"disabled",""):this.renderer.removeAttribute(O,"disabled")}p&&this.updateAutoFocus(),m&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(n){let r=this.dateHelper.parseTime(n,this.nzFormat)||null;su(r)&&(this.value=r,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(n){let r;n instanceof Date?r=n:gm(n)?r=null:(cy('Non-Date type is not recommended for time-picker, use "Date" type.'),r=new Date(n)),this.setValue(r,!0)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||n,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(n){if(!n)return!0;let r=this.nzDisabledHours?.(),a=this.nzDisabledMinutes?.(n.getHours()),u=this.nzDisabledSeconds?.(n.getHours(),n.getMinutes());return!(r?.includes(n.getHours())||a?.includes(n.getMinutes())||u?.includes(n.getSeconds()))}setStatusStyles(n,r){this.status=n,this.hasFeedback=r,this.cdr.markForCheck(),this.statusCls=Dl(this.prefixCls,n,r),Object.keys(this.statusCls).forEach(a=>{this.statusCls[a]?this.renderer.addClass(this.element.nativeElement,a):this.renderer.removeClass(this.element.nativeElement,a)})}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(ua),k(St),k(Mi),k(ht),k(Ir),k(ko),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-time-picker"]],viewQuery:function(r,a){if(r&1&&Qe(rj,7),r&2){let u;Te(u=Ie())&&(a.inputRef=u.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(r,a){r&1&&Q("click",function(){return a.open()}),r&2&&ve("ant-picker-large",a.nzSize==="large")("ant-picker-small",a.nzSize==="small")("ant-picker-disabled",a.nzDisabled)("ant-picker-focused",a.focused)("ant-picker-rtl",a.dir==="rtl")("ant-picker-borderless",a.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",ee],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",ee],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",ee],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",ee],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",ee]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[on([{provide:da,useExisting:t,multi:!0}]),Je,$e,re],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(r,a){if(r&1){let u=he();z(0,"div",1)(1,"input",2,0),wn(3,"async"),qi("ngModelChange",function(m){return B(u),Hi(a.inputValue,m)||(a.inputValue=m),V(m)}),Q("focus",function(){return B(u),V(a.onFocus(!0))})("blur",function(){return B(u),V(a.onFocus(!1))})("keyup.enter",function(){return B(u),V(a.onKeyupEnter())})("keyup.escape",function(){return B(u),V(a.onKeyupEsc())})("ngModelChange",function(m){return B(u),V(a.onInputChange(m))}),S(),z(4,"span",3),M(5,oj,2,1,"ng-container",4)(6,aj,1,1,"nz-form-item-feedback-icon",5),S(),M(7,sj,2,2,"span",6),S(),M(8,lj,5,21,"ng-template",7),Q("detach",function(){return B(u),V(a.close())})("overlayOutsideClick",function(m){return B(u),V(a.onClickOutside(m))})}r&2&&(y(),w("size",a.inputSize)("placeholder",a.nzPlaceHolder||pr(3,14,a.i18nPlaceHolder$)),$i("ngModel",a.inputValue),w("disabled",a.nzDisabled)("readOnly",a.nzInputReadOnly),Ft("id",a.nzId),y(4),w("nzStringTemplateOutlet",a.nzSuffixIcon),y(),w("ngIf",a.hasFeedback&&!!a.status),y(),w("ngIf",a.nzAllowEmpty&&!a.nzDisabled&&a.value),y(),w("cdkConnectedOverlayHasBackdrop",a.nzBackdrop)("cdkConnectedOverlayPositions",a.overlayPositions)("cdkConnectedOverlayOrigin",a.origin)("cdkConnectedOverlayOpen",a.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[Pl,Fr,Wi,zi,uo,Rt,Nt,en,Jt,Vl,Bl,Jn,yp,Pi,ks,Nl,kl,No],encapsulation:2,data:{animation:[Yr]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzHourStep",void 0),Re([Le()],e.prototype,"nzMinuteStep",void 0),Re([Le()],e.prototype,"nzSecondStep",void 0),Re([Le()],e.prototype,"nzClearText",void 0),Re([Le()],e.prototype,"nzNowText",void 0),Re([Le()],e.prototype,"nzOkText",void 0),Re([Le()],e.prototype,"nzPopupClassName",void 0),Re([Le()],e.prototype,"nzFormat",void 0),Re([Le()],e.prototype,"nzUse12Hours",void 0),Re([Le()],e.prototype,"nzSuffixIcon",void 0),Re([Le()],e.prototype,"nzAllowEmpty",void 0),Re([Le()],e.prototype,"nzBackdrop",void 0),e})(),X2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[uj,yp]});let e=t;return e})();var hj=(()=>{let t=class t{create(n){return typeof ResizeObserver>"u"?null:new ResizeObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Cp=(()=>{let t=class t{constructor(n){this.nzResizeObserverFactory=n,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((n,r)=>this.cleanupObserver(r))}observe(n){let r=dy(n);return new Qd(a=>{let p=this.observeElement(r).subscribe(a);return()=>{p.unsubscribe(),this.unobserveElement(r)}})}observeElement(n){if(this.observedElements.has(n))this.observedElements.get(n).count++;else{let r=new Ue,a=this.nzResizeObserverFactory.create(u=>r.next(u));a&&a.observe(n),this.observedElements.set(n,{observer:a,stream:r,count:1})}return this.observedElements.get(n).stream}unobserveElement(n){this.observedElements.has(n)&&(this.observedElements.get(n).count--,this.observedElements.get(n).count||this.cleanupObserver(n))}cleanupObserver(n){if(this.observedElements.has(n)){let{observer:r,stream:a}=this.observedElements.get(n);r&&r.disconnect(),a.complete(),this.observedElements.delete(n)}}};t.\u0275fac=function(r){return new(r||t)(Ci(hj))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function pj(e,t){e&1&&Xt(0)}function fj(e,t){if(e&1&&M(0,pj,1,0,"ng-container",3),e&2){let i=C(2);w("ngTemplateOutlet",i.extraFooter)}}function mj(e,t){if(e&1&&W(0,"span",2),e&2){let i=C(2);w("innerHTML",i.extraFooter,Ms)}}function gj(e,t){if(e&1&&(z(0,"div"),M(1,fj,1,1,"ng-container")(2,mj,1,1,"span",2),S()),e&2){let i=C();ye("",i.prefixCls,"-footer-extra"),y(),K(i.isExtraFooterTemplateRef?1:-1),y(),K(i.isExtraFooterNonEmptyString?2:-1)}}function _j(e,t){if(e&1){let i=he();z(0,"a",4),Q("click",function(){B(i);let r=C();return V(r.isTodayDisabled?null:r.onClickToday())}),H(1),S()}if(e&2){let i=C();Ol("",i.prefixCls,"-today-btn ",i.isTodayDisabled?i.prefixCls+"-today-btn-disabled":"",""),Ot("title",i.todayTitle),y(),xe(" ",i.locale.today," ")}}function vj(e,t){e&1&&Xt(0)}function yj(e,t){if(e&1){let i=he();z(0,"li")(1,"a",5),Q("click",function(){B(i);let r=C(2);return V(r.isTodayDisabled?null:r.onClickToday())}),H(2),S()()}if(e&2){let i=C(2);ye("",i.prefixCls,"-now"),y(),ye("",i.prefixCls,"-now-btn"),y(),xe(" ",i.locale.now," ")}}function Cj(e,t){if(e&1){let i=he();z(0,"li")(1,"button",6),Q("click",function(){B(i);let r=C(2);return V(r.okDisabled?null:r.clickOk.emit())}),H(2),S()()}if(e&2){let i=C(2);ye("",i.prefixCls,"-ok"),y(),w("disabled",i.okDisabled),y(),xe(" ",i.locale.ok," ")}}function xj(e,t){if(e&1&&(z(0,"ul"),M(1,vj,1,0,"ng-container",3)(2,yj,3,7,"li",0)(3,Cj,3,5,"li",0),S()),e&2){let i=C();ye("",i.prefixCls,"-ranges"),y(),w("ngTemplateOutlet",i.rangeQuickSelector),y(),K(i.showNow?2:-1),y(),K(i.hasTimePicker?3:-1)}}function zj(e,t){if(e&1){let i=he();z(0,"button",6),Q("click",function(){let r=B(i).$implicit;return V(r.onClick())}),H(1),S()}if(e&2){let i=t.$implicit;wr(i.className),Ot("title",i.title||null),y(),xe(" ",i.label," ")}}var Wo=(e,t)=>t.trackByIndex,rr=e=>({$implicit:e});function bj(e,t){e&1&&W(0,"th",3)}function Sj(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let i=t.$implicit;Ot("title",i.title),y(),xe(" ",i.content," ")}}function wj(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),M(2,bj,1,0,"th",3),rt(3,Sj,2,2,"th",4,yn),S()()),e&2){let i=C();y(2),K(i.showWeek?2:-1),y(),ot(i.headRow)}}function Tj(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let i=C().$implicit,n=C();ye("",n.prefixCls,"-cell-week"),y(),xe(" ",i.weekNum," ")}}function Ij(e,t){e&1&&Xt(0)}function Fj(e,t){if(e&1&&M(0,Ij,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function Oj(e,t){if(e&1&&W(0,"span",10),e&2){let i=C(2).$implicit;w("innerHTML",i.cellRender,Ms)}}function Mj(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-cell-inner"),Ft("aria-selected",i.isSelected)("aria-disabled",i.isDisabled),y(),xe(" ",i.content," ")}}function Pj(e,t){if(e&1&&M(0,Fj,1,4,"ng-container")(1,Oj,1,1,"span",10)(2,Mj,2,6,"div",11),e&2){let i=C().$implicit;K(i.isTemplateRef?0:i.isNonEmptyString?1:2)}}function Dj(e,t){e&1&&Xt(0)}function Ej(e,t){if(e&1&&M(0,Dj,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.fullCellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function Aj(e,t){e&1&&Xt(0)}function kj(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),M(3,Aj,1,0,"ng-container",12),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-date-value"),y(),Ae(i.content),y(),ye("",n.prefixCls,"-date-content"),y(),w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(9,rr,i.value))}}function Nj(e,t){if(e&1&&(z(0,"div"),M(1,Ej,1,4,"ng-container")(2,kj,4,11),S()),e&2){let i=C().$implicit,n=C(2);ye("",n.prefixCls,"-date ant-picker-cell-inner"),ve("ant-picker-calendar-date-today",i.isToday),y(),K(i.fullCellRender?1:2)}}function Rj(e,t){if(e&1){let i=he();z(0,"td",8),Q("click",function(){let r=B(i).$implicit;return V(r.isDisabled?null:r.onClick())})("mouseenter",function(){let r=B(i).$implicit;return V(r.onMouseEnter())}),M(1,Pj,3,1)(2,Nj,3,6,"div",9),S()}if(e&2){let i,n=t.$implicit,r=C(2);Ot("title",n.title),w("ngClass",n.classMap),y(),K((i=r.prefixCls)==="ant-picker"?1:i==="ant-picker-calendar"?2:-1)}}function Lj(e,t){if(e&1&&(z(0,"tr",1),M(1,Tj,2,4,"td",5),rt(2,Rj,3,3,"td",6,Wo),S()),e&2){let i=t.$implicit;w("ngClass",i.classMap),y(),K(i.weekNum?1:-1),y(),ot(i.dateCells)}}function Bj(e,t){if(e&1){let i=he();z(0,"button",6),Q("click",function(){let r=B(i).$implicit;return V(r.onClick())}),H(1),S()}if(e&2){let i=t.$implicit;wr(i.className),Ot("title",i.title||null),y(),xe(" ",i.label," ")}}function Vj(e,t){e&1&&W(0,"th",3)}function $j(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let i=t.$implicit;Ot("title",i.title),y(),xe(" ",i.content," ")}}function Hj(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),M(2,Vj,1,0,"th",3),rt(3,$j,2,2,"th",4,yn),S()()),e&2){let i=C();y(2),K(i.showWeek?2:-1),y(),ot(i.headRow)}}function qj(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let i=C().$implicit,n=C();ye("",n.prefixCls,"-cell-week"),y(),xe(" ",i.weekNum," ")}}function jj(e,t){e&1&&Xt(0)}function Wj(e,t){if(e&1&&M(0,jj,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function Uj(e,t){if(e&1&&W(0,"span",10),e&2){let i=C(2).$implicit;w("innerHTML",i.cellRender,Ms)}}function Zj(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-cell-inner"),Ft("aria-selected",i.isSelected)("aria-disabled",i.isDisabled),y(),xe(" ",i.content," ")}}function Gj(e,t){if(e&1&&M(0,Wj,1,4,"ng-container")(1,Uj,1,1,"span",10)(2,Zj,2,6,"div",11),e&2){let i=C().$implicit;K(i.isTemplateRef?0:i.isNonEmptyString?1:2)}}function Yj(e,t){e&1&&Xt(0)}function Qj(e,t){if(e&1&&M(0,Yj,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.fullCellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function Kj(e,t){e&1&&Xt(0)}function Xj(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),M(3,Kj,1,0,"ng-container",12),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-date-value"),y(),Ae(i.content),y(),ye("",n.prefixCls,"-date-content"),y(),w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(9,rr,i.value))}}function Jj(e,t){if(e&1&&(z(0,"div"),M(1,Qj,1,4,"ng-container")(2,Xj,4,11),S()),e&2){let i=C().$implicit,n=C(2);ye("",n.prefixCls,"-date ant-picker-cell-inner"),ve("ant-picker-calendar-date-today",i.isToday),y(),K(i.fullCellRender?1:2)}}function eW(e,t){if(e&1){let i=he();z(0,"td",8),Q("click",function(){let r=B(i).$implicit;return V(r.isDisabled?null:r.onClick())})("mouseenter",function(){let r=B(i).$implicit;return V(r.onMouseEnter())}),M(1,Gj,3,1)(2,Jj,3,6,"div",9),S()}if(e&2){let i,n=t.$implicit,r=C(2);Ot("title",n.title),w("ngClass",n.classMap),y(),K((i=r.prefixCls)==="ant-picker"?1:i==="ant-picker-calendar"?2:-1)}}function tW(e,t){if(e&1&&(z(0,"tr",1),M(1,qj,2,4,"td",5),rt(2,eW,3,3,"td",6,Wo),S()),e&2){let i=t.$implicit;w("ngClass",i.classMap),y(),K(i.weekNum?1:-1),y(),ot(i.dateCells)}}function nW(e,t){if(e&1){let i=he();z(0,"button",6),Q("click",function(){let r=B(i).$implicit;return V(r.onClick())}),H(1),S()}if(e&2){let i=t.$implicit;wr(i.className),Ot("title",i.title||null),y(),xe(" ",i.label," ")}}function iW(e,t){e&1&&W(0,"th",3)}function rW(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let i=t.$implicit;Ot("title",i.title),y(),xe(" ",i.content," ")}}function oW(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),M(2,iW,1,0,"th",3),rt(3,rW,2,2,"th",4,yn),S()()),e&2){let i=C();y(2),K(i.showWeek?2:-1),y(),ot(i.headRow)}}function aW(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let i=C().$implicit,n=C();ye("",n.prefixCls,"-cell-week"),y(),xe(" ",i.weekNum," ")}}function sW(e,t){e&1&&Xt(0)}function lW(e,t){if(e&1&&M(0,sW,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function cW(e,t){if(e&1&&W(0,"span",10),e&2){let i=C(2).$implicit;w("innerHTML",i.cellRender,Ms)}}function uW(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-cell-inner"),Ft("aria-selected",i.isSelected)("aria-disabled",i.isDisabled),y(),xe(" ",i.content," ")}}function dW(e,t){if(e&1&&M(0,lW,1,4,"ng-container")(1,cW,1,1,"span",10)(2,uW,2,6,"div",11),e&2){let i=C().$implicit;K(i.isTemplateRef?0:i.isNonEmptyString?1:2)}}function hW(e,t){e&1&&Xt(0)}function pW(e,t){if(e&1&&M(0,hW,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.fullCellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function fW(e,t){e&1&&Xt(0)}function mW(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),M(3,fW,1,0,"ng-container",12),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-date-value"),y(),Ae(i.content),y(),ye("",n.prefixCls,"-date-content"),y(),w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(9,rr,i.value))}}function gW(e,t){if(e&1&&(z(0,"div"),M(1,pW,1,4,"ng-container")(2,mW,4,11),S()),e&2){let i=C().$implicit,n=C(2);ye("",n.prefixCls,"-date ant-picker-cell-inner"),ve("ant-picker-calendar-date-today",i.isToday),y(),K(i.fullCellRender?1:2)}}function _W(e,t){if(e&1){let i=he();z(0,"td",8),Q("click",function(){let r=B(i).$implicit;return V(r.isDisabled?null:r.onClick())})("mouseenter",function(){let r=B(i).$implicit;return V(r.onMouseEnter())}),M(1,dW,3,1)(2,gW,3,6,"div",9),S()}if(e&2){let i,n=t.$implicit,r=C(2);Ot("title",n.title),w("ngClass",n.classMap),y(),K((i=r.prefixCls)==="ant-picker"?1:i==="ant-picker-calendar"?2:-1)}}function vW(e,t){if(e&1&&(z(0,"tr",1),M(1,aW,2,4,"td",5),rt(2,_W,3,3,"td",6,Wo),S()),e&2){let i=t.$implicit;w("ngClass",i.classMap),y(),K(i.weekNum?1:-1),y(),ot(i.dateCells)}}function yW(e,t){if(e&1){let i=he();z(0,"button",6),Q("click",function(){let r=B(i).$implicit;return V(r.onClick())}),H(1),S()}if(e&2){let i=t.$implicit;wr(i.className),Ot("title",i.title||null),y(),xe(" ",i.label," ")}}function CW(e,t){e&1&&W(0,"th",3)}function xW(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let i=t.$implicit;Ot("title",i.title),y(),xe(" ",i.content," ")}}function zW(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),M(2,CW,1,0,"th",3),rt(3,xW,2,2,"th",4,yn),S()()),e&2){let i=C();y(2),K(i.showWeek?2:-1),y(),ot(i.headRow)}}function bW(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let i=C().$implicit,n=C();ye("",n.prefixCls,"-cell-week"),y(),xe(" ",i.weekNum," ")}}function SW(e,t){e&1&&Xt(0)}function wW(e,t){if(e&1&&M(0,SW,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function TW(e,t){if(e&1&&W(0,"span",10),e&2){let i=C(2).$implicit;w("innerHTML",i.cellRender,Ms)}}function IW(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-cell-inner"),Ft("aria-selected",i.isSelected)("aria-disabled",i.isDisabled),y(),xe(" ",i.content," ")}}function FW(e,t){if(e&1&&M(0,wW,1,4,"ng-container")(1,TW,1,1,"span",10)(2,IW,2,6,"div",11),e&2){let i=C().$implicit;K(i.isTemplateRef?0:i.isNonEmptyString?1:2)}}function OW(e,t){e&1&&Xt(0)}function MW(e,t){if(e&1&&M(0,OW,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.fullCellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function PW(e,t){e&1&&Xt(0)}function DW(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),M(3,PW,1,0,"ng-container",12),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-date-value"),y(),Ae(i.content),y(),ye("",n.prefixCls,"-date-content"),y(),w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(9,rr,i.value))}}function EW(e,t){if(e&1&&(z(0,"div"),M(1,MW,1,4,"ng-container")(2,DW,4,11),S()),e&2){let i=C().$implicit,n=C(2);ye("",n.prefixCls,"-date ant-picker-cell-inner"),ve("ant-picker-calendar-date-today",i.isToday),y(),K(i.fullCellRender?1:2)}}function AW(e,t){if(e&1){let i=he();z(0,"td",8),Q("click",function(){let r=B(i).$implicit;return V(r.isDisabled?null:r.onClick())})("mouseenter",function(){let r=B(i).$implicit;return V(r.onMouseEnter())}),M(1,FW,3,1)(2,EW,3,6,"div",9),S()}if(e&2){let i,n=t.$implicit,r=C(2);Ot("title",n.title),w("ngClass",n.classMap),y(),K((i=r.prefixCls)==="ant-picker"?1:i==="ant-picker-calendar"?2:-1)}}function kW(e,t){if(e&1&&(z(0,"tr",1),M(1,bW,2,4,"td",5),rt(2,AW,3,3,"td",6,Wo),S()),e&2){let i=t.$implicit;w("ngClass",i.classMap),y(),K(i.weekNum?1:-1),y(),ot(i.dateCells)}}function NW(e,t){if(e&1){let i=he();z(0,"button",6),Q("click",function(){let r=B(i).$implicit;return V(r.onClick())}),H(1),S()}if(e&2){let i=t.$implicit;wr(i.className),Ot("title",i.title||null),y(),xe(" ",i.label," ")}}function RW(e,t){e&1&&W(0,"th",3)}function LW(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let i=t.$implicit;Ot("title",i.title),y(),xe(" ",i.content," ")}}function BW(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),M(2,RW,1,0,"th",3),rt(3,LW,2,2,"th",4,yn),S()()),e&2){let i=C();y(2),K(i.showWeek?2:-1),y(),ot(i.headRow)}}function VW(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let i=C().$implicit,n=C();ye("",n.prefixCls,"-cell-week"),y(),xe(" ",i.weekNum," ")}}function $W(e,t){e&1&&Xt(0)}function HW(e,t){if(e&1&&M(0,$W,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function qW(e,t){if(e&1&&W(0,"span",10),e&2){let i=C(2).$implicit;w("innerHTML",i.cellRender,Ms)}}function jW(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-cell-inner"),Ft("aria-selected",i.isSelected)("aria-disabled",i.isDisabled),y(),xe(" ",i.content," ")}}function WW(e,t){if(e&1&&M(0,HW,1,4,"ng-container")(1,qW,1,1,"span",10)(2,jW,2,6,"div",11),e&2){let i=C().$implicit;K(i.isTemplateRef?0:i.isNonEmptyString?1:2)}}function UW(e,t){e&1&&Xt(0)}function ZW(e,t){if(e&1&&M(0,UW,1,0,"ng-container",12),e&2){let i=C(2).$implicit;w("ngTemplateOutlet",i.fullCellRender)("ngTemplateOutletContext",Xn(2,rr,i.value))}}function GW(e,t){e&1&&Xt(0)}function YW(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),M(3,GW,1,0,"ng-container",12),S()),e&2){let i=C(2).$implicit,n=C(2);ye("",n.prefixCls,"-date-value"),y(),Ae(i.content),y(),ye("",n.prefixCls,"-date-content"),y(),w("ngTemplateOutlet",i.cellRender)("ngTemplateOutletContext",Xn(9,rr,i.value))}}function QW(e,t){if(e&1&&(z(0,"div"),M(1,ZW,1,4,"ng-container")(2,YW,4,11),S()),e&2){let i=C().$implicit,n=C(2);ye("",n.prefixCls,"-date ant-picker-cell-inner"),ve("ant-picker-calendar-date-today",i.isToday),y(),K(i.fullCellRender?1:2)}}function KW(e,t){if(e&1){let i=he();z(0,"td",8),Q("click",function(){let r=B(i).$implicit;return V(r.isDisabled?null:r.onClick())})("mouseenter",function(){let r=B(i).$implicit;return V(r.onMouseEnter())}),M(1,WW,3,1)(2,QW,3,6,"div",9),S()}if(e&2){let i,n=t.$implicit,r=C(2);Ot("title",n.title),w("ngClass",n.classMap),y(),K((i=r.prefixCls)==="ant-picker"?1:i==="ant-picker-calendar"?2:-1)}}function XW(e,t){if(e&1&&(z(0,"tr",1),M(1,VW,2,4,"td",5),rt(2,KW,3,3,"td",6,Wo),S()),e&2){let i=t.$implicit;w("ngClass",i.classMap),y(),K(i.weekNum?1:-1),y(),ot(i.dateCells)}}function JW(e,t){if(e&1){let i=he();z(0,"decade-header",1),qi("valueChange",function(r){B(i);let a=C();return Hi(a.activeDate,r)||(a.activeDate=r),V(r)}),Q("panelModeChange",function(r){B(i);let a=C();return V(a.panelModeChange.emit(r))})("valueChange",function(r){B(i);let a=C();return V(a.headerChange.emit(r))}),S(),z(1,"div")(2,"decade-table",2),Q("valueChange",function(r){B(i);let a=C();return V(a.onChooseDecade(r))}),S()()}if(e&2){let i=C();$i("value",i.activeDate),w("locale",i.locale)("showSuperPreBtn",i.enablePrevNext("prev","decade"))("showSuperNextBtn",i.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),y(),ye("",i.prefixCls,"-body"),y(),w("activeDate",i.activeDate)("value",i.value)("locale",i.locale)("disabledDate",i.disabledDate)}}function eU(e,t){if(e&1){let i=he();z(0,"year-header",1),qi("valueChange",function(r){B(i);let a=C();return Hi(a.activeDate,r)||(a.activeDate=r),V(r)}),Q("panelModeChange",function(r){B(i);let a=C();return V(a.panelModeChange.emit(r))})("valueChange",function(r){B(i);let a=C();return V(a.headerChange.emit(r))}),S(),z(1,"div")(2,"year-table",3),Q("valueChange",function(r){B(i);let a=C();return V(a.onChooseYear(r))})("cellHover",function(r){B(i);let a=C();return V(a.cellHover.emit(r))}),S()()}if(e&2){let i=C();$i("value",i.activeDate),w("locale",i.locale)("showSuperPreBtn",i.enablePrevNext("prev","year"))("showSuperNextBtn",i.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),y(),ye("",i.prefixCls,"-body"),y(),w("activeDate",i.activeDate)("value",i.value)("locale",i.locale)("disabledDate",i.disabledDate)("selectedValue",i.selectedValue)("hoverValue",i.hoverValue)}}function tU(e,t){if(e&1){let i=he();z(0,"month-header",1),qi("valueChange",function(r){B(i);let a=C();return Hi(a.activeDate,r)||(a.activeDate=r),V(r)}),Q("panelModeChange",function(r){B(i);let a=C();return V(a.panelModeChange.emit(r))})("valueChange",function(r){B(i);let a=C();return V(a.headerChange.emit(r))}),S(),z(1,"div")(2,"month-table",4),Q("valueChange",function(r){B(i);let a=C();return V(a.onChooseMonth(r))})("cellHover",function(r){B(i);let a=C();return V(a.cellHover.emit(r))}),S()()}if(e&2){let i=C();$i("value",i.activeDate),w("locale",i.locale)("showSuperPreBtn",i.enablePrevNext("prev","month"))("showSuperNextBtn",i.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),y(),ye("",i.prefixCls,"-body"),y(),w("value",i.value)("activeDate",i.activeDate)("locale",i.locale)("disabledDate",i.disabledDate)("selectedValue",i.selectedValue)("hoverValue",i.hoverValue)}}function nU(e,t){if(e&1){let i=he();z(0,"quarter-header",1),qi("valueChange",function(r){B(i);let a=C();return Hi(a.activeDate,r)||(a.activeDate=r),V(r)}),Q("panelModeChange",function(r){B(i);let a=C();return V(a.panelModeChange.emit(r))})("valueChange",function(r){B(i);let a=C();return V(a.headerChange.emit(r))}),S(),z(1,"div")(2,"quarter-table",5),Q("valueChange",function(r){B(i);let a=C();return V(a.onChooseQuarter(r))})("cellHover",function(r){B(i);let a=C();return V(a.cellHover.emit(r))}),S()()}if(e&2){let i=C();$i("value",i.activeDate),w("locale",i.locale)("showSuperPreBtn",i.enablePrevNext("prev","month"))("showSuperNextBtn",i.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),y(),ye("",i.prefixCls,"-body"),y(),w("value",i.value)("activeDate",i.activeDate)("locale",i.locale)("disabledDate",i.disabledDate)("selectedValue",i.selectedValue)("hoverValue",i.hoverValue)("cellRender",i.dateRender)}}function iU(e,t){if(e&1){let i=he();z(0,"date-header",6),qi("valueChange",function(r){B(i);let a=C();return Hi(a.activeDate,r)||(a.activeDate=r),V(r)}),Q("panelModeChange",function(r){B(i);let a=C();return V(a.panelModeChange.emit(r))})("valueChange",function(r){B(i);let a=C();return V(a.headerChange.emit(r))}),S(),z(1,"div")(2,"date-table",7),Q("valueChange",function(r){B(i);let a=C();return V(a.onSelectDate(r))})("cellHover",function(r){B(i);let a=C();return V(a.cellHover.emit(r))}),S()()}if(e&2){let i=C();$i("value",i.activeDate),w("locale",i.locale)("showSuperPreBtn",i.panelMode==="week"?i.enablePrevNext("prev","week"):i.enablePrevNext("prev","date"))("showSuperNextBtn",i.panelMode==="week"?i.enablePrevNext("next","week"):i.enablePrevNext("next","date"))("showPreBtn",i.panelMode==="week"?i.enablePrevNext("prev","week"):i.enablePrevNext("prev","date"))("showNextBtn",i.panelMode==="week"?i.enablePrevNext("next","week"):i.enablePrevNext("next","date")),y(),ye("",i.prefixCls,"-body"),y(),w("locale",i.locale)("showWeek",i.showWeek)("value",i.value)("activeDate",i.activeDate)("disabledDate",i.disabledDate)("cellRender",i.dateRender)("selectedValue",i.selectedValue)("hoverValue",i.hoverValue)("canSelectWeek",i.panelMode==="week")}}function rU(e,t){if(e&1){let i=he();z(0,"nz-time-picker-panel",8),Q("ngModelChange",function(r){B(i);let a=C();return V(a.onSelectTime(r))}),S()}if(e&2){let i=C();w("nzInDatePicker",!0)("ngModel",i.value==null?null:i.value.nativeDate)("format",i.timeOptions.nzFormat)("nzHourStep",i.timeOptions.nzHourStep)("nzMinuteStep",i.timeOptions.nzMinuteStep)("nzSecondStep",i.timeOptions.nzSecondStep)("nzDisabledHours",i.timeOptions.nzDisabledHours)("nzDisabledMinutes",i.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",i.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!i.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",i.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!i.timeOptions.nzUse12Hours)("nzAddOn",i.timeOptions.nzAddOn)}}var oU=e=>({partType:e}),eI=()=>({partType:"left"}),tI=()=>({partType:"right"});function aU(e,t){e&1&&Xt(0)}function sU(e,t){if(e&1&&M(0,aU,1,0,"ng-container",6),e&2){let i=C(2),n=Pe(3);w("ngTemplateOutlet",n)("ngTemplateOutletContext",Xn(2,oU,i.datePickerService.activeInput))}}function lU(e,t){e&1&&Xt(0)}function cU(e,t){e&1&&Xt(0)}function uU(e,t){if(e&1&&M(0,lU,1,0,"ng-container",6)(1,cU,1,0,"ng-container",6),e&2){C(2);let i=Pe(3);w("ngTemplateOutlet",i)("ngTemplateOutletContext",tr(4,eI)),y(),w("ngTemplateOutlet",i)("ngTemplateOutletContext",tr(5,tI))}}function dU(e,t){e&1&&Xt(0)}function hU(e,t){if(e&1&&(z(0,"div"),W(1,"div",4),z(2,"div")(3,"div"),M(4,sU,1,4,"ng-container")(5,uU,2,6),S(),M(6,dU,1,0,"ng-container",5),S()()),e&2){let i=C(),n=Pe(5);Ol("",i.prefixCls,"-range-wrapper ",i.prefixCls,"-date-range-wrapper"),y(),ye("",i.prefixCls,"-range-arrow"),w("ngStyle",i.arrowPosition),y(),Ol("",i.prefixCls,"-panel-container ",i.showWeek?i.prefixCls+"-week-number":"",""),y(),ye("",i.prefixCls,"-panels"),y(),K(i.hasTimePicker?4:5),y(2),w("ngTemplateOutlet",n)}}function pU(e,t){e&1&&Xt(0)}function fU(e,t){e&1&&Xt(0)}function mU(e,t){if(e&1&&(z(0,"div")(1,"div",7),M(2,pU,1,0,"ng-container",5)(3,fU,1,0,"ng-container",5),S()()),e&2){let i=C(),n=Pe(3),r=Pe(5);Uv("",i.prefixCls,"-panel-container ",i.showWeek?i.prefixCls+"-week-number":""," ",i.hasTimePicker?i.prefixCls+"-time":""," ",i.isRange?i.prefixCls+"-range":"",""),y(),ye("",i.prefixCls,"-panel"),ve("ant-picker-panel-rtl",i.dir==="rtl"),y(),w("ngTemplateOutlet",n),y(),w("ngTemplateOutlet",r)}}function gU(e,t){if(e&1){let i=he();z(0,"div")(1,"inner-popup",8),Q("panelModeChange",function(r){let a=B(i).partType,u=C();return V(u.onPanelModeChange(r,a))})("cellHover",function(r){B(i);let a=C();return V(a.onCellHover(r))})("selectDate",function(r){B(i);let a=C();return V(a.changeValueFromSelect(r,!a.showTime))})("selectTime",function(r){let a=B(i).partType,u=C();return V(u.onSelectTime(r,a))})("headerChange",function(r){let a=B(i).partType,u=C();return V(u.onActiveDateChange(r,a))}),S()()}if(e&2){let i=t.partType,n=C();ye("",n.prefixCls,"-panel"),ve("ant-picker-panel-rtl",n.dir==="rtl"),y(),w("showWeek",n.showWeek)("endPanelMode",n.getPanelMode(n.endPanelMode,i))("partType",i)("locale",n.locale)("showTimePicker",n.hasTimePicker)("timeOptions",n.getTimeOptions(i))("panelMode",n.getPanelMode(n.panelMode,i))("activeDate",n.getActiveDate(i))("value",n.getValue(i))("disabledDate",n.disabledDate)("dateRender",n.dateRender)("selectedValue",n.datePickerService==null?null:n.datePickerService.value)("hoverValue",n.hoverValue)}}function _U(e,t){if(e&1){let i=he();z(0,"calendar-footer",10),Q("clickOk",function(){B(i);let r=C(2);return V(r.onClickOk())})("clickToday",function(r){B(i);let a=C(2);return V(a.onClickToday(r))}),S()}if(e&2){let i=C(2),n=Pe(7);w("locale",i.locale)("isRange",i.isRange)("showToday",i.showToday)("showNow",i.showNow)("hasTimePicker",i.hasTimePicker)("okDisabled",!i.isAllowed(i.datePickerService==null?null:i.datePickerService.value))("extraFooter",i.extraFooter)("rangeQuickSelector",i.ranges?n:null)}}function vU(e,t){if(e&1&&M(0,_U,1,8,"calendar-footer",9),e&2){let i=C();K(i.hasFooter?0:-1)}}function yU(e,t){if(e&1){let i=he();z(0,"li",11),Q("click",function(){let r=B(i).$implicit,a=C(2);return V(a.onClickPresetRange(a.ranges[r]))})("mouseenter",function(){let r=B(i).$implicit,a=C(2);return V(a.onHoverPresetRange(a.ranges[r]))})("mouseleave",function(){B(i);let r=C(2);return V(r.onPresetRangeMouseLeave())}),z(1,"span",12),H(2),S()()}if(e&2){let i=t.$implicit,n=C(2);ye("",n.prefixCls,"-preset"),y(2),Ae(i)}}function CU(e,t){if(e&1&&rt(0,yU,3,4,"li",3,yn),e&2){let i=C();ot(i.getObjectKeys(i.ranges))}}var xU=["separatorElement"],zU=["pickerInput"],bU=["rangePickerInput"];function SU(e,t){e&1&&Xt(0)}function wU(e,t){if(e&1){let i=he();z(0,"div")(1,"input",9,3),qi("ngModelChange",function(r){B(i);let a=C(2);return Hi(a.inputValue,r)||(a.inputValue=r),V(r)}),Q("focus",function(r){B(i);let a=C(2);return V(a.onFocus(r))})("focusout",function(r){B(i);let a=C(2);return V(a.onFocusout(r))})("ngModelChange",function(r){B(i);let a=C(2);return V(a.onInputChange(r))})("keyup.enter",function(r){B(i);let a=C(2);return V(a.onKeyupEnter(r))}),S(),M(3,SU,1,0,"ng-container",10),S()}if(e&2){let i=C(2),n=Pe(5);ye("",i.prefixCls,"-input"),y(),ve("ant-input-disabled",i.nzDisabled),Ot("placeholder",i.getPlaceholder()),w("disabled",i.nzDisabled)("readOnly",i.nzInputReadOnly),$i("ngModel",i.inputValue),w("size",i.inputSize),Ft("id",i.nzId),y(2),w("ngTemplateOutlet",n)}}function TU(e,t){e&1&&Xt(0)}function IU(e,t){if(e&1&&H(0),e&2){let i=C(4);xe(" ",i.nzSeparator," ")}}function FU(e,t){e&1&&W(0,"span",13)}function OU(e,t){if(e&1&&(Fe(0),M(1,IU,1,1)(2,FU,1,0,"span",13),Oe()),e&2){let i=C(3);y(),K(i.nzSeparator?1:2)}}function MU(e,t){e&1&&Xt(0)}function PU(e,t){e&1&&Xt(0)}function DU(e,t){if(e&1&&(z(0,"div"),M(1,TU,1,0,"ng-container",11),S(),z(2,"div",null,4)(4,"span"),M(5,OU,3,1,"ng-container",12),S()(),z(6,"div"),M(7,MU,1,0,"ng-container",11),S(),M(8,PU,1,0,"ng-container",10)),e&2){let i=C(2),n=Pe(3),r=Pe(5);ye("",i.prefixCls,"-input"),y(),w("ngTemplateOutlet",n)("ngTemplateOutletContext",tr(18,eI)),y(),ye("",i.prefixCls,"-range-separator"),y(2),ye("",i.prefixCls,"-separator"),y(),w("nzStringTemplateOutlet",i.nzSeparator),y(),ye("",i.prefixCls,"-input"),y(),w("ngTemplateOutlet",n)("ngTemplateOutletContext",tr(19,tI)),y(),w("ngTemplateOutlet",r)}}function EU(e,t){if(e&1&&M(0,wU,4,12,"div",8)(1,DU,9,20),e&2){let i=C();K(i.isRange?1:0)}}function AU(e,t){}function kU(e,t){if(e&1&&M(0,AU,0,0,"ng-template",6),e&2){C();let i=Pe(7);w("ngTemplateOutlet",i)}}function NU(e,t){if(e&1){let i=he();z(0,"input",14,5),Q("click",function(r){B(i);let a=C();return V(a.onClickInputBox(r))})("focusout",function(r){B(i);let a=C();return V(a.onFocusout(r))})("focus",function(r){let a=B(i).partType,u=C();return V(u.onFocus(r,a))})("keyup.enter",function(r){B(i);let a=C();return V(a.onKeyupEnter(r))}),qi("ngModelChange",function(r){let a=B(i).partType,u=C();return Hi(u.inputValue[u.datePickerService.getActiveIndex(a)],r)||(u.inputValue[u.datePickerService.getActiveIndex(a)]=r),V(r)}),Q("ngModelChange",function(r){B(i);let a=C();return V(a.onInputChange(r))}),S()}if(e&2){let i=t.partType,n=C();Ot("placeholder",n.getPlaceholder(i)),w("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly)("size",n.inputSize),$i("ngModel",n.inputValue[n.datePickerService.getActiveIndex(i)]),Ft("id",n.nzId)}}function RU(e,t){if(e&1){let i=he();z(0,"span",17),Q("click",function(r){B(i);let a=C(2);return V(a.onClickClear(r))}),W(1,"span",18),S()}if(e&2){let i=C(2);ye("",i.prefixCls,"-clear")}}function LU(e,t){if(e&1&&(Fe(0),W(1,"span",19),Oe()),e&2){let i=t.$implicit;y(),w("nzType",i)}}function BU(e,t){if(e&1&&W(0,"nz-form-item-feedback-icon",16),e&2){let i=C(2);w("status",i.status)}}function VU(e,t){if(e&1&&(W(0,"div",15),M(1,RU,2,3,"span",8),z(2,"span"),M(3,LU,2,1,"ng-container",12)(4,BU,1,1,"nz-form-item-feedback-icon",16),S()),e&2){let i=C();ye("",i.prefixCls,"-active-bar"),w("ngStyle",i.activeBarStyle),y(),K(i.showClear?1:-1),y(),ye("",i.prefixCls,"-suffix"),y(),w("nzStringTemplateOutlet",i.nzSuffixIcon),y(),K(i.hasFeedback&&i.status?4:-1)}}function $U(e,t){if(e&1){let i=he();z(0,"div",15)(1,"date-range-popup",20),Q("panelModeChange",function(r){B(i);let a=C();return V(a.onPanelModeChange(r))})("calendarChange",function(r){B(i);let a=C();return V(a.onCalendarChange(r))})("resultOk",function(){B(i);let r=C();return V(r.onResultOk())}),S()()}if(e&2){let i=C();Ol("",i.prefixCls,"-dropdown ",i.nzDropdownClassName,""),ve("ant-picker-dropdown-rtl",i.dir==="rtl")("ant-picker-dropdown-placement-bottomLeft",i.currentPositionY==="bottom"&&i.currentPositionX==="start")("ant-picker-dropdown-placement-topLeft",i.currentPositionY==="top"&&i.currentPositionX==="start")("ant-picker-dropdown-placement-bottomRight",i.currentPositionY==="bottom"&&i.currentPositionX==="end")("ant-picker-dropdown-placement-topRight",i.currentPositionY==="top"&&i.currentPositionX==="end")("ant-picker-dropdown-range",i.isRange)("ant-picker-active-left",i.datePickerService.activeInput==="left")("ant-picker-active-right",i.datePickerService.activeInput==="right"),w("ngStyle",i.nzPopupStyle),y(),w("isRange",i.isRange)("inline",i.nzInline)("defaultPickerValue",i.nzDefaultPickerValue)("showWeek",i.nzShowWeekNumber||i.nzMode==="week")("panelMode",i.panelMode)("locale",i.nzLocale==null?null:i.nzLocale.lang)("showToday",i.nzMode==="date"&&i.nzShowToday&&!i.isRange&&!i.nzShowTime)("showNow",i.nzMode==="date"&&i.nzShowNow&&!i.isRange&&!!i.nzShowTime)("showTime",i.nzShowTime)("dateRender",i.nzDateRender)("disabledDate",i.nzDisabledDate)("disabledTime",i.nzDisabledTime)("extraFooter",i.extraFooter)("ranges",i.nzRanges)("dir",i.dir)}}function HU(e,t){e&1&&Xt(0)}function qU(e,t){if(e&1&&(z(0,"div",21),M(1,HU,1,0,"ng-container",10),S()),e&2){let i=C(),n=Pe(7);dt("position","relative"),w("nzNoAnimation",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("@slideMotion","enter"),y(),w("ngTemplateOutlet",n)}}var bp="ant-picker",jU={nzDisabledHours(){return[]},nzDisabledMinutes(){return[]},nzDisabledSeconds(){return[]}};function nI(e,t){let i=t?t(e&&e.nativeDate):{};return i=qt(qt({},jU),i),i}function WU(e,t){let i=!1;if(e){let n=e.getHours(),r=e.getMinutes(),a=e.getSeconds();t.nzDisabledHours().indexOf(n)===-1&&t.nzDisabledMinutes(n).indexOf(r)===-1?i=t.nzDisabledSeconds(n,r).indexOf(a)!==-1:i=!0}return!i}function UU(e,t){let i=nI(e,t);return WU(e,i)}function xp(e,t,i){return!(!e||t&&t(e.nativeDate)||i&&!UU(e,i))}function $u(e){return e&&e.replace(/Y/g,"y").replace(/D/g,"d")}var iI=(()=>{let t=class t{constructor(n){this.dateHelper=n,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new fe,this.clickToday=new fe,this.prefixCls=bp,this.isTemplateRef=cu,this.isNonEmptyString=lu,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(n){let r=new Date;if(n.disabledDate&&(this.isTodayDisabled=!!(this.disabledDate&&this.disabledDate(r))),n.locale){let a=$u(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(r,a)}}onClickToday(){let n=new jn;this.clickToday.emit(n.clone())}get isExtraFooterTemplateRef(){return cu(this.extraFooter)}get isExtraFooterNonEmptyString(){return lu(this.extraFooter)}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:[2,"showToday","showToday",ee],showNow:[2,"showNow","showNow",ee],hasTimePicker:[2,"hasTimePicker","hasTimePicker",ee],isRange:[2,"isRange","isRange",ee],okDisabled:[2,"okDisabled","okDisabled",ee],disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[Je,$e,re],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"click","title"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"click","disabled"]],template:function(r,a){r&1&&(z(0,"div"),M(1,gj,3,5,"div",0)(2,_j,2,6,"a",1)(3,xj,4,6,"ul",0),S()),r&2&&(ye("",a.prefixCls,"-footer"),y(),K(a.extraFooter?1:-1),y(),K(a.showToday?2:-1),y(),K(a.hasTimePicker||a.rangeQuickSelector?3:-1))},dependencies:[Qt,Gr,Ui,Ur,Zr],encapsulation:2,changeDetection:0});let e=t;return e})(),yg=(()=>{let t=class t{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Kd(1),this.emitValue$=new Ue,this.inputPartChange$=new Ue}initValue(n=!1){n&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(n=this.value){return Array.isArray(n)?!!n[0]||!!n[1]:!!n}makeValue(n){return this.isRange?n?n.map(r=>new jn(r)):[]:n?new jn(n):null}setActiveDate(n,r=!1,a="month"){let u={date:"month",month:"year",quarter:"year",year:"decade"};this.isRange?this.activeDate=my(n,r,u[a],this.activeInput):this.activeDate=El(n)}setValue(n){this.value=n,this.valueChange$.next(this.value)}getActiveIndex(n=this.activeInput){return{left:0,right:1}[n]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac});let e=t;return e})(),Hu=(()=>{let t=class t{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new fe,this.valueChange=new fe}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(n){this.value!==n&&(this.value=n,this.valueChange.emit(this.value),this.render())}changeMode(n){this.panelModeChange.emit(n)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new jn),this.selectors=this.getSelectors()}ngOnChanges(n){(n.value||n.locale)&&this.render()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,inputs:{value:"value",locale:"locale",showSuperPreBtn:[2,"showSuperPreBtn","showSuperPreBtn",ee],showSuperNextBtn:[2,"showSuperNextBtn","showSuperNextBtn",ee],showPreBtn:[2,"showPreBtn","showPreBtn",ee],showNextBtn:[2,"showNextBtn","showNextBtn",ee]},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[Je,$e]});let e=t;return e})(),ZU=(()=>{let t=class t extends Hu{previous(){}next(){}get startYear(){return parseInt(`${this.value.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}};t.\u0275fac=(()=>{let n;return function(a){return(n||(n=ih(t)))(a||t)}})(),t.\u0275cmp=ie({type:t,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[co,re],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(r,a){r&1&&(z(0,"div")(1,"button",0),Q("click",function(){return a.superPrevious()}),W(2,"span",1),S(),z(3,"button",0),Q("click",function(){return a.previous()}),W(4,"span",2),S(),z(5,"div"),rt(6,zj,2,5,"button",3,yn),S(),z(8,"button",0),Q("click",function(){return a.next()}),W(9,"span",4),S(),z(10,"button",0),Q("click",function(){return a.superNext()}),W(11,"span",5),S()()),r&2&&(wr(a.prefixCls),y(),ye("",a.prefixCls,"-super-prev-btn"),dt("visibility",a.showSuperPreBtn?"visible":"hidden"),Ot("title",a.superPreviousTitle()),y(2),ye("",a.prefixCls,"-prev-btn"),dt("visibility",a.showPreBtn?"visible":"hidden"),Ot("title",a.previousTitle()),y(2),ye("",a.prefixCls,"-view"),y(),ot(a.selectors),y(2),ye("",a.prefixCls,"-next-btn"),dt("visibility",a.showNextBtn?"visible":"hidden"),Ot("title",a.nextTitle()),y(2),ye("",a.prefixCls,"-super-next-btn"),dt("visibility",a.showSuperNextBtn?"visible":"hidden"),Ot("title",a.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),qu=(()=>{let t=class t{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new jn,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new fe,this.cellHover=new fe}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(n){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":n.isSelected,"ant-picker-cell-disabled":n.isDisabled,"ant-picker-cell-in-range":!!n.isInSelectedRange,"ant-picker-cell-range-start":!!n.isSelectedStart,"ant-picker-cell-range-end":!!n.isSelectedEnd,"ant-picker-cell-range-start-single":!!n.isStartSingle,"ant-picker-cell-range-end-single":!!n.isEndSingle,"ant-picker-cell-range-hover":!!n.isInHoverRange,"ant-picker-cell-range-hover-start":!!n.isHoverStart,"ant-picker-cell-range-hover-end":!!n.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!n.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!n.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!n.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!n.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(n){n.activeDate&&!n.activeDate.currentValue&&(this.activeDate=new jn),(n.disabledDate||n.locale||n.showWeek||n.selectWeek||this.isDateRealChange(n.activeDate)||this.isDateRealChange(n.value)||this.isDateRealChange(n.selectedValue)||this.isDateRealChange(n.hoverValue))&&this.render()}isDateRealChange(n){if(n){let r=n.previousValue,a=n.currentValue;return Array.isArray(a)?!Array.isArray(r)||a.length!==r.length||a.some((u,p)=>{let m=r[p];return m instanceof jn?m.isSameDay(u):m!==u}):!this.isSameDate(r,a)}return!1}isSameDate(n,r){return!n&&!r||n&&r&&r.isSameDay(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:[2,"showWeek","showWeek",ee],selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:[2,"canSelectWeek","canSelectWeek",ee]},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[Je,$e]});let e=t;return e})(),GU=4,YU=3,QU=(()=>{let t=class t extends qu{get startYear(){return parseInt(`${this.activeDate.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){let n=[],r=this.value&&this.value.getYear(),a=this.startYear,u=this.endYear,p=a-10,m=0;for(let _=0;_<GU;_++){let O={dateCells:[],trackByIndex:_};for(let F=0;F<YU;F++){let N=p+m*10,U=p+m*10+9,q=`${N}-${U}`,se={trackByIndex:F,value:this.activeDate.setYear(N).nativeDate,content:q,title:q,isDisabled:!1,isSelected:r>=N&&r<=U,isLowerThanStart:U<a,isBiggerThanEnd:N>u,classMap:{},onClick(){},onMouseEnter(){}};se.classMap=this.getClassMap(se),se.onClick=()=>this.chooseDecade(N),m++,O.dateCells.push(se)}n.push(O)}return n}getClassMap(n){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!n.isBiggerThanEnd&&!n.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:n.isSelected,[`${this.prefixCls}-cell-disabled`]:n.isDisabled}}chooseDecade(n){this.value=this.activeDate.setYear(n),this.valueChange.emit(this.value)}};t.\u0275fac=(()=>{let n;return function(a){return(n||(n=ih(t)))(a||t)}})(),t.\u0275cmp=ie({type:t,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[co,re],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,a){r&1&&(z(0,"table",0),M(1,wj,5,1,"thead"),z(2,"tbody"),rt(3,Lj,4,2,"tr",1,Wo),S()()),r&2&&(y(),K(a.headRow&&a.headRow.length>0?1:-1),y(2),ot(a.bodyRows))},dependencies:[Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),KU=(()=>{let t=class t extends Hu{get startYear(){return parseInt(`${this.value.getYear()/10}`,10)*10}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}};t.\u0275fac=(()=>{let n;return function(a){return(n||(n=ih(t)))(a||t)}})(),t.\u0275cmp=ie({type:t,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[co,re],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(r,a){r&1&&(z(0,"div")(1,"button",0),Q("click",function(){return a.superPrevious()}),W(2,"span",1),S(),z(3,"button",0),Q("click",function(){return a.previous()}),W(4,"span",2),S(),z(5,"div"),rt(6,Bj,2,5,"button",3,yn),S(),z(8,"button",0),Q("click",function(){return a.next()}),W(9,"span",4),S(),z(10,"button",0),Q("click",function(){return a.superNext()}),W(11,"span",5),S()()),r&2&&(wr(a.prefixCls),y(),ye("",a.prefixCls,"-super-prev-btn"),dt("visibility",a.showSuperPreBtn?"visible":"hidden"),Ot("title",a.superPreviousTitle()),y(2),ye("",a.prefixCls,"-prev-btn"),dt("visibility",a.showPreBtn?"visible":"hidden"),Ot("title",a.previousTitle()),y(2),ye("",a.prefixCls,"-view"),y(),ot(a.selectors),y(2),ye("",a.prefixCls,"-next-btn"),dt("visibility",a.showNextBtn?"visible":"hidden"),Ot("title",a.nextTitle()),y(2),ye("",a.prefixCls,"-super-next-btn"),dt("visibility",a.showSuperNextBtn?"visible":"hidden"),Ot("title",a.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),XU=(()=>{let t=class t extends qu{constructor(n){super(),this.dateHelper=n,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let n=this.activeDate&&this.activeDate.getYear(),r=parseInt(`${n/10}`,10)*10,a=r+9,u=r-1,p=[],m=0;for(let _=0;_<this.MAX_ROW;_++){let O={dateCells:[],trackByIndex:_};for(let F=0;F<this.MAX_COL;F++){let N=u+m,U=this.activeDate.setYear(N),q=this.dateHelper.format(U.nativeDate,"yyyy"),se=this.isDisabledYear(U),ce={trackByIndex:F,value:U.nativeDate,isDisabled:se,isSameDecade:N>=r&&N<=a,isSelected:N===(this.value&&this.value.getYear()),content:q,title:q,classMap:{},isLastCellInPanel:U.getYear()===a,isFirstCellInPanel:U.getYear()===r,cellRender:Po(this.cellRender,U),fullCellRender:Po(this.fullCellRender,U),onClick:()=>this.chooseYear(ce.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(U)};this.addCellProperty(ce,U),O.dateCells.push(ce),m++}p.push(O)}return p}getClassMap(n){return Kn(qt({},super.getClassMap(n)),{"ant-picker-cell-in-view":!!n.isSameDecade})}isDisabledYear(n){if(!this.disabledDate)return!1;let r=n.setMonth(0).setDate(1);for(let a=r;a.getYear()===n.getYear();a=a.addDays(1))if(!this.disabledDate(a.nativeDate))return!1;return!0}addCellProperty(n,r){if(this.hasRangeValue()){let[a,u]=this.hoverValue,[p,m]=this.selectedValue;p?.isSameYear(r)&&(n.isSelectedStart=!0,n.isSelected=!0),m?.isSameYear(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),a&&u&&(n.isHoverStart=a.isSameYear(r),n.isHoverEnd=u.isSameYear(r),n.isInHoverRange=a.isBeforeYear(r)&&r.isBeforeYear(u)),n.isStartSingle=p&&!m,n.isEndSingle=!p&&m,n.isInSelectedRange=p?.isBeforeYear(r)&&r?.isBeforeYear(m),n.isRangeStartNearHover=p&&n.isInHoverRange,n.isRangeEndNearHover=m&&n.isInHoverRange}else r.isSameYear(this.value)&&(n.isSelected=!0);n.classMap=this.getClassMap(n)}chooseYear(n){this.value=this.activeDate.setYear(n),this.valueChange.emit(this.value),this.render()}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[co,re],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,a){r&1&&(z(0,"table",0),M(1,Hj,5,1,"thead"),z(2,"tbody"),rt(3,tW,4,2,"tr",1,Wo),S()()),r&2&&(y(),K(a.headRow&&a.headRow.length>0?1:-1),y(2),ot(a.bodyRows))},dependencies:[Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),JU=(()=>{let t=class t extends Hu{constructor(n){super(),this.dateHelper=n}getSelectors(){return[{className:`${this.prefixCls}-quarter-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,$u(this.locale.yearFormat))}]}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["quarter-header"]],exportAs:["quarterHeader"],standalone:!0,features:[co,re],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(r,a){r&1&&(z(0,"div")(1,"button",0),Q("click",function(){return a.superPrevious()}),W(2,"span",1),S(),z(3,"button",0),Q("click",function(){return a.previous()}),W(4,"span",2),S(),z(5,"div"),rt(6,nW,2,5,"button",3,yn),S(),z(8,"button",0),Q("click",function(){return a.next()}),W(9,"span",4),S(),z(10,"button",0),Q("click",function(){return a.superNext()}),W(11,"span",5),S()()),r&2&&(wr(a.prefixCls),y(),ye("",a.prefixCls,"-super-prev-btn"),dt("visibility",a.showSuperPreBtn?"visible":"hidden"),Ot("title",a.superPreviousTitle()),y(2),ye("",a.prefixCls,"-prev-btn"),dt("visibility",a.showPreBtn?"visible":"hidden"),Ot("title",a.previousTitle()),y(2),ye("",a.prefixCls,"-view"),y(),ot(a.selectors),y(2),ye("",a.prefixCls,"-next-btn"),dt("visibility",a.showNextBtn?"visible":"hidden"),Ot("title",a.nextTitle()),y(2),ye("",a.prefixCls,"-super-next-btn"),dt("visibility",a.showSuperNextBtn?"visible":"hidden"),Ot("title",a.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),eZ=(()=>{let t=class t extends qu{constructor(n){super(),this.dateHelper=n,this.MAX_ROW=1,this.MAX_COL=4}changeValueFromInside(n){this.activeDate=n.clone(),this.valueChange.emit(this.activeDate),this.activeDate.isSameQuarter(this.value)||this.render()}makeHeadRow(){return[]}makeBodyRows(){let n=[],r=[{dateCells:n,trackByIndex:0}],a=1;for(let u=1;u<=this.MAX_COL;u++,a++){let p=this.activeDate.setQuarter(a),m=this.isDisabledQuarter(p),_=this.dateHelper.format(p.nativeDate,"[Q]Q"),O={trackByIndex:u,value:p.nativeDate,isDisabled:m,isSelected:p.isSameQuarter(this.value),content:_,title:_,classMap:{},cellRender:Po(this.cellRender,p),fullCellRender:Po(this.fullCellRender,p),onClick:()=>this.changeValueFromInside(p),onMouseEnter:()=>this.cellHover.emit(p)};this.addCellProperty(O,p),n.push(O)}return r}isDisabledQuarter(n){if(!this.disabledDate)return!1;let r=new jn(uy(n.nativeDate));for(let a=r;a.getQuarter()===n.getQuarter();a=a.addMonths(1))if(!this.disabledDate(a.nativeDate))return!1;return!0}addCellProperty(n,r){if(n.isTemplateRef=cu(n.cellRender),n.isNonEmptyString=lu(n.cellRender),this.hasRangeValue()){let[a,u]=this.hoverValue,[p,m]=this.selectedValue;p?.isSameQuarter(r)&&(n.isSelectedStart=!0,n.isSelected=!0),m?.isSameQuarter(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),a&&u&&(n.isHoverStart=a.isSameQuarter(r),n.isHoverEnd=u.isSameQuarter(r),n.isLastCellInPanel=r.getQuarter()===4,n.isFirstCellInPanel=r.getQuarter()===1,n.isInHoverRange=a.isBeforeQuarter(r)&&r.isBeforeQuarter(u)),n.isStartSingle=p&&!m,n.isEndSingle=!p&&m,n.isInSelectedRange=p?.isBeforeQuarter(r)&&r?.isBeforeQuarter(m),n.isRangeStartNearHover=p&&n.isInHoverRange,n.isRangeEndNearHover=m&&n.isInHoverRange}else r.isSameQuarter(this.value)&&(n.isSelected=!0);n.classMap=this.getClassMap(n)}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["quarter-table"]],exportAs:["quarterTable"],standalone:!0,features:[co,re],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,a){r&1&&(z(0,"table",0),M(1,oW,5,1,"thead"),z(2,"tbody"),rt(3,vW,4,2,"tr",1,Wo),S()()),r&2&&(y(),K(a.headRow&&a.headRow.length>0?1:-1),y(2),ot(a.bodyRows))},dependencies:[Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),tZ=(()=>{let t=class t extends Hu{constructor(n){super(),this.dateHelper=n}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,$u(this.locale.yearFormat))}]}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[co,re],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(r,a){r&1&&(z(0,"div")(1,"button",0),Q("click",function(){return a.superPrevious()}),W(2,"span",1),S(),z(3,"button",0),Q("click",function(){return a.previous()}),W(4,"span",2),S(),z(5,"div"),rt(6,yW,2,5,"button",3,yn),S(),z(8,"button",0),Q("click",function(){return a.next()}),W(9,"span",4),S(),z(10,"button",0),Q("click",function(){return a.superNext()}),W(11,"span",5),S()()),r&2&&(wr(a.prefixCls),y(),ye("",a.prefixCls,"-super-prev-btn"),dt("visibility",a.showSuperPreBtn?"visible":"hidden"),Ot("title",a.superPreviousTitle()),y(2),ye("",a.prefixCls,"-prev-btn"),dt("visibility",a.showPreBtn?"visible":"hidden"),Ot("title",a.previousTitle()),y(2),ye("",a.prefixCls,"-view"),y(),ot(a.selectors),y(2),ye("",a.prefixCls,"-next-btn"),dt("visibility",a.showNextBtn?"visible":"hidden"),Ot("title",a.nextTitle()),y(2),ye("",a.prefixCls,"-super-next-btn"),dt("visibility",a.showSuperNextBtn?"visible":"hidden"),Ot("title",a.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),nZ=(()=>{let t=class t extends qu{constructor(n){super(),this.dateHelper=n,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let n=[],r=0;for(let a=0;a<this.MAX_ROW;a++){let u={dateCells:[],trackByIndex:a};for(let p=0;p<this.MAX_COL;p++){let m=this.activeDate.setMonth(r),_=this.isDisabledMonth(m),O=this.dateHelper.format(m.nativeDate,"MMM"),F={trackByIndex:p,value:m.nativeDate,isDisabled:_,isSelected:m.isSameMonth(this.value),content:O,title:O,classMap:{},cellRender:Po(this.cellRender,m),fullCellRender:Po(this.fullCellRender,m),onClick:()=>this.chooseMonth(F.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(m)};this.addCellProperty(F,m),u.dateCells.push(F),r++}n.push(u)}return n}isDisabledMonth(n){if(!this.disabledDate)return!1;let r=n.setDate(1);for(let a=r;a.getMonth()===n.getMonth();a=a.addDays(1))if(!this.disabledDate(a.nativeDate))return!1;return!0}addCellProperty(n,r){if(this.hasRangeValue()){let[a,u]=this.hoverValue,[p,m]=this.selectedValue;p?.isSameMonth(r)&&(n.isSelectedStart=!0,n.isSelected=!0),m?.isSameMonth(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),a&&u&&(n.isHoverStart=a.isSameMonth(r),n.isHoverEnd=u.isSameMonth(r),n.isLastCellInPanel=r.getMonth()===11,n.isFirstCellInPanel=r.getMonth()===0,n.isInHoverRange=a.isBeforeMonth(r)&&r.isBeforeMonth(u)),n.isStartSingle=p&&!m,n.isEndSingle=!p&&m,n.isInSelectedRange=p?.isBeforeMonth(r)&&r?.isBeforeMonth(m),n.isRangeStartNearHover=p&&n.isInHoverRange,n.isRangeEndNearHover=m&&n.isInHoverRange}else r.isSameMonth(this.value)&&(n.isSelected=!0);n.classMap=this.getClassMap(n)}chooseMonth(n){this.value=this.activeDate.setMonth(n),this.valueChange.emit(this.value)}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[co,re],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,a){r&1&&(z(0,"table",0),M(1,zW,5,1,"thead"),z(2,"tbody"),rt(3,kW,4,2,"tr",1,Wo),S()()),r&2&&(y(),K(a.headRow&&a.headRow.length>0?1:-1),y(2),ot(a.bodyRows))},dependencies:[Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),iZ=(()=>{let t=class t extends Hu{constructor(n){super(),this.dateHelper=n}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,$u(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}};t.\u0275fac=function(r){return new(r||t)(k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[co,re],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(r,a){r&1&&(z(0,"div")(1,"button",0),Q("click",function(){return a.superPrevious()}),W(2,"span",1),S(),z(3,"button",0),Q("click",function(){return a.previous()}),W(4,"span",2),S(),z(5,"div"),rt(6,NW,2,5,"button",3,yn),S(),z(8,"button",0),Q("click",function(){return a.next()}),W(9,"span",4),S(),z(10,"button",0),Q("click",function(){return a.superNext()}),W(11,"span",5),S()()),r&2&&(wr(a.prefixCls),y(),ye("",a.prefixCls,"-super-prev-btn"),dt("visibility",a.showSuperPreBtn?"visible":"hidden"),Ot("title",a.superPreviousTitle()),y(2),ye("",a.prefixCls,"-prev-btn"),dt("visibility",a.showPreBtn?"visible":"hidden"),Ot("title",a.previousTitle()),y(2),ye("",a.prefixCls,"-view"),y(),ot(a.selectors),y(2),ye("",a.prefixCls,"-next-btn"),dt("visibility",a.showNextBtn?"visible":"hidden"),Ot("title",a.nextTitle()),y(2),ye("",a.prefixCls,"-super-next-btn"),dt("visibility",a.showSuperNextBtn?"visible":"hidden"),Ot("title",a.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),rZ=(()=>{let t=class t extends qu{constructor(n,r){super(),this.i18n=n,this.dateHelper=r}changeValueFromInside(n){this.activeDate=this.activeDate.setYear(n.getYear()).setMonth(n.getMonth()).setDate(n.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){let n=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let a=0;a<this.MAX_COL;a++){let u=r.addDays(a);n.push({trackByIndex:null,value:u.nativeDate,title:this.dateHelper.format(u.nativeDate,"E"),content:this.dateHelper.format(u.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return n}getVeryShortWeekFormat(){return this.i18n.getLocaleId().toLowerCase().indexOf("zh")===0?"EEEEE":"EEEEEE"}makeBodyRows(){let n=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let a=0;a<this.MAX_ROW;a++){let u=r.addDays(a*7),p={isActive:!1,dateCells:[],trackByIndex:a};for(let m=0;m<7;m++){let _=u.addDays(m),O=$u(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),F=this.dateHelper.format(_.nativeDate,O),N=this.dateHelper.format(_.nativeDate,"dd"),U={trackByIndex:m,value:_.nativeDate,label:N,isSelected:!1,isDisabled:!1,isToday:!1,title:F,cellRender:Po(this.cellRender,_),fullCellRender:Po(this.fullCellRender,_),content:`${_.getDate()}`,onClick:()=>this.changeValueFromInside(_),onMouseEnter:()=>this.cellHover.emit(_)};this.addCellProperty(U,_),this.showWeek&&!p.weekNum&&(p.weekNum=this.dateHelper.getISOWeek(_.nativeDate)),_.isSameDay(this.value)&&(p.isActive=_.isSameDay(this.value)),p.dateCells.push(U)}p.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&p.isActive},n.push(p)}return n}addCellProperty(n,r){if(n.isTemplateRef=cu(n.cellRender),n.isNonEmptyString=lu(n.cellRender),this.hasRangeValue()&&!this.canSelectWeek){let[a,u]=this.hoverValue,[p,m]=this.selectedValue;p?.isSameDay(r)&&(n.isSelectedStart=!0,n.isSelected=!0),m?.isSameDay(r)&&(n.isSelectedEnd=!0,n.isSelected=!0),a&&u&&(n.isHoverStart=a.isSameDay(r),n.isHoverEnd=u.isSameDay(r),n.isLastCellInPanel=r.isLastDayOfMonth(),n.isFirstCellInPanel=r.isFirstDayOfMonth(),n.isInHoverRange=a.isBeforeDay(r)&&r.isBeforeDay(u)),n.isStartSingle=p&&!m,n.isEndSingle=!p&&m,n.isInSelectedRange=p?.isBeforeDay(r)&&r.isBeforeDay(m),n.isRangeStartNearHover=p&&n.isInHoverRange,n.isRangeEndNearHover=m&&n.isInHoverRange}n.isToday=r.isToday(),n.isSelected=r.isSameDay(this.value),n.isDisabled=!!this.disabledDate?.(r.nativeDate),n.classMap=this.getClassMap(n)}getClassMap(n){let r=new jn(n.value);return Kn(qt({},super.getClassMap(n)),{"ant-picker-cell-today":!!n.isToday,"ant-picker-cell-in-view":r.isSameMonth(this.activeDate)})}};t.\u0275fac=function(r){return new(r||t)(k(ua),k(Ir))},t.\u0275cmp=ie({type:t,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[co,re],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,a){r&1&&(z(0,"table",0),M(1,BW,5,1,"thead"),z(2,"tbody"),rt(3,XW,4,2,"tr",1,Wo),S()()),r&2&&(y(),K(a.headRow&&a.headRow.length>0?1:-1),y(2),ot(a.bodyRows))},dependencies:[Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),oZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({});let e=t;return e})(),rI=(()=>{let t=class t{constructor(){this.panelModeChange=new fe,this.headerChange=new fe,this.selectDate=new fe,this.selectTime=new fe,this.cellHover=new fe,this.prefixCls=bp}enablePrevNext(n,r){return!(!this.showTimePicker&&r===this.endPanelMode&&(this.partType==="left"&&n==="next"||this.partType==="right"&&n==="prev"))}onSelectTime(n){this.selectTime.emit(new jn(n))}onSelectDate(n){let r=n instanceof jn?n:new jn(n),a=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&a&&r.setHms(a.getHours(),a.getMinutes(),a.getSeconds()),this.selectDate.emit(r)}onChooseMonth(n){this.activeDate=this.activeDate.setMonth(n.getMonth()),this.endPanelMode==="month"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit(this.endPanelMode))}onChooseQuarter(n){this.activeDate=this.activeDate.setQuarter(n.getQuarter()),this.value=n,this.selectDate.emit(n)}onChooseYear(n){this.activeDate=this.activeDate.setYear(n.getYear()),this.endPanelMode==="year"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(n){this.activeDate=this.activeDate.setYear(n.getYear()),this.endPanelMode==="decade"?(this.value=n,this.selectDate.emit(n)):(this.headerChange.emit(n),this.panelModeChange.emit("year"))}ngOnChanges(n){n.activeDate&&!n.activeDate.currentValue&&(this.activeDate=new jn),n.panelMode&&n.panelMode.currentValue==="time"&&(this.panelMode="date")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:[2,"showWeek","showWeek",ee],locale:"locale",showTimePicker:[2,"showTimePicker","showTimePicker",ee],timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[Je,$e,re],decls:8,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn"],[3,"valueChange","activeDate","value","locale","disabledDate"],[3,"valueChange","cellHover","activeDate","value","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue","cellRender"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn"],[3,"valueChange","cellHover","locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek"],[3,"ngModelChange","nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"]],template:function(r,a){if(r&1&&(z(0,"div")(1,"div"),M(2,JW,3,13)(3,eU,3,15)(4,tU,3,15)(5,nU,3,16)(6,iU,3,18),S(),M(7,rU,1,13,"nz-time-picker-panel",0),S()),r&2){let u;ve("ant-picker-datetime-panel",a.showTimePicker),y(),Ol("",a.prefixCls,"-",a.panelMode,"-panel"),y(),K((u=a.panelMode)==="decade"?2:u==="year"?3:u==="month"?4:u==="quarter"?5:6),y(5),K(a.showTimePicker&&a.timeOptions?7:-1)}},dependencies:[oZ,iZ,rZ,ZU,QU,tZ,nZ,KU,XU,JU,eZ,X2,yp,Fr,zi,uo],encapsulation:2,changeDetection:0});let e=t;return e})(),Cg=(()=>{let t=class t{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return this.dir==="rtl"?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(n,r,a,u){this.datePickerService=n,this.cdr=r,this.ngZone=a,this.host=u,this.inline=!1,this.dir="ltr",this.panelModeChange=new fe,this.calendarChange=new fe,this.resultOk=new fe,this.prefixCls=bp,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new Ue,this.disabledStartTime=p=>this.disabledTime&&this.disabledTime(p,"start"),this.disabledEndTime=p=>this.disabledTime&&this.disabledTime(p,"end")}ngOnInit(){Rn(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe(le(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{dn(this.host.nativeElement,"mousedown").pipe(le(this.destroy$)).subscribe(n=>n.preventDefault())})}ngOnChanges(n){(n.showTime||n.disabledTime)&&this.showTime&&this.buildTimeOptions(),n.panelMode&&(this.endPanelMode=this.panelMode),n.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){let n=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(n,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){let n={left:0,right:1}[this.datePickerService.activeInput],r=this.isRange?this.datePickerService.value[n]:this.datePickerService.value;this.changeValueFromSelect(r),this.resultOk.emit()}onClickToday(n){this.changeValueFromSelect(n,!this.showTime)}onCellHover(n){if(!this.isRange)return;let r={left:1,right:0}[this.datePickerService.activeInput],a=this.datePickerService.value[r];a&&(a.isBeforeDay(n)?this.hoverValue=[a,n]:this.hoverValue=[n,a])}onPanelModeChange(n,r){this.isRange?this.datePickerService.getActiveIndex(r)===0?this.panelMode=[n,this.panelMode[1]]:this.panelMode=[this.panelMode[0],n]:this.panelMode=n,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(n,r){if(this.isRange){let a=[];a[this.datePickerService.getActiveIndex(r)]=n,this.datePickerService.setActiveDate(a,this.hasTimePicker,this.getPanelMode(this.endPanelMode,r))}else this.datePickerService.setActiveDate(n)}onSelectTime(n,r){if(this.isRange){let a=El(this.datePickerService.value),u=this.datePickerService.getActiveIndex(r);a[u]=this.overrideHms(n,a[u]),this.datePickerService.setValue(a)}else{let a=this.overrideHms(n,this.datePickerService.value);this.datePickerService.setValue(a)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(n,r=!0){if(this.isRange){let a=El(this.datePickerService.value),u=this.datePickerService.activeInput,p=u;a[this.datePickerService.getActiveIndex(u)]=n,this.checkedPartArr[this.datePickerService.getActiveIndex(u)]=!0,this.hoverValue=a,r?this.inline?(p=this.reversedPart(u),p==="right"&&(a[this.datePickerService.getActiveIndex(p)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(p)]=!1),this.datePickerService.setValue(a),this.calendarChange.emit(a),this.isBothAllowed(a)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(vm(a)&&(p=this.reversedPart(u),a[this.datePickerService.getActiveIndex(p)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(p)]=!1),this.datePickerService.setValue(a),this.isBothAllowed(a)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(a),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(a)&&(p=this.reversedPart(u),this.calendarChange.emit([n.clone()]))):this.datePickerService.setValue(a),this.datePickerService.inputPartChange$.next(p)}else this.datePickerService.setValue(n),this.datePickerService.inputPartChange$.next(null),r&&this.isAllowed(n)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(n){return n==="left"?"right":"left"}getPanelMode(n,r){return this.isRange?n[this.datePickerService.getActiveIndex(r)]:n}getValue(n){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(n)]:this.datePickerService.value}getActiveDate(n){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(n)]:this.datePickerService.activeDate}isOneAllowed(n){let r=this.datePickerService.getActiveIndex(),a=[this.disabledStartTime,this.disabledEndTime];return xp(n[r],this.disabledDate,a[r])}isBothAllowed(n){return xp(n[0],this.disabledDate,this.disabledStartTime)&&xp(n[1],this.disabledDate,this.disabledEndTime)}isAllowed(n,r=!1){return this.isRange?r?this.isBothAllowed(n):this.isOneAllowed(n):xp(n,this.disabledDate,this.disabledTime)}getTimeOptions(n){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(n)]:this.timeOptions:null}onClickPresetRange(n){let r=typeof n=="function"?n():n;r&&(this.datePickerService.setValue([new jn(r[0]),new jn(r[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(n){typeof n!="function"&&(this.hoverValue=[new jn(n[0]),new jn(n[1])])}getObjectKeys(n){return n?Object.keys(n):[]}show(n){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==n)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){let n=typeof this.showTime=="object"?this.showTime:{};if(this.isRange){let r=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(n,r[0],"start"),this.overrideTimeOptions(n,r[1],"end")]}else this.timeOptions=this.overrideTimeOptions(n,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(n,r,a){let u;return a?u=a==="start"?this.disabledStartTime:this.disabledEndTime:u=this.disabledTime,qt(qt({},n),nI(r,u))}overrideHms(n,r){return n=n||new jn,r=r||new jn,r.setHms(n.getHours(),n.getMinutes(),n.getSeconds())}};t.\u0275fac=function(r){return new(r||t)(k(yg),k(ht),k(cn),k(St))},t.\u0275cmp=ie({type:t,selectors:[["date-range-popup"]],inputs:{isRange:[2,"isRange","isRange",ee],inline:[2,"inline","inline",ee],showWeek:[2,"showWeek","showWeek",ee],locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:[2,"showToday","showToday",ee],showNow:[2,"showNow","showNow",ee],showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[Je,$e,re],decls:8,vars:1,consts:[["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[3,"class"],[3,"ngStyle"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"panelModeChange","cellHover","selectDate","selectTime","headerChange","showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"clickOk","clickToday","locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(r,a){r&1&&M(0,hU,7,17,"div",3)(1,mU,4,13,"div",3)(2,gU,2,18,"ng-template",null,0,Ke)(4,vU,1,1,"ng-template",null,1,Ke)(6,CU,2,0,"ng-template",null,2,Ke),r&2&&K(a.isRange?0:1)},dependencies:[rI,Qt,iI,xi],encapsulation:2,changeDetection:0});let e=t;return e})(),vg={position:"relative"},aZ="datePicker",xg=(()=>{let t=class t{get nzShowTime(){return this.showTime}set nzShowTime(n){this.showTime=typeof n=="object"?n:lh(n)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe(le(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe(le(this.destroy$)).subscribe(n=>{n&&(this.datePickerService.activeInput=n),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>dn(this.elementRef.nativeElement,"mousedown").pipe(le(this.destroy$)).subscribe(n=>{n.target.tagName.toLowerCase()!=="input"&&n.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;let n={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft=this.datePickerService.activeInput==="left"?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.dir==="rtl"?this.activeBarStyle=Kn(qt({},n),{right:`${this.datePickerService.arrowLeft}px`}):this.activeBarStyle=Kn(qt({},n),{left:`${this.datePickerService.arrowLeft}px`}),this.cdr.markForCheck()}getInput(n){if(!this.nzInline)return this.isRange?n==="left"?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){let n=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==n&&n?.focus()}onFocus(n,r){n.preventDefault(),r&&this.datePickerService.inputPartChange$.next(r),this.renderClass(!0)}onFocusout(n){n.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(n.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&vm(this.datePickerService.value)){let n=this.datePickerService.getActiveIndex(),r=this.datePickerService.value[n];this.panel.changeValueFromSelect(r,!0);return}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(n){n.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(n){n.keyCode===27&&this.datePickerService.initValue()}onPositionChange(n){this.currentPositionX=n.connectionPair.originX,this.currentPositionY=n.connectionPair.originY,this.cdr.detectChanges()}onClickClear(n){n.preventDefault(),n.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){let n=this.datePickerService.value;this.isRange?this.inputValue=n?n.map(r=>this.formatValue(r)):["",""]:this.inputValue=this.formatValue(n),this.cdr.markForCheck()}formatValue(n){return this.dateHelper.format(n&&n.nativeDate,this.nzFormat)}onInputChange(n,r=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState){this.open();return}let a=this.checkValidDate(n);a&&this.realOpenState&&this.panel.changeValueFromSelect(a,r)}onKeyupEnter(n){this.onInputChange(n.target.value,!0)}checkValidDate(n){let r=new jn(this.dateHelper.parseDate(n,this.nzFormat));return!r.isValid()||n!==this.dateHelper.format(r.nativeDate,this.nzFormat)?null:r}getPlaceholder(n){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(n)]:this.nzPlaceHolder}isEmptyValue(n){return n===null?!0:this.isRange?!n||!Array.isArray(n)||n.every(r=>!r):!n}isOpenHandledByUser(){return this.nzOpen!==void 0}constructor(n,r,a,u,p,m,_,O,F,N,U,q){this.nzConfigService=n,this.datePickerService=r,this.i18n=a,this.cdr=u,this.renderer=p,this.ngZone=m,this.elementRef=_,this.dateHelper=O,this.nzResizeObserver=F,this.platform=N,this.destroy$=U,this.directionality=q,this._nzModuleName=aZ,this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=vg,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new fe,this.nzOnCalendarChange=new fe,this.nzOnOk=new fe,this.nzOnOpenChange=new fe,this.document=Ee(Ml),this.inputSize=12,this.prefixCls=bp,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...Cm],this.currentPositionX="start",this.currentPositionY="bottom",this.noAnimation=Ee(ti,{host:!0,optional:!0}),this.nzFormStatusService=Ee(Rl,{optional:!0}),this.nzFormNoStatusService=Ee(Ll,{optional:!0}),this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.origin=new ho(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Sr((n,r)=>n.status===r.status&&n.hasFeedback===r.hasFeedback),Il(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:ur(!1)),Fi(([{status:n,hasFeedback:r},a])=>({status:a?"":n,hasFeedback:r})),le(this.destroy$)).subscribe(({status:n,hasFeedback:r})=>{this.setStatusStyles(n,r)}),this.nzLocale||this.i18n.localeChange.pipe(le(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe(le(this.destroy$)).subscribe(()=>{let n=this.showTime?"second":"day",r=this.datePickerService.value,a=this.datePickerService.initialValue;if(!this.isRange&&r?.isSame(a?.nativeDate,n))return this.onTouchedFn(),this.close();if(this.isRange){let[u,p]=a,[m,_]=r;if(u?.isSame(m?.nativeDate,n)&&p?.isSame(_?.nativeDate,n))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=El(r),this.isRange){let u=r;u.length?this.onChangeFn([u[0]?.nativeDate??null,u[1]?.nativeDate??null]):this.onChangeFn([])}else r?this.onChangeFn(r.nativeDate):this.onChangeFn(null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe(le(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(n){let{nzStatus:r,nzPlacement:a}=n;n.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?qt(qt({},this.nzPopupStyle),vg):vg),n.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),n.nzFormat?.currentValue&&(this.isCustomFormat=!0),n.nzLocale&&this.setDefaultPlaceHolder(),n.nzRenderExtraFooter&&(this.extraFooter=Po(this.nzRenderExtraFooter)),n.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),r&&this.setStatusStyles(this.nzStatus,this.hasFeedback),a&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){let n={year:"yyyy",quarter:"yyyy-[Q]Q",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=n[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(n){this.nzOnOpenChange.emit(n)}writeValue(n){this.setValue(n),this.cdr.markForCheck()}registerOnChange(n){this.onChangeFn=n}registerOnTouched(n){this.onTouchedFn=n}setDisabledState(n){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||n,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){let n={year:this.getPropertyOfLocale("yearPlaceholder"),quarter:this.getPropertyOfLocale("quarterPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},r={year:this.getPropertyOfLocale("rangeYearPlaceholder"),quarter:this.getPropertyOfLocale("rangeQuarterPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?r[this.nzMode]:n[this.nzMode]}}getPropertyOfLocale(n){return this.nzLocale.lang[n]||this.i18n.getLocaleData(`DatePicker.lang.${n}`)}setValue(n){let r=this.datePickerService.makeValue(n);this.datePickerService.setValue(r),this.datePickerService.initialValue=El(r),this.cdr.detectChanges()}renderClass(n){n?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(n){this.nzOnPanelChange.emit(n)}onCalendarChange(n){if(this.isRange&&Array.isArray(n)){let r=n.filter(a=>a instanceof jn).map(a=>a.nativeDate);this.nzOnCalendarChange.emit(r)}}onResultOk(){if(this.isRange){let n=this.datePickerService.value;n.length?this.nzOnOk.emit([n[0]?.nativeDate||null,n[1]?.nativeDate||null]):this.nzOnOk.emit([])}else this.datePickerService.value?this.nzOnOk.emit(this.datePickerService.value.nativeDate):this.nzOnOk.emit(null)}setStatusStyles(n,r){this.status=n,this.hasFeedback=r,this.cdr.markForCheck(),this.statusCls=Dl(this.prefixCls,n,r),Object.keys(this.statusCls).forEach(a=>{this.statusCls[a]?this.renderer.addClass(this.elementRef.nativeElement,a):this.renderer.removeClass(this.elementRef.nativeElement,a)})}setPlacement(n){let r=ky[n];this.overlayPositions=[r,...Cm],this.currentPositionX=r.originX,this.currentPositionY=r.originY}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(yg),k(ua),k(ht),k(Mi),k(cn),k(St),k(Ir),k(Cp),k(ko),k(Dn),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-quarter-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(r,a){if(r&1&&(Qe(No,5),Qe(Cg,5),Qe(xU,5),Qe(zU,5),Qe(bU,5)),r&2){let u;Te(u=Ie())&&(a.cdkConnectedOverlay=u.first),Te(u=Ie())&&(a.panel=u.first),Te(u=Ie())&&(a.separatorElement=u.first),Te(u=Ie())&&(a.pickerInput=u.first),Te(u=Ie())&&(a.rangePickerInputs=u)}},hostVars:16,hostBindings:function(r,a){r&1&&Q("click",function(p){return a.onClickInputBox(p)}),r&2&&ve("ant-picker",!0)("ant-picker-range",a.isRange)("ant-picker-large",a.nzSize==="large")("ant-picker-small",a.nzSize==="small")("ant-picker-disabled",a.nzDisabled)("ant-picker-rtl",a.dir==="rtl")("ant-picker-borderless",a.nzBorderless)("ant-picker-inline",a.nzInline)},inputs:{nzAllowClear:[2,"nzAllowClear","nzAllowClear",ee],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzBorderless:[2,"nzBorderless","nzBorderless",ee],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",ee],nzInline:[2,"nzInline","nzInline",ee],nzOpen:[2,"nzOpen","nzOpen",ee],nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:[2,"nzShowToday","nzShowToday",ee],nzMode:"nzMode",nzShowNow:[2,"nzShowNow","nzShowNow",ee],nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:[2,"nzShowWeekNumber","nzShowWeekNumber",ee],nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[on([Dn,yg,{provide:da,multi:!0,useExisting:Fl(()=>t)}]),Je,$e,re],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["pickerInput",""],["separatorElement",""],["rangePickerInput",""],[3,"ngTemplateOutlet"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"positionChange","detach","overlayKeydown","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn"],[3,"class"],["autocomplete","off",3,"ngModelChange","focus","focusout","keyup.enter","disabled","readOnly","ngModel","placeholder","size"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],["autocomplete","off",3,"click","focusout","focus","keyup.enter","ngModelChange","disabled","readOnly","size","ngModel","placeholder"],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"panelModeChange","calendarChange","resultOk","isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir"],[1,"ant-picker-wrapper",3,"nzNoAnimation"]],template:function(r,a){if(r&1){let u=he();M(0,EU,2,1)(1,kU,1,1,null,6)(2,NU,2,6,"ng-template",null,0,Ke)(4,VU,5,10,"ng-template",null,1,Ke)(6,$U,2,36,"ng-template",null,2,Ke)(8,qU,2,5,"ng-template",7),Q("positionChange",function(m){return B(u),V(a.onPositionChange(m))})("detach",function(){return B(u),V(a.close())})("overlayKeydown",function(m){return B(u),V(a.onOverlayKeydown(m))})}r&2&&(K(a.nzInline?1:0),y(8),w("cdkConnectedOverlayHasBackdrop",a.nzBackdrop)("cdkConnectedOverlayOrigin",a.origin)("cdkConnectedOverlayOpen",a.realOpenState)("cdkConnectedOverlayPositions",a.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[Fr,Wi,zi,uo,Qt,Rt,Nt,en,Jt,xi,Vl,Bl,Cg,No,ks,Nl,ti],encapsulation:2,data:{animation:[Yr]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzSeparator",void 0),Re([Le()],e.prototype,"nzSuffixIcon",void 0),Re([Le()],e.prototype,"nzBackdrop",void 0),e})();var Sp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[xg,iI,rI,Cg]});let e=t;return e})();function lZ(e,t){if(e&1&&(Fe(0),W(1,"img",4),Oe()),e&2){let i=C(2);y(),w("src",i.nzNotFoundImage,Bv)("alt",i.isContentString?i.nzNotFoundContent:"empty")}}function cZ(e,t){if(e&1&&M(0,lZ,2,2,"ng-container",3),e&2){let i=C();w("nzStringTemplateOutlet",i.nzNotFoundImage)}}function uZ(e,t){e&1&&W(0,"nz-empty-simple")}function dZ(e,t){e&1&&W(0,"nz-empty-default")}function hZ(e,t){if(e&1&&M(0,uZ,1,0,"nz-empty-simple")(1,dZ,1,0,"nz-empty-default"),e&2){let i=C();K(i.nzNotFoundImage==="simple"?0:1)}}function pZ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),xe(" ",i.isContentString?i.nzNotFoundContent:i.locale.description," ")}}function fZ(e,t){if(e&1&&(z(0,"p",1),M(1,pZ,2,1,"ng-container",3),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzNotFoundContent)}}function mZ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),xe(" ",i.nzNotFoundFooter," ")}}function gZ(e,t){if(e&1&&(z(0,"div",2),M(1,mZ,2,1,"ng-container",3),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzNotFoundFooter)}}function _Z(e,t){if(e&1&&H(0),e&2){let i=C(2);xe(" ",i.content," ")}}function vZ(e,t){}function yZ(e,t){if(e&1&&M(0,vZ,0,0,"ng-template",0),e&2){let i=C(2);w("cdkPortalOutlet",i.contentPortal)}}function CZ(e,t){if(e&1&&M(0,_Z,1,1)(1,yZ,1,1,null,0),e&2){let i=C();K(i.contentType==="string"?0:1)}}function xZ(e,t){e&1&&W(0,"nz-empty",1)}function zZ(e,t){e&1&&W(0,"nz-empty",2)}function bZ(e,t){e&1&&W(0,"nz-empty")}function SZ(e,t){if(e&1&&M(0,xZ,1,0,"nz-empty",1)(1,zZ,1,0,"nz-empty",2)(2,bZ,1,0,"nz-empty"),e&2){let i,n=C(2);K((i=n.size)==="normal"?0:i==="small"?1:2)}}function wZ(e,t){if(e&1&&M(0,SZ,3,1),e&2){let i=C();K(i.specificContent!==null?0:-1)}}var TZ=new ca("nz-empty-component-name"),IZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],standalone:!0,features:[re],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(r,a){r&1&&(lo(),z(0,"svg",0)(1,"g",1)(2,"g",2),W(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),S(),W(8,"path",8),z(9,"g",9),W(10,"ellipse",10)(11,"path",11),S()()())},encapsulation:2,changeDetection:0});let e=t;return e})(),FZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],standalone:!0,features:[re],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(r,a){r&1&&(lo(),z(0,"svg",0)(1,"g",1),W(2,"ellipse",2),z(3,"g",3),W(4,"path",4)(5,"path",5),S()()())},encapsulation:2,changeDetection:0});let e=t;return e})(),OZ=["default","simple"],oI=(()=>{let t=class t{constructor(n,r){this.i18n=n,this.cdr=r,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new Ue}ngOnChanges(n){let{nzNotFoundContent:r,nzNotFoundImage:a}=n;if(r){let u=r.currentValue;this.isContentString=typeof u=="string"}if(a){let u=a.currentValue||"default";this.isImageBuildIn=OZ.findIndex(p=>p===u)>-1}}ngOnInit(){this.i18n.localeChange.pipe(le(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(ua),k(ht))},t.\u0275cmp=ie({type:t,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],standalone:!0,features:[$e,re],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(r,a){r&1&&(z(0,"div",0),M(1,cZ,1,1,"ng-container")(2,hZ,2,1),S(),M(3,fZ,2,1,"p",1)(4,gZ,2,1,"div",2)),r&2&&(y(),K(a.isImageBuildIn?2:1),y(2),K(a.nzNotFoundContent!==null?3:-1),y(),K(a.nzNotFoundFooter?4:-1))},dependencies:[Rt,Nt,IZ,FZ],encapsulation:2,changeDetection:0});let e=t;return e})();function MZ(e){switch(e){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}var zg=(()=>{let t=class t{constructor(n,r,a,u){this.configService=n,this.viewContainerRef=r,this.cdr=a,this.injector=u,this.contentType="string",this.size="",this.destroy$=new Ue}ngOnChanges(n){n.nzComponentName&&(this.size=MZ(n.nzComponentName.currentValue)),n.specificContent&&!n.specificContent.isFirstChange()&&(this.content=n.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){let n=this.content;if(typeof n=="string")this.contentType="string";else if(n instanceof Oi){let r={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new Al(n,this.viewContainerRef,r)}else if(n instanceof Nv){let r=Os.create({parent:this.injector,providers:[{provide:TZ,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new Fy(n,this.viewContainerRef,r)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe(dr(!0),le(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(Ps),k(ht),k(Os))},t.\u0275cmp=ie({type:t,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],standalone:!0,features:[$e,re],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(r,a){r&1&&M(0,CZ,2,1)(1,wZ,1,1),r&2&&K(a.content?0:1)},dependencies:[oI,My,Oy],encapsulation:2,changeDetection:0});let e=t;return e})(),aI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[oI,zg]});let e=t;return e})();var lI=["*"];function AZ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzLabel)}}function kZ(e,t){}function NZ(e,t){if(e&1&&M(0,kZ,0,0,"ng-template",4),e&2){let i=C();w("ngTemplateOutlet",i.template)}}function RZ(e,t){if(e&1&&H(0),e&2){let i=C();Ae(i.label)}}function LZ(e,t){e&1&&W(0,"span",7)}function BZ(e,t){if(e&1&&(z(0,"div",5),M(1,LZ,1,0,"span",6),S()),e&2){let i=C();y(),w("ngIf",!i.icon)("ngIfElse",i.icon)}}function VZ(e,t){if(e&1&&(z(0,"div",4),W(1,"nz-embed-empty",5),S()),e&2){let i=C();y(),w("specificContent",i.notFoundContent)}}function $Z(e,t){if(e&1&&W(0,"nz-option-item-group",9),e&2){let i=C().$implicit;w("nzLabel",i.groupLabel)}}function HZ(e,t){if(e&1){let i=he();z(0,"nz-option-item",10),Q("itemHover",function(r){B(i);let a=C(2);return V(a.onItemHover(r))})("itemClick",function(r){B(i);let a=C(2);return V(a.onItemClick(r))}),S()}if(e&2){let i=C().$implicit,n=C();w("icon",n.menuItemSelectedIcon)("customContent",i.nzCustomContent)("template",i.template)("grouped",!!i.groupLabel)("disabled",i.nzDisabled||n.isMaxLimitReached&&!n.listOfSelectedValue.includes(i.nzValue))("showState",n.mode==="tags"||n.mode==="multiple")("title",i.nzTitle)("label",i.nzLabel)("compareWith",n.compareWith)("activatedValue",n.activatedValue)("listOfSelectedValue",n.listOfSelectedValue)("value",i.nzValue)}}function qZ(e,t){if(e&1&&(Fe(0,6),M(1,$Z,1,1,"nz-option-item-group",7)(2,HZ,1,12,"nz-option-item",8),Oe()),e&2){let i=t.$implicit;w("ngSwitch",i.type),y(),w("ngSwitchCase","group"),y(),w("ngSwitchCase","item")}}function jZ(e,t){}function WZ(e,t){e&1&&Yt(0)}function UZ(e,t){if(e&1&&(Fe(0),z(1,"span"),H(2),S(),Oe()),e&2){let i=C();y(2),oh("",i.listOfValue.length," / ",i.nzMaxMultipleCount,"")}}function ZZ(e,t){e&1&&W(0,"span",5)}function GZ(e,t){e&1&&W(0,"span",9)}function YZ(e,t){e&1&&W(0,"span",10)}function QZ(e,t){if(e&1&&(Fe(0),M(1,GZ,1,0,"span",7)(2,YZ,1,0,"span",8),Oe()),e&2){let i=C(2);y(),w("ngIf",!i.search),y(),w("ngIf",i.search)}}function KZ(e,t){if(e&1&&W(0,"span",12),e&2){let i=C().$implicit;w("nzType",i)}}function XZ(e,t){if(e&1&&(Fe(0),M(1,KZ,1,1,"span",11),Oe()),e&2){let i=t.$implicit;y(),w("ngIf",i)}}function JZ(e,t){if(e&1&&M(0,XZ,2,1,"ng-container",4),e&2){let i=C(2);w("nzStringTemplateOutlet",i.suffixIcon)}}function eG(e,t){if(e&1&&M(0,QZ,3,2,"ng-container",6)(1,JZ,1,1,"ng-template",null,1,Ke),e&2){let i=Pe(2),n=C();w("ngIf",n.showArrow&&!n.suffixIcon)("ngIfElse",i)}}function tG(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.feedbackIcon)}}function nG(e,t){e&1&&W(0,"span",1)}var iG=e=>({$implicit:e});function rG(e,t){if(e&1&&(z(0,"div",4),H(1),S()),e&2){let i=C(2);y(),Ae(i.label)}}function oG(e,t){if(e&1&&H(0),e&2){let i=C(2);Ae(i.label)}}function aG(e,t){if(e&1&&(Fe(0),M(1,rG,2,1,"div",3)(2,oG,1,1,"ng-template",null,0,Ke),Oe()),e&2){let i=Pe(3),n=C();y(),w("ngIf",n.deletable)("ngIfElse",i)}}function sG(e,t){e&1&&W(0,"span",7)}function lG(e,t){if(e&1){let i=he();z(0,"span",5),Q("click",function(r){B(i);let a=C();return V(a.onDelete(r))}),M(1,sG,1,0,"span",6),S()}if(e&2){let i=C();y(),w("ngIf",!i.removeIcon)("ngIfElse",i.removeIcon)}}function cG(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),xe(" ",i.placeholder," ")}}var uG=["inputElement"],dG=["mirrorElement"];function hG(e,t){e&1&&W(0,"span",4,1)}function pG(e,t){if(e&1&&W(0,"nz-select-item",6),e&2){let i=C(2);w("deletable",!1)("disabled",!1)("removeIcon",i.removeIcon)("label",i.listOfTopItem[0].nzLabel)("contentTemplateOutlet",i.customTemplate)("contentTemplateOutletContext",i.listOfTopItem[0])}}function fG(e,t){if(e&1){let i=he();Fe(0),z(1,"nz-select-search",4),Q("isComposingChange",function(r){B(i);let a=C();return V(a.isComposingChange(r))})("valueChange",function(r){B(i);let a=C();return V(a.onInputValueChange(r))}),S(),M(2,pG,1,6,"nz-select-item",5),Oe()}if(e&2){let i=C();y(),w("nzId",i.nzId)("disabled",i.disabled)("value",i.inputValue)("showInput",i.showSearch)("mirrorSync",!1)("autofocus",i.autofocus)("focusTrigger",i.open),y(),w("ngIf",i.isShowSingleLabel)}}function mG(e,t){if(e&1){let i=he();z(0,"nz-select-item",9),Q("delete",function(){let r=B(i).$implicit,a=C(2);return V(a.onDeleteItem(r.contentTemplateOutletContext))}),S()}if(e&2){let i=t.$implicit,n=C(2);w("removeIcon",n.removeIcon)("label",i.nzLabel)("disabled",i.nzDisabled||n.disabled)("contentTemplateOutlet",i.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",i.contentTemplateOutletContext)}}function gG(e,t){if(e&1){let i=he();Fe(0),M(1,mG,1,6,"nz-select-item",7),z(2,"nz-select-search",8),Q("isComposingChange",function(r){B(i);let a=C();return V(a.isComposingChange(r))})("valueChange",function(r){B(i);let a=C();return V(a.onInputValueChange(r))}),S(),Oe()}if(e&2){let i=C();y(),w("ngForOf",i.listOfSlicedItem)("ngForTrackBy",i.trackValue),y(),w("nzId",i.nzId)("disabled",i.disabled)("value",i.inputValue)("autofocus",i.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",i.open)}}function _G(e,t){if(e&1&&W(0,"nz-select-placeholder",10),e&2){let i=C();w("placeholder",i.placeHolder)}}function vG(e,t){if(e&1&&W(0,"nz-form-item-feedback-icon",8),e&2){let i=C(3);w("status",i.status)}}function yG(e,t){if(e&1&&M(0,vG,1,1,"nz-form-item-feedback-icon",7),e&2){let i=C(2);w("ngIf",i.hasFeedback&&!!i.status)}}function CG(e,t){if(e&1&&(z(0,"nz-select-arrow",6),M(1,yG,1,1,"ng-template",null,1,Ke),S()),e&2){let i=Pe(2),n=C();w("showArrow",n.nzShowArrow)("loading",n.nzLoading)("search",n.nzOpen&&n.nzShowSearch)("suffixIcon",n.nzSuffixIcon)("feedbackIcon",i)("nzMaxMultipleCount",n.nzMaxMultipleCount)("listOfValue",n.listOfValue)("isMaxTagCountSet",n.isMaxTagCountSet)}}function xG(e,t){if(e&1){let i=he();z(0,"nz-select-clear",9),Q("clear",function(){B(i);let r=C();return V(r.onClearSelection())}),S()}if(e&2){let i=C();w("clearIcon",i.nzClearIcon)}}function zG(e,t){if(e&1){let i=he();z(0,"nz-option-container",10),Q("keydown",function(r){B(i);let a=C();return V(a.onKeyDown(r))})("itemClick",function(r){B(i);let a=C();return V(a.onItemClick(r))})("scrollToBottom",function(){B(i);let r=C();return V(r.nzScrollToBottom.emit())}),S()}if(e&2){let i=C();ve("ant-select-dropdown-placement-bottomLeft",i.dropDownPosition==="bottomLeft")("ant-select-dropdown-placement-topLeft",i.dropDownPosition==="topLeft")("ant-select-dropdown-placement-bottomRight",i.dropDownPosition==="bottomRight")("ant-select-dropdown-placement-topRight",i.dropDownPosition==="topRight"),w("ngStyle",i.nzDropdownStyle)("itemSize",i.nzOptionHeightPx)("maxItemLength",i.nzOptionOverflowSize)("matchWidth",i.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("nzNoAnimation",i.noAnimation==null?null:i.noAnimation.nzNoAnimation)("listOfContainerItem",i.listOfContainerItem)("menuItemSelectedIcon",i.nzMenuItemSelectedIcon)("notFoundContent",i.nzNotFoundContent)("activatedValue",i.activatedValue)("listOfSelectedValue",i.listOfValue)("dropdownRender",i.nzDropdownRender)("compareWith",i.compareWith)("mode",i.nzMode)("isMaxLimitReached",i.isMaxLimitReached)}}var bg=(()=>{let t=class t{constructor(){this.nzLabel=null,this.changes=new Ue}ngOnChanges(){this.changes.next()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],standalone:!0,features:[$e,re],ngContentSelectors:lI,decls:1,vars:0,template:function(r,a){r&1&&(rn(),Yt(0))},encapsulation:2,changeDetection:0});let e=t;return e})(),cI=(()=>{let t=class t{constructor(){this.nzLabel=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},standalone:!0,features:[re],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&M(0,AZ,2,1,"ng-container",0),r&2&&w("nzStringTemplateOutlet",a.nzLabel)},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),uI=(()=>{let t=class t{constructor(n,r,a){this.elementRef=n,this.ngZone=r,this.destroy$=a,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new fe,this.itemHover=new fe}ngOnChanges(n){let{value:r,activatedValue:a,listOfSelectedValue:u}=n;(r||u)&&(this.selected=this.listOfSelectedValue.some(p=>this.compareWith(p,this.value))),(r||a)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{dn(this.elementRef.nativeElement,"click").pipe(le(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),dn(this.elementRef.nativeElement,"mouseenter").pipe(le(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}};t.\u0275fac=function(r){return new(r||t)(k(St),k(cn),k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(r,a){r&2&&(Ft("title",a.title),ve("ant-select-item-option-grouped",a.grouped)("ant-select-item-option-selected",a.selected&&!a.disabled)("ant-select-item-option-disabled",a.disabled)("ant-select-item-option-active",a.activated&&!a.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},standalone:!0,features:[on([Dn]),$e,re],decls:5,vars:3,consts:[["noCustomContent",""],[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(r,a){if(r&1&&(z(0,"div",1),M(1,NZ,1,1,"ng-template",2)(2,RZ,1,1,"ng-template",null,0,Ke),S(),M(4,BZ,2,2,"div",3)),r&2){let u=Pe(3);y(),w("ngIf",a.customContent)("ngIfElse",u),y(3),w("ngIf",a.showState&&a.selected)}},dependencies:[Jn,Qt,en,Jt],encapsulation:2,changeDetection:0});let e=t;return e})(),dI=(()=>{let t=class t{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.isMaxLimitReached=!1,this.listOfContainerItem=[],this.itemClick=new fe,this.scrollToBottom=new fe,this.scrolledIndex=0,this.ngZone=Ee(cn),this.platformId=Ee(Lv)}onItemClick(n){this.itemClick.emit(n)}onItemHover(n){this.activatedValue=n}trackValue(n,r){return r.key}onScrolledIndexChange(n){this.scrolledIndex=n,n===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){let n=this.listOfContainerItem.findIndex(r=>this.compareWith(r.key,this.activatedValue));(n<this.scrolledIndex||n>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(n||0)}ngOnChanges(n){let{listOfContainerItem:r,activatedValue:a}=n;(r||a)&&this.scrollToActivatedValue()}ngAfterViewInit(){Jv(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-option-container"]],viewQuery:function(r,a){if(r&1&&Qe(hh,7),r&2){let u;Te(u=Ie())&&(a.cdkVirtualScrollViewport=u.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxLimitReached:"isMaxLimitReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],standalone:!0,features:[$e,re],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(r,a){r&1&&(z(0,"div"),M(1,VZ,2,1,"div",0),z(2,"cdk-virtual-scroll-viewport",1),Q("scrolledIndexChange",function(p){return a.onScrolledIndexChange(p)}),M(3,qZ,3,3,"ng-template",2),S(),M(4,jZ,0,0,"ng-template",3),S()),r&2&&(y(),w("ngIf",a.listOfContainerItem.length===0),y(),dt("height",a.listOfContainerItem.length*a.itemSize,"px")("max-height",a.itemSize*a.maxItemLength,"px"),ve("full-width",!a.matchWidth),w("itemSize",a.itemSize)("maxBufferPx",a.itemSize*a.maxItemLength)("minBufferPx",a.itemSize*a.maxItemLength),y(),w("cdkVirtualForOf",a.listOfContainerItem)("cdkVirtualForTrackBy",a.trackValue)("cdkVirtualForTemplateCacheSize",0),y(),w("ngTemplateOutlet",a.dropdownRender))},dependencies:[aI,zg,Jn,pm,cI,fm,uI,Qt,kl,wy,Iy,hh,ks],encapsulation:2,changeDetection:0});let e=t;return e})(),Ig=(()=>{let t=class t{constructor(n){this.destroy$=n,this.changes=new Ue,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1,this.nzOptionGroupComponent=Ee(bg,{optional:!0})}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe(dr(!0),le(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent?.nzLabel})}ngOnChanges(){this.changes.next()}};t.\u0275fac=function(r){return new(r||t)(k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-option"]],viewQuery:function(r,a){if(r&1&&Qe(Oi,7),r&2){let u;Te(u=Ie())&&(a.template=u.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzHide:[2,"nzHide","nzHide",ee],nzCustomContent:[2,"nzCustomContent","nzCustomContent",ee]},exportAs:["nzOption"],standalone:!0,features:[on([Dn]),Je,$e,re],ngContentSelectors:lI,decls:1,vars:0,template:function(r,a){r&1&&(rn(),M(0,WZ,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let e=t;return e})(),hI=(()=>{let t=class t{constructor(){this.listOfValue=[],this.loading=!1,this.search=!1,this.showArrow=!1,this.isMaxTagCountSet=!1,this.suffixIcon=null,this.feedbackIcon=null,this.nzMaxMultipleCount=1/0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(r,a){r&2&&ve("ant-select-arrow-loading",a.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxTagCountSet:"isMaxTagCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:[2,"nzMaxMultipleCount","nzMaxMultipleCount",ji]},standalone:!0,features:[Je,re],decls:5,vars:4,consts:[["defaultArrow",""],["suffixTemplate",""],[4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(r,a){if(r&1&&M(0,UZ,3,2,"ng-container",2)(1,ZZ,1,0,"span",3)(2,eG,3,2,"ng-template",null,0,Ke)(4,tG,2,1,"ng-container",4),r&2){let u=Pe(3);w("ngIf",a.isMaxTagCountSet),y(),w("ngIf",a.loading)("ngIfElse",u),y(3),w("nzStringTemplateOutlet",a.feedbackIcon)}},dependencies:[en,Jt,Jn,Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),pI=(()=>{let t=class t{constructor(){this.clearIcon=null,this.clear=new fe}onClick(n){n.preventDefault(),n.stopPropagation(),this.clear.emit(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(r,a){r&1&&Q("click",function(p){return a.onClick(p)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},standalone:!0,features:[re],decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(r,a){r&1&&M(0,nG,1,0,"span",0),r&2&&w("ngIf",!a.clearIcon)("ngIfElse",a.clearIcon)},dependencies:[en,Jt,Jn],encapsulation:2,changeDetection:0});let e=t;return e})(),fI=(()=>{let t=class t{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new fe}onDelete(n){n.preventDefault(),n.stopPropagation(),this.disabled||this.delete.next(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(r,a){r&2&&(Ft("title",a.label),ve("ant-select-selection-item-disabled",a.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},standalone:!0,features:[re],decls:2,vars:5,consts:[["labelTemplate",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(r,a){r&1&&M(0,aG,4,2,"ng-container",1)(1,lG,2,2,"span",2),r&2&&(w("nzStringTemplateOutlet",a.contentTemplateOutlet)("nzStringTemplateOutletContext",Xn(3,iG,a.contentTemplateOutletContext)),y(),w("ngIf",a.deletable&&!a.disabled))},dependencies:[Rt,Nt,Jn,en,Jt],encapsulation:2,changeDetection:0});let e=t;return e})(),mI=(()=>{let t=class t{constructor(){this.placeholder=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},standalone:!0,features:[re],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&M(0,cG,2,1,"ng-container",0),r&2&&w("nzStringTemplateOutlet",a.placeholder)},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),Sg=(()=>{let t=class t{setCompositionState(n){this.isComposingChange.next(n)}onValueChange(n){this.value=n,this.valueChange.next(n),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){let n=this.inputElement.nativeElement;n.value="",this.onValueChange("")}syncMirrorWidth(){let n=this.mirrorElement.nativeElement,r=this.elementRef.nativeElement,a=this.inputElement.nativeElement;this.renderer.removeStyle(r,"width"),this.renderer.setProperty(n,"textContent",`${a.value}\xA0`),this.renderer.setStyle(r,"width",`${n.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(n,r,a){this.elementRef=n,this.renderer=r,this.focusMonitor=a,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new fe,this.isComposingChange=new fe}ngOnChanges(n){let r=this.inputElement.nativeElement,{focusTrigger:a,showInput:u}=n;u&&(this.showInput?this.renderer.removeAttribute(r,"readonly"):this.renderer.setAttribute(r,"readonly","readonly")),a&&a.currentValue===!0&&a.previousValue===!1&&r.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}};t.\u0275fac=function(r){return new(r||t)(k(St),k(Mi),k(xm))},t.\u0275cmp=ie({type:t,selectors:[["nz-select-search"]],viewQuery:function(r,a){if(r&1&&(Qe(uG,7),Qe(dG,5)),r&2){let u;Te(u=Ie())&&(a.inputElement=u.first),Te(u=Ie())&&(a.mirrorElement=u.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},standalone:!0,features:[on([{provide:Cy,useValue:!1}]),$e,re],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"]],template:function(r,a){if(r&1){let u=he();z(0,"input",2,0),Q("ngModelChange",function(m){return B(u),V(a.onValueChange(m))})("compositionstart",function(){return B(u),V(a.setCompositionState(!0))})("compositionend",function(){return B(u),V(a.setCompositionState(!1))}),S(),M(2,hG,2,0,"span",3)}r&2&&(dt("opacity",a.showInput?null:0),w("ngModel",a.value)("disabled",a.disabled),Ft("id",a.nzId)("autofocus",a.autofocus?"autofocus":null),y(2),w("ngIf",a.mirrorSync))},dependencies:[Fr,Wi,zi,uo,Jn],encapsulation:2,changeDetection:0});let e=t;return e})(),wp=(()=>{let t=class t{updateTemplateVariable(){let n=this.listOfTopItem.length===0;this.isShowPlaceholder=n&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!n&&!this.isComposing&&!this.inputValue}isComposingChange(n){this.isComposing=n,this.updateTemplateVariable()}onInputValueChange(n){n!==this.inputValue&&(this.inputValue=n,this.updateTemplateVariable(),this.inputValueChange.emit(n),this.tokenSeparate(n,this.tokenSeparators))}tokenSeparate(n,r){let a=(p,m)=>{for(let _=0;_<m.length;++_)if(p.lastIndexOf(m[_])>0)return!0;return!1},u=(p,m)=>{let _=new RegExp(`[${m.join()}]`),O=p.split(_).filter(F=>F);return[...new Set(O)]};if(n&&n.length&&r.length&&this.mode!=="default"&&a(n,r)){let p=u(n,r);this.tokenize.next(p)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(n,r){return r.nzValue}onDeleteItem(n){!this.disabled&&!n.nzDisabled&&this.deleteItem.next(n)}constructor(n,r){this.elementRef=n,this.ngZone=r,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new fe,this.inputValueChange=new fe,this.deleteItem=new fe,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new Ue,this.noAnimation=Ee(ti,{host:!0,optional:!0})}ngOnChanges(n){let{listOfTopItem:r,maxTagCount:a,customTemplate:u,maxTagPlaceholder:p}=n;if(r&&this.updateTemplateVariable(),r||a||u||p){let m=this.listOfTopItem.slice(0,this.maxTagCount).map(_=>({nzLabel:_.nzLabel,nzValue:_.nzValue,nzDisabled:_.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:_}));if(this.listOfTopItem.length>this.maxTagCount){let _=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,O=this.listOfTopItem.map(N=>N.nzValue),F={nzLabel:_,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:O.slice(this.maxTagCount)};m.push(F)}this.listOfSlicedItem=m}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{dn(this.elementRef.nativeElement,"click").pipe(le(this.destroy$)).subscribe(n=>{n.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),dn(this.elementRef.nativeElement,"keydown").pipe(le(this.destroy$)).subscribe(n=>{if(n.target instanceof HTMLInputElement){let r=n.target.value;n.keyCode===8&&this.mode!=="default"&&!r&&this.listOfTopItem.length>0&&(n.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})})}ngOnDestroy(){this.destroy$.next()}};t.\u0275fac=function(r){return new(r||t)(k(St),k(cn))},t.\u0275cmp=ie({type:t,selectors:[["nz-select-top-control"]],viewQuery:function(r,a){if(r&1&&Qe(Sg,5),r&2){let u;Te(u=Ie())&&(a.nzSelectSearchComponent=u.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:[2,"maxTagCount","maxTagCount",ji],autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],standalone:!0,features:[Je,$e,re],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],[3,"delete","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"],[3,"placeholder"]],template:function(r,a){r&1&&(Fe(0,0),M(1,fG,3,8,"ng-container",1)(2,gG,3,9,"ng-container",2),Oe(),M(3,_G,1,1,"nz-select-placeholder",3)),r&2&&(w("ngSwitch",a.mode),y(),w("ngSwitchCase","default"),y(2),w("ngIf",a.isShowPlaceholder))},dependencies:[pm,Sg,fm,fI,Jn,Kv,Tr,mI],encapsulation:2,changeDetection:0});let e=t;return e})(),bG=(e,t)=>t&&t.nzLabel?t.nzLabel.toString().toLowerCase().indexOf(e.toLowerCase())>-1:!1,SG="select",Fg=(()=>{let t=class t{set nzShowArrow(n){this._nzShowArrow=n}get nzShowArrow(){return this._nzShowArrow===void 0?this.nzMode==="default":this._nzShowArrow}get isMaxTagCountSet(){return this.nzMaxMultipleCount!==1/0}generateTagItem(n){return{nzValue:n,nzLabel:n,type:"item"}}onItemClick(n){if(this.activatedValue=n,this.nzMode==="default")(this.listOfValue.length===0||!this.compareWith(this.listOfValue[0],n))&&this.updateListOfValue([n]),this.setOpenState(!1);else{let r=this.listOfValue.findIndex(a=>this.compareWith(a,n));if(r!==-1){let a=this.listOfValue.filter((u,p)=>p!==r);this.updateListOfValue(a)}else if(this.listOfValue.length<this.nzMaxMultipleCount){let a=[...this.listOfValue,n];this.updateListOfValue(a)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(n){let r=this.listOfValue.filter(a=>!this.compareWith(a,n.nzValue));this.updateListOfValue(r),this.clearInput()}updateListOfContainerItem(){let n=this.listOfTagAndTemplateItem.filter(u=>!u.nzHide).filter(u=>!this.nzServerSearch&&this.searchValue?this.nzFilterOption(this.searchValue,u):!0);if(this.nzMode==="tags"&&this.searchValue){let u=this.listOfTagAndTemplateItem.find(p=>p.nzLabel===this.searchValue);if(u)this.activatedValue=u.nzValue;else{let p=this.generateTagItem(this.searchValue);n=[p,...n],this.activatedValue=p.nzValue}}let r=n.find(u=>u.nzLabel===this.searchValue)||n.find(u=>this.compareWith(u.nzValue,this.activatedValue))||n.find(u=>this.compareWith(u.nzValue,this.listOfValue[0]))||n[0];this.activatedValue=r&&r.nzValue||null;let a=[];this.isReactiveDriven?a=[...new Set(this.nzOptions.filter(u=>u.groupLabel).map(u=>u.groupLabel))]:this.listOfNzOptionGroupComponent&&(a=this.listOfNzOptionGroupComponent.map(u=>u.nzLabel)),a.forEach(u=>{let p=n.findIndex(m=>u===m.groupLabel);if(p>-1){let m={groupLabel:u,type:"group",key:u};n.splice(p,0,m)}}),this.listOfContainerItem=[...n],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(n){let a=((u,p)=>p==="default"?u.length>0?u[0]:null:u)(n,this.nzMode);this.value!==a&&(this.listOfValue=n,this.listOfValue$.next(n),this.value=a,this.onChange(this.value)),this.isMaxLimitReached=this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}onTokenSeparate(n){let r=this.listOfTagAndTemplateItem.filter(a=>n.findIndex(u=>u===a.nzLabel)!==-1).map(a=>a.nzValue).filter(a=>this.listOfValue.findIndex(u=>this.compareWith(u,a))===-1);if(this.nzMode==="multiple")this.updateListOfValue([...this.listOfValue,...r]);else if(this.nzMode==="tags"){let a=n.filter(u=>this.listOfTagAndTemplateItem.findIndex(p=>p.nzLabel===u)===-1);this.updateListOfValue([...this.listOfValue,...r,...a])}this.clearInput()}onKeyDown(n){if(this.nzDisabled)return;let r=this.listOfContainerItem.filter(u=>u.type==="item").filter(u=>!u.nzDisabled),a=r.findIndex(u=>this.compareWith(u.nzValue,this.activatedValue));switch(n.keyCode){case 38:if(n.preventDefault(),this.nzOpen&&r.length>0){let u=a>0?a-1:r.length-1;this.activatedValue=r[u].nzValue}break;case 40:if(n.preventDefault(),this.nzOpen&&r.length>0){let u=a<r.length-1?a+1:0;this.activatedValue=r[u].nzValue}else this.setOpenState(!0);break;case 13:n.preventDefault(),this.nzOpen?si(this.activatedValue)&&a!==-1&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),n.preventDefault());break;case 9:this.nzSelectOnTab?this.nzOpen&&(n.preventDefault(),si(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(n){this.nzOpen!==n&&(this.nzOpen=n,this.nzOpenChange.emit(n),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(n){this.searchValue=n,this.updateListOfContainerItem(),this.nzOnSearch.emit(n),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(n){let r=dh(n);this.host.nativeElement.contains(r)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(n){let r=mh(n);this.dropDownPosition=r}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){let n=this.triggerWidth;ym(this.requestId),this.requestId=$a(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,n!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){$a(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}constructor(n,r,a,u,p,m,_,O,F){this.ngZone=n,this.destroy$=r,this.nzConfigService=a,this.cdr=u,this.host=p,this.renderer=m,this.platform=_,this.focusMonitor=O,this.directionality=F,this._nzModuleName=SG,this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=bG,this.compareWith=(N,U)=>N===U,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new fe,this.nzScrollToBottom=new fe,this.nzOpenChange=new fe,this.nzBlur=new fe,this.nzFocus=new fe,this.listOfValue$=new Ii([]),this.listOfTemplateItem$=new Ii([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.isMaxLimitReached=!1,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.noAnimation=Ee(ti,{host:!0,optional:!0}),this.nzFormStatusService=Ee(Rl,{optional:!0}),this.nzFormNoStatusService=Ee(Ll,{optional:!0})}writeValue(n){if(this.value!==n){this.value=n;let a=((u,p)=>u==null?[]:p==="default"?[u]:u)(n,this.nzMode);this.listOfValue=a,this.listOfValue$.next(a),this.cdr.markForCheck()}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||n,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(n){let{nzOpen:r,nzDisabled:a,nzOptions:u,nzStatus:p,nzPlacement:m}=n;if(r&&this.onOpenChange(),a&&this.nzDisabled&&this.setOpenState(!1),u){this.isReactiveDriven=!0;let O=(this.nzOptions||[]).map(F=>({template:F.label instanceof Oi?F.label:null,nzTitle:this.getTitle(F.title,F.label),nzLabel:typeof F.label=="string"||typeof F.label=="number"?F.label:null,nzValue:F.value,nzDisabled:F.disabled||!1,nzHide:F.hide||!1,nzCustomContent:F.label instanceof Oi,groupLabel:F.groupLabel||null,type:"item",key:F.key===void 0?F.value:F.key}));this.listOfTemplateItem$.next(O)}if(p&&this.setStatusStyles(this.nzStatus,this.hasFeedback),m){let{currentValue:_}=m;this.dropDownPosition=_;let O=["bottomLeft","topLeft","bottomRight","topRight"];_&&O.includes(_)?this.positions=[ei[_]]:this.positions=O.map(F=>ei[F])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Sr((n,r)=>n.status===r.status&&n.hasFeedback===r.hasFeedback),Il(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:ur(!1)),Fi(([{status:n,hasFeedback:r},a])=>({status:a?"":n,hasFeedback:r})),le(this.destroy$)).subscribe(({status:n,hasFeedback:r})=>{this.setStatusStyles(n,r)}),this.focusMonitor.monitor(this.host,!0).pipe(le(this.destroy$)).subscribe(n=>{n?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),la([this.listOfValue$,this.listOfTemplateItem$]).pipe(le(this.destroy$)).subscribe(([n,r])=>{let a=n.filter(()=>this.nzMode==="tags").filter(u=>r.findIndex(p=>this.compareWith(p.nzValue,u))===-1).map(u=>this.listOfTopItem.find(p=>this.compareWith(p.nzValue,u))||this.generateTagItem(u));this.listOfTagAndTemplateItem=[...r,...a],this.listOfTopItem=this.listOfValue.map(u=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(p=>this.compareWith(u,p.nzValue))).filter(u=>!!u),this.updateListOfContainerItem()}),this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe(le(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>dn(this.host.nativeElement,"click").pipe(le(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe(le(this.destroy$)).subscribe(n=>{n.keyCode===27&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||Rn(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(dr(!0),hr(()=>Rn(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(n=>n.changes),...this.listOfNzOptionGroupComponent.map(n=>n.changes)).pipe(dr(!0))),le(this.destroy$)).subscribe(()=>{let n=this.listOfNzOptionComponent.toArray().map(r=>{let{template:a,nzLabel:u,nzValue:p,nzKey:m,nzDisabled:_,nzHide:O,nzCustomContent:F,groupLabel:N}=r;return{template:a,nzLabel:u,nzValue:p,nzDisabled:_,nzHide:O,nzCustomContent:F,groupLabel:N,nzTitle:this.getTitle(r.nzTitle,r.nzLabel),type:"item",key:m===void 0?p:m}});this.listOfTemplateItem$.next(n),this.cdr.markForCheck()})}ngOnDestroy(){ym(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(n,r){this.status=n,this.hasFeedback=r,this.cdr.markForCheck(),this.statusCls=Dl(this.prefixCls,n,r),Object.keys(this.statusCls).forEach(a=>{this.statusCls[a]?this.renderer.addClass(this.host.nativeElement,a):this.renderer.removeClass(this.host.nativeElement,a)})}getTitle(n,r){let a;return n===void 0?(typeof r=="string"||typeof r=="number")&&(a=r.toString()):(typeof n=="string"||typeof n=="number")&&(a=n.toString()),a}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(Dn),k(Tn),k(ht),k(St),k(Mi),k(ko),k(xm),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-select"]],contentQueries:function(r,a,u){if(r&1&&(qn(u,Ig,5),qn(u,bg,5)),r&2){let p;Te(p=Ie())&&(a.listOfNzOptionComponent=p),Te(p=Ie())&&(a.listOfNzOptionGroupComponent=p)}},viewQuery:function(r,a){if(r&1&&(Qe(ho,7,St),Qe(No,7),Qe(wp,7),Qe(bg,7,St),Qe(wp,7,St)),r&2){let u;Te(u=Ie())&&(a.originElement=u.first),Te(u=Ie())&&(a.cdkConnectedOverlay=u.first),Te(u=Ie())&&(a.nzSelectTopControlComponent=u.first),Te(u=Ie())&&(a.nzOptionGroupComponentElement=u.first),Te(u=Ie())&&(a.nzSelectTopControlComponentElement=u.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(r,a){r&2&&ve("ant-select-in-form-item",!!a.nzFormStatusService)("ant-select-lg",a.nzSize==="large")("ant-select-sm",a.nzSize==="small")("ant-select-show-arrow",a.nzShowArrow)("ant-select-disabled",a.nzDisabled)("ant-select-show-search",(a.nzShowSearch||a.nzMode!=="default")&&!a.nzDisabled)("ant-select-allow-clear",a.nzAllowClear)("ant-select-borderless",a.nzBorderless)("ant-select-open",a.nzOpen)("ant-select-focused",a.nzOpen||a.focused)("ant-select-single",a.nzMode==="default")("ant-select-multiple",a.nzMode!=="default")("ant-select-rtl",a.dir==="rtl")},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:[2,"nzAllowClear","nzAllowClear",ee],nzBorderless:[2,"nzBorderless","nzBorderless",ee],nzShowSearch:[2,"nzShowSearch","nzShowSearch",ee],nzLoading:[2,"nzLoading","nzLoading",ee],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",ee],nzAutoClearSearchValue:[2,"nzAutoClearSearchValue","nzAutoClearSearchValue",ee],nzServerSearch:[2,"nzServerSearch","nzServerSearch",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzOpen:[2,"nzOpen","nzOpen",ee],nzSelectOnTab:[2,"nzSelectOnTab","nzSelectOnTab",ee],nzBackdrop:[2,"nzBackdrop","nzBackdrop",ee],nzOptions:"nzOptions",nzShowArrow:[2,"nzShowArrow","nzShowArrow",ee]},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],standalone:!0,features:[on([Dn,{provide:da,useExisting:Fl(()=>t),multi:!0}]),Je,$e,re],decls:5,vars:25,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxLimitReached"]],template:function(r,a){if(r&1){let u=he();z(0,"nz-select-top-control",2,0),Q("inputValueChange",function(m){return B(u),V(a.onInputValueChange(m))})("tokenize",function(m){return B(u),V(a.onTokenSeparate(m))})("deleteItem",function(m){return B(u),V(a.onItemDelete(m))})("keydown",function(m){return B(u),V(a.onKeyDown(m))}),S(),M(2,CG,3,8,"nz-select-arrow",3)(3,xG,1,1,"nz-select-clear",4)(4,zG,1,24,"ng-template",5),Q("overlayOutsideClick",function(m){return B(u),V(a.onClickOutside(m))})("detach",function(){return B(u),V(a.setOpenState(!1))})("positionChange",function(m){return B(u),V(a.onPositionChange(m))})}if(r&2){let u=Pe(1);w("nzId",a.nzId)("open",a.nzOpen)("disabled",a.nzDisabled)("mode",a.nzMode)("@.disabled",!!(a.noAnimation!=null&&a.noAnimation.nzNoAnimation))("nzNoAnimation",a.noAnimation==null?null:a.noAnimation.nzNoAnimation)("maxTagPlaceholder",a.nzMaxTagPlaceholder)("removeIcon",a.nzRemoveIcon)("placeHolder",a.nzPlaceHolder)("maxTagCount",a.nzMaxTagCount)("customTemplate",a.nzCustomTemplate)("tokenSeparators",a.nzTokenSeparators)("showSearch",a.nzShowSearch)("autofocus",a.nzAutoFocus)("listOfTopItem",a.listOfTopItem),y(2),w("ngIf",a.nzShowArrow||a.hasFeedback&&!!a.status||a.isMaxTagCountSet),y(),w("ngIf",a.nzAllowClear&&!a.nzDisabled&&a.listOfValue.length),y(),w("cdkConnectedOverlayHasBackdrop",a.nzBackdrop)("cdkConnectedOverlayMinWidth",a.nzDropdownMatchSelectWidth?null:a.triggerWidth)("cdkConnectedOverlayWidth",a.nzDropdownMatchSelectWidth?a.triggerWidth:null)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",a.nzDropdownClassName)("cdkConnectedOverlayOpen",a.nzOpen)("cdkConnectedOverlayPositions",a.positions)}},dependencies:[wp,ho,ti,hI,Jn,Vl,Bl,pI,No,ks,Nl,dI,xi],encapsulation:2,data:{animation:[Yr]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzOptionHeightPx",void 0),Re([Le()],e.prototype,"nzSuffixIcon",void 0),Re([Le()],e.prototype,"nzBorderless",void 0),Re([Le()],e.prototype,"nzBackdrop",void 0),e})(),gc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Fg,dI,uI,wp,Sg,fI,pI,hI,mI,cI]});let e=t;return e})();var gI=new ca("nz-after-next-render",{providedIn:"root",factory:()=>{let e=Ee(Os);return new Qd(t=>{let i=jv(()=>{t.next(),t.complete()},{injector:e});return()=>i.destroy()})}});var TG=[[["nz-auto-option"]]],IG=["nz-auto-option"];function FG(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzLabel)}}var _I=["*"],OG=["panel"],MG=["content"];function PG(e,t){}function DG(e,t){e&1&&M(0,PG,0,0,"ng-template")}function EG(e,t){e&1&&Yt(0)}function AG(e,t){if(e&1&&(z(0,"nz-auto-option",8),H(1),S()),e&2){let i=t.$implicit;w("nzValue",i.value)("nzLabel",i.label),y(),xe(" ",i.label," ")}}function kG(e,t){if(e&1&&M(0,AG,2,3,"nz-auto-option",7),e&2){let i=C(2);w("ngForOf",i.normalizedDataSource)}}function NG(e,t){if(e&1){let i=he();z(0,"div",3,0),Q("@slideMotion.done",function(r){B(i);let a=C();return V(a.onAnimationEvent(r))}),z(2,"div",4)(3,"div",5),M(4,DG,1,0,null,6),S()()(),M(5,EG,1,0,"ng-template",null,1,Ke)(7,kG,1,1,"ng-template",null,2,Ke)}if(e&2){let i=Pe(6),n=Pe(8),r=C();ve("ant-select-dropdown-hidden",!r.showPanel)("ant-select-dropdown-rtl",r.dir==="rtl"),w("ngClass",r.nzOverlayClassName)("ngStyle",r.nzOverlayStyle)("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation)),y(4),w("ngTemplateOutlet",r.nzDataSource?n:i)}}var vI=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],standalone:!0,features:[re],ngContentSelectors:IG,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&(rn(TG),z(0,"div",0),M(1,FG,2,1,"ng-container",1),S(),Yt(2)),r&2&&(y(),w("nzStringTemplateOutlet",a.nzLabel))},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),Og=class{constructor(t,i=!1){this.source=t,this.isUserInput=i}},Ys=(()=>{let t=class t{constructor(n,r,a){this.ngZone=n,this.changeDetectorRef=r,this.element=a,this.nzDisabled=!1,this.selectionChange=new fe,this.mouseEntered=new fe,this.active=!1,this.selected=!1,this.nzAutocompleteOptgroupComponent=Ee(vI,{optional:!0}),this.destroy$=new Ue}ngOnInit(){this.ngZone.runOutsideAngular(()=>{dn(this.element.nativeElement,"mouseenter").pipe(yi(()=>this.mouseEntered.observers.length>0),le(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),dn(this.element.nativeElement,"mousedown").pipe(le(this.destroy$)).subscribe(n=>n.preventDefault())})}ngOnDestroy(){this.destroy$.next()}select(n=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),n&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){py(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(n=!1){this.selectionChange.emit(new Og(this,n))}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(ht),k(St))},t.\u0275cmp=ie({type:t,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(r,a){r&1&&Q("click",function(){return a.selectViaInteraction()}),r&2&&(Ft("aria-selected",a.selected.toString())("aria-disabled",a.nzDisabled.toString()),ve("ant-select-item-option-grouped",a.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",a.selected)("ant-select-item-option-active",a.active)("ant-select-item-option-disabled",a.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:[2,"nzDisabled","nzDisabled",ee]},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],standalone:!0,features:[Je,re],ngContentSelectors:_I,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(r,a){r&1&&(rn(),z(0,"div",0),Yt(1),S())},encapsulation:2,changeDetection:0});let e=t;return e})(),RG={provide:da,useExisting:Fl(()=>ju),multi:!0};function LG(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}var ju=(()=>{let t=class t{get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}constructor(n,r,a,u){this.ngZone=n,this.elementRef=r,this.overlay=a,this.viewContainerRef=u,this.onChange=()=>{},this.onTouched=()=>{},this.panelOpen=!1,this.destroy$=new Ue,this.overlayRef=null,this.portal=null,this.previousValue=null,this.document=Ee(Ml),this.nzInputGroupWhitSuffixOrPrefixDirective=Ee(jl,{optional:!0})}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe(le(this.destroy$)).subscribe(n=>{n.toState==="void"&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyPanel()}writeValue(n){this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setTriggerValue(n)))}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){let r=this.elementRef.nativeElement;r.disabled=n,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(n){let r=n.keyCode,a=r===38||r===40;r===27&&n.preventDefault(),this.panelOpen&&(r===27||r===9)?(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel()):this.panelOpen&&r===13?this.nzAutocomplete.showPanel&&(n.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&a&&this.nzAutocomplete.showPanel&&(n.stopPropagation(),n.preventDefault(),r===38?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill())}handleInput(n){let r=n.target,a=this.document,u=r.value;r.type==="number"&&(u=u===""?null:parseFloat(u)),this.previousValue!==u&&(this.previousValue=u,this.onChange(u),this.canOpen()&&a.activeElement===n.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe(nh(()=>this.positionStrategy.reapplyLastPosition()),th(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(n=>{this.setValueAndClose(n)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe(yi(n=>!this.elementRef.nativeElement.contains(n.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw LG();!this.portal&&this.nzAutocomplete.template&&(this.portal=new Al(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe(le(this.destroy$)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new Py({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?this.nzInputGroupWhitSuffixOrPrefixDirective.elementRef:this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){let n=[new Va({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new Va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(n).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){let n=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),n!==-1?(this.nzAutocomplete.setActiveItem(n),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(n){let r=n.nzValue;this.setTriggerValue(n.getLabel()),this.onChange(r),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(n){let r=this.nzAutocomplete.getOption(n),a=r?r.getLabel():n;this.elementRef.nativeElement.value=a??"",this.nzAutocomplete.nzBackfill||(this.previousValue=a)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){let n=this.elementRef.nativeElement;return!n.readOnly&&!n.disabled}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(St),k(fh),k(Ps))},t.\u0275dir=Hn({type:t,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(r,a){r&1&&Q("focusin",function(){return a.handleFocus()})("blur",function(){return a.handleBlur()})("input",function(p){return a.handleInput(p)})("keydown",function(p){return a.handleKeydown(p)})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],standalone:!0,features:[on([RG])]});let e=t;return e})();function BG(e){return e?.map(t=>typeof t=="number"||typeof t=="string"?{label:t.toString(),value:t.toString()}:t)}var Ip=(()=>{let t=class t{get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}constructor(n,r){this.changeDetectorRef=n,this.directionality=r,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzDefaultActiveFirstOption=!0,this.nzBackfill=!1,this.compareWith=(a,u)=>a===u,this.selectionChange=new fe,this.showPanel=!0,this.isOpen=!1,this.activeItem=null,this.dir="ltr",this.normalizedDataSource=[],this.destroy$=new Ue,this.animationStateChange=new fe,this.activeItemIndex=-1,this.selectionChangeSubscription=Wr.EMPTY,this.optionMouseEnterSubscription=Wr.EMPTY,this.dataSourceChangeSubscription=Wr.EMPTY,this.optionSelectionChanges=sm(()=>this.options?Rn(...this.options.map(a=>a.selectionChange)):this.afterNextRender$.pipe(hr(()=>this.optionSelectionChanges))),this.optionMouseEnter=sm(()=>this.options?Rn(...this.options.map(a=>a.mouseEntered)):this.afterNextRender$.pipe(hr(()=>this.optionMouseEnter))),this.afterNextRender$=Ee(gI),this.noAnimation=Ee(ti,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(n){let{nzDataSource:r}=n;r&&(this.normalizedDataSource=BG(r.currentValue))}onAnimationEvent(n){this.animationStateChange.emit(n)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}ngOnDestroy(){this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null,this.destroy$.next(),this.destroy$.complete()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(n){let r=this.options.get(n);r&&!r.active?(this.activeItem=r,this.activeItemIndex=n,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){let n=this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0;this.setActiveItem(n)}setPreviousItemActive(){let n=this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1;this.setActiveItem(n)}getOptionIndex(n){return this.options.reduce((r,a,u)=>r===-1?this.compareWith(n,a.nzValue)?u:-1:r,-1)}getOption(n){return this.options.find(r=>this.compareWith(n,r.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges();let n=this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes;this.dataSourceChangeSubscription=n.subscribe(r=>{!r.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(n,r=!1){this.options.forEach(a=>{a!==n&&(r&&a.deselect(),a.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe(yi(n=>n.isUserInput)).subscribe(n=>{n.source.select(),n.source.setActiveStyles(),this.activeItem=n.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(n.source,!0),this.selectionChange.emit(n.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(n=>{n.setActiveStyles(),this.activeItem=n,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(n)})}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-autocomplete"]],contentQueries:function(r,a,u){if(r&1&&qn(u,Ys,5),r&2){let p;Te(p=Ie())&&(a.fromContentOptions=p)}},viewQuery:function(r,a){if(r&1&&(Qe(Oi,5),Qe(OG,5),Qe(MG,5),Qe(Ys,5)),r&2){let u;Te(u=Ie())&&(a.template=u.first),Te(u=Ie())&&(a.panel=u.first),Te(u=Ie())&&(a.content=u.first),Te(u=Ie())&&(a.fromDataSourceOptions=u)}},inputs:{nzWidth:[2,"nzWidth","nzWidth",Ra],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:[2,"nzDefaultActiveFirstOption","nzDefaultActiveFirstOption",ee],nzBackfill:[2,"nzBackfill","nzBackfill",ee],compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],standalone:!0,features:[Je,$e,re],ngContentSelectors:_I,decls:1,vars:0,consts:[["panel",""],["contentTemplate",""],["optionsTemplate",""],[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"ngClass","ngStyle","nzNoAnimation"],[2,"max-height","256px","overflow-y","auto","overflow-anchor","none"],[2,"display","flex","flex-direction","column"],[4,"ngTemplateOutlet"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(r,a){r&1&&(rn(),M(0,NG,9,10,"ng-template"))},dependencies:[Pi,Tr,xi,Qt,Ys,ti],encapsulation:2,data:{animation:[Yr]},changeDetection:0});let e=t;return e})(),Fp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[vI]});let e=t;return e})();var VG=["nz-menu-item",""],xI=["*"],$G=["nz-submenu-inline-child",""];function HG(e,t){}var qG=["nz-submenu-none-inline-child",""];function jG(e,t){}var WG=["nz-submenu-title",""];function UG(e,t){if(e&1&&W(0,"span",0),e&2){let i=C();w("nzType",i.nzIcon)}}function ZG(e,t){if(e&1&&(Fe(0),z(1,"span",4),H(2),S(),Oe()),e&2){let i=C();y(2),Ae(i.nzTitle)}}function GG(e,t){e&1&&W(0,"span",5)}function YG(e,t){e&1&&W(0,"span",6)}function QG(e,t){if(e&1&&(z(0,"span",2),M(1,GG,1,0,"span",5)(2,YG,1,0,"span",6),S()),e&2){let i,n=C();y(),K((i=n.dir)==="rtl"?1:2)}}function KG(e,t){e&1&&W(0,"span",3)}var XG=["nz-submenu",""],JG=[[["","title",""]],"*"],eY=["[title]","*"];function tY(e,t){e&1&&Yt(0)}function nY(e,t){if(e&1&&W(0,"div",3),e&2){let i=C(),n=Pe(6);w("mode",i.mode)("nzOpen",i.nzOpen)("@.disabled",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("nzNoAnimation",i.noAnimation==null?null:i.noAnimation.nzNoAnimation)("menuClass",i.nzMenuClassName)("templateOutlet",n)}}function iY(e,t){if(e&1){let i=he();z(0,"div",6),Q("subMenuMouseState",function(r){B(i);let a=C(2);return V(a.setMouseEnterState(r))}),S()}if(e&2){let i=C(2),n=Pe(6);w("theme",i.theme)("mode",i.mode)("nzOpen",i.nzOpen)("position",i.position)("nzDisabled",i.nzDisabled)("isMenuInsideDropDown",i.isMenuInsideDropDown)("templateOutlet",n)("menuClass",i.nzMenuClassName)("@.disabled",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("nzNoAnimation",i.noAnimation==null?null:i.noAnimation.nzNoAnimation)}}function rY(e,t){if(e&1){let i=he();M(0,iY,1,10,"ng-template",5),Q("positionChange",function(r){B(i);let a=C();return V(a.onPositionChange(r))})}if(e&2){let i=C(),n=Pe(1);w("cdkConnectedOverlayPositions",i.overlayPositions)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayWidth",i.triggerWidth)("cdkConnectedOverlayOpen",i.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function oY(e,t){e&1&&Yt(0,1)}var aY=["titleElement"],sY=["nz-menu-group",""],lY=["*",[["","title",""]]],cY=["*","[title]"];function uY(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzTitle)}}function dY(e,t){e&1&&Yt(0,1)}var _o=new ca("NzIsInDropDownMenuToken"),zI=new ca("NzMenuServiceLocalToken"),go=(()=>{let t=class t{constructor(){this.descendantMenuItemClick$=new Ue,this.childMenuItemClick$=new Ue,this.theme$=new Ii("light"),this.mode$=new Ii("vertical"),this.inlineIndent$=new Ii(24),this.isChildSubMenuOpen$=new Ii(!1)}onDescendantMenuItemClick(n){this.descendantMenuItemClick$.next(n)}onChildMenuItemClick(n){this.childMenuItemClick$.next(n)}setMode(n){this.mode$.next(n)}setTheme(n){this.theme$.next(n)}setInlineIndent(n){this.inlineIndent$.next(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac});let e=t;return e})(),Mg=(()=>{let t=class t{onChildMenuItemClick(n){this.childMenuItemClick$.next(n)}setOpenStateWithoutDebounce(n){this.isCurrentSubMenuOpen$.next(n)}setMouseEnterTitleOrOverlayState(n){this.isMouseEnterTitleOrOverlay$.next(n)}constructor(n){this.nzMenuService=n,this.mode$=this.nzMenuService.mode$.pipe(Fi(p=>p==="inline"?"inline":p==="vertical"||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isMenuInsideDropDown=Ee(_o),this.isCurrentSubMenuOpen$=new Ii(!1),this.isChildSubMenuOpen$=new Ii(!1),this.isMouseEnterTitleOrOverlay$=new Ue,this.childMenuItemClick$=new Ue,this.destroy$=new Ue,this.nzHostSubmenuService=Ee(t,{optional:!0,skipSelf:!0}),this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);let r=this.childMenuItemClick$.pipe(Jd(()=>this.mode$),yi(p=>p!=="inline"||this.isMenuInsideDropDown),Tl(!1)),a=Rn(this.isMouseEnterTitleOrOverlay$,r);la([this.isChildSubMenuOpen$,a]).pipe(Fi(([p,m])=>p||m),Sl(150),Sr(),le(this.destroy$)).pipe(Sr()).subscribe(p=>{this.setOpenStateWithoutDebounce(p),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(p):this.nzMenuService.isChildSubMenuOpen$.next(p)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(Ci(go))},t.\u0275prov=hn({token:t,factory:t.\u0275fac});let e=t;return e})(),Op=(()=>{let t=class t{clickMenuItem(n){this.nzDisabled?(n.preventDefault(),n.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(n){this.nzSelected=n,this.selected$.next(n)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{let n=this.hasActiveLinks();this.nzSelected!==n&&(this.nzSelected=n,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.routerLink&&n(this.routerLink)||this.listOfRouterLink.some(n)}isLinkActive(n){return r=>n.isActive(r.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(n,r){this.nzMenuService=n,this.cdr=r,this.destroy$=new Ue,this.nzSubmenuService=Ee(Mg,{optional:!0}),this.directionality=Ee(kt),this.routerLink=Ee(As,{optional:!0}),this.router=Ee(Mo,{optional:!0}),this.isMenuInsideDropDown=Ee(_o),this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new Ue,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,this.router&&this.router.events.pipe(le(this.destroy$),yi(a=>a instanceof sh)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){la([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(le(this.destroy$)).subscribe(([n,r])=>{this.inlinePaddingLeft=n==="inline"?this.level*r:null}),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(le(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(n){n.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(go),k(ht))},t.\u0275cmp=ie({type:t,selectors:[["","nz-menu-item",""]],contentQueries:function(r,a,u){if(r&1&&qn(u,As,5),r&2){let p;Te(p=Ie())&&(a.listOfRouterLink=p)}},hostVars:20,hostBindings:function(r,a){r&1&&Q("click",function(p){return a.clickMenuItem(p)}),r&2&&(dt("padding-left",a.dir==="rtl"?null:a.nzPaddingLeft||a.inlinePaddingLeft,"px")("padding-right",a.dir==="rtl"?a.nzPaddingLeft||a.inlinePaddingLeft:null,"px"),ve("ant-dropdown-menu-item",a.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",a.isMenuInsideDropDown&&a.nzSelected)("ant-dropdown-menu-item-danger",a.isMenuInsideDropDown&&a.nzDanger)("ant-dropdown-menu-item-disabled",a.isMenuInsideDropDown&&a.nzDisabled)("ant-menu-item",!a.isMenuInsideDropDown)("ant-menu-item-selected",!a.isMenuInsideDropDown&&a.nzSelected)("ant-menu-item-danger",!a.isMenuInsideDropDown&&a.nzDanger)("ant-menu-item-disabled",!a.isMenuInsideDropDown&&a.nzDisabled))},inputs:{nzPaddingLeft:[2,"nzPaddingLeft","nzPaddingLeft",Ra],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzSelected:[2,"nzSelected","nzSelected",ee],nzDanger:[2,"nzDanger","nzDanger",ee],nzMatchRouterExact:[2,"nzMatchRouterExact","nzMatchRouterExact",ee],nzMatchRouter:[2,"nzMatchRouter","nzMatchRouter",ee]},exportAs:["nzMenuItem"],standalone:!0,features:[Je,$e,re],attrs:VG,ngContentSelectors:xI,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(r,a){r&1&&(rn(),z(0,"span",0),Yt(1),S())},encapsulation:2,changeDetection:0});let e=t;return e})(),hY=(()=>{let t=class t{constructor(n,r,a){this.elementRef=n,this.renderer=r,this.directionality=a,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new Ue}calcMotionState(){this.nzOpen?this.expandState="expanded":this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnChanges(n){let{mode:r,nzOpen:a,menuClass:u}=n;(r||a)&&this.calcMotionState(),u&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(p=>!!p).forEach(p=>{this.renderer.removeClass(this.elementRef.nativeElement,p)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(p=>!!p).forEach(p=>{this.renderer.addClass(this.elementRef.nativeElement,p)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(St),k(Mi),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(r,a){r&2&&(Ds("@collapseMotion",a.expandState),ve("ant-menu-rtl",a.dir==="rtl"))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[$e,re],attrs:$G,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(r,a){r&1&&M(0,HG,0,0,"ng-template",0),r&2&&w("ngTemplateOutlet",a.templateOutlet)},dependencies:[Qt],encapsulation:2,data:{animation:[vh]},changeDetection:0});let e=t;return e})(),pY=(()=>{let t=class t{constructor(n){this.directionality=n,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new fe,this.expandState="collapsed",this.dir="ltr",this.destroy$=new Ue}setMouseState(n){this.nzDisabled||this.subMenuMouseState.next(n)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?this.mode==="horizontal"?this.expandState="bottom":this.mode==="vertical"&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnChanges(n){let{mode:r,nzOpen:a}=n;(r||a)&&this.calcMotionState()}};t.\u0275fac=function(r){return new(r||t)(k(kt))},t.\u0275cmp=ie({type:t,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(r,a){r&1&&Q("mouseenter",function(){return a.setMouseState(!0)})("mouseleave",function(){return a.setMouseState(!1)}),r&2&&(Ds("@slideMotion",a.expandState)("@zoomBigMotion",a.expandState),ve("ant-menu-light",a.theme==="light")("ant-menu-dark",a.theme==="dark")("ant-menu-submenu-placement-bottom",a.mode==="horizontal")("ant-menu-submenu-placement-right",a.mode==="vertical"&&a.position==="right")("ant-menu-submenu-placement-left",a.mode==="vertical"&&a.position==="left")("ant-menu-submenu-rtl",a.dir==="rtl"))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[$e,re],attrs:qG,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(r,a){r&1&&(z(0,"div",0),M(1,jG,0,0,"ng-template",1),S()),r&2&&(ve("ant-dropdown-menu",a.isMenuInsideDropDown)("ant-menu",!a.isMenuInsideDropDown)("ant-dropdown-menu-vertical",a.isMenuInsideDropDown)("ant-menu-vertical",!a.isMenuInsideDropDown)("ant-dropdown-menu-sub",a.isMenuInsideDropDown)("ant-menu-sub",!a.isMenuInsideDropDown)("ant-menu-rtl",a.dir==="rtl"),w("ngClass",a.menuClass),y(),w("ngTemplateOutlet",a.templateOutlet))},dependencies:[Pi,Qt],encapsulation:2,data:{animation:[jy,Yr]},changeDetection:0});let e=t;return e})(),bI=(()=>{let t=class t{constructor(n,r){this.cdr=n,this.directionality=r,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new fe,this.subMenuMouseState=new fe,this.dir="ltr",this.destroy$=new Ue}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(n){this.nzDisabled||this.subMenuMouseState.next(n)}clickTitle(){this.mode==="inline"&&!this.nzDisabled&&this.toggleSubMenu.emit()}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(r,a){r&1&&Q("click",function(){return a.clickTitle()})("mouseenter",function(){return a.setMouseState(!0)})("mouseleave",function(){return a.setMouseState(!1)}),r&2&&(dt("padding-left",a.dir==="rtl"?null:a.paddingLeft,"px")("padding-right",a.dir==="rtl"?a.paddingLeft:null,"px"),ve("ant-dropdown-menu-submenu-title",a.isMenuInsideDropDown)("ant-menu-submenu-title",!a.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[re],attrs:WG,ngContentSelectors:xI,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-submenu-arrow"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"]],template:function(r,a){r&1&&(rn(),M(0,UG,1,1,"span",0)(1,ZG,3,1,"ng-container",1),Yt(2),M(3,QG,3,1,"span",2)(4,KG,1,0,"span",3)),r&2&&(K(a.nzIcon?0:-1),y(),w("nzStringTemplateOutlet",a.nzTitle),y(2),K(a.isMenuInsideDropDown?3:4))},dependencies:[en,Jt,Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),CI=[ei.rightTop,ei.right,ei.rightBottom,ei.leftTop,ei.left,ei.leftBottom],fY=[ei.bottomLeft,ei.bottomRight,ei.topRight,ei.topLeft],SI=(()=>{let t=class t{setOpenStateWithoutDebounce(n){this.nzSubmenuService.setOpenStateWithoutDebounce(n)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(n){this.isActive=n,this.mode!=="inline"&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(n)}setTriggerWidth(){this.mode==="horizontal"&&this.platform.isBrowser&&this.cdkOverlayOrigin&&this.nzPlacement==="bottomLeft"&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(n){let r=mh(n);r==="rightTop"||r==="rightBottom"||r==="right"?this.position="right":(r==="leftTop"||r==="leftBottom"||r==="left")&&(this.position="left")}constructor(n,r,a,u){this.nzMenuService=n,this.cdr=r,this.nzSubmenuService=a,this.platform=u,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new fe,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new Ue,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=CI,this.isSelected=!1,this.isActive=!1,this.dir="ltr",this.isMenuInsideDropDown=Ee(_o),this.noAnimation=Ee(ti,{optional:!0,host:!0}),this.directionality=Ee(kt)}ngOnInit(){this.nzMenuService.theme$.pipe(le(this.destroy$)).subscribe(n=>{this.theme=n,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(le(this.destroy$)).subscribe(n=>{this.mode=n,n==="horizontal"?this.overlayPositions=[ei[this.nzPlacement],...fY]:n==="vertical"&&(this.overlayPositions=CI),this.cdr.markForCheck()}),la([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(le(this.destroy$)).subscribe(([n,r])=>{this.inlinePaddingLeft=n==="inline"?this.level*r:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(le(this.destroy$)).subscribe(n=>{this.isActive=n,n!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=n,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();let n=this.listOfNzMenuItemDirective,r=n.changes,a=Rn(r,...n.map(u=>u.selected$));r.pipe(dr(n),hr(()=>a),dr(!0),Fi(()=>n.some(u=>u.nzSelected)),le(this.destroy$)).subscribe(u=>{this.isSelected=u,this.cdr.markForCheck()})}ngOnChanges(n){let{nzOpen:r}=n;r&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(go),k(ht),k(Mg),k(ko))},t.\u0275cmp=ie({type:t,selectors:[["","nz-submenu",""]],contentQueries:function(r,a,u){if(r&1&&(qn(u,t,5),qn(u,Op,5)),r&2){let p;Te(p=Ie())&&(a.listOfNzSubMenuComponent=p),Te(p=Ie())&&(a.listOfNzMenuItemDirective=p)}},viewQuery:function(r,a){if(r&1&&Qe(ho,7,St),r&2){let u;Te(u=Ie())&&(a.cdkOverlayOrigin=u.first)}},hostVars:34,hostBindings:function(r,a){r&2&&ve("ant-dropdown-menu-submenu",a.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",a.isMenuInsideDropDown&&a.nzDisabled)("ant-dropdown-menu-submenu-open",a.isMenuInsideDropDown&&a.nzOpen)("ant-dropdown-menu-submenu-selected",a.isMenuInsideDropDown&&a.isSelected)("ant-dropdown-menu-submenu-vertical",a.isMenuInsideDropDown&&a.mode==="vertical")("ant-dropdown-menu-submenu-horizontal",a.isMenuInsideDropDown&&a.mode==="horizontal")("ant-dropdown-menu-submenu-inline",a.isMenuInsideDropDown&&a.mode==="inline")("ant-dropdown-menu-submenu-active",a.isMenuInsideDropDown&&a.isActive)("ant-menu-submenu",!a.isMenuInsideDropDown)("ant-menu-submenu-disabled",!a.isMenuInsideDropDown&&a.nzDisabled)("ant-menu-submenu-open",!a.isMenuInsideDropDown&&a.nzOpen)("ant-menu-submenu-selected",!a.isMenuInsideDropDown&&a.isSelected)("ant-menu-submenu-vertical",!a.isMenuInsideDropDown&&a.mode==="vertical")("ant-menu-submenu-horizontal",!a.isMenuInsideDropDown&&a.mode==="horizontal")("ant-menu-submenu-inline",!a.isMenuInsideDropDown&&a.mode==="inline")("ant-menu-submenu-active",!a.isMenuInsideDropDown&&a.isActive)("ant-menu-submenu-rtl",a.dir==="rtl")},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:[2,"nzOpen","nzOpen",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[on([Mg]),Je,$e,re],attrs:XG,ngContentSelectors:eY,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(r,a){if(r&1){let u=he();rn(JG),z(0,"div",2,0),Q("subMenuMouseState",function(m){return B(u),V(a.setMouseEnterState(m))})("toggleSubMenu",function(){return B(u),V(a.toggleSubMenu())}),M(2,tY,1,0),S(),M(3,nY,1,6,"div",3)(4,rY,1,5,null,4)(5,oY,1,0,"ng-template",null,1,Ke)}r&2&&(w("nzIcon",a.nzIcon)("nzTitle",a.nzTitle)("mode",a.mode)("nzDisabled",a.nzDisabled)("isMenuInsideDropDown",a.isMenuInsideDropDown)("paddingLeft",a.nzPaddingLeft||a.inlinePaddingLeft),y(2),K(a.nzTitle?-1:2),y(),K(a.mode==="inline"?3:4))},dependencies:[bI,hY,ti,pY,kl,No,ho],encapsulation:2,changeDetection:0});let e=t;return e})();function mY(){let e=Ee(go,{skipSelf:!0,optional:!0}),t=Ee(zI);return e??t}function gY(){return Ee(_o,{skipSelf:!0,optional:!0})??!1}var wI=(()=>{let t=class t{setInlineCollapsed(n){this.nzInlineCollapsed=n,this.inlineCollapsed$.next(n)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(n=>n.nzOpen),this.listOfNzSubMenuComponent.forEach(n=>n.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(n=>n.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(n,r){this.nzMenuService=n,this.cdr=r,this.isMenuInsideDropDown=Ee(_o),this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new fe,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new Ii(this.nzInlineCollapsed),this.mode$=new Ii(this.nzMode),this.destroy$=new Ue,this.listOfOpenedNzSubMenuComponent=[],this.directionality=Ee(kt)}ngOnInit(){la([this.inlineCollapsed$,this.mode$]).pipe(le(this.destroy$)).subscribe(([n,r])=>{this.actualMode=n?"vertical":r,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(le(this.destroy$)).subscribe(n=>{this.nzClick.emit(n),this.nzSelectable&&!n.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(r=>r.setSelectedState(r===n))}),this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(le(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(n){let{nzInlineCollapsed:r,nzInlineIndent:a,nzTheme:u,nzMode:p}=n;r&&this.inlineCollapsed$.next(this.nzInlineCollapsed),a&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),u&&this.nzMenuService.setTheme(this.nzTheme),p&&(this.mode$.next(this.nzMode),!n.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(m=>m.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(go),k(ht))},t.\u0275dir=Hn({type:t,selectors:[["","nz-menu",""]],contentQueries:function(r,a,u){if(r&1&&(qn(u,Op,5),qn(u,SI,5)),r&2){let p;Te(p=Ie())&&(a.listOfNzMenuItemDirective=p),Te(p=Ie())&&(a.listOfNzSubMenuComponent=p)}},hostVars:34,hostBindings:function(r,a){r&2&&ve("ant-dropdown-menu",a.isMenuInsideDropDown)("ant-dropdown-menu-root",a.isMenuInsideDropDown)("ant-dropdown-menu-light",a.isMenuInsideDropDown&&a.nzTheme==="light")("ant-dropdown-menu-dark",a.isMenuInsideDropDown&&a.nzTheme==="dark")("ant-dropdown-menu-vertical",a.isMenuInsideDropDown&&a.actualMode==="vertical")("ant-dropdown-menu-horizontal",a.isMenuInsideDropDown&&a.actualMode==="horizontal")("ant-dropdown-menu-inline",a.isMenuInsideDropDown&&a.actualMode==="inline")("ant-dropdown-menu-inline-collapsed",a.isMenuInsideDropDown&&a.nzInlineCollapsed)("ant-menu",!a.isMenuInsideDropDown)("ant-menu-root",!a.isMenuInsideDropDown)("ant-menu-light",!a.isMenuInsideDropDown&&a.nzTheme==="light")("ant-menu-dark",!a.isMenuInsideDropDown&&a.nzTheme==="dark")("ant-menu-vertical",!a.isMenuInsideDropDown&&a.actualMode==="vertical")("ant-menu-horizontal",!a.isMenuInsideDropDown&&a.actualMode==="horizontal")("ant-menu-inline",!a.isMenuInsideDropDown&&a.actualMode==="inline")("ant-menu-inline-collapsed",!a.isMenuInsideDropDown&&a.nzInlineCollapsed)("ant-menu-rtl",a.dir==="rtl")},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:[2,"nzInlineCollapsed","nzInlineCollapsed",ee],nzSelectable:[2,"nzSelectable","nzSelectable",ee]},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[on([{provide:zI,useClass:go},{provide:go,useFactory:mY},{provide:_o,useFactory:gY}]),Je,$e]});let e=t;return e})();function _Y(){return Ee(_o,{optional:!0,skipSelf:!0})??!1}var vY=(()=>{let t=class t{constructor(n,r){this.elementRef=n,this.renderer=r,this.isMenuInsideDropDown=Ee(_o);let a=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group";this.renderer.addClass(n.nativeElement,a)}ngAfterViewInit(){let n=this.titleElement.nativeElement.nextElementSibling;if(n){let r=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list";this.renderer.addClass(n,r)}}};t.\u0275fac=function(r){return new(r||t)(k(St),k(Mi))},t.\u0275cmp=ie({type:t,selectors:[["","nz-menu-group",""]],viewQuery:function(r,a){if(r&1&&Qe(aY,5),r&2){let u;Te(u=Ie())&&(a.titleElement=u.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[on([{provide:_o,useFactory:_Y}]),re],attrs:sY,ngContentSelectors:cY,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&(rn(lY),z(0,"div",null,0),M(2,uY,2,1,"ng-container",1)(3,dY,1,0),S(),Yt(4)),r&2&&(ve("ant-menu-item-group-title",!a.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",a.isMenuInsideDropDown),y(2),w("nzStringTemplateOutlet",a.nzTitle),y(),K(a.nzTitle?-1:3))},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})();var Pg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[SI,vY,bI]});let e=t;return e})();var yY=["*"];function CY(e,t){if(e&1){let i=he();z(0,"div",0),Q("@slideMotion.done",function(r){B(i);let a=C();return V(a.onAnimationEvent(r))})("mouseenter",function(){B(i);let r=C();return V(r.setMouseState(!0))})("mouseleave",function(){B(i);let r=C();return V(r.setMouseState(!1))}),Yt(1),S()}if(e&2){let i=C();ve("ant-dropdown-rtl",i.dir==="rtl"),w("ngClass",i.nzOverlayClassName)("ngStyle",i.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("nzNoAnimation",i.noAnimation==null?null:i.noAnimation.nzNoAnimation)}}var xY="dropDown",zY=[ei.bottomLeft,ei.bottomRight,ei.topRight,ei.topLeft],II=(()=>{let t=class t{setDropdownMenuValue(n,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(n,r)}constructor(n,r,a,u,p,m){this.nzConfigService=n,this.elementRef=r,this.overlay=a,this.renderer=u,this.viewContainerRef=p,this.platform=m,this._nzModuleName=xY,this.overlayRef=null,this.destroy$=new Ue,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new Ii(!1),this.nzTrigger$=new Ii("hover"),this.overlayClose$=new Ue,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new fe}ngAfterViewInit(){if(this.nzDropdownMenu){let n=this.elementRef.nativeElement,r=Rn(dn(n,"mouseenter").pipe(Tl(!0)),dn(n,"mouseleave").pipe(Tl(!1))),a=this.nzDropdownMenu.mouseState$,u=Rn(a,r),p=dn(n,"click").pipe(Fi(()=>!this.nzVisible)),m=this.nzTrigger$.pipe(hr(N=>N==="hover"?u:N==="click"?p:Dv)),_=this.nzDropdownMenu.descendantMenuItemClick$.pipe(yi(()=>this.nzClickHide),Tl(!1)),O=Rn(m,_,this.overlayClose$).pipe(yi(()=>!this.nzDisabled)),F=Rn(this.inputVisible$,O);la([F,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(Fi(([N,U])=>N||U),Sl(150),Sr(),yi(()=>this.platform.isBrowser),le(this.destroy$)).subscribe(N=>{let q=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:n).getBoundingClientRect().width;if(this.nzVisible!==N&&this.nzVisibleChange.emit(N),this.nzVisible=N,N){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:q,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),Rn(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(yi(se=>!this.elementRef.nativeElement.contains(se.target))),this.overlayRef.keydownEvents().pipe(yi(se=>se.keyCode===27&&!ph(se)))).pipe(le(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let se=this.overlayRef.getConfig();se.minWidth=q}this.positionStrategy.withPositions([ei[this.nzPlacement],...zY]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new Al(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(le(this.destroy$)).subscribe(N=>{N.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(n){let{nzVisible:r,nzDisabled:a,nzOverlayClassName:u,nzOverlayStyle:p,nzTrigger:m}=n;if(m&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),a){let _=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(_,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(_,"disabled")}u&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),p&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(St),k(fh),k(Mi),k(Ps),k(ko))},t.\u0275dir=Hn({type:t,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",ee],nzClickHide:[2,"nzClickHide","nzClickHide",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzVisible:[2,"nzVisible","nzVisible",ee],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[Je,$e]});let e=t;return Re([Le()],e.prototype,"nzBackdrop",void 0),e})();var FI=(()=>{let t=class t{onAnimationEvent(n){this.animationStateChange$.emit(n)}setMouseState(n){this.mouseState$.next(n)}setValue(n,r){this[n]=r,this.cdr.markForCheck()}constructor(n,r,a,u,p,m){this.cdr=n,this.elementRef=r,this.renderer=a,this.viewContainerRef=u,this.nzMenuService=p,this.directionality=m,this.mouseState$=new Ii(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new fe,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new Ue,this.noAnimation=Ee(ti,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(St),k(Mi),k(Ps),k(go),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(r,a){if(r&1&&Qe(Oi,7),r&2){let u;Te(u=Ie())&&(a.templateRef=u.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[on([go,{provide:_o,useValue:!0}]),re],ngContentSelectors:yY,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(r,a){r&1&&(rn(),M(0,CY,2,7,"ng-template"))},dependencies:[Pi,xi,ti],encapsulation:2,data:{animation:[Yr]},changeDetection:0});let e=t;return e})();var Use=[new Va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Va({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Va({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Va({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];function wY(e,t){if(e&1&&(Fe(0),W(1,"span",1),Oe()),e&2){let i=t.$implicit;y(),w("nzType",i)}}var TY=()=>({minWidth:"46px"}),IY=()=>({visible:!1});function FY(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C().$implicit;y(),xe(" ",i.tab.label," ")}}function OY(e,t){if(e&1){let i=he();z(0,"li",8),Q("click",function(){let r=B(i).$implicit,a=C(2);return V(a.onSelect(r))})("contextmenu",function(r){let a=B(i).$implicit,u=C(2);return V(u.onContextmenu(a,r))}),M(1,FY,2,1,"ng-container",9),S()}if(e&2){let i=t.$implicit;ve("ant-tabs-dropdown-menu-item-disabled",i.disabled),w("nzSelected",i.active)("nzDisabled",i.disabled),y(),w("nzStringTemplateOutlet",i.tab.label)("nzStringTemplateOutletContext",tr(6,IY))}}function MY(e,t){if(e&1&&(z(0,"ul",6),M(1,OY,2,7,"li",7),S()),e&2){let i=C();y(),w("ngForOf",i.items)}}function PY(e,t){if(e&1){let i=he();z(0,"button",10),Q("click",function(){B(i);let r=C();return V(r.addClicked.emit())}),S()}if(e&2){let i=C();w("addIcon",i.addIcon)}}var DY=["navWarp"],EY=["navList"],AY=["*"];function kY(e,t){if(e&1){let i=he();z(0,"button",8),Q("click",function(){B(i);let r=C();return V(r.addClicked.emit())}),S()}if(e&2){let i=C();w("addIcon",i.addIcon),Ft("tabindex",-1)}}function NY(e,t){}function RY(e,t){if(e&1&&(z(0,"div",9),M(1,NY,0,0,"ng-template",10),S()),e&2){let i=C();y(),w("ngTemplateOutlet",i.extraTemplate)}}var LY=["nz-tab-body",""];function BY(e,t){}function VY(e,t){if(e&1&&(Fe(0),M(1,BY,0,0,"ng-template",1),Oe()),e&2){let i=C();y(),w("ngTemplateOutlet",i.content)}}function $Y(e,t){if(e&1&&(Fe(0),W(1,"span",1),Oe()),e&2){let i=t.$implicit;y(),w("nzType",i)}}var HY=["contentTemplate"],qY=[[["","nz-tab-link",""]],"*"],jY=["[nz-tab-link]","*"];function WY(e,t){e&1&&Yt(0)}function UY(e,t){e&1&&Yt(0,1)}var ZY=()=>({visible:!0});function GY(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C().$implicit;y(),Ae(i.label)}}function YY(e,t){if(e&1){let i=he();z(0,"button",10),Q("click",function(r){B(i);let a=C().index,u=C(2);return V(u.onClose(a,r))}),S()}if(e&2){let i=C().$implicit;w("closeIcon",i.nzCloseIcon)}}function QY(e,t){if(e&1){let i=he();z(0,"div",6),Q("click",function(r){let a=B(i),u=a.$implicit,p=a.index,m=C(2);return V(m.clickNavItem(u,p,r))})("contextmenu",function(r){let a=B(i).$implicit,u=C(2);return V(u.contextmenuNavItem(a,r))}),z(1,"button",7),M(2,GY,2,1,"ng-container",8)(3,YY,1,1,"button",9),S()()}if(e&2){let i=t.$implicit,n=t.index,r=C(2);dt("margin-right",r.position==="horizontal"?r.nzTabBarGutter:null,"px")("margin-bottom",r.position==="vertical"?r.nzTabBarGutter:null,"px"),ve("ant-tabs-tab-active",r.nzSelectedIndex===n)("ant-tabs-tab-disabled",i.nzDisabled),y(),w("id",r.getTabContentId(n))("disabled",i.nzDisabled)("tab",i)("active",r.nzSelectedIndex===n),Ft("tabIndex",r.getTabIndex(i,n))("aria-disabled",i.nzDisabled)("aria-selected",r.nzSelectedIndex===n&&!r.nzHideAll)("aria-controls",r.getTabContentId(n)),y(),w("nzStringTemplateOutlet",i.label)("nzStringTemplateOutletContext",tr(19,ZY)),y(),w("ngIf",i.nzClosable&&r.closable&&!i.nzDisabled)}}function KY(e,t){if(e&1){let i=he();z(0,"nz-tabs-nav",4),Q("tabScroll",function(r){B(i);let a=C();return V(a.nzTabListScroll.emit(r))})("selectFocusedIndex",function(r){B(i);let a=C();return V(a.setSelectedIndex(r))})("addClicked",function(){B(i);let r=C();return V(r.onAdd())}),M(1,QY,4,20,"div",5),S()}if(e&2){let i=C();w("ngStyle",i.nzTabBarStyle)("selectedIndex",i.nzSelectedIndex||0)("inkBarAnimated",i.inkBarAnimated)("addable",i.addable)("addIcon",i.nzAddIcon)("hideBar",i.nzHideAll)("position",i.position)("extraTemplate",i.nzTabBarExtraContent),y(),w("ngForOf",i.tabs)}}function XY(e,t){if(e&1&&W(0,"div",11),e&2){let i=t.$implicit,n=t.index,r=C();w("id",r.getTabContentId(n))("active",r.nzSelectedIndex===n&&!r.nzHideAll)("content",i.content)("forceRender",i.nzForceRender)("animated",r.tabPaneAnimated),Ft("aria-labelledby",r.getTabContentId(n))}}var Pp=(()=>{let t=class t{constructor(n){this.elementRef=n,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}};t.\u0275fac=function(r){return new(r||t)(k(St))},t.\u0275cmp=ie({type:t,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},standalone:!0,features:[re],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(r,a){r&1&&M(0,wY,2,1,"ng-container",0),r&2&&w("nzStringTemplateOutlet",a.addIcon)},dependencies:[Rt,Nt,en,Jt],encapsulation:2});let e=t;return e})(),OI=(()=>{let t=class t{get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}constructor(n,r){this.elementRef=n,this.ngZone=r,this.position="horizontal",this.animated=!0,this.animationMode=Ee(rh,{optional:!0})}alignToElement(n){this.ngZone.runOutsideAngular(()=>{$a(()=>this.setStyles(n))})}setStyles(n){let r=this.elementRef.nativeElement;this.position==="horizontal"?(r.style.top="",r.style.height="",r.style.left=this.getLeftPosition(n),r.style.width=this.getElementWidth(n)):(r.style.left="",r.style.width="",r.style.top=this.getTopPosition(n),r.style.height=this.getElementHeight(n))}getLeftPosition(n){return n?`${n.offsetLeft||0}px`:"0"}getElementWidth(n){return n?`${n.offsetWidth||0}px`:"0"}getTopPosition(n){return n?`${n.offsetTop||0}px`:"0"}getElementHeight(n){return n?`${n.offsetHeight||0}px`:"0"}};t.\u0275fac=function(r){return new(r||t)(k(St),k(cn))},t.\u0275dir=Hn({type:t,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(r,a){r&2&&ve("ant-tabs-ink-bar-animated",a._animated)},inputs:{position:"position",animated:"animated"},standalone:!0});let e=t;return e})(),EI=(()=>{let t=class t{constructor(n){this.elementRef=n,this.disabled=!1,this.active=!1,this.el=n.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}};t.\u0275fac=function(r){return new(r||t)(k(St))},t.\u0275dir=Hn({type:t,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",ee],tab:"tab",active:[2,"active","active",ee]},standalone:!0,features:[Je]});let e=t;return e})(),Dg=(()=>{let t=class t{constructor(n,r){this.cdr=n,this.elementRef=r,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new fe,this.selected=new fe,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(n){n.disabled||(n.tab.nzClick.emit(),this.selected.emit(n))}onContextmenu(n,r){n.disabled||n.tab.nzContextmenu.emit(r)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(n){n||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(St))},t.\u0275cmp=ie({type:t,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(r,a){r&2&&ve("ant-tabs-nav-operations-hidden",a.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",ee],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],standalone:!0,features:[Je,re],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nz-icon","","nzType","ellipsis"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(r,a){if(r&1){let u=he();z(0,"button",2,0),Q("nzVisibleChange",function(m){return B(u),V(a.menuVisChange(m))})("mouseenter",function(){return B(u),V(a.showItems())}),W(2,"span",3),S(),z(3,"nz-dropdown-menu",null,1),M(5,MY,2,1,"ul",4),S(),M(6,PY,1,1,"button",5)}if(r&2){let u=Pe(4);w("nzDropdownMenu",u)("nzOverlayStyle",tr(5,TY))("nzMatchWidthElement",null),y(5),w("ngIf",a.menuOpened),y(),w("ngIf",a.addable)}},dependencies:[en,Jt,Jn,Tr,Rt,Nt,Pp,FI,Pg,wI,Op,II],encapsulation:2,changeDetection:0});let e=t;return e})(),JY=.1,MI=.01,Mp=20,PI=.995**Mp,eQ=(()=>{let t=class t{constructor(n,r){this.ngZone=n,this.elementRef=r,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new fe,this.tabScroll=new fe,this.onTouchEnd=a=>{if(!this.touchPosition)return;let u=this.lastOffset,p=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,u){let m=u.x/p,_=u.y/p,O=Math.abs(m),F=Math.abs(_);if(Math.max(O,F)<JY)return;let N=m,U=_;this.motion=window.setInterval(()=>{if(Math.abs(N)<MI&&Math.abs(U)<MI){window.clearInterval(this.motion);return}N*=PI,U*=PI,this.onOffset(N*Mp,U*Mp,a)},Mp)}},this.onTouchMove=a=>{if(!this.touchPosition)return;a.preventDefault();let{screenX:u,screenY:p}=a.touches[0],m=u-this.touchPosition.x,_=p-this.touchPosition.y;this.onOffset(m,_,a);let O=Date.now();this.lastTimeDiff=O-this.lastTimestamp,this.lastTimestamp=O,this.lastOffset={x:m,y:_},this.touchPosition={x:u,y:p}},this.onTouchStart=a=>{let{screenX:u,screenY:p}=a.touches[0];this.touchPosition={x:u,y:p},window.clearInterval(this.motion)},this.onWheel=a=>{let{deltaX:u,deltaY:p}=a,m,_=Math.abs(u),O=Math.abs(p);_===O?m=this.lastWheelDirection==="x"?u:p:_>O?(m=u,this.lastWheelDirection="x"):(m=p,this.lastWheelDirection="y");let F=Date.now(),N=Math.abs(m);(F-this.lastWheelTimestamp>100||N-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-m,-m,a),(a.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=F,this.lastMixedWheel=N}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{let n=this.elementRef.nativeElement,r=dn(n,"wheel"),a=dn(n,"touchstart"),u=dn(n,"touchmove"),p=dn(n,"touchend"),m=new Wr;return m.add(this.subscribeWrap("wheel",r,this.onWheel)),m.add(this.subscribeWrap("touchstart",a,this.onTouchStart)),m.add(this.subscribeWrap("touchmove",u,this.onTouchMove)),m.add(this.subscribeWrap("touchend",p,this.onTouchEnd)),()=>{m.unsubscribe()}})}subscribeWrap(n,r,a){return r.subscribe(u=>{this.tabScroll.emit({type:n,event:u}),u.defaultPrevented||a(u)})}onOffset(n,r,a){this.ngZone.run(()=>{this.offsetChange.emit({x:n,y:r,event:a})})}ngOnDestroy(){this.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(St))},t.\u0275dir=Hn({type:t,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"},standalone:!0});let e=t;return e})(),tQ=typeof requestAnimationFrame<"u"?Pv:Mv,DI=150,Eg=(()=>{let t=class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){let r=mm(n);this._selectedIndex!==r&&(this._selectedIndex=n,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(n))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(n){!this.isValidIndex(n)||this.focusIndex===n||!this.keyManager||this.keyManager.setActiveItem(n)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}constructor(n,r,a,u,p){this.cdr=n,this.ngZone=r,this.viewportRuler=a,this.nzResizeObserver=u,this.dir=p,this.indexFocused=new fe,this.selectFocusedIndex=new fe,this.addClicked=new fe,this.tabScroll=new fe,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new Ue,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1}ngAfterViewInit(){let n=this.dir?this.dir.change.asObservable():ur(null),r=this.viewportRuler.change(150),a=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new Ny(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),$a(a),Rn(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(le(this.destroy$),Sl(16,tQ)).subscribe(()=>{a()}),Rn(n,r,this.items.changes).pipe(le(this.destroy$)).subscribe(()=>{Promise.resolve().then(a),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(le(this.destroy$)).subscribe(u=>{this.indexFocused.emit(u),this.setTabFocus(u),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(n){let r=this.items.toArray().findIndex(a=>a===n);r!==-1&&(this.keyManager.updateActiveItem(r),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(n)))}onOffsetChange(n){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&n.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&n.x<0))return;n.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+n.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&n.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&n.y<0))return;n.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+n.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(n){let r=this.navWarpRef.nativeElement.contains(n.target);if(!(ph(n)||!r))switch(n.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(n);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(n)}}isValidIndex(n){if(!this.items)return!0;let r=this.items?this.items.toArray()[n]:null;return!!r&&!r.disabled}scrollToTab(n){if(!this.items.find(a=>a===n))return;let r=this.items.toArray();if(this.position==="horizontal"){let a=this.transformX;if(this.getLayoutDirection()==="rtl"){let u=r[0].left+r[0].width-n.left-n.width;u<this.transformX?a=u:u+n.width>this.transformX+this.wrapperWidth&&(a=u+n.width-this.wrapperWidth)}else n.left<-this.transformX?a=-n.left:n.left+n.width>-this.transformX+this.wrapperWidth&&(a=-(n.left+n.width-this.wrapperWidth));this.transformX=a,this.transformY=0,this.setTransform(a,0)}else{let a=this.transformY;n.top<-this.transformY?a=-n.top:n.top+n.height>-this.transformY+this.wrapperHeight&&(a=-(n.top+n.height-this.wrapperHeight)),this.transformY=a,this.transformX=0,this.setTransform(0,a)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},DI)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},DI)})}setTransform(n,r){this.navListRef.nativeElement.style.transform=`translate(${n}px, ${r}px)`}clampTransformX(n){let r=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(r,n),0):Math.min(Math.max(r,n),0)}clampTransformY(n){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,n),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let n=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,r=n?n.elementRef.nativeElement:null;r&&this.inkBar.alignToElement(r.parentElement)}setPingStatus(){let n={top:!1,right:!1,bottom:!1,left:!1},r=this.navWarpRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(n.right=this.transformX>0,n.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(n.left=this.transformX<0,n.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(n.top=this.transformY<0,n.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(n).forEach(a=>{let u=`ant-tabs-nav-wrap-ping-${a}`;n[a]?r.classList.add(u):r.classList.remove(u)})}setVisibleRange(){let n,r,a,u,p,m,_=this.items.toArray(),O={width:0,height:0,left:0,top:0,right:0},F=tt=>{let st,Lt=_[tt]||O;return r==="right"?st=_[0].left+_[0].width-_[tt].left-_[tt].width:st=Lt[r],st};this.position==="horizontal"?(n="width",u=this.wrapperWidth,p=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),m=this.addButtonWidth,a=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(r="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,r="left")):(n="height",u=this.wrapperHeight,p=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),m=this.addButtonHeight,r="top",a=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let N=u;if(p+m>u&&(N=u-m),!_.length){this.hiddenItems=[],this.cdr.markForCheck();return}let U=_.length,q=U;for(let tt=0;tt<U;tt+=1){let st=F(tt),Lt=_[tt]||O;if(st+Lt[n]>a+N){q=tt-1;break}}let se=0;for(let tt=U-1;tt>=0;tt-=1)if(F(tt)<a){se=tt+1;break}let ce=_.slice(0,se),we=_.slice(q+1);this.hiddenItems=[...ce,...we],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}setTabFocus(n){}ngOnChanges(n){let{position:r}=n;r&&!r.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(cn),k(Ty),k(Cp),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-tabs-nav"]],contentQueries:function(r,a,u){if(r&1&&qn(u,EI,5),r&2){let p;Te(p=Ie())&&(a.items=p)}},viewQuery:function(r,a){if(r&1&&(Qe(DY,7),Qe(EY,7),Qe(Dg,7),Qe(Pp,5),Qe(OI,7)),r&2){let u;Te(u=Ie())&&(a.navWarpRef=u.first),Te(u=Ie())&&(a.navListRef=u.first),Te(u=Ie())&&(a.operationRef=u.first),Te(u=Ie())&&(a.addBtnRef=u.first),Te(u=Ie())&&(a.inkBar=u.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(r,a){r&1&&Q("keydown",function(p){return a.handleKeydown(p)})},inputs:{position:"position",addable:[2,"addable","addable",ee],hideBar:[2,"hideBar","hideBar",ee],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],standalone:!0,features:[Je,$e,re],ngContentSelectors:AY,decls:9,vars:16,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],["class","ant-tabs-extra-content",4,"ngIf"],["role","tab","nz-tab-add-button","",3,"click","addIcon"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(r,a){if(r&1){let u=he();rn(),z(0,"div",2,0)(2,"div",3,1),Q("offsetChange",function(m){return B(u),V(a.onOffsetChange(m))})("tabScroll",function(m){return B(u),V(a.tabScroll.emit(m))}),Yt(4),M(5,kY,1,2,"button",4),W(6,"div",5),S()(),z(7,"nz-tab-nav-operation",6),Q("addClicked",function(){return B(u),V(a.addClicked.emit())})("selected",function(m){return B(u),V(a.onSelectedFromMenu(m))}),S(),M(8,RY,2,1,"div",7)}r&2&&(ve("ant-tabs-nav-wrap-ping-left",a.pingLeft)("ant-tabs-nav-wrap-ping-right",a.pingRight)("ant-tabs-nav-wrap-ping-top",a.pingTop)("ant-tabs-nav-wrap-ping-bottom",a.pingBottom),y(5),w("ngIf",a.showAddButton),y(),w("hidden",a.hideBar)("position",a.position)("animated",a.inkBarAnimated),y(),w("addIcon",a.addIcon)("addable",a.addable)("items",a.hiddenItems),y(),w("ngIf",a.extraTemplate))},dependencies:[eQ,Jn,Pp,OI,Dg,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),nQ=(()=>{let t=class t{constructor(){this.content=null,this.active=!1,this.animated=!0,this.forceRender=!1,this.hasBeenActive=!1}ngOnChanges(n){let{active:r}=n;r?.currentValue&&(this.hasBeenActive=!0)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(r,a){r&2&&(Ds("@tabSwitchMotion",a.active?"enter":"leave")("@.disabled",!a.animated),Ft("tabindex",a.active?0:-1)("aria-hidden",!a.active),dt("overflow-y",a.animated?a.active?null:"none":null),ve("ant-tabs-tabpane-active",a.active)("ant-tabs-tabpane-hidden",a.animated?null:!a.active))},inputs:{content:"content",active:"active",animated:"animated",forceRender:"forceRender"},exportAs:["nzTabBody"],standalone:!0,features:[$e,re],attrs:LY,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(r,a){r&1&&M(0,VY,2,1,"ng-container",0),r&2&&w("ngIf",a.hasBeenActive||a.forceRender)},dependencies:[Jn,Qt],encapsulation:2,data:{animation:[qy]},changeDetection:0});let e=t;return e})(),AI=(()=>{let t=class t{constructor(){this.closeIcon="close"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},standalone:!0,features:[re],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(r,a){r&1&&M(0,$Y,2,1,"ng-container",0),r&2&&w("nzStringTemplateOutlet",a.closeIcon)},dependencies:[Rt,Nt,en,Jt],encapsulation:2});let e=t;return e})(),iQ=(()=>{let t=class t{constructor(){this.templateRef=Ee(Oi,{host:!0})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"],standalone:!0});let e=t;return e})(),rQ=(()=>{let t=class t{constructor(n){this.elementRef=n,this.routerLink=Ee(As,{self:!0,optional:!0})}};t.\u0275fac=function(r){return new(r||t)(k(St))},t.\u0275dir=Hn({type:t,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"],standalone:!0});let e=t;return e})(),oQ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,selectors:[["","nz-tab",""]],exportAs:["nzTab"],standalone:!0});let e=t;return e})(),kI=new ca("NZ_TAB_SET"),kg=(()=>{let t=class t{constructor(){this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new fe,this.nzDeselect=new fe,this.nzClick=new fe,this.nzContextmenu=new fe,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.closestTabSet=Ee(kI),this.stateChanges=new Ue}get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(n){let{nzTitle:r,nzDisabled:a,nzForceRender:u}=n;(r||a||u)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-tab"]],contentQueries:function(r,a,u){if(r&1&&(qn(u,iQ,5),qn(u,oQ,5,Oi),qn(u,rQ,5)),r&2){let p;Te(p=Ie())&&(a.nzTabLinkTemplateDirective=p.first),Te(p=Ie())&&(a.template=p.first),Te(p=Ie())&&(a.linkDirective=p.first)}},viewQuery:function(r,a){if(r&1&&Qe(HY,7),r&2){let u;Te(u=Ie())&&(a.contentTemplate=u.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",ee],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzForceRender:[2,"nzForceRender","nzForceRender",ee]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],standalone:!0,features:[Je,$e,re],ngContentSelectors:jY,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(r,a){r&1&&(rn(qY),M(0,WY,1,0,"ng-template",null,0,Ke)(2,UY,1,0,"ng-template",null,1,Ke))},encapsulation:2,changeDetection:0});let e=t;return e})(),Ag=class{},aQ="tabs",sQ=0,Ng=(()=>{let t=class t{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(n){this.indexToSelect=mm(n,null)}get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}constructor(n,r,a,u){this.nzConfigService=n,this.ngZone=r,this.cdr=a,this.directionality=u,this._nzModuleName=aQ,this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new fe(!0),this.nzSelectedIndexChange=new fe,this.nzTabListScroll=new fe,this.nzClose=new fe,this.nzAdd=new fe,this.allTabs=new um,this.tabs=new um,this.dir="ltr",this.destroy$=new Ue,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=Wr.EMPTY,this.tabsSubscription=Wr.EMPTY,this.canDeactivateSubscription=Wr.EMPTY,this.router=Ee(Mo,{optional:!0}),this.tabSetId=sQ++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let r=this.tabs.toArray();for(let a=0;a<r.length;a++)if(r[a].isActive){this.indexToSelect=this.selectedIndex=a;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let n=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==n){let r=this.selectedIndex==null;r||this.nzSelectChange.emit(this.createChangeEvent(n)),Promise.resolve().then(()=>{this.tabs.forEach((a,u)=>a.isActive=u===n),r||this.nzSelectedIndexChange.emit(n)})}this.tabs.forEach((r,a)=>{r.position=a-n,this.selectedIndex!=null&&r.position===0&&!r.origin&&(r.origin=n-this.selectedIndex)}),this.selectedIndex!==n&&(this.selectedIndex=n,this.cdr.markForCheck())}onClose(n,r){r.preventDefault(),r.stopPropagation(),this.nzClose.emit({index:n})}onAdd(){this.nzAdd.emit()}clampTabIndex(n){return Math.min(this.tabs.length-1,Math.max(n||0,0))}createChangeEvent(n){let r=new Ag;return r.index=n,this.tabs&&this.tabs.length&&(r.tab=this.tabs.toArray()[n],this.tabs.forEach((a,u)=>{u!==n&&a.nzDeselect.emit()}),r.tab.nzSelect.emit()),r}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=Rn(...this.tabs.map(n=>n.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(dr(this.allTabs)).subscribe(n=>{this.tabs.reset(n.filter(r=>r.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(n,r){return typeof this.nzCanDeactivate=="function"?fy(this.nzCanDeactivate(n,r)).pipe(lm(),le(this.destroy$)):ur(!0)}clickNavItem(n,r,a){n.nzDisabled||(n.nzClick.emit(),this.isRouterLinkClickEvent(r,a)||this.setSelectedIndex(r))}isRouterLinkClickEvent(n,r){let a=r.target;return this.nzLinkRouter?!!this.tabs.toArray()[n]?.linkDirective?.elementRef.nativeElement.contains(a):!1}contextmenuNavItem(n,r){n.nzDisabled||n.nzContextmenu.emit(r)}setSelectedIndex(n){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,n).subscribe(r=>{r&&(this.nzSelectedIndex=n,this.tabNavBarRef.focusIndex=n,this.cdr.markForCheck())})}getTabIndex(n,r){return n.nzDisabled?null:this.selectedIndex===r?0:-1}getTabContentId(n){return`nz-tabs-${this.tabSetId}-tab-${n}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${ly} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(le(this.destroy$),yi(n=>n instanceof sh),dr(!0),th(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let n=this.findShouldActiveTabIndex();n!==this.selectedIndex&&this.setSelectedIndex(n),this.nzHideAll=n===-1}}findShouldActiveTabIndex(){let n=this.tabs.toArray(),r=this.isLinkActive(this.router);return n.findIndex(a=>{let u=a.linkDirective;return u?r(u.routerLink):!1})}isLinkActive(n){return r=>r?!!n?.isActive(r.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(cn),k(ht),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-tabset"]],contentQueries:function(r,a,u){if(r&1&&qn(u,kg,5),r&2){let p;Te(p=Ie())&&(a.allTabs=p)}},viewQuery:function(r,a){if(r&1&&Qe(Eg,5),r&2){let u;Te(u=Ie())&&(a.tabNavBarRef=u.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(r,a){r&2&&ve("ant-tabs-card",a.nzType==="card"||a.nzType==="editable-card")("ant-tabs-editable",a.nzType==="editable-card")("ant-tabs-editable-card",a.nzType==="editable-card")("ant-tabs-centered",a.nzCentered)("ant-tabs-rtl",a.dir==="rtl")("ant-tabs-top",a.nzTabPosition==="top")("ant-tabs-bottom",a.nzTabPosition==="bottom")("ant-tabs-left",a.nzTabPosition==="left")("ant-tabs-right",a.nzTabPosition==="right")("ant-tabs-default",a.nzSize==="default")("ant-tabs-small",a.nzSize==="small")("ant-tabs-large",a.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",ee],nzCentered:[2,"nzCentered","nzCentered",ee],nzHideAll:[2,"nzHideAll","nzHideAll",ee],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",ee],nzLinkExact:[2,"nzLinkExact","nzLinkExact",ee]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],standalone:!0,features:[on([{provide:kI,useExisting:t}]),Je,re],decls:4,vars:12,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","animated",4,"ngFor","ngForOf"],[3,"tabScroll","selectFocusedIndex","addClicked","ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","animated"]],template:function(r,a){r&1&&(M(0,KY,2,9,"nz-tabs-nav",0),z(1,"div",1)(2,"div",2),M(3,XY,1,6,"div",3),S()()),r&2&&(w("ngIf",a.tabs.length||a.addable),y(2),ve("ant-tabs-content-top",a.nzTabPosition==="top")("ant-tabs-content-bottom",a.nzTabPosition==="bottom")("ant-tabs-content-left",a.nzTabPosition==="left")("ant-tabs-content-right",a.nzTabPosition==="right")("ant-tabs-content-animated",a.tabPaneAnimated),y(),w("ngForOf",a.tabs))},dependencies:[Eg,Jn,xi,Tr,EI,Ly,Ry,Rt,Nt,AI,nQ],encapsulation:2});let e=t;return Re([Le()],e.prototype,"nzType",void 0),Re([Le()],e.prototype,"nzSize",void 0),Re([Le()],e.prototype,"nzAnimated",void 0),Re([Le()],e.prototype,"nzTabBarGutter",void 0),e})();var _c=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Ng,Eg,Dg,Pp,AI]});let e=t;return e})();var Ap=vn(Ep(),1);var RI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({});let e=t;return e})();var Rp=vn(Ep());var Wu=vn(Ep());var vc=(()=>{let t=class t{constructor(){this.markers={},this.selectedFromMarker=null,this.selectedToMarker=null,this.defaultIcon=new Wu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png"}),this.selectedIcon=new Wu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png"})}addMarkerToMap(n,r,a){let u=Wu.default.marker([r.latitude,r.longitude],{icon:this.defaultIcon}).bindPopup(`<b>${r.city}</b><br>ID: ${r.id}`).addTo(n);return u.on("click",()=>a(r,u)),this.markers[r.city]=u,u}toggleMarker(n,r,a,u){let p=this.markers[n.city];if(p){let m=this.selectedFromMarker&&this.isMarkerSelected(n,r),_=this.selectedToMarker&&this.isMarkerSelected(n,a);m||_?m?this.resetMarker("from",u):_&&this.resetMarker("to",u):this.setMarker(n,p,u)}}isMarkerSelected(n,r){return r&&r.lat===n.latitude&&r.lon===n.longitude}selectMarkerByCity(n,r,a){let u=this.markers[n];u&&(r==="from"?(this.selectedFromMarker&&this.selectedFromMarker.setIcon(this.defaultIcon),this.selectedFromMarker=u,a("fromCoords",{lat:u.getLatLng().lat,lon:u.getLatLng().lng})):r==="to"&&(this.selectedToMarker&&this.selectedToMarker.setIcon(this.defaultIcon),this.selectedToMarker=u,a("toCoords",{lat:u.getLatLng().lat,lon:u.getLatLng().lng})),u.setIcon(this.selectedIcon))}setMarker(n,r,a){this.selectedFromMarker===r&&this.resetMarker("from",a),this.selectedToMarker===r&&this.resetMarker("to",a),this.selectedFromMarker||(this.resetMarker("from",a),a("from",n.city),a("fromCoords",{lat:n.latitude,lon:n.longitude}),r.setIcon(this.selectedIcon),this.selectedFromMarker=r),this.selectedFromMarker&&!this.selectedToMarker&&(this.resetMarker("to",a),a("to",n.city),a("toCoords",{lat:n.latitude,lon:n.longitude}),r.setIcon(this.selectedIcon),this.selectedToMarker=r)}resetMarker(n,r){n==="from"&&this.selectedFromMarker&&(this.selectedFromMarker.setIcon(this.defaultIcon),this.selectedFromMarker=null,r("from",""),r("fromCoords","")),n==="to"&&this.selectedToMarker&&(this.selectedToMarker.setIcon(this.defaultIcon),this.selectedToMarker=null,r("to",""),r("toCoords",""))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var LI=(()=>{let t=class t{haversine(n,r,a,u){let m=this.degreesToRadians(a-n),_=this.degreesToRadians(u-r),O=Math.sin(m/2)**2+Math.cos(this.degreesToRadians(n))*Math.cos(this.degreesToRadians(a))*Math.sin(_/2)**2;return 6371*(2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O)))}degreesToRadians(n){return n*(Math.PI/180)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var es=(()=>{let t=class t{constructor(n,r){this.http=n,this.geoUtils=r,this.apiUrlSearch="/api/search",this.apiUrlStation="/api/station"}searchRoutes(n,r,a,u,p){let m=new ey().set("fromLatitude",n).set("fromLongitude",r).set("toLatitude",a).set("toLongitude",u);return p&&(m=m.set("time",p)),this.http.get(this.apiUrlSearch,{params:m}).pipe(wl(this.handleError))}getStations(){return this.http.get(this.apiUrlStation).pipe(wl(this.handleError))}findClosestStation(n,r){return this.getStations().pipe(Fi(a=>this.findNearest(n,r,a)),wl(()=>ur(null)))}findNearest(n,r,a){let u=null,p=Number.MAX_VALUE;return a.forEach(m=>{let _=this.geoUtils.haversine(n,r,m.latitude,m.longitude);_<p&&(p=_,u=m)}),u}handleError(n){let r="An unknown error occurred!";return n.error instanceof ErrorEvent&&(r=`Client-side error: ${n.error.message}`),n.status&&(r=`Server-side error: ${n.status}`),n.status===400&&n.error&&(r=`Error: ${n.error.message}`),Xd(()=>new Error(r))}addStation(n){return this.http.post(this.apiUrlStation,n)}deleteStation(n){return this.http.delete(`${this.apiUrlStation}/${n}`)}};t.\u0275fac=function(r){return new(r||t)(Ci(Oo),Ci(LI))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Uu=(()=>{let t=class t{constructor(n,r){this.markerService=n,this.searchService=r,this.markerClicked=new fe,this.mapTitleLayer="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",this.mapAttribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',this.stations=[],this.markers=[]}ngOnInit(){this.initMap(),this.loadStations()}initMap(){this.map=Rp.default.map("map").setView([43.068661,141.350755],4),Rp.default.tileLayer(this.mapTitleLayer,{attribution:this.mapAttribution}).addTo(this.map)}addMarkersToMap(){this.map.eachLayer(n=>{n instanceof Rp.default.Marker&&this.map.removeLayer(n)}),this.stations.forEach(n=>{this.markerService.addMarkerToMap(this.map,n,this.handleMarkerClick.bind(this))})}loadStations(){this.searchService.getStations().subscribe(n=>{this.stations=n,this.addMarkersToMap()})}handleMarkerClick(n){this.markerClicked.emit(n)}};t.\u0275fac=function(r){return new(r||t)(k(vc),k(es))},t.\u0275cmp=ie({type:t,selectors:[["app-map"]],outputs:{markerClicked:"markerClicked"},standalone:!0,features:[re],decls:1,vars:0,consts:[["id","map",2,"height","400px","width","100%","min-width","430px"]],template:function(r,a){r&1&&W(0,"div",0)},styles:["[_nghost-%COMP%]{display:flex;flex-basis:100%}"]});let e=t;return e})();var uQ=["nzType","avatar"];var dQ=["*"];function hQ(e,t){if(e&1&&(z(0,"div",5),W(1,"nz-skeleton-element",6),S()),e&2){let i=C(2);y(),w("nzSize",i.avatar.size||"default")("nzShape",i.avatar.shape||"circle")}}function pQ(e,t){if(e&1&&W(0,"h3",7),e&2){let i=C(2);dt("width",i.toCSSUnit(i.title.width))}}function fQ(e,t){if(e&1&&W(0,"li"),e&2){let i=t.index,n=C(3);dt("width",n.toCSSUnit(n.widthList[i]))}}function mQ(e,t){if(e&1&&(z(0,"ul",8),M(1,fQ,1,2,"li",9),S()),e&2){let i=C(2);y(),w("ngForOf",i.rowsList)}}function gQ(e,t){if(e&1&&(Fe(0),M(1,hQ,2,2,"div",1),z(2,"div",2),M(3,pQ,1,2,"h3",3)(4,mQ,2,1,"ul",4),S(),Oe()),e&2){let i=C();y(),w("ngIf",!!i.nzAvatar),y(2),w("ngIf",!!i.nzTitle),y(),w("ngIf",!!i.nzParagraph)}}function _Q(e,t){e&1&&(Fe(0),Yt(1),Oe())}var vQ=(()=>{let t=class t{constructor(){this.nzActive=!1,this.nzBlock=!1}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(r,a){r&2&&ve("ant-skeleton-active",a.nzActive)("ant-skeleton-block",a.nzBlock)},inputs:{nzActive:[2,"nzActive","nzActive",ee],nzType:"nzType",nzBlock:[2,"nzBlock","nzBlock",ee]},standalone:!0,features:[Je]});let e=t;return e})();var yQ=(()=>{let t=class t{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(n){if(n.nzSize&&typeof this.nzSize=="number"){let r=`${this.nzSize}px`;this.styleMap={width:r,height:r,"line-height":r}}else this.styleMap={}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},standalone:!0,features:[$e,re],attrs:uQ,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(r,a){r&1&&W(0,"span",0),r&2&&(ve("ant-skeleton-avatar-square",a.nzShape==="square")("ant-skeleton-avatar-circle",a.nzShape==="circle")("ant-skeleton-avatar-lg",a.nzSize==="large")("ant-skeleton-avatar-sm",a.nzSize==="small"),w("ngStyle",a.styleMap))},dependencies:[xi],encapsulation:2,changeDetection:0});let e=t;return e})();var BI=(()=>{let t=class t{constructor(n){this.cdr=n,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[]}toCSSUnit(n=""){return hy(n)}getTitleProps(){let n=!!this.nzAvatar,r=!!this.nzParagraph,a="";return!n&&r?a="38%":n&&r&&(a="50%"),qt({width:a},this.getProps(this.nzTitle))}getAvatarProps(){let n=this.nzTitle&&!this.nzParagraph?"square":"circle";return qt({shape:n,size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){let n=!!this.nzAvatar,r=!!this.nzTitle,a={};return(!n||!r)&&(a.width="61%"),!n&&r?a.rows=3:a.rows=2,qt(qt({},a),this.getProps(this.nzParagraph))}getProps(n){return n&&typeof n=="object"?n:{}}getWidthList(){let{width:n,rows:r}=this.paragraph,a=[];return n&&Array.isArray(n)?a=n:n&&!Array.isArray(n)&&(a=[],a[r-1]=n),a}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(n){(n.nzTitle||n.nzAvatar||n.nzParagraph)&&this.updateProps()}};t.\u0275fac=function(r){return new(r||t)(k(ht))},t.\u0275cmp=ie({type:t,selectors:[["nz-skeleton"]],hostAttrs:[1,"ant-skeleton"],hostVars:6,hostBindings:function(r,a){r&2&&ve("ant-skeleton-with-avatar",!!a.nzAvatar)("ant-skeleton-active",a.nzActive)("ant-skeleton-round",!!a.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],standalone:!0,features:[$e,re],ngContentSelectors:dQ,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(r,a){r&1&&(rn(),M(0,gQ,5,3,"ng-container",0)(1,_Q,2,0,"ng-container",0)),r&2&&(w("ngIf",a.nzLoading),y(),w("ngIf",!a.nzLoading))},dependencies:[vQ,yQ,Jn,Tr],encapsulation:2,changeDetection:0});let e=t;return e})(),VI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({});let e=t;return e})();function xQ(e,t){}function zQ(e,t){if(e&1&&(z(0,"div",0),M(1,xQ,0,0,"ng-template",2),S()),e&2){let i=C();y(),w("ngTemplateOutlet",i.nzAvatar)}}function bQ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(3);y(),Ae(i.nzTitle)}}function SQ(e,t){if(e&1&&(z(0,"div",3),M(1,bQ,2,1,"ng-container",5),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzTitle)}}function wQ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(3);y(),Ae(i.nzDescription)}}function TQ(e,t){if(e&1&&(z(0,"div",4),M(1,wQ,2,1,"ng-container",5),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzDescription)}}function IQ(e,t){if(e&1&&(z(0,"div",1),M(1,SQ,2,1,"div",3)(2,TQ,2,1,"div",4),S()),e&2){let i=C();y(),K(i.nzTitle?1:-1),y(),K(i.nzDescription?2:-1)}}var HI=["*"];function FQ(e,t){e&1&&Yt(0)}var OQ=()=>({rows:4});function MQ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(3);y(),Ae(i.nzTitle)}}function PQ(e,t){if(e&1&&(z(0,"div",6),M(1,MQ,2,1,"ng-container",9),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzTitle)}}function DQ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(3);y(),Ae(i.nzExtra)}}function EQ(e,t){if(e&1&&(z(0,"div",7),M(1,DQ,2,1,"ng-container",9),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzExtra)}}function AQ(e,t){}function kQ(e,t){if(e&1&&M(0,AQ,0,0,"ng-template",8),e&2){let i=C(2);w("ngTemplateOutlet",i.listOfNzCardTabComponent.template)}}function NQ(e,t){if(e&1&&(z(0,"div",0)(1,"div",5),M(2,PQ,2,1,"div",6)(3,EQ,2,1,"div",7),S(),M(4,kQ,1,1,null,8),S()),e&2){let i=C();y(2),K(i.nzTitle?2:-1),y(),K(i.nzExtra?3:-1),y(),K(i.listOfNzCardTabComponent?4:-1)}}function RQ(e,t){}function LQ(e,t){if(e&1&&(z(0,"div",1),M(1,RQ,0,0,"ng-template",8),S()),e&2){let i=C();y(),w("ngTemplateOutlet",i.nzCover)}}function BQ(e,t){e&1&&W(0,"nz-skeleton",3),e&2&&w("nzActive",!0)("nzTitle",!1)("nzParagraph",tr(3,OQ))}function VQ(e,t){e&1&&Yt(0)}function $Q(e,t){}function HQ(e,t){if(e&1&&(z(0,"li")(1,"span"),M(2,$Q,0,0,"ng-template",8),S()()),e&2){let i=t.$implicit,n=C(2);dt("width",100/n.nzActions.length,"%"),y(2),w("ngTemplateOutlet",i)}}function qQ(e,t){if(e&1&&(z(0,"ul",4),rt(1,HQ,3,3,"li",10,Fo),S()),e&2){let i=C();y(),ot(i.nzActions)}}var jQ=(()=>{let t=class t{constructor(){this.nzHoverable=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Hn({type:t,selectors:[["","nz-card-grid",""]],hostAttrs:[1,"ant-card-grid"],hostVars:2,hostBindings:function(r,a){r&2&&ve("ant-card-hoverable",a.nzHoverable)},inputs:{nzHoverable:[2,"nzHoverable","nzHoverable",ee]},exportAs:["nzCardGrid"],standalone:!0,features:[Je]});let e=t;return e})(),WQ=(()=>{let t=class t{constructor(){this.nzTitle=null,this.nzDescription=null,this.nzAvatar=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-card-meta"]],hostAttrs:[1,"ant-card-meta"],inputs:{nzTitle:"nzTitle",nzDescription:"nzDescription",nzAvatar:"nzAvatar"},exportAs:["nzCardMeta"],standalone:!0,features:[re],decls:2,vars:2,consts:[[1,"ant-card-meta-avatar"],[1,"ant-card-meta-detail"],[3,"ngTemplateOutlet"],[1,"ant-card-meta-title"],[1,"ant-card-meta-description"],[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&M(0,zQ,2,1,"div",0)(1,IQ,3,2,"div",1),r&2&&(K(a.nzAvatar?0:-1),y(),K(a.nzTitle||a.nzDescription?1:-1))},dependencies:[Qt,Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),UQ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-card-tab"]],viewQuery:function(r,a){if(r&1&&Qe(Oi,7),r&2){let u;Te(u=Ie())&&(a.template=u.first)}},exportAs:["nzCardTab"],standalone:!0,features:[re],ngContentSelectors:HI,decls:1,vars:0,template:function(r,a){r&1&&(rn(),M(0,FQ,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let e=t;return e})(),$I="card",Zu=(()=>{let t=class t{constructor(n,r,a){this.nzConfigService=n,this.cdr=r,this.directionality=a,this._nzModuleName=$I,this.nzBordered=!0,this.nzBorderless=!1,this.nzLoading=!1,this.nzHoverable=!1,this.nzBodyStyle=null,this.nzActions=[],this.nzType=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Ue,this.nzConfigService.getConfigChangeEventForComponent($I).pipe(le(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(ht),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-card"]],contentQueries:function(r,a,u){if(r&1&&(qn(u,UQ,5),qn(u,jQ,4)),r&2){let p;Te(p=Ie())&&(a.listOfNzCardTabComponent=p.first),Te(p=Ie())&&(a.listOfNzCardGridDirective=p)}},hostAttrs:[1,"ant-card"],hostVars:16,hostBindings:function(r,a){r&2&&ve("ant-card-loading",a.nzLoading)("ant-card-bordered",a.nzBorderless===!1&&a.nzBordered)("ant-card-hoverable",a.nzHoverable)("ant-card-small",a.nzSize==="small")("ant-card-contain-grid",a.listOfNzCardGridDirective&&a.listOfNzCardGridDirective.length)("ant-card-type-inner",a.nzType==="inner")("ant-card-contain-tabs",!!a.listOfNzCardTabComponent)("ant-card-rtl",a.dir==="rtl")},inputs:{nzBordered:[2,"nzBordered","nzBordered",ee],nzBorderless:[2,"nzBorderless","nzBorderless",ee],nzLoading:[2,"nzLoading","nzLoading",ee],nzHoverable:[2,"nzHoverable","nzHoverable",ee],nzBodyStyle:"nzBodyStyle",nzCover:"nzCover",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],standalone:!0,features:[Je,re],ngContentSelectors:HI,decls:6,vars:5,consts:[[1,"ant-card-head"],[1,"ant-card-cover"],[1,"ant-card-body",3,"ngStyle"],[3,"nzActive","nzTitle","nzParagraph"],[1,"ant-card-actions"],[1,"ant-card-head-wrapper"],[1,"ant-card-head-title"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[4,"nzStringTemplateOutlet"],[3,"width"]],template:function(r,a){r&1&&(rn(),M(0,NQ,5,3,"div",0)(1,LQ,2,1,"div",1),z(2,"div",2),M(3,BQ,1,4,"nz-skeleton",3)(4,VQ,1,0),S(),M(5,qQ,3,0,"ul",4)),r&2&&(K(a.nzTitle||a.nzExtra||a.listOfNzCardTabComponent?0:-1),y(),K(a.nzCover?1:-1),y(),w("ngStyle",a.nzBodyStyle),y(),K(a.nzLoading?3:4),y(2),K(a.nzActions.length?5:-1))},dependencies:[Rt,Nt,Qt,xi,VI,BI],encapsulation:2,changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzBordered",void 0),Re([Le()],e.prototype,"nzBorderless",void 0),Re([Le()],e.prototype,"nzHoverable",void 0),Re([Le()],e.prototype,"nzSize",void 0),e})(),Lp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Zu,WQ,Sy]});let e=t;return e})();var ZQ=e=>({$implicit:e});function GQ(e,t){if(e&1&&W(0,"span",4),e&2){let i=C(3);w("nzType",i.icon)}}function YQ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=t.$implicit,n=C(4);y(),xe(" ",i(n.nzPercent)," ")}}function QQ(e,t){if(e&1&&M(0,YQ,2,1,"ng-container",5),e&2){let i=C(3);w("nzStringTemplateOutlet",i.formatter)("nzStringTemplateOutletContext",Xn(2,ZQ,i.nzPercent))}}function KQ(e,t){if(e&1&&(z(0,"span",3),M(1,GQ,1,1,"span",4)(2,QQ,1,4,"ng-container"),S()),e&2){let i=C(2);y(),K((i.status==="exception"||i.status==="success")&&!i.nzFormat?1:2)}}function XQ(e,t){if(e&1&&M(0,KQ,3,1,"span",3),e&2){let i=C();K(i.nzShowInfo?0:-1)}}function JQ(e,t){if(e&1&&W(0,"div",7),e&2){let i=t.$implicit;w("ngStyle",i)}}function eK(e,t){}function tK(e,t){if(e&1&&(z(0,"div",6),rt(1,JQ,1,1,"div",7,yn),M(3,eK,0,0,"ng-template",8),S()),e&2){let i=C(2),n=Pe(1);y(),ot(i.steps),y(2),w("ngTemplateOutlet",n)}}function nK(e,t){if(e&1&&W(0,"div",13),e&2){let i=C(3);dt("width",i.nzSuccessPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("height",i.strokeWidth,"px")}}function iK(e,t){}function rK(e,t){if(e&1&&(z(0,"div",9)(1,"div",10),W(2,"div",11),M(3,nK,1,6,"div",12),S()(),M(4,iK,0,0,"ng-template",8)),e&2){let i=C(2),n=Pe(1);y(2),dt("width",i.nzPercent,"%")("border-radius",i.nzStrokeLinecap==="round"?"100px":"0")("background",i.isGradient?null:i.nzStrokeColor)("background-image",i.isGradient?i.lineGradient:null)("height",i.strokeWidth,"px"),y(),K(i.nzSuccessPercent||i.nzSuccessPercent===0?3:-1),y(),w("ngTemplateOutlet",n)}}function oK(e,t){if(e&1&&(z(0,"div"),M(1,tK,4,1,"div",6)(2,rK,5,12),S()),e&2){let i=C();y(),K(i.isSteps?1:2)}}function aK(e,t){if(e&1&&(lo(),W(0,"stop")),e&2){let i=t.$implicit;Ft("offset",i.offset)("stop-color",i.color)}}function sK(e,t){if(e&1&&(lo(),z(0,"defs")(1,"linearGradient",17),rt(2,aK,1,2,":svg:stop",null,yn),S()()),e&2){let i=C(2);y(),w("id","gradient-"+i.gradientId),y(),ot(i.circleGradient)}}function lK(e,t){if(e&1&&(lo(),W(0,"path",16)),e&2){let i=t.$implicit,n=C(2);w("ngStyle",i.strokePathStyle),Ft("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",i.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function cK(e,t){}function uK(e,t){if(e&1&&(z(0,"div",10),lo(),z(1,"svg",14),M(2,sK,4,1,":svg:defs"),W(3,"path",15),rt(4,lK,1,5,":svg:path",16,yn),S(),M(6,cK,0,0,"ng-template",8),S()),e&2){let i=C(),n=Pe(1);dt("width",i.nzWidth,"px")("height",i.nzWidth,"px")("font-size",i.nzWidth*.15+6,"px"),ve("ant-progress-circle-gradient",i.isGradient),y(2),K(i.isGradient?2:-1),y(),w("ngStyle",i.trailPathStyle),Ft("stroke-width",i.strokeWidth)("d",i.pathString),y(),ot(i.progressCirclePath),y(2),w("ngTemplateOutlet",n)}}function dK(e){return+e.replace("%","")}var WI=e=>{let t=[];return Object.keys(e).forEach(i=>{let n=e[i],r=dK(i);isNaN(r)||t.push({key:r,value:n})}),t=t.sort((i,n)=>i.key-n.key),t},hK=e=>WI(e).map(({key:t,value:i})=>({offset:`${t}%`,color:i})),pK=e=>{let a=e,{from:t="#1890ff",to:i="#1890ff",direction:n="to right"}=a,r=Fv(a,["from","to","direction"]);if(Object.keys(r).length!==0){let u=WI(r).map(({key:p,value:m})=>`${m} ${p}%`).join(", ");return`linear-gradient(${n}, ${u})`}return`linear-gradient(${n}, ${t}, ${i})`},fK=0,jI="progress",mK=new Map([["success","check"],["exception","close"]]),gK=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),_K=e=>`${e}%`,Lg=(()=>{let t=class t{get formatter(){return this.nzFormat||_K}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(n,r,a){this.cdr=n,this.nzConfigService=r,this.directionality=a,this._nzModuleName=jI,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=fK++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new Ue}ngOnChanges(n){let{nzSteps:r,nzGapPosition:a,nzStrokeLinecap:u,nzStrokeColor:p,nzGapDegree:m,nzType:_,nzStatus:O,nzPercent:F,nzSuccessPercent:N,nzStrokeWidth:U}=n;O&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(F||N)&&(parseInt(this.nzPercent.toString(),10)>=100?(si(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(O||F||N||p)&&this.updateIcon(),p&&this.setStrokeColor(),(a||u||m||_||F||p||p)&&this.getCirclePaths(),(F||r||U)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(jI).pipe(le(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let n=mK.get(this.status);this.icon=n?n+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let n=Math.floor(this.nzSteps*(this.nzPercent/100)),r=this.nzSize==="small"?2:14,a=[];for(let u=0;u<this.nzSteps;u++){let p;u<=n-1&&(p=this.nzStrokeColor);let m={backgroundColor:`${p}`,width:`${r}px`,height:`${this.strokeWidth}px`};a.push(m)}this.steps=a}getCirclePaths(){if(!this.isCircleStyle)return;let n=si(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],r=50-this.strokeWidth/2,a=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),u=Math.PI*2*r,p=this.nzGapDegree||(this.nzType==="circle"?0:75),m=0,_=-r,O=0,F=r*-2;switch(a){case"left":m=-r,_=0,O=r*2,F=0;break;case"right":m=r,_=0,O=r*-2,F=0;break;case"bottom":_=r,F=r*2;break;default:}this.pathString=`M 50,50 m ${m},${_}
       a ${r},${r} 0 1 1 ${O},${-F}
       a ${r},${r} 0 1 1 ${-O},${F}`,this.trailPathStyle={strokeDasharray:`${u-p}px ${u}px`,strokeDashoffset:`-${p/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=n.map((N,U)=>{let q=n.length===2&&U===0;return{stroke:this.isGradient&&!q?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:q?gK.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(N||0)/100*(u-p)}px ${u}px`,strokeDashoffset:`-${p/2}px`}}}).reverse()}setStrokeColor(){let n=this.nzStrokeColor,r=this.isGradient=!!n&&typeof n!="string";r&&!this.isCircleStyle?this.lineGradient=pK(n):r&&this.isCircleStyle?this.circleGradient=hK(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(Tn),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",Ra],nzPercent:[2,"nzPercent","nzPercent",ji],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",Ra],nzGapDegree:[2,"nzGapDegree","nzGapDegree",Ra],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",ji]},exportAs:["nzProgress"],standalone:!0,features:[Je,$e,re],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(r,a){r&1&&(M(0,XQ,1,1,"ng-template",null,0,Ke),z(2,"div",1),M(3,oK,3,1,"div")(4,uK,7,13,"div",2),S()),r&2&&(y(2),ve("ant-progress-line",a.nzType==="line")("ant-progress-small",a.nzSize==="small")("ant-progress-default",a.nzSize==="default")("ant-progress-show-info",a.nzShowInfo)("ant-progress-circle",a.isCircleStyle)("ant-progress-steps",a.isSteps)("ant-progress-rtl",a.dir==="rtl"),w("ngClass","ant-progress ant-progress-status-"+a.status),y(),K(a.nzType==="line"?3:-1),y(),K(a.isCircleStyle?4:-1))},dependencies:[en,Jt,Rt,Nt,Pi,Qt,xi],encapsulation:2,changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzShowInfo",void 0),Re([Le()],e.prototype,"nzStrokeColor",void 0),Re([Le()],e.prototype,"nzSize",void 0),Re([Le()],e.prototype,"nzStrokeWidth",void 0),Re([Le()],e.prototype,"nzGapDegree",void 0),Re([Le()],e.prototype,"nzGapPosition",void 0),Re([Le()],e.prototype,"nzStrokeLinecap",void 0),e})(),UI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Lg]});let e=t;return e})();var yK=["processDotTemplate"],CK=["itemContainer"],xK=(e,t,i)=>({$implicit:e,status:t,index:i});function zK(e,t){e&1&&W(0,"div",11)}function bK(e,t){if(e&1&&(z(0,"div",14),W(1,"nz-progress",15),S()),e&2){let i=C(2);y(),w("nzPercent",i.nzPercentage)("nzWidth",i.nzSize==="small"?32:40)("nzFormat",i.nullProcessFormat)("nzStrokeWidth",4)}}function SK(e,t){e&1&&(z(0,"span",16),W(1,"span",17),S())}function wK(e,t){e&1&&(z(0,"span",16),W(1,"span",18),S())}function TK(e,t){if(e&1&&(z(0,"span",16),H(1),S()),e&2){let i=C(2);y(),xe(" ",i.index+1," ")}}function IK(e,t){if(e&1&&(Fe(0),W(1,"span",19),Oe()),e&2){let i=t.$implicit,n=C(3);y(),w("nzType",!n.oldAPIIcon&&i)("ngClass",n.oldAPIIcon&&i)}}function FK(e,t){if(e&1&&(z(0,"span",16),M(1,IK,2,2,"ng-container",8),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzIcon)}}function OK(e,t){if(e&1&&M(0,bK,2,4,"div",12)(1,SK,2,0,"span",13)(2,wK,2,0,"span",13)(3,TK,2,1,"span",13)(4,FK,2,1,"span",13),e&2){let i=C();w("ngIf",i.showProgress),y(),w("ngIf",i.nzStatus==="finish"&&!i.nzIcon),y(),w("ngIf",i.nzStatus==="error"),y(),w("ngIf",(i.nzStatus==="process"||i.nzStatus==="wait")&&!i.nzIcon),y(),w("ngIf",i.nzIcon)}}function MK(e,t){e&1&&W(0,"span",21)}function PK(e,t){}function DK(e,t){if(e&1&&(z(0,"span",16),M(1,MK,1,0,"ng-template",null,1,Ke)(3,PK,0,0,"ng-template",20),S()),e&2){let i=Pe(2),n=C();y(3),w("ngTemplateOutlet",n.customProcessTemplate||i)("ngTemplateOutletContext",Gv(2,xK,i,n.nzStatus,n.index))}}function EK(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzTitle)}}function AK(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),Ae(i.nzSubtitle)}}function kK(e,t){if(e&1&&(z(0,"div",22),M(1,AK,2,1,"ng-container",8),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzSubtitle)}}function NK(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzDescription)}}var RK=["*"],yc=(()=>{let t=class t{get nzStatus(){return this._status}set nzStatus(n){this._status=n,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(n){n instanceof Oi||(this.oldAPIIcon=typeof n=="string"&&n.indexOf("anticon")>-1),this._icon=n}get showProgress(){return this.nzPercentage!==null&&!this.nzIcon&&this.nzStatus==="process"&&this.nzPercentage>=0&&this.nzPercentage<=100}get currentIndex(){return this._currentIndex}set currentIndex(n){this._currentIndex=n,this.isCustomStatus||(this._status=n>this.index?"finish":n===this.index?this.outStatus||"":"wait")}constructor(n,r,a){this.cdr=n,this.ngZone=r,this.destroy$=a,this.nzDisabled=!1,this.nzPercentage=null,this.nzSize="default",this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.clickOutsideAngular$=new Ue,this.nullProcessFormat=()=>null,this._currentIndex=0}ngOnInit(){this.ngZone.runOutsideAngular(()=>dn(this.itemContainer.nativeElement,"click").pipe(yi(()=>this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled),le(this.destroy$)).subscribe(()=>{this.clickOutsideAngular$.next(this.index)}))}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(cn),k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-step"]],viewQuery:function(r,a){if(r&1&&(Qe(yK,5),Qe(CK,7)),r&2){let u;Te(u=Ie())&&(a.processDotTemplate=u.first),Te(u=Ie())&&(a.itemContainer=u.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(r,a){r&2&&ve("ant-steps-item-wait",a.nzStatus==="wait")("ant-steps-item-process",a.nzStatus==="process")("ant-steps-item-finish",a.nzStatus==="finish")("ant-steps-item-error",a.nzStatus==="error")("ant-steps-item-active",a.currentIndex===a.index)("ant-steps-item-disabled",a.nzDisabled)("ant-steps-item-custom",!!a.nzIcon)("ant-steps-next-error",a.outStatus==="error"&&a.currentIndex===a.index+1)},inputs:{nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription",nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzPercentage:"nzPercentage",nzSize:"nzSize",nzStatus:"nzStatus",nzIcon:"nzIcon"},exportAs:["nzStep"],standalone:!0,features:[on([Dn]),Je,re],decls:12,vars:8,consts:[["itemContainer",""],["processDotTemplate",""],[1,"ant-steps-item-container",3,"tabindex"],["class","ant-steps-item-tail",4,"ngIf"],[1,"ant-steps-item-icon"],[3,"ngIf"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],["class","ant-steps-item-subtitle",4,"ngIf"],[1,"ant-steps-item-description"],[1,"ant-steps-item-tail"],["class","ant-steps-progress-icon",4,"ngIf"],["class","ant-steps-icon",4,"ngIf"],[1,"ant-steps-progress-icon"],["nzType","circle",3,"nzPercent","nzWidth","nzFormat","nzStrokeWidth"],[1,"ant-steps-icon"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"],[1,"ant-steps-item-subtitle"]],template:function(r,a){r&1&&(z(0,"div",2,0),M(2,zK,1,0,"div",3),z(3,"div",4),M(4,OK,5,5,"ng-template",5)(5,DK,4,6,"ng-template",5),S(),z(6,"div",6)(7,"div",7),M(8,EK,2,1,"ng-container",8)(9,kK,2,1,"div",9),S(),z(10,"div",10),M(11,NK,2,1,"ng-container",8),S()()()),r&2&&(w("tabindex",a.clickable&&!a.nzDisabled?0:null),Ft("role",a.clickable&&!a.nzDisabled?"button":null),y(2),w("ngIf",a.last!==!0),y(2),w("ngIf",!a.showProcessDot),y(),w("ngIf",a.showProcessDot),y(3),w("nzStringTemplateOutlet",a.nzTitle),y(),w("ngIf",a.nzSubtitle),y(2),w("nzStringTemplateOutlet",a.nzDescription))},dependencies:[Jn,UI,Lg,en,Jt,Rt,Nt,Pi,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),Bp=(()=>{let t=class t{set nzProgressDot(n){n instanceof Oi?(this.showProcessDot=!0,this.customProcessDotTemplate=n):this.showProcessDot=lh(n),this.updateChildrenSteps()}constructor(n,r,a,u){this.ngZone=n,this.cdr=r,this.directionality=a,this.destroy$=u,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new fe,this.indexChangeSubscription=Wr.EMPTY,this.showProcessDot=!1,this.showProgress=!1,this.dir="ltr"}ngOnChanges(n){(n.nzStartIndex||n.nzDirection||n.nzStatus||n.nzCurrent||n.nzSize)&&this.updateChildrenSteps()}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateChildrenSteps()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe(dr(null),le(this.destroy$)).subscribe(()=>{this.updateHostProgressClass(),this.updateChildrenSteps()})}updateHostProgressClass(){this.steps&&!this.showProcessDot&&(this.showProgress=!!this.steps.toArray().find(n=>n.nzPercentage!==null))}updateChildrenSteps(){if(this.steps){let n=this.steps.length;this.steps.toArray().forEach((r,a)=>{Promise.resolve().then(()=>{r.nzSize=this.nzSize,r.outStatus=this.nzStatus,r.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(r.customProcessTemplate=this.customProcessDotTemplate),r.clickable=this.nzIndexChange.observers.length>0,r.direction=this.nzDirection,r.index=a+this.nzStartIndex,r.currentIndex=this.nzCurrent,r.last=n===a+1,r.markForCheck()})}),this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=Rn(...this.steps.map(r=>r.clickOutsideAngular$)).pipe(le(this.destroy$)).subscribe(r=>{this.nzIndexChange.observers.length&&this.ngZone.run(()=>this.nzIndexChange.emit(r))})}}};t.\u0275fac=function(r){return new(r||t)(k(cn),k(ht),k(kt),k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-steps"]],contentQueries:function(r,a,u){if(r&1&&qn(u,yc,4),r&2){let p;Te(p=Ie())&&(a.steps=p)}},hostAttrs:[1,"ant-steps"],hostVars:18,hostBindings:function(r,a){r&2&&ve("ant-steps-horizontal",a.nzDirection==="horizontal")("ant-steps-vertical",a.nzDirection==="vertical")("ant-steps-label-horizontal",a.nzDirection==="horizontal")("ant-steps-label-vertical",(a.showProcessDot||a.nzLabelPlacement==="vertical")&&a.nzDirection==="horizontal")("ant-steps-dot",a.showProcessDot)("ant-steps-small",a.nzSize==="small")("ant-steps-navigation",a.nzType==="navigation")("ant-steps-rtl",a.dir==="rtl")("ant-steps-with-progress",a.showProgress)},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],standalone:!0,features:[on([Dn]),$e,re],ngContentSelectors:RK,decls:1,vars:0,template:function(r,a){r&1&&(rn(),Yt(0))},encapsulation:2,changeDetection:0});let e=t;return e})(),Vp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[yc]});let e=t;return e})();var LK=()=>({padding:"0px"});function BK(e,t){if(e&1&&(z(0,"div",24)(1,"p"),H(2),wn(3,"date"),S(),W(4,"span",25),S(),z(5,"div",26),H(6),wn(7,"date"),S(),z(8,"div",27),H(9),S()),e&2){let i=C().$implicit;y(2),Ae(fr(3,3,i.timeStarted,"HH:mm")),y(4),Ae(fr(7,6,i.timeStarted,"MMMM dd")),y(3),Ae(i.cityFrom)}}function VK(e,t){if(e&1&&(z(0,"div",28),H(1),S()),e&2){let i=C().$implicit;y(),Ae(i.duration)}}function $K(e,t){if(e&1&&(z(0,"div",24),W(1,"span",29),H(2),wn(3,"date"),S(),z(4,"div",26),H(5),wn(6,"date"),S(),z(7,"div",30),H(8),S()),e&2){let i=C().$implicit;y(2),xe(" ",fr(3,3,i.timeArrived,"HH:mm")," "),y(3),Ae(fr(6,6,i.timeArrived,"MMMM dd")),y(3),Ae(i.cityTo)}}function HK(e,t){}function qK(e,t){if(e&1&&(z(0,"div",23)(1,"p"),H(2),S(),z(3,"p"),H(4),wn(5,"currency"),S()()),e&2){let i=t.$implicit,n=C().$implicit;y(2),xe(" ",i,": "),y(2),xe(" ",pr(5,2,n.carriages[i])," ")}}function jK(e,t){if(e&1&&(z(0,"nz-card",6)(1,"div",7)(2,"div",8)(3,"nz-steps",9),W(4,"nz-step",10)(5,"nz-step",10)(6,"nz-step",10),M(7,BK,10,9,"ng-template",null,0,Ke)(9,VK,2,1,"ng-template",null,1,Ke)(11,$K,9,9,"ng-template",null,2,Ke)(13,HK,0,0,"ng-template",11,3,Ke),S(),z(15,"div",12)(16,"div",13)(17,"span",14),lo(),z(18,"svg",15),W(19,"g",16)(20,"g",17),z(21,"g",18),W(22,"path",19),S()()(),H(23),S(),Rv(),z(24,"div",20)(25,"a",21),H(26,"Route"),S()()()(),z(27,"div",22),rt(28,qK,6,4,"div",23,yn),S()()()),e&2){let i=t.$implicit,n=Pe(8),r=Pe(10),a=Pe(12),u=Pe(14),p=C(3);w("nzBodyStyle",tr(10,LK)),y(3),w("nzCurrent",3),y(),w("nzTitle",n)("nzIcon",u),y(),w("nzTitle",r)("nzIcon",u),y(),w("nzTitle",a)("nzIcon",u),y(17),oh(" ",i.startStationId," -> ",i.endStationId," "),y(5),ot(p.getCarriageKeys(i.carriages))}}function WK(e,t){if(e&1&&(z(0,"nz-tab",4)(1,"div",5),rt(2,jK,30,11,"nz-card",6,yn),S()()),e&2){let i=t.$implicit;w("nzTitle",i.date),y(2),ot(i.routes)}}function UK(e,t){if(e&1&&(z(0,"nz-tabset"),rt(1,WK,4,1,"nz-tab",4,yn),S()),e&2){let i=C();y(),ot(i.groupTabs)}}var GI=(()=>{let t=class t{constructor(n){this.datePipe=n,this.groupTabs=[]}ngOnChanges(){this.response&&this.getRoute(this.response)}calculateDuration(n,r){let a=r.getTime()-n.getTime(),u=Math.floor(a/(1e3*60*60*24)),p=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),m=Math.floor(a%(1e3*60*60)/(1e3*60));return`${u}d ${p}h ${m}m`}getCarriageKeys(n){return Object.keys(n)}getRoute(n){let{stationId:r,city:a}=n.from,{stationId:u,city:p}=n.to,m=[];return n.routes.forEach((_,O)=>{let{path:F,id:N,schedule:U}=_,[q,se]=[F[0],F[F.length-1]],ce=F.indexOf(r),we=F.indexOf(u);U&&U.length>0&&U.forEach(tt=>{let{segments:st,rideId:Lt}=tt,mt=st[ce],ke=st[we];if(mt&&ke){let[Pt]=mt.time,[sn]=ke.time,Z=this.datePipe.transform(new Date(Pt),"EEE, MMMM dd"),ue=this.datePipe.transform(new Date(sn),"EEE, MMMM dd"),Me=new Date(Pt),ge=new Date(sn),ct=this.calculateDuration(Me,ge);if(Z&&ue){let de=m.find(X=>X.date===Z);de||(de={date:Z,routes:[]},m.push(de));let Xe=mt.price;de.routes.push({rideId:Lt,routeIndex:O,id:N,indexFrom:ce,route:_,carriages:Xe,timeStarted:Pt,timeArrived:sn,departureTime:Z,arrivedTime:ue,stationIdFrom:r,cityFrom:a,cityTo:p,startStationId:q,endStationId:se,duration:ct})}}})}),this.groupTabs=m,m}};t.\u0275fac=function(r){return new(r||t)(k(Es))},t.\u0275cmp=ie({type:t,selectors:[["app-route-tabs"]],inputs:{response:"response"},standalone:!0,features:[$e,re],decls:1,vars:1,consts:[["nzFrom",""],["nzDur",""],["nzTo",""],["custom1",""],[1,"tab",3,"nzTitle"],[1,"tab-holder"],["nzHoverable","",1,"card-holder",3,"nzBodyStyle"],[1,"card"],[1,"left-container"],["nzSize","small",3,"nzCurrent"],[3,"nzTitle","nzIcon"],[2,"display","none"],[1,"route"],[1,"route__city"],[1,"choo-choo-mf"],["fill","#000000","height","30px","width","30px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 480 480",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","XMLID_1707_","d","M10,210.001c-5.523,0-10-4.477-10-10s4.477-10,10-10h2c5.523,0,10,4.477,10,10s-4.477,10-10,10H10z M0,287.647V260c0-16.542,13.458-30,30-30h109.836l-18.182-99.999H30c-5.514,0-10,5.541-10,12.353v17.647c0,5.523-4.477,10-10,10 s-10-4.477-10-10v-20c0-0.926,0.126-1.823,0.362-2.675C2.608,121.866,15.043,110.001,30,110.001h99.828 c0.122-0.002,0.245-0.002,0.368,0h89.632c0.122-0.002,0.245-0.002,0.368,0h89.631c0.123-0.002,0.247-0.002,0.368,0h11.898 c47.757,0,91.209,29.101,113.399,75.946l41.192,86.961c5.003,10.562,4.256,23.214-1.949,33.021 C469.16,314.74,459.902,320,449.973,320H30C13.458,320,0,305.487,0,287.647z M231.982,130.001l17.857,98.21 c0.109,0.601,0.162,1.199,0.163,1.789h69.834l-18.182-99.999H231.982z M141.982,130.001l17.857,98.21 c0.109,0.601,0.162,1.199,0.163,1.789h69.834l-18.182-99.999H141.982z M20,287.647C20,294.459,24.486,300,30,300h419.973 c4.217,0,6.736-2.987,7.863-4.767c2.017-3.187,3.279-8.477,0.775-13.764l-41.192-86.961c-18.849-39.79-55.375-64.507-95.325-64.507 h-0.111l17.856,98.21c0.109,0.601,0.162,1.199,0.163,1.789H390c5.522,0,10,4.477,10,10s-4.478,10-10,10H30c-5.514,0-10,4.486-10,10 V287.647z M470,350H10c-5.523,0-10,4.477-10,10s4.477,10,10,10h460c5.522,0,10-4.477,10-10S475.522,350,470,350z M100,210.001 c5.523,0,10-4.477,10-10s-4.477-10-10-10H40c-5.523,0-10,4.477-10,10s4.477,10,10,10H100z"],[1,"route__link"],["href",""],[1,"carriage"],[1,"carriage__content"],[1,"card__time"],["nz-icon","","nzType","environment","nzTheme","outline"],[1,"card__time__date"],[1,"card__time__city"],[1,"card__duration"],["nz-icon","","nzType","environment","nzTheme","fill"],[1,"card__city"]],template:function(r,a){r&1&&M(0,UK,3,0,"nz-tabset"),r&2&&K(a.groupTabs.length>0?0:-1)},dependencies:[Na,ah,Es,_c,Ng,kg,Lp,Zu,Vp,Bp,yc,en,Jt],styles:[".tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.tab-holder[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:20px}.card[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-holder[_ngcontent-%COMP%]{border-radius:8px}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;min-width:460px;max-width:40%}.route[_ngcontent-%COMP%]{display:flex;gap:1rem}.route__city[_ngcontent-%COMP%]{display:flex;border:solid 1px;border-radius:9px;gap:4px;padding:0 5px;align-items:center}.choo-choo-mf[_ngcontent-%COMP%]{height:20px;display:flex}.carriage[_ngcontent-%COMP%]{display:flex;gap:1rem}.carriage__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-left:1px solid #f0f0f0;padding:24px;align-items:center}.card__time[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600;display:flex;justify-content:space-between}@media screen and (max-width: 1024px){.card[_ngcontent-%COMP%]{flex-direction:column}.left-container[_ngcontent-%COMP%]{max-width:100%}.carriage[_ngcontent-%COMP%]{width:100%;justify-content:space-between;border-top:1px solid #f0f0f0}.carriage__content[_ngcontent-%COMP%]{flex-grow:1}.carriage__content[_ngcontent-%COMP%]:first-child{border:0}}@media screen and (max-width: 720px){.left-container[_ngcontent-%COMP%]{min-width:100%;padding:8px}.carriage__content[_ngcontent-%COMP%]{padding:8px}}"]});let e=t;return e})();var Cc=(()=>{let t=class t{constructor(n,r){this.http=n,this.searchService=r,this.apiUrl="https://nominatim.openstreetmap.org/search"}searchCity(n){let r={q:n,format:"json",limit:"5"};return this.http.get(this.apiUrl,{params:r}).pipe(Fi(a=>a.map(u=>({name:u.name,lat:u.lat,lon:u.lon}))))}findClosestStation(n,r){return this.searchService.findClosestStation(parseFloat(n),parseFloat(r))}};t.\u0275fac=function(r){return new(r||t)(Ci(Oo),Ci(es))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $p=(()=>{let t=class t{constructor(n){this.geoService=n}createSearchObservable(n,r,a){return n.valueChanges.pipe(eh(300),Sr(),hr(u=>this.geoService.searchCity(u)),nh(u=>{u.length>0&&a.get(r)?.setValue({lat:u[0].lat,lon:u[0].lon})}))}};t.\u0275fac=function(r){return new(r||t)(Ci(Cc))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ZK(e,t){if(e&1&&(z(0,"nz-auto-option",11),H(1),S()),e&2){let i=t.$implicit;w("nzValue",i.name),y(),xe(" ",i.name," ")}}function GK(e,t){if(e&1&&(z(0,"nz-auto-option",11),H(1),S()),e&2){let i=t.$implicit;w("nzValue",i.name),y(),xe(" ",i.name," ")}}function YK(e,t){e&1&&W(0,"span",23)}function QK(e,t){e&1&&W(0,"span",24)}var QI=(()=>{let t=class t{constructor(n,r,a,u,p){this.fb=n,this.formUtilsService=r,this.geoService=a,this.searchService=u,this.markerService=p,this.searchForm=this.fb.group({from:["",li.required],to:["",[li.required,this.notSameAsStart.bind(this)]],tripDate:["",[li.required]],fromCoords:["",li.required],toCoords:["",li.required]}),this.closestStationFrom=null,this.closestStationTo=null,this.fromOptions$=this.formUtilsService.createSearchObservable(this.startCity,"fromCoords",this.searchForm),this.toOptions$=this.formUtilsService.createSearchObservable(this.endCity,"toCoords",this.searchForm)}handleMarkerClick(n){let r=this.searchForm.get("fromCoords")?.value,a=this.searchForm.get("toCoords")?.value;this.markerService.toggleMarker(n,r,a,this.setFormValue.bind(this))}setFormValue(n,r){this.searchForm.patchValue({[n]:r})}resetForm(){this.searchForm.reset()}get startCity(){return this.searchForm.get("from")}get endCity(){return this.searchForm.get("to")}get tripDate(){return this.searchForm.get("tripDate")}notSameAsStart(n){let r=this.searchForm?.get("from")?.value;return n.value===r?{notSameAsStart:!0}:null}submitForm(){if(this.searchForm.valid){let n=this.searchForm.get("fromCoords")?.value,r=this.searchForm.get("toCoords")?.value,a=this.searchForm.get("tripDate")?.value,u=new Date(a).toISOString();this.geoService.findClosestStation(n.lat,n.lon).pipe(hr(p=>(this.markerService.selectMarkerByCity(p.city,"from",this.setFormValue.bind(this)),this.geoService.findClosestStation(r.lat,r.lon).pipe(hr(m=>{if(this.markerService.selectMarkerByCity(m.city,"to",this.setFormValue.bind(this)),p&&m)return this.searchService.searchRoutes(p.latitude,p.longitude,m.latitude,m.longitude,u);throw new Error("Can`t finde stations")}))))).subscribe({next:p=>{console.log(p),this.response=p}})}}disabledDates(n){let r=new Date;return r.setHours(0,0,0,0),n.getTime()<r.getTime()}};t.\u0275fac=function(r){return new(r||t)(k(ch),k($p),k(Cc),k(es),k(vc))},t.\u0275cmp=ie({type:t,selectors:[["app-main"]],standalone:!0,features:[on([Es]),re],decls:36,vars:14,consts:[["autoFrom",""],["autoTo",""],["from",""],["to",""],["nz-form","",1,"ant-advanced-search-form",3,"ngSubmit","formGroup"],[1,"form"],[1,"form_dest"],["nzErrorTip","Please select start stattion"],[3,"nzPrefix"],["formControlName","from","placeholder","From","nz-input","",3,"nzAutocomplete"],["nzBackfill",""],[3,"nzValue"],[1,"icon-swap"],["nz-icon","","nzType","swap","nzTheme","outline"],["nzErrorTip","Please select end station"],["formControlName","to","placeholder","To","nz-input","",3,"nzAutocomplete"],[1,"form_date"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","tripDate","nzFormat","MMMM dd",1,"input_date",3,"nzDisabledDate"],[1,"form_submit"],["nz-button","","nzType","primary"],[3,"response"],[3,"markerClicked"],["nz-icon","","nzType","environment","nzTheme","outline"],["nz-icon","","nzType","environment","nzTheme","fill"]],template:function(r,a){if(r&1){let u=he();z(0,"form",4),Q("ngSubmit",function(){return B(u),V(a.submitForm())}),z(1,"div",5)(2,"div",6)(3,"nz-form-item")(4,"nz-form-control",7)(5,"nz-input-group",8),W(6,"input",9),S(),z(7,"nz-autocomplete",10,0),rt(9,ZK,2,2,"nz-auto-option",11,yn),wn(11,"async"),S()()(),z(12,"div",12),W(13,"span",13),S(),z(14,"nz-form-item")(15,"nz-form-control",14)(16,"nz-input-group",8),W(17,"input",15),S(),z(18,"nz-autocomplete",10,1),rt(20,GK,2,2,"nz-auto-option",11,yn),wn(22,"async"),S()()(),M(23,YK,1,0,"ng-template",null,2,Ke)(25,QK,1,0,"ng-template",null,3,Ke),S(),z(27,"div",16)(28,"nz-form-item")(29,"nz-form-control",17),W(30,"nz-date-picker",18),S()()(),z(31,"div",19)(32,"button",20),H(33,"Submit"),S()()(),W(34,"app-route-tabs",21),z(35,"app-map",22),Q("markerClicked",function(m){return B(u),V(a.handleMarkerClick(m))}),S()()}if(r&2){let u=Pe(8),p=Pe(19),m=Pe(24),_=Pe(26);w("formGroup",a.searchForm),y(5),w("nzPrefix",m),y(),w("nzAutocomplete",u),y(3),ot(pr(11,10,a.fromOptions$)),y(7),w("nzPrefix",_),y(),w("nzAutocomplete",p),y(3),ot(pr(22,12,a.toOptions$)),y(9),w("nzSm",24)("nzXs",24)("nzErrorTip","Please select date"),y(),w("nzDisabledDate",a.disabledDates),y(4),w("response",a.response)}},dependencies:[Na,Pl,sy,Ao,Eo,Wi,zi,Do,La,Ba,Bo,Vo,Wl,qa,Ha,jl,Ui,_h,Lo,Ro,gc,Sp,xg,Fp,Ip,Ys,ju,_c,en,Jt,RI,Uu,GI],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.ant-advanced-search-form[_ngcontent-%COMP%]{padding:24px;background:#fbfbfb;border:1px solid #d9d9d9;border-radius:6px;width:80%;display:flex;justify-content:center;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;width:100%;gap:10px;justify-content:space-between}.form_dest[_ngcontent-%COMP%]{position:relative;display:flex;flex:0 0 50%;max-width:50%;flex-direction:row;column-gap:10px}.icon-swap[_ngcontent-%COMP%]{min-width:30px;width:30px;height:30px;border:1px solid #e9e9e9;border-radius:50%;display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:calc(50% - 12px);transform:translateY(-50%);z-index:999;margin:0 auto;background-color:#ffffff8a;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.form_date[_ngcontent-%COMP%]{display:flex;width:100%}.form_submit[_ngcontent-%COMP%]{display:flex}.input_date[_ngcontent-%COMP%]{height:32px;width:100%}.ant-form-item[_ngcontent-%COMP%]{display:flex;width:100%}.ant-form-button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.form_item[_ngcontent-%COMP%]{display:flex;flex:0 0 25%;max-width:25%}.form_item_button[_ngcontent-%COMP%]{display:flex;flex:0 0 20%;max-width:20%}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}@media screen and (max-width: 1024px){.ant-advanced-search-form[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{flex-direction:column;gap:0;margin-bottom:20px}.form_dest[_ngcontent-%COMP%]{max-width:100%}.ant-btn-primary[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 720px){.form_dest[_ngcontent-%COMP%]{flex-direction:column}.ant-form-item[_ngcontent-%COMP%]{display:flex}.icon-swap[_ngcontent-%COMP%]{top:calc(50% - 12px);transform:translate(-50%);left:90%;rotate:90deg;width:38px;height:38px}}"]});let e=t;return e})();function KK(e,t){e&1&&Xt(0)}function XK(e,t){if(e&1&&M(0,KK,1,0,"ng-container",7),e&2){let i=C(3);w("nzStringTemplateOutlet",i.nzIcon)}}function JK(e,t){if(e&1&&W(0,"span",6),e&2){let i=C(3);w("nzType",i.nzIconType||i.inferredIconType)("nzTheme",i.iconTheme)}}function eX(e,t){if(e&1&&(z(0,"div",2),M(1,XK,1,1,"ng-container")(2,JK,1,2,"span",6),S()),e&2){let i=C(2);y(),K(i.nzIcon?1:2)}}function tX(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(4);y(),Ae(i.nzMessage)}}function nX(e,t){if(e&1&&(z(0,"span",8),M(1,tX,2,1,"ng-container",7),S()),e&2){let i=C(3);y(),w("nzStringTemplateOutlet",i.nzMessage)}}function iX(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(4);y(),Ae(i.nzDescription)}}function rX(e,t){if(e&1&&(z(0,"span",9),M(1,iX,2,1,"ng-container",7),S()),e&2){let i=C(3);y(),w("nzStringTemplateOutlet",i.nzDescription)}}function oX(e,t){if(e&1&&(z(0,"div",3),M(1,nX,2,1,"span",8)(2,rX,2,1,"span",9),S()),e&2){let i=C(2);y(),K(i.nzMessage?1:-1),y(),K(i.nzDescription?2:-1)}}function aX(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(3);y(),Ae(i.nzAction)}}function sX(e,t){if(e&1&&(z(0,"div",4),M(1,aX,2,1,"ng-container",7),S()),e&2){let i=C(2);y(),w("nzStringTemplateOutlet",i.nzAction)}}function lX(e,t){if(e&1&&(Fe(0),z(1,"span",12),H(2),S(),Oe()),e&2){let i=C(4);y(2),Ae(i.nzCloseText)}}function cX(e,t){if(e&1&&M(0,lX,3,1,"ng-container",7),e&2){let i=C(3);w("nzStringTemplateOutlet",i.nzCloseText)}}function uX(e,t){e&1&&W(0,"span",11)}function dX(e,t){if(e&1){let i=he();z(0,"button",10),Q("click",function(){B(i);let r=C(2);return V(r.closeAlert())}),M(1,cX,1,1,"ng-container")(2,uX,1,0,"span",11),S()}if(e&2){let i=C(2);y(),K(i.nzCloseText?1:2)}}function hX(e,t){if(e&1){let i=he();z(0,"div",1),Q("@slideAlertMotion.done",function(){B(i);let r=C();return V(r.onFadeAnimationDone())}),M(1,eX,3,1,"div",2)(2,oX,3,2,"div",3)(3,sX,2,1,"div",4)(4,dX,3,1,"button",5),S()}if(e&2){let i=C();ve("ant-alert-rtl",i.dir==="rtl")("ant-alert-success",i.nzType==="success")("ant-alert-info",i.nzType==="info")("ant-alert-warning",i.nzType==="warning")("ant-alert-error",i.nzType==="error")("ant-alert-no-icon",!i.nzShowIcon)("ant-alert-banner",i.nzBanner)("ant-alert-closable",i.nzCloseable)("ant-alert-with-description",!!i.nzDescription),w("@.disabled",i.nzNoAnimation)("@slideAlertMotion",void 0),y(),K(i.nzShowIcon?1:-1),y(),K(i.nzMessage||i.nzDescription?2:-1),y(),K(i.nzAction?3:-1),y(),K(i.nzCloseable||i.nzCloseText?4:-1)}}var KI="alert",pX=(()=>{let t=class t{constructor(n,r,a){this.nzConfigService=n,this.cdr=r,this.directionality=a,this._nzModuleName=KI,this.nzAction=null,this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzIcon=null,this.nzOnClose=new fe,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new Ue,this.nzConfigService.getConfigChangeEventForComponent(KI).pipe(le(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(n){let{nzShowIcon:r,nzDescription:a,nzType:u,nzBanner:p}=n;if(r&&(this.isShowIconSet=!0),u)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle";break}a&&(this.iconTheme=this.nzDescription?"outline":"fill"),p&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(ht),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:[2,"nzCloseable","nzCloseable",ee],nzShowIcon:[2,"nzShowIcon","nzShowIcon",ee],nzBanner:[2,"nzBanner","nzBanner",ee],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",ee],nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],standalone:!0,features:[Je,$e,re],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],["nz-icon","",3,"nzType","nzTheme"],[4,"nzStringTemplateOutlet"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],["nz-icon","","nzType","close"],[1,"ant-alert-close-text"]],template:function(r,a){r&1&&M(0,hX,5,24,"div",0),r&2&&K(a.closed?-1:0)},dependencies:[en,Jt,Rt,Nt],encapsulation:2,data:{animation:[Hy]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzCloseable",void 0),Re([Le()],e.prototype,"nzShowIcon",void 0),e})(),XI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[pX]});let e=t;return e})();var JI=(()=>{let t=class t{constructor(n){this.http=n,this.apiUrl="/api/signup"}signUp(n,r){let a={email:n,password:r};return this.http.post(this.apiUrl,a).pipe(wl(this.handleError))}handleError(n){let r="An unknown error occurred!";return n.error instanceof ErrorEvent&&(r=`Client-side error: ${n.error.message}`),n.status&&(r=`Server-side error: ${n.status}`),n.status===400&&n.error&&(r=`Error: ${n.error.message}`),Xd(()=>new Error(r))}};t.\u0275fac=function(r){return new(r||t)(Ci(Oo))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gX(e,t){e&1&&H(0," Please enter your email! ")}function _X(e,t){e&1&&H(0," The input is not valid E-mail! ")}function vX(e,t){if(e&1&&H(0),e&2){let i=C(2);xe(" ",i.errorMessage," ")}}function yX(e,t){if(e&1&&M(0,gX,1,0)(1,_X,1,0)(2,vX,1,1),e&2){let i=t.$implicit;K(i.errors!=null&&i.errors.required?0:-1),y(),K(i.errors!=null&&i.errors.email?1:-1),y(),K(i.errors!=null&&i.errors.serverError?2:-1)}}function CX(e,t){e&1&&H(0," Please enter your password! ")}function xX(e,t){e&1&&H(0," Passwort must be at least 8 characters! ")}function zX(e,t){if(e&1&&M(0,CX,1,0)(1,xX,1,0),e&2){let i=t.$implicit;K(i.errors!=null&&i.errors.required?0:-1),y(),K(i.errors!=null&&i.errors.minlength?1:-1)}}function bX(e,t){e&1&&H(0," Please confirm your password! ")}function SX(e,t){e&1&&H(0," Passwords do not match! ")}function wX(e,t){if(e&1&&M(0,bX,1,0)(1,SX,1,0),e&2){let i=t.$implicit;K(i.errors!=null&&i.errors.required?0:-1),y(),K(i.errors!=null&&i.errors.confirm?1:-1)}}var tF=(()=>{let t=class t{constructor(n,r,a){this.nnfb=n,this.signupService=r,this.router=a,this.errorMessage="",this.imageUrl=`assets/images/signup-train-${new Date().getTime()%3+1}.jpg`,this.checkPasswordValidator=u=>(this.errorMessage="",u.value?u.value!==this.signupForm.get("password")?.value?{confirm:!0}:{}:{required:!0}),this.signupForm=this.nnfb.group({email:["",[li.required,li.email]],password:["",[li.required,li.minLength(8)]],checkPassword:["",[li.required,this.checkPasswordValidator]]})}submitForm(){this.signupForm.valid&&this.signupService.signUp(this.signupForm.get("email")?.value,this.signupForm.get("password")?.value).pipe(Fs(1)).subscribe({next:()=>{this.router.navigate(["/signin"])},error:n=>{this.errorMessage=n.message,this.signupForm.get("email")?.setErrors({serverError:!0})}})}};t.\u0275fac=function(r){return new(r||t)(k(uh),k(JI),k(Mo))},t.\u0275cmp=ie({type:t,selectors:[["app-signup"]],standalone:!0,features:[re],decls:29,vars:6,consts:[["errorEmail",""],["errorPassword",""],["errorCheckPassword",""],["nz-form","",3,"ngSubmit","formGroup"],["nzFor","email","nzRequired",""],[3,"nzErrorTip"],["nz-input","","formControlName","email","id","email"],["nzFor","password","nzRequired",""],["nz-input","","type","password","formControlName","password","id","password"],["nzFor","checkPassword","nzRequired",""],["nz-input","","type","password","formControlName","checkPassword","id","checkPassword"],[1,"register-area"],["nz-button","","nzType","primary",3,"disabled"],["nz-button","","nzType","default"],[1,"image"],["nz-image","","nzDisablePreview","","alt","",3,"nzSrc"]],template:function(r,a){if(r&1){let u=he();z(0,"form",3),Q("ngSubmit",function(){return B(u),V(a.submitForm())}),z(1,"nz-form-item")(2,"nz-form-label",4),H(3,"E-mail"),S(),z(4,"nz-form-control",5),W(5,"input",6),S()(),z(6,"nz-form-item")(7,"nz-form-label",7),H(8,"Password"),S(),z(9,"nz-form-control",5),W(10,"input",8),S()(),z(11,"nz-form-item")(12,"nz-form-label",9),H(13,"Confirm Password"),S(),z(14,"nz-form-control",5),W(15,"input",10),S()(),z(16,"div",11)(17,"button",12),H(18,"Register"),S(),z(19,"button",13),H(20,"Sign In"),S()()(),z(21,"div",14),W(22,"img",15),S(),M(23,yX,3,3,"ng-template",null,0,Ke)(25,zX,2,2,"ng-template",null,1,Ke)(27,wX,2,2,"ng-template",null,2,Ke)}if(r&2){let u=Pe(24),p=Pe(26),m=Pe(28);w("formGroup",a.signupForm),y(4),w("nzErrorTip",u),y(5),w("nzErrorTip",p),y(5),w("nzErrorTip",m),y(3),w("disabled",!a.signupForm.valid),y(5),w("nzSrc",a.imageUrl)}},dependencies:[Ao,Eo,Wi,zi,Do,La,Ba,ql,Lo,Ro,$l,Bo,Hl,Vo,XI,qa,Ha,Gr,Ui,Ur,Zr,Uy,Wy],styles:["[_nghost-%COMP%]{display:flex;column-gap:20px;width:fit-content;margin:0 auto;background-color:#d6e4ff;padding:20px;border-radius:8px}form[_ngcontent-%COMP%]{width:240px}@media (max-width: 575px){form[_ngcontent-%COMP%]{width:340px}}nz-form-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;flex-direction:column;margin-bottom:24px;height:65px}nz-form-label[_ngcontent-%COMP%], nz-form-control[_ngcontent-%COMP%]{width:100%;text-align:start;flex:1 1!important}.register-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 auto}.image[_ngcontent-%COMP%]{height:300px}.image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:contain;border-radius:8px}@media (max-width: 575px){form[_ngcontent-%COMP%]{width:300px}.image[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let e=t;return e})();function TX(e,t){e&1&&H(0," Incorrect email! ")}function IX(e,t){e&1&&H(0," Required! ")}function FX(e,t){if(e&1&&H(0),e&2){let i=C(2);xe(" ",i.errorMessage," ")}}function OX(e,t){if(e&1&&M(0,TX,1,0)(1,IX,1,0)(2,FX,1,1),e&2){let i=t.$implicit,n=C();K(i.errors!=null&&i.errors.invalidEmail?0:-1),y(),K(i.errors!=null&&i.errors.required?1:-1),y(),K(n.loginForm.controls.userName.hasError("invalidEmail")?2:-1)}}function MX(e,t){e&1&&H(0," Required! ")}function PX(e,t){e&1&&H(0," Password has to be not less 8 symbols! ")}function DX(e,t){if(e&1&&H(0),e&2){let i=C(2);xe(" ",i.errorMessage," ")}}function EX(e,t){if(e&1&&M(0,MX,1,0)(1,PX,1,0)(2,DX,1,1),e&2){let i=t.$implicit,n=C();K(i.errors!=null&&i.errors.required?0:-1),y(),K(i.errors!=null&&i.errors.minlength?1:-1),y(),K(n.loginForm.controls.password.hasError("userNotFound")?2:-1)}}var nF=(()=>{let t=class t{constructor(n,r,a){this.router=n,this.formBuilder=r,this.loginService=a,this.errorMessage="",this.loginForm=this.formBuilder.group({userName:["",[Yy.emailValidation(),li.required]],password:["",[li.required,li.minLength(8)]]})}submitForm(){if(this.loginForm.valid){let n=this.loginForm.controls.userName.value,r=this.loginForm.controls.password.value;this.loginService.login(n,r).pipe(Fs(1)).subscribe({next:()=>{this.router.navigate(["/"])},error:a=>{this.handleLoginError(a)}})}}handleLoginError(n){this.errorMessage=n.message,n.message.includes("Incorrect email or password")?this.loginForm.controls.password.setErrors({userNotFound:!0}):n.message.includes("Email is wrong")?this.loginForm.controls.userName.setErrors({invalidEmail:!0}):(this.loginForm.controls.userName.setErrors({serverError:!0}),this.loginForm.controls.password.setErrors({serverError:!0}))}};t.\u0275fac=function(r){return new(r||t)(k(Mo),k(uh),k(Ul))},t.\u0275cmp=ie({type:t,selectors:[["app-login-page"]],standalone:!0,features:[re],decls:18,vars:5,consts:[["emailErrorTpl",""],["passwordErrorTpl",""],["nz-form","",1,"login-form",3,"ngSubmit","formGroup"],["nzErrorTip","Please input your username!","nzHasFeedback","",3,"nzErrorTip"],["nzPrefixIcon","user"],["type","text","nz-input","","formControlName","userName","placeholder","Username"],[3,"nzErrorTip"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Password"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType","disabled"],["routerLink","/signup"]],template:function(r,a){if(r&1){let u=he();z(0,"form",2),Q("ngSubmit",function(){return B(u),V(a.submitForm())}),z(1,"nz-form-item")(2,"nz-form-control",3)(3,"nz-input-group",4),W(4,"input",5),S()()(),z(5,"nz-form-item")(6,"nz-form-control",6)(7,"nz-input-group",7),W(8,"input",8),S()()(),z(9,"button",9),H(10," Log in "),S(),H(11," Or "),z(12,"a",10),H(13,"register now!"),S()(),M(14,OX,3,3,"ng-template",null,0,Ke)(16,EX,3,3,"ng-template",null,1,Ke)}if(r&2){let u=Pe(15),p=Pe(17);w("formGroup",a.loginForm),y(2),w("nzErrorTip",u),y(4),w("nzErrorTip",p),y(3),w("nzType","primary")("disabled",!a.loginForm.valid)}},dependencies:[Zy,ql,Lo,Ro,$l,Bo,Vo,qa,Ha,Wl,Gr,Ui,Ur,Zr,Ao,Eo,Wi,zi,Do,La,Ba,As],styles:["[_nghost-%COMP%]{display:flex;column-gap:20px;width:fit-content;margin:0 auto;background-color:#d6e4ff;padding:20px;border-radius:8px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-button[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let e=t;return e})();var Hg=(e,t)=>{let i=Ee(Ul),n=Ee(Mo),r=i.isAuthenticated();return t.url==="/signin"&&r?(n.navigate(["/"]),!1):t.url==="/orders"&&!r?(n.navigate(["/"]),!1):!0};var iF=()=>Ee(Ul).isAuthenticated();var AX=["nz-pagination-item",""],kX=(e,t)=>({$implicit:e,page:t});function NX(e,t){if(e&1&&(z(0,"a"),H(1),S()),e&2){let i=C().page;y(),Ae(i)}}function RX(e,t){e&1&&W(0,"span",4)}function LX(e,t){e&1&&W(0,"span",5)}function BX(e,t){if(e&1&&(z(0,"button",2),M(1,RX,1,0,"span",4)(2,LX,1,0,"span",5),S()),e&2){let i=C(2);w("disabled",i.disabled),Ft("title",i.locale.prev_page),y(),K(i.direction==="rtl"?1:2)}}function VX(e,t){e&1&&W(0,"span",5)}function $X(e,t){e&1&&W(0,"span",4)}function HX(e,t){if(e&1&&(z(0,"button",2),M(1,VX,1,0,"span",5)(2,$X,1,0,"span",4),S()),e&2){let i=C(2);w("disabled",i.disabled),Ft("title",i.locale.next_page),y(),K(i.direction==="rtl"?1:2)}}function qX(e,t){e&1&&W(0,"span",8)}function jX(e,t){e&1&&W(0,"span",9)}function WX(e,t){if(e&1&&M(0,qX,1,0,"span",8)(1,jX,1,0,"span",9),e&2){let i=C(3);K(i.direction==="rtl"?0:1)}}function UX(e,t){e&1&&W(0,"span",9)}function ZX(e,t){e&1&&W(0,"span",8)}function GX(e,t){if(e&1&&M(0,UX,1,0,"span",9)(1,ZX,1,0,"span",8),e&2){let i=C(3);K(i.direction==="rtl"?0:1)}}function YX(e,t){if(e&1&&(z(0,"a",3)(1,"div",6),M(2,WX,2,1)(3,GX,2,1),z(4,"span",7),H(5,"\u2022\u2022\u2022"),S()()()),e&2){let i,n=C().$implicit;y(2),K((i=n)==="prev_5"?2:i==="next_5"?3:-1)}}function QX(e,t){if(e&1&&M(0,NX,2,1,"a")(1,BX,3,3,"button",2)(2,HX,3,3,"button",2)(3,YX,6,1,"a",3),e&2){let i,n=t.$implicit;K((i=n)==="page"?0:i==="prev"?1:i==="next"?2:3)}}function KX(e,t){}var XX=["nz-pagination-options",""],JX=(e,t)=>t.value;function eJ(e,t){if(e&1&&W(0,"nz-option",3),e&2){let i=t.$implicit;w("nzLabel",i.label)("nzValue",i.value)}}function tJ(e,t){if(e&1){let i=he();z(0,"nz-select",2),Q("ngModelChange",function(r){B(i);let a=C();return V(a.onPageSizeChange(r))}),rt(1,eJ,1,2,"nz-option",3,JX),S()}if(e&2){let i=C();w("nzDisabled",i.disabled)("nzSize",i.nzSize)("ngModel",i.pageSize),y(),ot(i.listOfPageSizeOption)}}function nJ(e,t){if(e&1){let i=he();z(0,"div",1),H(1),z(2,"input",4),Q("keydown.enter",function(r){B(i);let a=C();return V(a.jumpToPageViaInput(r))}),S(),H(3),S()}if(e&2){let i=C();y(),xe(" ",i.locale.jump_to," "),y(),w("disabled",i.disabled),y(),xe(" ",i.locale.page," ")}}var rF=["containerTemplate"],iJ=(e,t)=>({$implicit:e,range:t});function rJ(e,t){}function oJ(e,t){if(e&1&&(z(0,"li",1),M(1,rJ,0,0,"ng-template",4),S()),e&2){let i=C(2);y(),w("ngTemplateOutlet",i.showTotal)("ngTemplateOutletContext",hm(2,iJ,i.total,i.ranges))}}function aJ(e,t){if(e&1){let i=he();z(0,"li",5),Q("gotoIndex",function(r){B(i);let a=C(2);return V(a.jumpPage(r))})("diffIndex",function(r){B(i);let a=C(2);return V(a.jumpDiff(r))}),S()}if(e&2){let i=t.$implicit,n=C(2);w("locale",n.locale)("type",i.type)("index",i.index)("disabled",!!i.disabled)("itemRender",n.itemRender)("active",n.pageIndex===i.index)("direction",n.dir)}}function sJ(e,t){if(e&1){let i=he();z(0,"li",6),Q("pageIndexChange",function(r){B(i);let a=C(2);return V(a.onPageIndexChange(r))})("pageSizeChange",function(r){B(i);let a=C(2);return V(a.onPageSizeChange(r))}),S()}if(e&2){let i=C(2);w("total",i.total)("locale",i.locale)("disabled",i.disabled)("nzSize",i.nzSize)("showSizeChanger",i.showSizeChanger)("showQuickJumper",i.showQuickJumper)("pageIndex",i.pageIndex)("pageSize",i.pageSize)("pageSizeOptions",i.pageSizeOptions)}}function lJ(e,t){if(e&1&&(z(0,"ul"),M(1,oJ,2,5,"li",1),rt(2,aJ,1,7,"li",2,Zv().trackByPageItem,!0),M(4,sJ,1,9,"li",3),S()),e&2){let i=C();y(),K(i.showTotal?1:-1),y(),ot(i.listOfPageItem),y(2),K(i.showQuickJumper||i.showSizeChanger?4:-1)}}function cJ(e,t){if(e&1){let i=he();z(0,"ul")(1,"li",1),Q("click",function(){B(i);let r=C();return V(r.prePage())}),S(),z(2,"li",2)(3,"input",3),Q("keydown.enter",function(r){B(i);let a=C();return V(a.jumpToPageViaInput(r))}),S(),z(4,"span",4),H(5,"/"),S(),H(6),S(),z(7,"li",5),Q("click",function(){B(i);let r=C();return V(r.nextPage())}),S()()}if(e&2){let i=C();y(),w("locale",i.locale)("disabled",i.isFirstIndex)("direction",i.dir)("itemRender",i.itemRender),Ft("title",i.locale.prev_page),y(),Ft("title",i.pageIndex+"/"+i.lastIndex),y(),w("disabled",i.disabled)("value",i.pageIndex),y(3),xe(" ",i.lastIndex," "),y(),w("locale",i.locale)("disabled",i.isLastIndex)("direction",i.dir)("itemRender",i.itemRender),Ft("title",i.locale==null?null:i.locale.next_page)}}function uJ(e,t){}function dJ(e,t){if(e&1&&M(0,uJ,0,0,"ng-template",4),e&2){C(2);let i=Pe(2);w("ngTemplateOutlet",i.template)}}function hJ(e,t){}function pJ(e,t){if(e&1&&M(0,hJ,0,0,"ng-template",4),e&2){C(2);let i=Pe(4);w("ngTemplateOutlet",i.template)}}function fJ(e,t){if(e&1&&M(0,dJ,1,1,null,4)(1,pJ,1,1,null,4),e&2){let i=C();K(i.nzSimple?0:1)}}var qg=(()=>{let t=class t{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new fe,this.gotoIndex=new fe,this.title=null}clickItem(){this.disabled||(this.type==="page"?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(n){let{locale:r,index:a,type:u}=n;(r||a||u)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(r,a){r&1&&Q("click",function(){return a.clickItem()}),r&2&&(Ft("title",a.title),ve("ant-pagination-prev",a.type==="prev")("ant-pagination-next",a.type==="next")("ant-pagination-item",a.type==="page")("ant-pagination-jump-prev",a.type==="prev_5")("ant-pagination-jump-prev-custom-icon",a.type==="prev_5")("ant-pagination-jump-next",a.type==="next_5")("ant-pagination-jump-next-custom-icon",a.type==="next_5")("ant-pagination-disabled",a.disabled)("ant-pagination-item-active",a.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[$e,re],attrs:AX,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],[1,"ant-pagination-item-link"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"]],template:function(r,a){if(r&1&&M(0,QX,4,1,"ng-template",null,0,Ke)(2,KX,0,0,"ng-template",1),r&2){let u=Pe(1);y(2),w("ngTemplateOutlet",a.itemRender||u)("ngTemplateOutletContext",hm(2,kX,a.type,a.index))}},dependencies:[en,Jt,Qt],encapsulation:2,changeDetection:0});let e=t;return e})(),oF=(()=>{let t=class t{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new fe,this.pageSizeChange=new fe,this.listOfPageSizeOption=[]}onPageSizeChange(n){this.pageSize!==n&&this.pageSizeChange.next(n)}jumpToPageViaInput(n){let r=n.target,a=Math.floor(_m(r.value,this.pageIndex));this.pageIndexChange.next(a),r.value=""}ngOnChanges(n){let{pageSize:r,pageSizeOptions:a,locale:u}=n;(r||a||u)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(p=>({value:p,label:`${p} ${this.locale.items_per_page}`})))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[$e,re],attrs:XX,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(r,a){r&1&&M(0,tJ,3,3,"nz-select",0)(1,nJ,4,3,"div",1),r&2&&(K(a.showSizeChanger?0:-1),y(),K(a.showQuickJumper?1:-1))},dependencies:[gc,Ig,Fg,Fr,zi,uo],encapsulation:2,changeDetection:0});let e=t;return e})(),aF=(()=>{let t=class t{constructor(n,r,a,u){this.cdr=n,this.renderer=r,this.elementRef=a,this.directionality=u,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new fe,this.pageSizeChange=new fe,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new Ue,r.removeChild(r.parentNode(a.nativeElement),a.nativeElement)}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(n){this.onPageIndexChange(n)}jumpDiff(n){this.jumpPage(this.pageIndex+n)}trackByPageItem(n,r){return`${r.type}-${r.index}`}onPageIndexChange(n){this.pageIndexChange.next(n)}onPageSizeChange(n){this.pageSizeChange.next(n)}getLastIndex(n,r){return Math.ceil(n/r)}buildIndexes(){let n=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,n)}getListOfPageItem(n,r){let a=p=>{let m={type:"prev",disabled:n===1},_={type:"next",disabled:n===r};return[m,...p,_]},u=(p,m)=>{let _=[];for(let O=p;O<=m;O++)_.push({index:O,type:"page"});return _};return r<=9?a(u(1,r)):a(((m,_)=>{let O=[],F={type:"prev_5"},N={type:"next_5"},U=u(1,1),q=u(r,r);if(m<5)O=[...u(2,m===4?6:5),N];else if(m<_-3)O=[F,...u(m-2,m+2),N];else{let se=m===_-3?_-5:_-4;O=[F,...u(se,_-1)]}return[...U,...O,...q]})(n,r))}ngOnChanges(n){let{pageIndex:r,pageSize:a,total:u}=n;(r||a||u)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(Mi),k(St),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-pagination-default"]],viewQuery:function(r,a){if(r&1&&Qe(rF,7),r&2){let u;Te(u=Ie())&&(a.template=u.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[$e,re],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(r,a){r&1&&M(0,lJ,5,2,"ng-template",null,0,Ke)},dependencies:[Qt,qg,oF],encapsulation:2,changeDetection:0});let e=t;return e})(),sF=(()=>{let t=class t{constructor(n,r,a,u){this.cdr=n,this.renderer=r,this.elementRef=a,this.directionality=u,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new fe,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new Ue,r.removeChild(r.parentNode(a.nativeElement),a.nativeElement)}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(n){let r=n.target,a=_m(r.value,this.pageIndex);this.onPageIndexChange(a),r.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(n){this.pageIndexChange.next(n)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=this.pageIndex===1,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(n){let{pageIndex:r,total:a,pageSize:u}=n;(r||a||u)&&this.updateBindingValue()}};t.\u0275fac=function(r){return new(r||t)(k(ht),k(Mi),k(St),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-pagination-simple"]],viewQuery:function(r,a){if(r&1&&Qe(rF,7),r&2){let u;Te(u=Ie())&&(a.template=u.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[$e,re],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(r,a){r&1&&M(0,cJ,8,14,"ng-template",null,0,Ke)},dependencies:[qg],encapsulation:2,changeDetection:0});let e=t;return e})(),mJ="pagination",gJ=(()=>{let t=class t{validatePageIndex(n,r){return n>r?r:n<1?1:n}onPageIndexChange(n){let r=this.getLastIndex(this.nzTotal,this.nzPageSize),a=this.validatePageIndex(n,r);a!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=a,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(n){this.nzPageSize=n,this.nzPageSizeChange.emit(n);let r=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>r&&this.onPageIndexChange(r)}onTotalChange(n){let r=this.getLastIndex(n,this.nzPageSize);this.nzPageIndex>r&&Promise.resolve().then(()=>{this.onPageIndexChange(r),this.cdr.markForCheck()})}getLastIndex(n,r){return Math.ceil(n/r)}constructor(n,r,a,u,p){this.i18n=n,this.cdr=r,this.breakpointService=a,this.nzConfigService=u,this.directionality=p,this._nzModuleName=mJ,this.nzPageSizeChange=new fe,this.nzPageIndexChange=new fe,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new Ue,this.total$=new Kd(1)}ngOnInit(){this.i18n.localeChange.pipe(le(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe(le(this.destroy$)).subscribe(n=>{this.onTotalChange(n)}),this.breakpointService.subscribe(Ey).pipe(le(this.destroy$)).subscribe(n=>{this.nzResponsive&&(this.size=n===Dy.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(n){let{nzHideOnSinglePage:r,nzTotal:a,nzPageSize:u,nzSize:p}=n;a&&this.total$.next(this.nzTotal),(r||a||u)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),p&&(this.size=p.currentValue)}};t.\u0275fac=function(r){return new(r||t)(k(ua),k(ht),k(Ay),k(Tn),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(r,a){r&2&&ve("ant-pagination-simple",a.nzSimple)("ant-pagination-disabled",a.nzDisabled)("ant-pagination-mini",!a.nzSimple&&a.size==="small")("ant-pagination-rtl",a.dir==="rtl")},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:[2,"nzShowSizeChanger","nzShowSizeChanger",ee],nzShowQuickJumper:[2,"nzShowQuickJumper","nzShowQuickJumper",ee],nzSimple:[2,"nzSimple","nzSimple",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzResponsive:[2,"nzResponsive","nzResponsive",ee],nzHideOnSinglePage:[2,"nzHideOnSinglePage","nzHideOnSinglePage",ee],nzTotal:[2,"nzTotal","nzTotal",ji],nzPageIndex:[2,"nzPageIndex","nzPageIndex",ji],nzPageSize:[2,"nzPageSize","nzPageSize",ji]},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[Je,$e,re],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(r,a){if(r&1){let u=he();M(0,fJ,2,1),z(1,"nz-pagination-simple",2,0),Q("pageIndexChange",function(m){return B(u),V(a.onPageIndexChange(m))}),S(),z(3,"nz-pagination-default",3,1),Q("pageIndexChange",function(m){return B(u),V(a.onPageIndexChange(m))})("pageSizeChange",function(m){return B(u),V(a.onPageSizeChange(m))}),S()}r&2&&(K(a.showPagination?0:-1),y(),w("disabled",a.nzDisabled)("itemRender",a.nzItemRender)("locale",a.locale)("pageSize",a.nzPageSize)("total",a.nzTotal)("pageIndex",a.nzPageIndex),y(2),w("nzSize",a.size)("itemRender",a.nzItemRender)("showTotal",a.nzShowTotal)("disabled",a.nzDisabled)("locale",a.locale)("showSizeChanger",a.nzShowSizeChanger)("showQuickJumper",a.nzShowQuickJumper)("total",a.nzTotal)("pageIndex",a.nzPageIndex)("pageSize",a.nzPageSize)("pageSizeOptions",a.nzPageSizeOptions))},dependencies:[Qt,sF,aF],encapsulation:2,changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzSize",void 0),Re([Le()],e.prototype,"nzPageSizeOptions",void 0),Re([Le()],e.prototype,"nzShowSizeChanger",void 0),Re([Le()],e.prototype,"nzShowQuickJumper",void 0),Re([Le()],e.prototype,"nzSimple",void 0),e})(),lF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[gJ,sF,oF,qg,aF]});let e=t;return e})();function _J(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),Ae(i.nzText)}}function vJ(e,t){if(e&1&&(z(0,"span",0),M(1,_J,2,1,"ng-container",1),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzText)}}var Gu=(()=>{let t=class t{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(r,a){r&2&&ve("ant-divider-horizontal",a.nzType==="horizontal")("ant-divider-vertical",a.nzType==="vertical")("ant-divider-with-text",a.nzText)("ant-divider-plain",a.nzPlain)("ant-divider-with-text-left",a.nzText&&a.nzOrientation==="left")("ant-divider-with-text-right",a.nzText&&a.nzOrientation==="right")("ant-divider-with-text-center",a.nzText&&a.nzOrientation==="center")("ant-divider-dashed",a.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:[2,"nzDashed","nzDashed",ee],nzPlain:[2,"nzPlain","nzPlain",ee]},exportAs:["nzDivider"],standalone:!0,features:[Je,re],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(r,a){r&1&&M(0,vJ,2,1,"span",0),r&2&&K(a.nzText?0:-1)},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),qp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Gu]});let e=t;return e})();function yJ(e,t){if(e&1&&(z(0,"p",3),H(1),S()),e&2){let i=t.$implicit,n=C(2).$index,r=C(2);ve("current",i===r.countArray[n]),y(),xe(" ",i," ")}}function CJ(e,t){if(e&1&&rt(0,yJ,2,3,"p",2,yn),e&2){let i=C(3);ot(i.countSingleArray)}}function xJ(e,t){if(e&1&&(z(0,"span",1),M(1,CJ,2,0),S()),e&2){let i=t.$index,n=C(2);dt("transform","translateY("+-n.countArray[i]*100+"%)"),w("nzNoAnimation",n.noAnimation),y(),K(!n.nzDot&&n.countArray[i]!==void 0?1:-1)}}function zJ(e,t){if(e&1&&rt(0,xJ,2,4,"span",0,yn),e&2){let i=C();ot(i.maxNumberArray)}}function bJ(e,t){if(e&1&&H(0),e&2){let i=C();xe(" ",i.nzOverflowCount,"+ ")}}var uF=["*"];function SJ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),Ae(i.nzText)}}function wJ(e,t){if(e&1&&(W(0,"span",1),z(1,"span",2),M(2,SJ,2,1,"ng-container",0),S()),e&2){let i=C();ye("ant-badge-status-dot ant-badge-status-",i.nzStatus||i.presetColor,""),dt("background",!i.presetColor&&i.nzColor),w("ngStyle",i.nzStyle),y(2),w("nzStringTemplateOutlet",i.nzText)}}function TJ(e,t){if(e&1&&W(0,"nz-badge-sup",3),e&2){let i=C(2);w("nzOffset",i.nzOffset)("nzSize",i.nzSize)("nzTitle",i.nzTitle)("nzStyle",i.nzStyle)("nzDot",i.nzDot)("nzOverflowCount",i.nzOverflowCount)("disableAnimation",!!(i.nzStandalone||i.nzStatus||i.nzColor||i.noAnimation!=null&&i.noAnimation.nzNoAnimation))("nzCount",i.nzCount)("noAnimation",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation))}}function IJ(e,t){if(e&1&&(Fe(0),M(1,TJ,1,9,"nz-badge-sup",3),Oe()),e&2){let i=C();y(),K(i.showSup?1:-1)}}function FJ(e,t){if(e&1&&(Fe(0),z(1,"span",3),H(2),S(),Oe()),e&2){let i=C();y(2),Ae(i.nzText)}}var OJ=(()=>{let t=class t{constructor(){this.nzStyle=null,this.nzDot=!1,this.nzOverflowCount=99,this.disableAnimation=!1,this.noAnimation=!1,this.nzSize="default",this.maxNumberArray=[],this.countArray=[],this.count=0,this.countSingleArray=[0,1,2,3,4,5,6,7,8,9]}generateMaxNumberArray(){this.maxNumberArray=this.nzOverflowCount.toString().split("")}ngOnInit(){this.generateMaxNumberArray()}ngOnChanges(n){let{nzOverflowCount:r,nzCount:a}=n;a&&typeof a.currentValue=="number"&&(this.count=Math.max(0,a.currentValue),this.countArray=this.count.toString().split("").map(u=>+u)),r&&this.generateMaxNumberArray()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-badge-sup"]],hostAttrs:[1,"ant-scroll-number"],hostVars:17,hostBindings:function(r,a){r&2&&(Ds("@.disabled",a.disableAnimation)("@zoomBadgeMotion",void 0),Ft("title",a.nzTitle===null?"":a.nzTitle||a.nzCount),Wv(a.nzStyle),dt("right",a.nzOffset&&a.nzOffset[0]?-a.nzOffset[0]:null,"px")("margin-top",a.nzOffset&&a.nzOffset[1]?a.nzOffset[1]:null,"px"),ve("ant-badge-count",!a.nzDot)("ant-badge-count-sm",a.nzSize==="small")("ant-badge-dot",a.nzDot)("ant-badge-multiple-words",a.countArray.length>=2))},inputs:{nzOffset:"nzOffset",nzTitle:"nzTitle",nzStyle:"nzStyle",nzDot:"nzDot",nzOverflowCount:[2,"nzOverflowCount","nzOverflowCount",ji],disableAnimation:"disableAnimation",nzCount:"nzCount",noAnimation:"noAnimation",nzSize:"nzSize"},exportAs:["nzBadgeSup"],standalone:!0,features:[Je,$e,re],decls:2,vars:1,consts:[[1,"ant-scroll-number-only",3,"nzNoAnimation","transform"],[1,"ant-scroll-number-only",3,"nzNoAnimation"],[1,"ant-scroll-number-only-unit",3,"current"],[1,"ant-scroll-number-only-unit"]],template:function(r,a){r&1&&M(0,zJ,2,0)(1,bJ,1,1),r&2&&K(a.count<=a.nzOverflowCount?0:1)},dependencies:[ti],encapsulation:2,data:{animation:[zm]},changeDetection:0});let e=t;return e})(),dF=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],MJ="badge",PJ=(()=>{let t=class t{constructor(n,r,a,u,p){this.nzConfigService=n,this.renderer=r,this.cdr=a,this.elementRef=u,this.directionality=p,this._nzModuleName=MJ,this.showSup=!1,this.presetColor=null,this.dir="ltr",this.destroy$=new Ue,this.nzShowZero=!1,this.nzShowDot=!0,this.nzStandalone=!1,this.nzDot=!1,this.nzOverflowCount=99,this.nzColor=void 0,this.nzStyle=null,this.nzText=null,this.nzSize="default",this.noAnimation=Ee(ti,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.prepareBadgeForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareBadgeForRtl()}ngOnChanges(n){let{nzColor:r,nzShowDot:a,nzDot:u,nzCount:p,nzShowZero:m}=n;r&&(this.presetColor=this.nzColor&&dF.indexOf(this.nzColor)!==-1?this.nzColor:null),(a||u||p||m)&&(this.showSup=this.nzShowDot&&this.nzDot||typeof this.nzCount=="number"&&this.nzCount>0||typeof this.nzCount=="number"&&this.nzCount<=0&&this.nzShowZero)}prepareBadgeForRtl(){this.isRtlLayout?this.renderer.addClass(this.elementRef.nativeElement,"ant-badge-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-badge-rtl")}get isRtlLayout(){return this.dir==="rtl"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(Mi),k(ht),k(St),k(kt))},t.\u0275cmp=ie({type:t,selectors:[["nz-badge"]],hostAttrs:[1,"ant-badge"],hostVars:4,hostBindings:function(r,a){r&2&&ve("ant-badge-status",a.nzStatus)("ant-badge-not-a-wrapper",!!(a.nzStandalone||a.nzStatus||a.nzColor))},inputs:{nzShowZero:[2,"nzShowZero","nzShowZero",ee],nzShowDot:[2,"nzShowDot","nzShowDot",ee],nzStandalone:[2,"nzStandalone","nzStandalone",ee],nzDot:[2,"nzDot","nzDot",ee],nzOverflowCount:"nzOverflowCount",nzColor:"nzColor",nzStyle:"nzStyle",nzText:"nzText",nzTitle:"nzTitle",nzStatus:"nzStatus",nzCount:"nzCount",nzOffset:"nzOffset",nzSize:"nzSize"},exportAs:["nzBadge"],standalone:!0,features:[Je,$e,re],ngContentSelectors:uF,decls:3,vars:2,consts:[[4,"nzStringTemplateOutlet"],[3,"ngStyle"],[1,"ant-badge-status-text"],[3,"nzOffset","nzSize","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount","noAnimation"]],template:function(r,a){r&1&&(rn(),M(0,wJ,3,7),Yt(1),M(2,IJ,2,1,"ng-container",0)),r&2&&(K(a.nzStatus||a.nzColor?0:-1),y(2),w("nzStringTemplateOutlet",a.nzCount))},dependencies:[xi,OJ,Rt,Nt],encapsulation:2,data:{animation:[zm]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzOverflowCount",void 0),Re([Le()],e.prototype,"nzColor",void 0),e})(),DJ=(()=>{let t=class t{constructor(){this.nzPlacement="end",this.nzText=null,this.presetColor=null}ngOnChanges(n){let{nzColor:r}=n;r&&(this.presetColor=this.nzColor&&dF.indexOf(this.nzColor)!==-1?this.nzColor:null)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["nz-ribbon"]],hostAttrs:[1,"ant-ribbon-wrapper"],inputs:{nzColor:"nzColor",nzPlacement:"nzPlacement",nzText:"nzText"},exportAs:["nzRibbon"],standalone:!0,features:[$e,re],ngContentSelectors:uF,decls:4,vars:11,consts:[[1,"ant-ribbon"],[4,"nzStringTemplateOutlet"],[1,"ant-ribbon-corner"],[1,"ant-ribbon-text"]],template:function(r,a){r&1&&(rn(),Yt(0),z(1,"div",0),M(2,FJ,3,1,"ng-container",1),W(3,"div",2),S()),r&2&&(y(),wr(a.presetColor&&"ant-ribbon-color-"+a.presetColor),dt("background-color",!a.presetColor&&a.nzColor),ve("ant-ribbon-placement-end",a.nzPlacement==="end")("ant-ribbon-placement-start",a.nzPlacement==="start"),y(),w("nzStringTemplateOutlet",a.nzText),y(),dt("color",!a.presetColor&&a.nzColor))},dependencies:[Rt,Nt],encapsulation:2,changeDetection:0});let e=t;return e})(),hF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[PJ,DJ]});let e=t;return e})();var pF=[{id:1,rideId:101,routeId:201,seatId:11,userId:1,status:"active",path:[33,5,62,11,48],carriages:["Economy","Economy","Business","FirstClass","FirstClass"],schedule:{segments:[{departure:"2024-08-20T10:00:00",arrival:"2024-08-20T12:30:00"},{departure:"2024-08-20T12:45:00",arrival:"2024-08-20T15:00:00"},{departure:"2024-08-20T15:30:00",arrival:"2024-08-20T18:00:00"},{departure:"2024-08-20T18:15:00",arrival:"2024-08-20T20:45:00"}]},price:{Economy:50,Business:100,FirstClass:150}},{id:2,rideId:102,routeId:202,seatId:21,userId:2,status:"completed",path:[44,7,67,13],carriages:["Economy","Business","Business","FirstClass"],schedule:{segments:[{departure:"2024-08-10T08:00:00",arrival:"2024-08-10T10:45:00"},{departure:"2024-08-10T11:00:00",arrival:"2024-08-10T13:30:00"},{departure:"2024-08-10T14:00:00",arrival:"2024-08-10T17:15:00"}]},price:{Economy:40,Business:90,FirstClass:140}},{id:3,rideId:103,routeId:203,seatId:31,userId:3,status:"rejected",path:[12,15,25,42],carriages:["Economy","Business","Business","Economy"],schedule:{segments:[{departure:"2024-08-15T09:30:00",arrival:"2024-08-15T12:00:00"},{departure:"2024-08-15T12:15:00",arrival:"2024-08-15T14:45:00"},{departure:"2024-08-15T15:00:00",arrival:"2024-08-15T18:30:00"}]},price:{Economy:35,Business:85}},{id:4,rideId:104,routeId:204,seatId:41,userId:4,status:"canceled",path:[51,19,73,32],carriages:["FirstClass","FirstClass","Business","Economy"],schedule:{segments:[{departure:"2024-08-18T07:45:00",arrival:"2024-08-18T10:15:00"},{departure:"2024-08-18T10:30:00",arrival:"2024-08-18T12:45:00"},{departure:"2024-08-18T13:00:00",arrival:"2024-08-18T15:45:00"}]},price:{Economy:45,Business:95,FirstClass:145}},{id:5,rideId:105,routeId:205,seatId:51,userId:5,status:"active",path:[9,25,38],carriages:["Economy","Business","Business"],schedule:{segments:[{departure:"2024-08-21T06:30:00",arrival:"2024-08-21T09:00:00"},{departure:"2024-08-21T09:15:00",arrival:"2024-08-21T11:45:00"}]},price:{Economy:30,Business:80}},{id:6,rideId:106,routeId:206,seatId:61,userId:6,status:"completed",path:[3,12,27,45],carriages:["Economy","Business","Economy","FirstClass"],schedule:{segments:[{departure:"2024-08-17T05:00:00",arrival:"2024-08-17T07:30:00"},{departure:"2024-08-17T07:45:00",arrival:"2024-08-17T10:15:00"},{departure:"2024-08-17T10:30:00",arrival:"2024-08-17T12:45:00"}]},price:{Economy:55,Business:105,FirstClass:155}}];var fF=(()=>{let t=class t{constructor(n){this.http=n}getOrders(n=!1){return console.log(n),this.http.get("/api/order",{})}cancelOrder(n){return this.http.delete(`/api/order/${n}`)}};t.\u0275fac=function(r){return new(r||t)(Ci(Oo))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var kJ=()=>({padding:"0px"});function NJ(e,t){if(e&1&&(z(0,"div")(1,"div",11),H(2),wn(3,"date"),S(),z(4,"div",12),H(5),wn(6,"date"),S(),z(7,"div",13),H(8),S()()),e&2){let i=C().$implicit;y(2),xe(" ",fr(3,3,i.schedule.segments[0].departure,"HH:mm")," "),y(3),xe(" ",fr(6,6,i.schedule.segments[0].departure,"MMMM dd")," "),y(3),xe("City ",i.path[0],"")}}function RJ(e,t){if(e&1&&(z(0,"div",14),H(1),S()),e&2){let i=C().$implicit,n=C();y(),Ae(n.getTripDuration(i))}}function LJ(e,t){if(e&1&&(z(0,"div",11),H(1),wn(2,"date"),S(),z(3,"div",12),H(4),wn(5,"date"),S(),z(6,"div",15),H(7),S()),e&2){let i=C().$implicit;y(),xe(" ",fr(2,3,i.schedule.segments[i.schedule.segments.length-1].arrival,"HH:mm")," "),y(3),xe(" ",fr(5,6,i.schedule.segments[i.schedule.segments.length-1].arrival,"MMMM dd")," "),y(3),xe("City ",i.path[i.path.length-1],"")}}function BJ(e,t){}function VJ(e,t){if(e&1){let i=he();z(0,"button",16),Q("click",function(){B(i);let r=C().$implicit,a=C();return V(a.onCancelOrder(r))}),H(1," Cancel "),S()}}function $J(e,t){if(e&1&&(z(0,"nz-card",5)(1,"div",6)(2,"p")(3,"strong"),H(4,"Carriage type:"),S(),H(5),S(),z(6,"p")(7,"strong"),H(8,"Price:"),S(),H(9),wn(10,"currency"),S(),z(11,"p")(12,"strong"),H(13,"Car number:"),S()(),z(14,"p")(15,"strong"),H(16,"Seat number:"),S(),H(17),S()(),W(18,"nz-divider"),z(19,"nz-steps",7),W(20,"nz-step",8)(21,"nz-step",8)(22,"nz-step",8),M(23,NJ,9,9,"ng-template",null,0,Ke)(25,RJ,2,1,"ng-template",null,1,Ke)(27,LJ,8,9,"ng-template",null,2,Ke)(29,BJ,0,0,"ng-template",9,3,Ke),S(),M(31,VJ,2,0,"button",10),S()),e&2){let i=t.$implicit,n=Pe(24),r=Pe(26),a=Pe(28),u=Pe(30),p=C();w("nzBodyStyle",tr(14,kJ)),y(5),xe(" ",p.getCarriageType(i),""),y(4),xe(" ",pr(10,12,p.getTotalPrice(i)),""),y(8),xe(" ",i.seatId,""),y(2),w("nzCurrent",3),y(),w("nzTitle",n)("nzIcon",u),y(),w("nzTitle",r)("nzIcon",u),y(),w("nzTitle",a)("nzIcon",u),y(9),K(i.status==="active"?31:-1)}}var mF=(()=>{let t=class t{constructor(n,r,a){this.orderService=n,this.message=r,this.modal=a,this.errorMessage="",this.orders=pF}fetchOrders(){this.orderService.getOrders(!0).subscribe({next:n=>console.log("orders",n)})}ngOnInit(){this.sortedOrders=this.orders.sort((n,r)=>new Date(n.schedule.segments[0].departure).getTime()-new Date(r.schedule.segments[0].departure).getTime())}getCarriageType(n){let r=n.schedule.segments.length-1;return n.carriages[r]||"Unknown"}getTotalPrice(n){return n.carriages.reduce((r,a)=>r+(n.price[a]||0),0)}getTripStartTime(n){return n.schedule.segments[0].departure}getTripEndTime(n){return n.schedule.segments[n.schedule.segments.length-1].arrival}getTripDuration(n){let r=new Date(n.schedule.segments[0].departure).getTime(),u=new Date(n.schedule.segments[n.schedule.segments.length-1].arrival).getTime()-r,p=Math.floor(u/(1e3*60*60)),m=Math.floor(u/(1e3*60)%60);return`${p}h ${m}m`}getStationName(n){return{33:"Station A",5:"Station B",62:"Station C",11:"Station D",48:"Station E"}[n]||"Unknown Station"}onCancelOrder(n){this.modal.confirm({nzTitle:"Are you sure you want to cancel this order?",nzOnOk:()=>{try{let r=Kn(qt({},n),{status:"canceled"});this.sortedOrders=this.sortedOrders.map(a=>a.id===n.id?r:a),this.message.success("Order successfully cancelled")}catch{this.message.error("Error while cancelling the order")}}})}};t.\u0275fac=function(r){return new(r||t)(k(fF),k(Gy),k(gh))},t.\u0275cmp=ie({type:t,selectors:[["app-order-list"]],standalone:!0,features:[re],decls:3,vars:0,consts:[["nzFrom",""],["nzDur",""],["nzTo",""],["custom1",""],[1,"orders-list"],["nzHoverable","",1,"order-card",3,"nzBodyStyle"],[1,"order-header"],["nzSize","small",3,"nzCurrent"],[3,"nzTitle","nzIcon"],[2,"display","none"],["nz-button","","nzType","primary",1,"cancel-btn"],[1,"card__time"],[1,"card__time__date"],[1,"card__time__city"],[1,"card__duration"],[1,"card__city"],["nz-button","","nzType","primary",1,"cancel-btn",3,"click"]],template:function(r,a){r&1&&(z(0,"div",4),rt(1,$J,32,15,"nz-card",5,Fo),S()),r&2&&(y(),ot(a.sortedOrders))},dependencies:[Lp,Zu,lF,qp,Gu,Gr,Ui,Ur,Zr,Vp,Bp,yc,hF,Na,ah,Es],styles:[".orders-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px;margin-bottom:20px;padding:0 1rem}.order-card[_ngcontent-%COMP%]{width:390px;border:1px solid #b5acac;border-radius:8px;padding:1rem}.card-holder[_ngcontent-%COMP%]{border-radius:8px}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;min-width:460px;max-width:40%}.card__time[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600}.carriage[_ngcontent-%COMP%]{display:flex;gap:1rem}.trip-details[_ngcontent-%COMP%]{padding:10px 0}.nz-card[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.cancel-btn[_ngcontent-%COMP%]{margin-top:1rem}nz-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.2)}"],changeDetection:0});let e=t;return e})();var gF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-orders"]],standalone:!0,features:[re],decls:1,vars:0,template:function(r,a){r&1&&W(0,"app-order-list")},dependencies:[mF],changeDetection:0});let e=t;return e})();function jg(e,t){let i=!t?.manualCleanup;i&&!t?.injector&&kv(jg);let n=i?t?.injector?.get(cm)??Ee(cm):null,r=HJ(t?.equal),a;t?.requireSync?a=dm({kind:0},{equal:r}):a=dm({kind:1,value:t?.initialValue},{equal:r});let u=e.subscribe({next:p=>a.set({kind:1,value:p}),error:p=>{if(t?.rejectErrors)throw p;a.set({kind:2,error:p})}});if(t?.requireSync&&a().kind===0)throw new au(601,!1);return n?.onDestroy(u.unsubscribe.bind(u)),Yv(()=>{let p=a();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new au(601,!1)}},{equal:t?.equal})}function HJ(e=Object.is){return(t,i)=>t.kind===1&&i.kind===1&&e(t.value,i.value)}var yF=["*"],qJ=["collapseHeader"];function jJ(e,t){if(e&1&&(Fe(0),W(1,"span",7),Oe()),e&2){let i=t.$implicit,n=C(2);y(),w("nzType",i||"right")("nzRotate",n.nzActive?90:0)}}function WJ(e,t){if(e&1&&(z(0,"div"),M(1,jJ,2,2,"ng-container",3),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzExpandedIcon)}}function UJ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C();y(),Ae(i.nzHeader)}}function ZJ(e,t){if(e&1&&(Fe(0),H(1),Oe()),e&2){let i=C(2);y(),Ae(i.nzExtra)}}function GJ(e,t){if(e&1&&(z(0,"div",4),M(1,ZJ,2,1,"ng-container",3),S()),e&2){let i=C();y(),w("nzStringTemplateOutlet",i.nzExtra)}}var _F="collapse",Wg=(()=>{let t=class t{constructor(n,r,a,u){this.nzConfigService=n,this.cdr=r,this.directionality=a,this.destroy$=u,this._nzModuleName=_F,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="start",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(_F).pipe(le(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(le(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(n){this.listOfNzCollapsePanelComponent.push(n)}removePanel(n){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(n),1)}click(n){this.nzAccordion&&!n.nzActive&&this.listOfNzCollapsePanelComponent.filter(r=>r!==n).forEach(r=>{r.nzActive&&(r.nzActive=!1,r.nzActiveChange.emit(r.nzActive),r.markForCheck())}),n.nzActive=!n.nzActive,n.nzActiveChange.emit(n.nzActive)}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(ht),k(kt),k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(r,a){r&2&&ve("ant-collapse-icon-position-start",a.nzExpandIconPosition==="start")("ant-collapse-icon-position-end",a.nzExpandIconPosition==="end")("ant-collapse-ghost",a.nzGhost)("ant-collapse-borderless",!a.nzBordered)("ant-collapse-rtl",a.dir==="rtl")},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",ee],nzBordered:[2,"nzBordered","nzBordered",ee],nzGhost:[2,"nzGhost","nzGhost",ee],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[on([Dn]),Je,re],ngContentSelectors:yF,decls:1,vars:0,template:function(r,a){r&1&&(rn(),Yt(0))},encapsulation:2,changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzAccordion",void 0),Re([Le()],e.prototype,"nzBordered",void 0),Re([Le()],e.prototype,"nzGhost",void 0),e})(),vF="collapsePanel",Ug=(()=>{let t=class t{markForCheck(){this.cdr.markForCheck()}constructor(n,r,a,u){this.nzConfigService=n,this.ngZone=r,this.cdr=a,this.destroy$=u,this._nzModuleName=vF,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new fe,this.nzCollapseComponent=Ee(Wg,{host:!0}),this.noAnimation=Ee(ti,{optional:!0}),this.nzConfigService.getConfigChangeEventForComponent(vF).pipe(le(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>dn(this.collapseHeader.nativeElement,"click").pipe(yi(()=>!this.nzDisabled),le(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}};t.\u0275fac=function(r){return new(r||t)(k(Tn),k(cn),k(ht),k(Dn))},t.\u0275cmp=ie({type:t,selectors:[["nz-collapse-panel"]],viewQuery:function(r,a){if(r&1&&Qe(qJ,7),r&2){let u;Te(u=Ie())&&(a.collapseHeader=u.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(r,a){r&2&&ve("ant-collapse-no-arrow",!a.nzShowArrow)("ant-collapse-item-active",a.nzActive)("ant-collapse-item-disabled",a.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",ee],nzDisabled:[2,"nzDisabled","nzDisabled",ee],nzShowArrow:[2,"nzShowArrow","nzShowArrow",ee],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[on([Dn]),Je,re],ngContentSelectors:yF,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(r,a){r&1&&(rn(),z(0,"div",1,0),M(2,WJ,2,1,"div"),z(3,"span",2),M(4,UJ,2,1,"ng-container",3),S(),M(5,GJ,2,1,"div",4),S(),z(6,"div",5)(7,"div",6),Yt(8),S()()),r&2&&(Ft("aria-expanded",a.nzActive),y(2),K(a.nzShowArrow?2:-1),y(2),w("nzStringTemplateOutlet",a.nzHeader),y(),K(a.nzExtra?5:-1),y(),ve("ant-collapse-content-active",a.nzActive),w("@.disabled",!!(a.noAnimation!=null&&a.noAnimation.nzNoAnimation))("@collapseMotion",a.nzActive?"expanded":"hidden"))},dependencies:[Rt,Nt,en,Jt],encapsulation:2,data:{animation:[vh]},changeDetection:0});let e=t;return Re([Le()],e.prototype,"nzShowArrow",void 0),e})(),CF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=Et({imports:[Ug]});let e=t;return e})();function QJ(e,t){if(e&1&&(z(0,"div",3),H(1),S()),e&2){let i=t.$index,n=C().$index,r=C();y(),Ae(r.getSeatNumber(n,i))}}function KJ(e,t){if(e&1&&(z(0,"div",3),H(1),S()),e&2){let i=t.$index,n=C().$index,r=C();y(),Ae(r.getSeatNumber(n,r.carriage.leftSeats+i))}}function XJ(e,t){if(e&1&&(z(0,"div",1)(1,"div",2),rt(2,QJ,2,1,"div",3,Fo),S(),z(4,"div",4),H(5,"Aisle"),S(),z(6,"div",5),rt(7,KJ,2,1,"div",3,Fo),S()()),e&2){let i=C();y(2),ot(i.leftSeatsArray),y(5),ot(i.rightSeatsArray)}}var xF=(()=>{let t=class t{getSeatNumber(n,r){let a=this.carriage.leftSeats+this.carriage.rightSeats;return n*a+r+1}get rowsArray(){return Array.from({length:this.carriage.rows},(n,r)=>r)}get leftSeatsArray(){return Array.from({length:this.carriage.leftSeats},(n,r)=>r)}get rightSeatsArray(){return Array.from({length:this.carriage.rightSeats},(n,r)=>r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-carriage-prototype"]],inputs:{carriage:"carriage"},standalone:!0,features:[re],decls:3,vars:0,consts:[[1,"carriage"],[1,"row"],[1,"left-seats"],[1,"seat"],[1,"aisle"],[1,"right-seats"]],template:function(r,a){r&1&&(z(0,"div",0),rt(1,XJ,9,0,"div",1,Fo),S()),r&2&&(y(),ot(a.rowsArray))},styles:[".carriage[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px 0}.left-seats[_ngcontent-%COMP%], .right-seats[_ngcontent-%COMP%]{display:flex}.seat[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#d3d3d3;border:1px solid #000;display:flex;justify-content:center;align-items:center;margin:2px}.aisle[_ngcontent-%COMP%]{width:50px;text-align:center;line-height:30px;margin:0 10px}"],changeDetection:0});let e=t;return e})();var zF=(()=>{let t=class t{constructor(n){this.http=n,this.apiUrl="/api/carriage",this.carriageSubject=new Ii([]),this.carriages$=this.carriageSubject.asObservable()}getCarriages(){return this.http.get(this.apiUrl)}createCarriage(n){return this.http.post(this.apiUrl,n)}updateCarriage(n,r){return this.http.put(`${this.apiUrl}/${n}`,r)}setCarriages(n){this.carriageSubject.next(n)}};t.\u0275fac=function(r){return new(r||t)(Ci(Oo))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eee(e,t){if(e&1&&(z(0,"h2",9),H(1),S()),e&2){let i=C().$implicit;y(),Ae(i.name)}}function tee(e,t){if(e&1){let i=he();W(0,"nz-divider",5),z(1,"button",1),Q("click",function(){let r=B(i).$implicit,a=C(2);return V(a.onEdit(r))}),H(2,"Update"),S(),M(3,eee,2,1,"ng-template",null,0,Ke),z(5,"nz-collapse",6)(6,"nz-collapse-panel",7),Q("nzActiveChange",function(){B(i);let r=C(2);return V(r.toggleCollapse(r.isCollapsed))}),W(7,"app-carriage-prototype",8),S()()}if(e&2){let i=t.$implicit,n=Pe(4),r=C(2);w("nzText",n),y(6),w("nzHeader",r.isCollapsed?"Show Seat Map":"Hide Seat Map")("nzShowArrow",!1)("nzActive",!r.isCollapsed),y(),w("carriage",i)}}function nee(e,t){if(e&1){let i=he();Fe(0),z(1,"form",10)(2,"nz-form-item")(3,"nz-form-label",11),H(4,"Rows"),S(),z(5,"nz-form-control",11)(6,"input",12),qi("ngModelChange",function(r){B(i);let a=C(2);return Hi(a.carriageForm.rows,r)||(a.carriageForm.rows=r),V(r)}),S()()(),z(7,"nz-form-item")(8,"nz-form-label",11),H(9,"Left Seats"),S(),z(10,"nz-form-control",11)(11,"input",13),qi("ngModelChange",function(r){B(i);let a=C(2);return Hi(a.carriageForm.leftSeats,r)||(a.carriageForm.leftSeats=r),V(r)}),S()()(),z(12,"nz-form-item")(13,"nz-form-label",11),H(14,"Right Seats"),S(),z(15,"nz-form-control",11)(16,"input",14),qi("ngModelChange",function(r){B(i);let a=C(2);return Hi(a.carriageForm.rightSeats,r)||(a.carriageForm.rightSeats=r),V(r)}),S()()()(),W(17,"app-carriage-prototype",8),Oe()}if(e&2){let i=C(2);y(3),w("nzSpan",6),y(2),w("nzSpan",14),y(),$i("ngModel",i.carriageForm.rows),y(2),w("nzSpan",6),y(2),w("nzSpan",14),y(),$i("ngModel",i.carriageForm.leftSeats),y(2),w("nzSpan",6),y(2),w("nzSpan",14),y(),$i("ngModel",i.carriageForm.rightSeats),y(),w("carriage",i.carriageForm)}}function iee(e,t){if(e&1){let i=he();z(0,"div",2),rt(1,tee,8,5,null,null,Fo),S(),z(3,"nz-modal",3),qi("nzVisibleChange",function(r){B(i);let a=C();return Hi(a.isModalVisible,r)||(a.isModalVisible=r),V(r)}),Q("nzOnCancel",function(){B(i);let r=C();return V(r.onCancel())})("nzOnOk",function(){B(i);let r=C();return V(r.onSave())}),M(4,nee,18,10,"ng-container",4),S()}if(e&2){let i=C();y(),ot(i.carriages()),y(2),$i("nzVisible",i.isModalVisible)}}var bF=(()=>{let t=class t{constructor(n){this.carriageService=n,this.carriages=jg(this.carriageService.carriages$,{initialValue:[]}),this.carriageForm={name:"",rows:16,leftSeats:2,rightSeats:3},this.isModalVisible=!1,this.isCollapsed=!0}ngOnInit(){this.loadCarriages()}loadCarriages(){this.carriageService.getCarriages().subscribe(n=>{this.carriageService.setCarriages(n)})}onCreate(){this.carriageForm={name:"",rows:16,leftSeats:2,rightSeats:3},this.isModalVisible=!0}onEdit(n){this.carriageForm=qt({},n),this.isModalVisible=!0}onSave(){this.isModalVisible=!1}onCancel(){this.isModalVisible=!1}toggleCollapse(n){this.isCollapsed=!n}};t.\u0275fac=function(r){return new(r||t)(k(zF))},t.\u0275cmp=ie({type:t,selectors:[["app-carriages"]],standalone:!0,features:[re],decls:3,vars:1,consts:[["titleTemplate",""],["nz-button","",3,"click"],[1,"carriages-list"],["nzTitle","Carriage Form",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],[4,"nzModalContent"],[3,"nzText"],[1,"seat-map-collapse"],[3,"nzActiveChange","nzHeader","nzShowArrow","nzActive"],[3,"carriage"],["nz-typography",""],["nz-form",""],[3,"nzSpan"],["nz-input","","name","rows",3,"ngModelChange","ngModel"],["nz-input","","name","leftSeats",3,"ngModelChange","ngModel"],["nz-input","","name","rightSeats",3,"ngModelChange","ngModel"]],template:function(r,a){r&1&&(z(0,"button",1),Q("click",function(){return a.onCreate()}),H(1,"Create"),S(),M(2,iee,5,1)),r&2&&(y(2),K(a.carriages().length>0?2:-1))},dependencies:[xF,Gr,Ui,Ur,Zr,$y,Vy,By,ql,Lo,Ro,$l,Bo,Hl,Vo,CF,Ug,Wg,qp,Gu,Fr,Eo,Wi,zi,Do,uo,xy,Ao],styles:[".carriages-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1rem}.seat-map-collapse[_ngcontent-%COMP%]{align-self:normal;background-color:#ececec;text-align:center}"],changeDetection:0});let e=t;return e})();function ree(e,t){if(e&1&&(z(0,"nz-auto-option",22),H(1),S()),e&2){let i=t.$implicit;w("nzValue",i.name),y(),xe(" ",i.name," ")}}function oee(e,t){if(e&1&&(z(0,"nz-auto-option",22),H(1),S()),e&2){let i=t.$implicit;w("nzValue",i.city),y(),xe(" ",i.city," ")}}function aee(e,t){if(e&1){let i=he();z(0,"button",26),Q("click",function(){B(i);let r=C().index,a=C();return V(a.removeRelation(r))}),W(1,"i",27),S()}}function see(e,t){if(e&1&&(z(0,"div",23)(1,"nz-input-group",24),W(2,"input",25),z(3,"nz-autocomplete",null,0),M(5,oee,2,2,"nz-auto-option",7),S(),M(6,aee,2,0,"ng-template",null,1,Ke),S()()),e&2){let i=t.index,n=Pe(4),r=Pe(7),a=C();w("formGroupName",i),y(),w("nzSuffix",r),y(),w("nzAutocomplete",n),y(3),w("ngForOf",a.stations)}}function lee(e,t){if(e&1){let i=he();z(0,"li"),H(1),z(2,"button",28),Q("click",function(){let r=B(i).$implicit,a=C();return V(a.deleteStation(r.id))}),H(3," Delete "),S()()}if(e&2){let i=t.$implicit;y(),xe(" ",i.city," ")}}var SF=(()=>{let t=class t{constructor(n,r,a,u,p){this.fb=n,this.geoService=r,this.searchService=a,this.markerService=u,this.formUtilsService=p,this.stations=[],this.relatedCities=[],this.stations$=ur([]),this.stationForm=this.fb.group({city:["",li.required],latitude:["",li.required],longitude:["",li.required],relations:this.fb.array([])}),this.cityOptions$=this.formUtilsService.createSearchObservable(this.city,"coord",this.stationForm),this.updateStation(),this.city.valueChanges.pipe(eh(300),Jd(m=>this.geoService.searchCity(m))).subscribe(m=>{if(m.length>0){let{lat:_,lon:O}=m[0];this.stationForm.patchValue({latitude:_,longitude:O}),this.updateRelatedStations(m[0].name)}})}updateRelatedStations(n){this.stations.length===0&&this.updateStation(),this.setRelatedCities(n)}setRelatedCities(n){let r=this.stations.find(a=>a.city===n);if(r){let a=r.connectedTo.map(p=>p.id),u=this.stations.filter(p=>a.includes(p.id));this.relations.clear(),u.forEach(p=>{this.relations.push(this.fb.group({cityName:[p.city],cityId:[p.id]}))})}}get city(){return this.stationForm.get("city")}get relations(){return this.stationForm.get("relations")}updateStation(){this.searchService.getStations().pipe(Fs(1)).subscribe(n=>{this.stations=n})}createRelation(){return this.fb.group({cityName:[""],cityId:[""]})}addRelation(){this.relations.push(this.createRelation())}removeRelation(n){this.relations.removeAt(n)}searchCity(n){n&&this.geoService.searchCity(n).subscribe(r=>{if(r.length>0){let{lat:a,lon:u}=r[0];this.stationForm.patchValue({latitude:a,longitude:u})}})}getIdByName(n){return this.stations.find(r=>r.city===n)?.id??0}addStation(){if(this.stationForm.valid){let n=this.stationForm.value,r={city:n.city,latitude:n.latitude,longitude:n.longitude,relations:this.relations.controls.map(a=>this.getIdByName(a.value.cityName))};this.searchService.addStation(r).pipe(Fs(1)).subscribe(()=>{this.mapComponent.loadStations(),this.relations.push(this.createRelation()),this.stationForm.reset(),this.relations.clear(),this.updateStation()})}}deleteStation(n){this.searchService.deleteStation(n).subscribe(()=>{this.mapComponent.loadStations(),this.updateStation()})}onMarkerClick(n){this.stationForm.get("city")?.setValue(n.city),this.stationForm.get("latitude")?.setValue(n.latitude),this.stationForm.get("longitude")?.setValue(n.longitude),this.markerService.selectMarkerByCity(n.city,"from",this.setFormValue.bind(this))}setFormValue(n,r){this.stationForm.get(n)?.setValue(r)}};t.\u0275fac=function(r){return new(r||t)(k(ch),k(Cc),k(es),k(vc),k($p))},t.\u0275cmp=ie({type:t,selectors:[["app-station-form"]],viewQuery:function(r,a){if(r&1&&Qe(Uu,5),r&2){let u;Te(u=Ie())&&(a.mapComponent=u.first)}},standalone:!0,features:[re],decls:40,vars:18,consts:[["auto",""],["suffixButton",""],[1,"station-form"],[1,"ant-advanced-station-form",3,"ngSubmit","formGroup"],["nzFor","city",3,"nzSpan"],[3,"nzSpan"],["nz-input","","id","city","formControlName","city","placeholder","Enter city name",3,"nzAutocomplete"],[3,"nzValue",4,"ngFor","ngForOf"],["nzFor","latitude",3,"nzSpan"],["nz-input","","id","latitude","formControlName","latitude","placeholder","Latitude"],["nzFor","longitude",3,"nzSpan"],["nz-input","","id","longitude","formControlName","longitude","placeholder","Longitude"],["formArrayName","relations"],[3,"formGroupName",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed","type","button",1,"add-relation",3,"click"],["nz-icon","","nzType","plus"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled"],[1,"map-cont"],[3,"markerClicked"],[1,"stations-list"],[4,"ngFor","ngForOf"],[3,"nzValue"],[3,"formGroupName"],[3,"nzSuffix"],["nz-input","","formControlName","cityName","placeholder","Enter related city",3,"nzAutocomplete"],["nz-button","","nzType","text",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","","nzType","default",3,"click"]],template:function(r,a){if(r&1){let u=he();z(0,"div",2)(1,"form",3),Q("ngSubmit",function(){return B(u),V(a.addStation())}),z(2,"nz-form-item")(3,"nz-form-label",4),H(4,"City"),S(),z(5,"nz-form-control",5)(6,"nz-input-group"),W(7,"input",6),z(8,"nz-autocomplete",null,0),M(10,ree,2,2,"nz-auto-option",7),wn(11,"async"),S()()()(),z(12,"nz-form-item")(13,"nz-form-label",8),H(14,"Latitude"),S(),z(15,"nz-form-control",5),W(16,"input",9),S()(),z(17,"nz-form-item")(18,"nz-form-label",10),H(19,"Longitude"),S(),z(20,"nz-form-control",5),W(21,"input",11),S()(),z(22,"nz-form-item")(23,"nz-form-label",5),H(24,"Relations"),S(),z(25,"nz-form-control",5)(26,"div",12),M(27,see,8,4,"div",13),S(),z(28,"button",14),Q("click",function(){return B(u),V(a.addRelation())}),W(29,"i",15),H(30," Add Relation "),S()()(),z(31,"nz-form-item")(32,"nz-form-control",16)(33,"button",17),H(34,"Add Station"),S()()()(),z(35,"div",18)(36,"app-map",19),Q("markerClicked",function(m){return B(u),V(a.onMarkerClick(m))}),S()()(),z(37,"div",20)(38,"ul"),M(39,lee,4,1,"li",21),S()()}if(r&2){let u=Pe(9);y(),w("formGroup",a.stationForm),y(2),w("nzSpan",6),y(2),w("nzSpan",14),y(2),w("nzAutocomplete",u),y(3),w("ngForOf",pr(11,16,a.cityOptions$)),y(3),w("nzSpan",6),y(2),w("nzSpan",14),y(3),w("nzSpan",6),y(2),w("nzSpan",14),y(3),w("nzSpan",6),y(2),w("nzSpan",14),y(2),w("ngForOf",a.relations.controls),y(5),w("nzSpan",14)("nzOffset",6),y(),w("disabled",a.stationForm.invalid),y(6),w("ngForOf",a.stations)}},dependencies:[Na,Tr,Pl,Ao,Eo,Wi,zi,Do,La,Ba,zy,by,Uu,Bo,Hl,Vo,Wl,qa,Ha,jl,Ui,_h,Lo,Ro,gc,Sp,Fp,Ip,Ys,ju,_c,en,Jt],styles:[".station-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.ant-advanced-station-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:40%}.map-cont[_ngcontent-%COMP%]{display:flex;min-width:300px;flex-basis:60%}"]});let e=t;return e})();var wF=[{path:"",component:QI,title:"Main Page"},{path:"stations",component:SF,title:"Stations"},{path:"signup",component:tF,title:"Sign-Up Page"},{path:"signin",component:nF,canActivate:[Hg]},{path:"orders",component:gF,canActivate:[Hg]},{path:"carriages",component:bF},{path:"profile",loadComponent:()=>import("./chunk-RBXGMFRX.js").then(e=>e.ProfileComponent),title:"Profile Page",canActivate:[iF]},{path:"**",loadComponent:()=>import("./chunk-O3POUH5P.js").then(e=>e.NotFoundComponent),title:"404 Page"}];var TF=(e,t)=>{let i=localStorage.getItem("token");if(i){let n=e.clone({headers:e.headers.set("Authorization",`Bearer ${i}`)});return t(n)}return t(e)};Qv(G2);var IF={providers:[ay(wF),_y(gy),Av(Fr),Y2(),ty(ny([TF])),gh]};var FF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-header"]],standalone:!0,features:[re],decls:2,vars:0,template:function(r,a){r&1&&(z(0,"p"),H(1,"header works!"),S())}});let e=t;return e})();var OF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-footer"]],standalone:!0,features:[re],decls:2,vars:0,template:function(r,a){r&1&&(z(0,"p"),H(1,"footer works!"),S())}});let e=t;return e})();var MF=(()=>{let t=class t{constructor(){this.title="train-a"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-root"]],standalone:!0,features:[re],decls:4,vars:0,consts:[[1,"container"]],template:function(r,a){r&1&&(W(0,"app-header"),z(1,"div",0),W(2,"router-outlet"),S(),W(3,"app-footer"))},dependencies:[oy,FF,OF]});let e=t;return e})();Z2().then(()=>ry(MF,IF)).catch(e=>console.error(e));
