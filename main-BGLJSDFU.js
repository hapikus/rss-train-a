import{a as Uv,b as Gv,c as ed,d as Yv,e as Kv,f as Qv,g as yl,i as xl,j as Cl,l as iy}from"./chunk-IMNPQKWZ.js";import{e as Jh}from"./chunk-SFFVLJMP.js";import{a as Uh,b as Vv,d as qv,e as $v,f as Xv,g as Jv,h as ey,i as ty,j as ny,k as xa}from"./chunk-ZVHTFEJE.js";import{b as _v,c as cl,d as kh,e as gv,f as Nh}from"./chunk-V7MK6ZA7.js";import{$ as ao,$a as Qi,Aa as Ev,Ab as Kh,B as xv,Bb as Qh,Ca as Vc,Cb as Xh,Da as jh,Db as hr,E as Cv,Ea as qc,Fa as Av,G as Lh,H as Vf,Ha as Dv,I as bv,Ia as kv,Ib as uo,J as hl,Jb as fl,K as In,Kb as ho,L as wv,Lb as ml,M as zv,Mb as _l,N as Hc,Na as Nv,Nb as va,O as Sv,Oa as Rv,Ob as gl,P as Tv,Pa as zi,Pb as vl,Q as ur,R as ps,Rb as ya,Sa as Lv,T as Ki,Ta as jf,U as Zn,Ua as Zh,V as Ni,Va as Wh,W as oo,Wa as Bv,Xa as Ri,Y as Fv,Ya as ht,Za as gn,_ as fs,_a as vn,a as hv,aa as _a,ab as Fr,b as io,ba as Pv,bb as li,c as dv,ca as Iv,cb as Xi,d as pv,da as ga,db as Ln,e as fv,ea as Bh,eb as Bn,f as mv,fa as Hh,ga as Lo,gb as Hv,ha as so,ia as dl,j as vv,k as Lc,l as yv,la as Mv,ma as si,nb as lo,o as di,ob as co,p as Hf,pb as Gh,q as Bc,qb as jv,r as hs,rb as Zv,s as Rh,sa as qf,t as ul,ta as Vh,ub as pl,v as ds,va as qh,vb as Wv,w as ro,wa as Ov,ya as $h,yb as Zf,za as $f,zb as Yh}from"./chunk-FEVQ5YGC.js";import{A as Dh,B as no,d as ma,n as cv,p as Yi,q as sl,r as cs,v as Vr,w as Rn,x as ll,y as us,z as uv}from"./chunk-PQGTFRF3.js";import{$b as Dt,A as qg,Aa as Wg,Ac as ni,B as $g,Ba as Ug,Bb as Bf,Cb as lr,Cc as sv,Db as Lt,Dc as hn,E as Rf,Ec as Ui,Fa as Gg,Fc as Gi,G as Tr,Ga as Yg,Gb as D,Gc as Ke,Ha as $t,Hb as wn,Ia as G,Ib as F,J as os,Ja as Y,Jb as _t,K as ua,Ka as ss,Kb as We,La as Kg,Lb as iv,M as rl,Ma as Eh,Mb as cr,Nb as de,Oa as ls,Ob as al,P as Fh,Pa as Lf,Pb as rv,R as as,Ra as ut,Rb as J,Rc as nn,Sa as xi,Sb as pa,T as jg,Tb as tn,U as ol,Ua as Wi,Ub as Je,Vb as et,Wb as z,Wc as pe,Xb as S,Xc as Ro,Yb as Q,Yc as lv,Zb as je,_a as Qg,_b as Ze,a as qt,ac as we,b as Nn,bc as ov,c as Sh,ca as Zg,d as E,da as ha,e as en,ea as $e,f as Rt,fc as ne,g as Nf,ga as Ph,h as Lg,ha as Ih,hc as w,i as il,ia as Rc,ic as Ai,jc as Di,k as Bg,ka as Mh,kb as Hr,kc as gt,la as Pn,lc as fa,ma as cn,mc as Bt,n as Gt,nc as wt,o as Hg,oa as Oh,ob as y,oc as zt,p as Vg,pb as U,pc as ke,qa as yi,qb as Xg,qc as H,ra as Et,rb as ko,rc as Ve,sb as Jg,sc as Ce,t as ct,tc as av,ub as ev,uc as Ci,v as Do,vb as to,vc as bi,w as Th,wa as ve,wb as tv,wc as wi,xa as un,xc as ki,ya as da,yb as nv,yc as ye,z as Br,zb as Ah,zc as No}from"./chunk-26O7SS3C.js";var Wf=E((DY,ry)=>{"use strict";var KE=typeof global=="object"&&global&&global.Object===Object&&global;ry.exports=KE});var qr=E((kY,oy)=>{"use strict";var QE=Wf(),XE=typeof self=="object"&&self&&self.Object===Object&&self,JE=QE||XE||Function("return this")();oy.exports=JE});var ms=E((NY,ay)=>{"use strict";var eA=qr(),tA=eA.Symbol;ay.exports=tA});var uy=E((RY,cy)=>{"use strict";var sy=ms(),ly=Object.prototype,nA=ly.hasOwnProperty,iA=ly.toString,$c=sy?sy.toStringTag:void 0;function rA(e){var t=nA.call(e,$c),n=e[$c];try{e[$c]=void 0;var i=!0}catch{}var o=iA.call(e);return i&&(t?e[$c]=n:delete e[$c]),o}cy.exports=rA});var dy=E((LY,hy)=>{"use strict";var oA=Object.prototype,aA=oA.toString;function sA(e){return aA.call(e)}hy.exports=sA});var _s=E((BY,my)=>{"use strict";var py=ms(),lA=uy(),cA=dy(),uA="[object Null]",hA="[object Undefined]",fy=py?py.toStringTag:void 0;function dA(e){return e==null?e===void 0?hA:uA:fy&&fy in Object(e)?lA(e):cA(e)}my.exports=dA});var Uf=E((HY,_y)=>{"use strict";function pA(e,t){return function(n){return e(t(n))}}_y.exports=pA});var td=E((VY,gy)=>{"use strict";var fA=Uf(),mA=fA(Object.getPrototypeOf,Object);gy.exports=mA});var Bo=E((qY,vy)=>{"use strict";function _A(e){return e!=null&&typeof e=="object"}vy.exports=_A});var Cy=E(($Y,xy)=>{"use strict";var gA=_s(),vA=td(),yA=Bo(),xA="[object Object]",CA=Function.prototype,bA=Object.prototype,yy=CA.toString,wA=bA.hasOwnProperty,zA=yy.call(Object);function SA(e){if(!yA(e)||gA(e)!=xA)return!1;var t=vA(e);if(t===null)return!0;var n=wA.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&yy.call(n)==zA}xy.exports=SA});var po=E((jY,by)=>{"use strict";function TA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}by.exports=TA});var nd=E((ZY,wy)=>{"use strict";var FA=_s(),PA=po(),IA="[object AsyncFunction]",MA="[object Function]",OA="[object GeneratorFunction]",EA="[object Proxy]";function AA(e){if(!PA(e))return!1;var t=FA(e);return t==MA||t==OA||t==IA||t==EA}wy.exports=AA});var Sy=E((WY,zy)=>{"use strict";var DA=qr(),kA=DA["__core-js_shared__"];zy.exports=kA});var Py=E((UY,Fy)=>{"use strict";var Gf=Sy(),Ty=function(){var e=/[^.]+$/.exec(Gf&&Gf.keys&&Gf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NA(e){return!!Ty&&Ty in e}Fy.exports=NA});var Yf=E((GY,Iy)=>{"use strict";var RA=Function.prototype,LA=RA.toString;function BA(e){if(e!=null){try{return LA.call(e)}catch{}try{return e+""}catch{}}return""}Iy.exports=BA});var Oy=E((YY,My)=>{"use strict";var HA=nd(),VA=Py(),qA=po(),$A=Yf(),jA=/[\\^$.*+?()[\]{}|]/g,ZA=/^\[object .+?Constructor\]$/,WA=Function.prototype,UA=Object.prototype,GA=WA.toString,YA=UA.hasOwnProperty,KA=RegExp("^"+GA.call(YA).replace(jA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QA(e){if(!qA(e)||VA(e))return!1;var t=HA(e)?KA:ZA;return t.test($A(e))}My.exports=QA});var Ay=E((KY,Ey)=>{"use strict";function XA(e,t){return e?.[t]}Ey.exports=XA});var Ca=E((QY,Dy)=>{"use strict";var JA=Oy(),eD=Ay();function tD(e,t){var n=eD(e,t);return JA(n)?n:void 0}Dy.exports=tD});var Kf=E((XY,ky)=>{"use strict";var nD=Ca(),iD=function(){try{var e=nD(Object,"defineProperty");return e({},"",{}),e}catch{}}();ky.exports=iD});var id=E((JY,Ry)=>{"use strict";var Ny=Kf();function rD(e,t,n){t=="__proto__"&&Ny?Ny(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Ry.exports=rD});var By=E((eK,Ly)=>{"use strict";function oD(e){return function(t,n,i){for(var o=-1,s=Object(t),h=i(t),f=h.length;f--;){var g=h[e?f:++o];if(n(s[g],g,s)===!1)break}return t}}Ly.exports=oD});var Qf=E((tK,Hy)=>{"use strict";var aD=By(),sD=aD();Hy.exports=sD});var qy=E((nK,Vy)=>{"use strict";function lD(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}Vy.exports=lD});var jy=E((iK,$y)=>{"use strict";var cD=_s(),uD=Bo(),hD="[object Arguments]";function dD(e){return uD(e)&&cD(e)==hD}$y.exports=dD});var jc=E((rK,Uy)=>{"use strict";var Zy=jy(),pD=Bo(),Wy=Object.prototype,fD=Wy.hasOwnProperty,mD=Wy.propertyIsEnumerable,_D=Zy(function(){return arguments}())?Zy:function(e){return pD(e)&&fD.call(e,"callee")&&!mD.call(e,"callee")};Uy.exports=_D});var dr=E((oK,Gy)=>{"use strict";var gD=Array.isArray;Gy.exports=gD});var Ky=E((aK,Yy)=>{"use strict";function vD(){return!1}Yy.exports=vD});var Wc=E((Zc,bl)=>{"use strict";var yD=qr(),xD=Ky(),Jy=typeof Zc=="object"&&Zc&&!Zc.nodeType&&Zc,Qy=Jy&&typeof bl=="object"&&bl&&!bl.nodeType&&bl,CD=Qy&&Qy.exports===Jy,Xy=CD?yD.Buffer:void 0,bD=Xy?Xy.isBuffer:void 0,wD=bD||xD;bl.exports=wD});var Uc=E((sK,e1)=>{"use strict";var zD=9007199254740991,SD=/^(?:0|[1-9]\d*)$/;function TD(e,t){var n=typeof e;return t=t??zD,!!t&&(n=="number"||n!="symbol"&&SD.test(e))&&e>-1&&e%1==0&&e<t}e1.exports=TD});var rd=E((lK,t1)=>{"use strict";var FD=9007199254740991;function PD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FD}t1.exports=PD});var i1=E((cK,n1)=>{"use strict";var ID=_s(),MD=rd(),OD=Bo(),ED="[object Arguments]",AD="[object Array]",DD="[object Boolean]",kD="[object Date]",ND="[object Error]",RD="[object Function]",LD="[object Map]",BD="[object Number]",HD="[object Object]",VD="[object RegExp]",qD="[object Set]",$D="[object String]",jD="[object WeakMap]",ZD="[object ArrayBuffer]",WD="[object DataView]",UD="[object Float32Array]",GD="[object Float64Array]",YD="[object Int8Array]",KD="[object Int16Array]",QD="[object Int32Array]",XD="[object Uint8Array]",JD="[object Uint8ClampedArray]",ek="[object Uint16Array]",tk="[object Uint32Array]",dn={};dn[UD]=dn[GD]=dn[YD]=dn[KD]=dn[QD]=dn[XD]=dn[JD]=dn[ek]=dn[tk]=!0;dn[ED]=dn[AD]=dn[ZD]=dn[DD]=dn[WD]=dn[kD]=dn[ND]=dn[RD]=dn[LD]=dn[BD]=dn[HD]=dn[VD]=dn[qD]=dn[$D]=dn[jD]=!1;function nk(e){return OD(e)&&MD(e.length)&&!!dn[ID(e)]}n1.exports=nk});var od=E((uK,r1)=>{"use strict";function ik(e){return function(t){return e(t)}}r1.exports=ik});var ad=E((Gc,wl)=>{"use strict";var rk=Wf(),o1=typeof Gc=="object"&&Gc&&!Gc.nodeType&&Gc,Yc=o1&&typeof wl=="object"&&wl&&!wl.nodeType&&wl,ok=Yc&&Yc.exports===o1,Xf=ok&&rk.process,ak=function(){try{var e=Yc&&Yc.require&&Yc.require("util").types;return e||Xf&&Xf.binding&&Xf.binding("util")}catch{}}();wl.exports=ak});var sd=E((hK,l1)=>{"use strict";var sk=i1(),lk=od(),a1=ad(),s1=a1&&a1.isTypedArray,ck=s1?lk(s1):sk;l1.exports=ck});var Jf=E((dK,c1)=>{"use strict";var uk=qy(),hk=jc(),dk=dr(),pk=Wc(),fk=Uc(),mk=sd(),_k=Object.prototype,gk=_k.hasOwnProperty;function vk(e,t){var n=dk(e),i=!n&&hk(e),o=!n&&!i&&pk(e),s=!n&&!i&&!o&&mk(e),h=n||i||o||s,f=h?uk(e.length,String):[],g=f.length;for(var v in e)(t||gk.call(e,v))&&!(h&&(v=="length"||o&&(v=="offset"||v=="parent")||s&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||fk(v,g)))&&f.push(v);return f}c1.exports=vk});var zl=E((pK,u1)=>{"use strict";var yk=Object.prototype;function xk(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||yk;return e===n}u1.exports=xk});var d1=E((fK,h1)=>{"use strict";var Ck=Uf(),bk=Ck(Object.keys,Object);h1.exports=bk});var em=E((mK,p1)=>{"use strict";var wk=zl(),zk=d1(),Sk=Object.prototype,Tk=Sk.hasOwnProperty;function Fk(e){if(!wk(e))return zk(e);var t=[];for(var n in Object(e))Tk.call(e,n)&&n!="constructor"&&t.push(n);return t}p1.exports=Fk});var fo=E((_K,f1)=>{"use strict";var Pk=nd(),Ik=rd();function Mk(e){return e!=null&&Ik(e.length)&&!Pk(e)}f1.exports=Mk});var Ho=E((gK,m1)=>{"use strict";var Ok=Jf(),Ek=em(),Ak=fo();function Dk(e){return Ak(e)?Ok(e):Ek(e)}m1.exports=Dk});var tm=E((vK,_1)=>{"use strict";var kk=Qf(),Nk=Ho();function Rk(e,t){return e&&kk(e,t,Nk)}_1.exports=Rk});var v1=E((yK,g1)=>{"use strict";function Lk(){this.__data__=[],this.size=0}g1.exports=Lk});var Kc=E((xK,y1)=>{"use strict";function Bk(e,t){return e===t||e!==e&&t!==t}y1.exports=Bk});var Qc=E((CK,x1)=>{"use strict";var Hk=Kc();function Vk(e,t){for(var n=e.length;n--;)if(Hk(e[n][0],t))return n;return-1}x1.exports=Vk});var b1=E((bK,C1)=>{"use strict";var qk=Qc(),$k=Array.prototype,jk=$k.splice;function Zk(e){var t=this.__data__,n=qk(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():jk.call(t,n,1),--this.size,!0}C1.exports=Zk});var z1=E((wK,w1)=>{"use strict";var Wk=Qc();function Uk(e){var t=this.__data__,n=Wk(t,e);return n<0?void 0:t[n][1]}w1.exports=Uk});var T1=E((zK,S1)=>{"use strict";var Gk=Qc();function Yk(e){return Gk(this.__data__,e)>-1}S1.exports=Yk});var P1=E((SK,F1)=>{"use strict";var Kk=Qc();function Qk(e,t){var n=this.__data__,i=Kk(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}F1.exports=Qk});var Xc=E((TK,I1)=>{"use strict";var Xk=v1(),Jk=b1(),e3=z1(),t3=T1(),n3=P1();function Sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Sl.prototype.clear=Xk;Sl.prototype.delete=Jk;Sl.prototype.get=e3;Sl.prototype.has=t3;Sl.prototype.set=n3;I1.exports=Sl});var O1=E((FK,M1)=>{"use strict";var i3=Xc();function r3(){this.__data__=new i3,this.size=0}M1.exports=r3});var A1=E((PK,E1)=>{"use strict";function o3(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}E1.exports=o3});var k1=E((IK,D1)=>{"use strict";function a3(e){return this.__data__.get(e)}D1.exports=a3});var R1=E((MK,N1)=>{"use strict";function s3(e){return this.__data__.has(e)}N1.exports=s3});var ld=E((OK,L1)=>{"use strict";var l3=Ca(),c3=qr(),u3=l3(c3,"Map");L1.exports=u3});var Jc=E((EK,B1)=>{"use strict";var h3=Ca(),d3=h3(Object,"create");B1.exports=d3});var q1=E((AK,V1)=>{"use strict";var H1=Jc();function p3(){this.__data__=H1?H1(null):{},this.size=0}V1.exports=p3});var j1=E((DK,$1)=>{"use strict";function f3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}$1.exports=f3});var W1=E((kK,Z1)=>{"use strict";var m3=Jc(),_3="__lodash_hash_undefined__",g3=Object.prototype,v3=g3.hasOwnProperty;function y3(e){var t=this.__data__;if(m3){var n=t[e];return n===_3?void 0:n}return v3.call(t,e)?t[e]:void 0}Z1.exports=y3});var G1=E((NK,U1)=>{"use strict";var x3=Jc(),C3=Object.prototype,b3=C3.hasOwnProperty;function w3(e){var t=this.__data__;return x3?t[e]!==void 0:b3.call(t,e)}U1.exports=w3});var K1=E((RK,Y1)=>{"use strict";var z3=Jc(),S3="__lodash_hash_undefined__";function T3(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=z3&&t===void 0?S3:t,this}Y1.exports=T3});var X1=E((LK,Q1)=>{"use strict";var F3=q1(),P3=j1(),I3=W1(),M3=G1(),O3=K1();function Tl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Tl.prototype.clear=F3;Tl.prototype.delete=P3;Tl.prototype.get=I3;Tl.prototype.has=M3;Tl.prototype.set=O3;Q1.exports=Tl});var tx=E((BK,ex)=>{"use strict";var J1=X1(),E3=Xc(),A3=ld();function D3(){this.size=0,this.__data__={hash:new J1,map:new(A3||E3),string:new J1}}ex.exports=D3});var ix=E((HK,nx)=>{"use strict";function k3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}nx.exports=k3});var eu=E((VK,rx)=>{"use strict";var N3=ix();function R3(e,t){var n=e.__data__;return N3(t)?n[typeof t=="string"?"string":"hash"]:n.map}rx.exports=R3});var ax=E((qK,ox)=>{"use strict";var L3=eu();function B3(e){var t=L3(this,e).delete(e);return this.size-=t?1:0,t}ox.exports=B3});var lx=E(($K,sx)=>{"use strict";var H3=eu();function V3(e){return H3(this,e).get(e)}sx.exports=V3});var ux=E((jK,cx)=>{"use strict";var q3=eu();function $3(e){return q3(this,e).has(e)}cx.exports=$3});var dx=E((ZK,hx)=>{"use strict";var j3=eu();function Z3(e,t){var n=j3(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}hx.exports=Z3});var cd=E((WK,px)=>{"use strict";var W3=tx(),U3=ax(),G3=lx(),Y3=ux(),K3=dx();function Fl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Fl.prototype.clear=W3;Fl.prototype.delete=U3;Fl.prototype.get=G3;Fl.prototype.has=Y3;Fl.prototype.set=K3;px.exports=Fl});var mx=E((UK,fx)=>{"use strict";var Q3=Xc(),X3=ld(),J3=cd(),eN=200;function tN(e,t){var n=this.__data__;if(n instanceof Q3){var i=n.__data__;if(!X3||i.length<eN-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new J3(i)}return n.set(e,t),this.size=n.size,this}fx.exports=tN});var ud=E((GK,_x)=>{"use strict";var nN=Xc(),iN=O1(),rN=A1(),oN=k1(),aN=R1(),sN=mx();function Pl(e){var t=this.__data__=new nN(e);this.size=t.size}Pl.prototype.clear=iN;Pl.prototype.delete=rN;Pl.prototype.get=oN;Pl.prototype.has=aN;Pl.prototype.set=sN;_x.exports=Pl});var vx=E((YK,gx)=>{"use strict";var lN="__lodash_hash_undefined__";function cN(e){return this.__data__.set(e,lN),this}gx.exports=cN});var xx=E((KK,yx)=>{"use strict";function uN(e){return this.__data__.has(e)}yx.exports=uN});var nm=E((QK,Cx)=>{"use strict";var hN=cd(),dN=vx(),pN=xx();function hd(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new hN;++t<n;)this.add(e[t])}hd.prototype.add=hd.prototype.push=dN;hd.prototype.has=pN;Cx.exports=hd});var wx=E((XK,bx)=>{"use strict";function fN(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}bx.exports=fN});var im=E((JK,zx)=>{"use strict";function mN(e,t){return e.has(t)}zx.exports=mN});var rm=E((eQ,Sx)=>{"use strict";var _N=nm(),gN=wx(),vN=im(),yN=1,xN=2;function CN(e,t,n,i,o,s){var h=n&yN,f=e.length,g=t.length;if(f!=g&&!(h&&g>f))return!1;var v=s.get(e),P=s.get(t);if(v&&P)return v==t&&P==e;var I=-1,R=!0,$=n&xN?new _N:void 0;for(s.set(e,t),s.set(t,e);++I<f;){var V=e[I],le=t[I];if(i)var re=h?i(le,V,I,t,e,s):i(V,le,I,e,t,s);if(re!==void 0){if(re)continue;R=!1;break}if($){if(!gN(t,function(xe,St){if(!vN($,St)&&(V===xe||o(V,xe,n,i,s)))return $.push(St)})){R=!1;break}}else if(!(V===le||o(V,le,n,i,s))){R=!1;break}}return s.delete(e),s.delete(t),R}Sx.exports=CN});var om=E((tQ,Tx)=>{"use strict";var bN=qr(),wN=bN.Uint8Array;Tx.exports=wN});var Px=E((nQ,Fx)=>{"use strict";function zN(e){var t=-1,n=Array(e.size);return e.forEach(function(i,o){n[++t]=[o,i]}),n}Fx.exports=zN});var dd=E((iQ,Ix)=>{"use strict";function SN(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}Ix.exports=SN});var Dx=E((rQ,Ax)=>{"use strict";var Mx=ms(),Ox=om(),TN=Kc(),FN=rm(),PN=Px(),IN=dd(),MN=1,ON=2,EN="[object Boolean]",AN="[object Date]",DN="[object Error]",kN="[object Map]",NN="[object Number]",RN="[object RegExp]",LN="[object Set]",BN="[object String]",HN="[object Symbol]",VN="[object ArrayBuffer]",qN="[object DataView]",Ex=Mx?Mx.prototype:void 0,am=Ex?Ex.valueOf:void 0;function $N(e,t,n,i,o,s,h){switch(n){case qN:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case VN:return!(e.byteLength!=t.byteLength||!s(new Ox(e),new Ox(t)));case EN:case AN:case NN:return TN(+e,+t);case DN:return e.name==t.name&&e.message==t.message;case RN:case BN:return e==t+"";case kN:var f=PN;case LN:var g=i&MN;if(f||(f=IN),e.size!=t.size&&!g)return!1;var v=h.get(e);if(v)return v==t;i|=ON,h.set(e,t);var P=FN(f(e),f(t),i,o,s,h);return h.delete(e),P;case HN:if(am)return am.call(e)==am.call(t)}return!1}Ax.exports=$N});var pd=E((oQ,kx)=>{"use strict";function jN(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}kx.exports=jN});var sm=E((aQ,Nx)=>{"use strict";var ZN=pd(),WN=dr();function UN(e,t,n){var i=t(e);return WN(e)?i:ZN(i,n(e))}Nx.exports=UN});var Lx=E((sQ,Rx)=>{"use strict";function GN(e,t){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var h=e[n];t(h,n,e)&&(s[o++]=h)}return s}Rx.exports=GN});var lm=E((lQ,Bx)=>{"use strict";function YN(){return[]}Bx.exports=YN});var fd=E((cQ,Vx)=>{"use strict";var KN=Lx(),QN=lm(),XN=Object.prototype,JN=XN.propertyIsEnumerable,Hx=Object.getOwnPropertySymbols,eR=Hx?function(e){return e==null?[]:(e=Object(e),KN(Hx(e),function(t){return JN.call(e,t)}))}:QN;Vx.exports=eR});var cm=E((uQ,qx)=>{"use strict";var tR=sm(),nR=fd(),iR=Ho();function rR(e){return tR(e,iR,nR)}qx.exports=rR});var Zx=E((hQ,jx)=>{"use strict";var $x=cm(),oR=1,aR=Object.prototype,sR=aR.hasOwnProperty;function lR(e,t,n,i,o,s){var h=n&oR,f=$x(e),g=f.length,v=$x(t),P=v.length;if(g!=P&&!h)return!1;for(var I=g;I--;){var R=f[I];if(!(h?R in t:sR.call(t,R)))return!1}var $=s.get(e),V=s.get(t);if($&&V)return $==t&&V==e;var le=!0;s.set(e,t),s.set(t,e);for(var re=h;++I<g;){R=f[I];var xe=e[R],St=t[R];if(i)var st=h?i(St,xe,R,t,e,s):i(xe,St,R,e,t,s);if(!(st===void 0?xe===St||o(xe,St,n,i,s):st)){le=!1;break}re||(re=R=="constructor")}if(le&&!re){var Nt=e.constructor,tt=t.constructor;Nt!=tt&&"constructor"in e&&"constructor"in t&&!(typeof Nt=="function"&&Nt instanceof Nt&&typeof tt=="function"&&tt instanceof tt)&&(le=!1)}return s.delete(e),s.delete(t),le}jx.exports=lR});var Ux=E((dQ,Wx)=>{"use strict";var cR=Ca(),uR=qr(),hR=cR(uR,"DataView");Wx.exports=hR});var Yx=E((pQ,Gx)=>{"use strict";var dR=Ca(),pR=qr(),fR=dR(pR,"Promise");Gx.exports=fR});var um=E((fQ,Kx)=>{"use strict";var mR=Ca(),_R=qr(),gR=mR(_R,"Set");Kx.exports=gR});var Xx=E((mQ,Qx)=>{"use strict";var vR=Ca(),yR=qr(),xR=vR(yR,"WeakMap");Qx.exports=xR});var Ml=E((_Q,oC)=>{"use strict";var hm=Ux(),dm=ld(),pm=Yx(),fm=um(),mm=Xx(),rC=_s(),Il=Yf(),Jx="[object Map]",CR="[object Object]",eC="[object Promise]",tC="[object Set]",nC="[object WeakMap]",iC="[object DataView]",bR=Il(hm),wR=Il(dm),zR=Il(pm),SR=Il(fm),TR=Il(mm),gs=rC;(hm&&gs(new hm(new ArrayBuffer(1)))!=iC||dm&&gs(new dm)!=Jx||pm&&gs(pm.resolve())!=eC||fm&&gs(new fm)!=tC||mm&&gs(new mm)!=nC)&&(gs=function(e){var t=rC(e),n=t==CR?e.constructor:void 0,i=n?Il(n):"";if(i)switch(i){case bR:return iC;case wR:return Jx;case zR:return eC;case SR:return tC;case TR:return nC}return t});oC.exports=gs});var pC=E((gQ,dC)=>{"use strict";var _m=ud(),FR=rm(),PR=Dx(),IR=Zx(),aC=Ml(),sC=dr(),lC=Wc(),MR=sd(),OR=1,cC="[object Arguments]",uC="[object Array]",md="[object Object]",ER=Object.prototype,hC=ER.hasOwnProperty;function AR(e,t,n,i,o,s){var h=sC(e),f=sC(t),g=h?uC:aC(e),v=f?uC:aC(t);g=g==cC?md:g,v=v==cC?md:v;var P=g==md,I=v==md,R=g==v;if(R&&lC(e)){if(!lC(t))return!1;h=!0,P=!1}if(R&&!P)return s||(s=new _m),h||MR(e)?FR(e,t,n,i,o,s):PR(e,t,g,n,i,o,s);if(!(n&OR)){var $=P&&hC.call(e,"__wrapped__"),V=I&&hC.call(t,"__wrapped__");if($||V){var le=$?e.value():e,re=V?t.value():t;return s||(s=new _m),o(le,re,n,i,s)}}return R?(s||(s=new _m),IR(e,t,n,i,o,s)):!1}dC.exports=AR});var _d=E((vQ,_C)=>{"use strict";var DR=pC(),fC=Bo();function mC(e,t,n,i,o){return e===t?!0:e==null||t==null||!fC(e)&&!fC(t)?e!==e&&t!==t:DR(e,t,n,i,mC,o)}_C.exports=mC});var vC=E((yQ,gC)=>{"use strict";var kR=ud(),NR=_d(),RR=1,LR=2;function BR(e,t,n,i){var o=n.length,s=o,h=!i;if(e==null)return!s;for(e=Object(e);o--;){var f=n[o];if(h&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++o<s;){f=n[o];var g=f[0],v=e[g],P=f[1];if(h&&f[2]){if(v===void 0&&!(g in e))return!1}else{var I=new kR;if(i)var R=i(v,P,g,e,t,I);if(!(R===void 0?NR(P,v,RR|LR,i,I):R))return!1}}return!0}gC.exports=BR});var gm=E((xQ,yC)=>{"use strict";var HR=po();function VR(e){return e===e&&!HR(e)}yC.exports=VR});var CC=E((CQ,xC)=>{"use strict";var qR=gm(),$R=Ho();function jR(e){for(var t=$R(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,qR(o)]}return t}xC.exports=jR});var vm=E((bQ,bC)=>{"use strict";function ZR(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}bC.exports=ZR});var zC=E((wQ,wC)=>{"use strict";var WR=vC(),UR=CC(),GR=vm();function YR(e){var t=UR(e);return t.length==1&&t[0][2]?GR(t[0][0],t[0][1]):function(n){return n===e||WR(n,e,t)}}wC.exports=YR});var tu=E((zQ,SC)=>{"use strict";var KR=_s(),QR=Bo(),XR="[object Symbol]";function JR(e){return typeof e=="symbol"||QR(e)&&KR(e)==XR}SC.exports=JR});var gd=E((SQ,TC)=>{"use strict";var eL=dr(),tL=tu(),nL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iL=/^\w*$/;function rL(e,t){if(eL(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||tL(e)?!0:iL.test(e)||!nL.test(e)||t!=null&&e in Object(t)}TC.exports=rL});var IC=E((TQ,PC)=>{"use strict";var FC=cd(),oL="Expected a function";function ym(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oL);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var h=e.apply(this,i);return n.cache=s.set(o,h)||s,h};return n.cache=new(ym.Cache||FC),n}ym.Cache=FC;PC.exports=ym});var OC=E((FQ,MC)=>{"use strict";var aL=IC(),sL=500;function lL(e){var t=aL(e,function(i){return n.size===sL&&n.clear(),i}),n=t.cache;return t}MC.exports=lL});var AC=E((PQ,EC)=>{"use strict";var cL=OC(),uL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hL=/\\(\\)?/g,dL=cL(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uL,function(n,i,o,s){t.push(o?s.replace(hL,"$1"):i||n)}),t});EC.exports=dL});var vd=E((IQ,DC)=>{"use strict";function pL(e,t){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}DC.exports=pL});var HC=E((MQ,BC)=>{"use strict";var kC=ms(),fL=vd(),mL=dr(),_L=tu(),gL=1/0,NC=kC?kC.prototype:void 0,RC=NC?NC.toString:void 0;function LC(e){if(typeof e=="string")return e;if(mL(e))return fL(e,LC)+"";if(_L(e))return RC?RC.call(e):"";var t=e+"";return t=="0"&&1/e==-gL?"-0":t}BC.exports=LC});var xm=E((OQ,VC)=>{"use strict";var vL=HC();function yL(e){return e==null?"":vL(e)}VC.exports=yL});var Ol=E((EQ,qC)=>{"use strict";var xL=dr(),CL=gd(),bL=AC(),wL=xm();function zL(e,t){return xL(e)?e:CL(e,t)?[e]:bL(wL(e))}qC.exports=zL});var vs=E((AQ,$C)=>{"use strict";var SL=tu(),TL=1/0;function FL(e){if(typeof e=="string"||SL(e))return e;var t=e+"";return t=="0"&&1/e==-TL?"-0":t}$C.exports=FL});var nu=E((DQ,jC)=>{"use strict";var PL=Ol(),IL=vs();function ML(e,t){t=PL(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[IL(t[n++])];return n&&n==i?e:void 0}jC.exports=ML});var Cm=E((kQ,ZC)=>{"use strict";var OL=nu();function EL(e,t,n){var i=e==null?void 0:OL(e,t);return i===void 0?n:i}ZC.exports=EL});var UC=E((NQ,WC)=>{"use strict";function AL(e,t){return e!=null&&t in Object(e)}WC.exports=AL});var bm=E((RQ,GC)=>{"use strict";var DL=Ol(),kL=jc(),NL=dr(),RL=Uc(),LL=rd(),BL=vs();function HL(e,t,n){t=DL(t,e);for(var i=-1,o=t.length,s=!1;++i<o;){var h=BL(t[i]);if(!(s=e!=null&&n(e,h)))break;e=e[h]}return s||++i!=o?s:(o=e==null?0:e.length,!!o&&LL(o)&&RL(h,o)&&(NL(e)||kL(e)))}GC.exports=HL});var wm=E((LQ,YC)=>{"use strict";var VL=UC(),qL=bm();function $L(e,t){return e!=null&&qL(e,t,VL)}YC.exports=$L});var QC=E((BQ,KC)=>{"use strict";var jL=_d(),ZL=Cm(),WL=wm(),UL=gd(),GL=gm(),YL=vm(),KL=vs(),QL=1,XL=2;function JL(e,t){return UL(e)&&GL(t)?YL(KL(e),t):function(n){var i=ZL(n,e);return i===void 0&&i===t?WL(n,e):jL(t,i,QL|XL)}}KC.exports=JL});var iu=E((HQ,XC)=>{"use strict";function e4(e){return e}XC.exports=e4});var eb=E((VQ,JC)=>{"use strict";function t4(e){return function(t){return t?.[e]}}JC.exports=t4});var nb=E((qQ,tb)=>{"use strict";var n4=nu();function i4(e){return function(t){return n4(t,e)}}tb.exports=i4});var rb=E(($Q,ib)=>{"use strict";var r4=eb(),o4=nb(),a4=gd(),s4=vs();function l4(e){return a4(e)?r4(s4(e)):o4(e)}ib.exports=l4});var El=E((jQ,ob)=>{"use strict";var c4=zC(),u4=QC(),h4=iu(),d4=dr(),p4=rb();function f4(e){return typeof e=="function"?e:e==null?h4:typeof e=="object"?d4(e)?u4(e[0],e[1]):c4(e):p4(e)}ob.exports=f4});var sb=E((ZQ,ab)=>{"use strict";var m4=id(),_4=tm(),g4=El();function v4(e,t){var n={};return t=g4(t,3),_4(e,function(i,o,s){m4(n,o,t(i,o,s))}),n}ab.exports=v4});var zm=E((WQ,lb)=>{"use strict";function y4(e,t,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(t(e[s],s,e))return s;return-1}lb.exports=y4});var ub=E((UQ,cb)=>{"use strict";function x4(e){return e!==e}cb.exports=x4});var db=E((GQ,hb)=>{"use strict";function C4(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}hb.exports=C4});var fb=E((YQ,pb)=>{"use strict";var b4=zm(),w4=ub(),z4=db();function S4(e,t,n){return t===t?z4(e,t,n):b4(e,w4,n)}pb.exports=S4});var _b=E((KQ,mb)=>{"use strict";var T4=fb();function F4(e,t){var n=e==null?0:e.length;return!!n&&T4(e,t,0)>-1}mb.exports=F4});var vb=E((QQ,gb)=>{"use strict";function P4(e,t,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}gb.exports=P4});var xb=E((XQ,yb)=>{"use strict";function I4(){}yb.exports=I4});var bb=E((JQ,Cb)=>{"use strict";var Sm=um(),M4=xb(),O4=dd(),E4=1/0,A4=Sm&&1/O4(new Sm([,-0]))[1]==E4?function(e){return new Sm(e)}:M4;Cb.exports=A4});var Tm=E((eX,wb)=>{"use strict";var D4=nm(),k4=_b(),N4=vb(),R4=im(),L4=bb(),B4=dd(),H4=200;function V4(e,t,n){var i=-1,o=k4,s=e.length,h=!0,f=[],g=f;if(n)h=!1,o=N4;else if(s>=H4){var v=t?null:L4(e);if(v)return B4(v);h=!1,o=R4,g=new D4}else g=t?[]:f;e:for(;++i<s;){var P=e[i],I=t?t(P):P;if(P=n||P!==0?P:0,h&&I===I){for(var R=g.length;R--;)if(g[R]===I)continue e;t&&g.push(I),f.push(P)}else o(g,I,n)||(g!==f&&g.push(I),f.push(P))}return f}wb.exports=V4});var Sb=E((tX,zb)=>{"use strict";var q4=Tm();function $4(e){return e&&e.length?q4(e):[]}zb.exports=$4});var Ib=E((nX,Pb)=>{"use strict";var Tb=ms(),j4=jc(),Z4=dr(),Fb=Tb?Tb.isConcatSpreadable:void 0;function W4(e){return Z4(e)||j4(e)||!!(Fb&&e&&e[Fb])}Pb.exports=W4});var Eb=E((iX,Ob)=>{"use strict";var U4=pd(),G4=Ib();function Mb(e,t,n,i,o){var s=-1,h=e.length;for(n||(n=G4),o||(o=[]);++s<h;){var f=e[s];t>0&&n(f)?t>1?Mb(f,t-1,n,i,o):U4(o,f):i||(o[o.length]=f)}return o}Ob.exports=Mb});var Fm=E((rX,Ab)=>{"use strict";var Y4=Eb();function K4(e){var t=e==null?0:e.length;return t?Y4(e,1):[]}Ab.exports=K4});var Am=E((sX,$b)=>{"use strict";function nB(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+t];return s}$b.exports=nB});var Zb=E((lX,jb)=>{"use strict";var iB=Am();function rB(e,t,n){var i=e.length;return n=n===void 0?i:n,!t&&n>=i?e:iB(e,t,n)}jb.exports=rB});var Dm=E((cX,Wb)=>{"use strict";var oB="\\ud800-\\udfff",aB="\\u0300-\\u036f",sB="\\ufe20-\\ufe2f",lB="\\u20d0-\\u20ff",cB=aB+sB+lB,uB="\\ufe0e\\ufe0f",hB="\\u200d",dB=RegExp("["+hB+oB+cB+uB+"]");function pB(e){return dB.test(e)}Wb.exports=pB});var Gb=E((uX,Ub)=>{"use strict";function fB(e){return e.split("")}Ub.exports=fB});var nw=E((hX,tw)=>{"use strict";var Yb="\\ud800-\\udfff",mB="\\u0300-\\u036f",_B="\\ufe20-\\ufe2f",gB="\\u20d0-\\u20ff",vB=mB+_B+gB,yB="\\ufe0e\\ufe0f",xB="["+Yb+"]",km="["+vB+"]",Nm="\\ud83c[\\udffb-\\udfff]",CB="(?:"+km+"|"+Nm+")",Kb="[^"+Yb+"]",Qb="(?:\\ud83c[\\udde6-\\uddff]){2}",Xb="[\\ud800-\\udbff][\\udc00-\\udfff]",bB="\\u200d",Jb=CB+"?",ew="["+yB+"]?",wB="(?:"+bB+"(?:"+[Kb,Qb,Xb].join("|")+")"+ew+Jb+")*",zB=ew+Jb+wB,SB="(?:"+[Kb+km+"?",km,Qb,Xb,xB].join("|")+")",TB=RegExp(Nm+"(?="+Nm+")|"+SB+zB,"g");function FB(e){return e.match(TB)||[]}tw.exports=FB});var rw=E((dX,iw)=>{"use strict";var PB=Gb(),IB=Dm(),MB=nw();function OB(e){return IB(e)?MB(e):PB(e)}iw.exports=OB});var aw=E((pX,ow)=>{"use strict";var EB=Zb(),AB=Dm(),DB=rw(),kB=xm();function NB(e){return function(t){t=kB(t);var n=AB(t)?DB(t):void 0,i=n?n[0]:t.charAt(0),o=n?EB(n,1).join(""):t.slice(1);return i[e]()+o}}ow.exports=NB});var lw=E((fX,sw)=>{"use strict";var RB=aw(),LB=RB("toLowerCase");sw.exports=LB});var uw=E((mX,cw)=>{"use strict";var BB=_d();function HB(e,t){return BB(e,t)}cw.exports=HB});var dw=E((_X,hw)=>{"use strict";var VB=fo();function qB(e,t){return function(n,i){if(n==null)return n;if(!VB(n))return e(n,i);for(var o=n.length,s=t?o:-1,h=Object(n);(t?s--:++s<o)&&i(h[s],s,h)!==!1;);return n}}hw.exports=qB});var Rm=E((gX,pw)=>{"use strict";var $B=tm(),jB=dw(),ZB=jB($B);pw.exports=ZB});var mw=E((vX,fw)=>{"use strict";var WB=Rm(),UB=fo();function GB(e,t){var n=-1,i=UB(e)?Array(e.length):[];return WB(e,function(o,s,h){i[++n]=t(o,s,h)}),i}fw.exports=GB});var gw=E((yX,_w)=>{"use strict";var YB=vd(),KB=El(),QB=mw(),XB=dr();function JB(e,t){var n=XB(e)?YB:QB;return n(e,KB(t,3))}_w.exports=JB});var yw=E((xX,vw)=>{"use strict";function e6(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}vw.exports=e6});var ru=E((CX,xw)=>{"use strict";var t6=id(),n6=Kc(),i6=Object.prototype,r6=i6.hasOwnProperty;function o6(e,t,n){var i=e[t];(!(r6.call(e,t)&&n6(i,n))||n===void 0&&!(t in e))&&t6(e,t,n)}xw.exports=o6});var Dl=E((bX,Cw)=>{"use strict";var a6=ru(),s6=id();function l6(e,t,n,i){var o=!n;n||(n={});for(var s=-1,h=t.length;++s<h;){var f=t[s],g=i?i(n[f],e[f],f,n,e):void 0;g===void 0&&(g=e[f]),o?s6(n,f,g):a6(n,f,g)}return n}Cw.exports=l6});var ww=E((wX,bw)=>{"use strict";var c6=Dl(),u6=Ho();function h6(e,t){return e&&c6(t,u6(t),e)}bw.exports=h6});var Sw=E((zX,zw)=>{"use strict";function d6(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}zw.exports=d6});var Fw=E((SX,Tw)=>{"use strict";var p6=po(),f6=zl(),m6=Sw(),_6=Object.prototype,g6=_6.hasOwnProperty;function v6(e){if(!p6(e))return m6(e);var t=f6(e),n=[];for(var i in e)i=="constructor"&&(t||!g6.call(e,i))||n.push(i);return n}Tw.exports=v6});var ou=E((TX,Pw)=>{"use strict";var y6=Jf(),x6=Fw(),C6=fo();function b6(e){return C6(e)?y6(e,!0):x6(e)}Pw.exports=b6});var Mw=E((FX,Iw)=>{"use strict";var w6=Dl(),z6=ou();function S6(e,t){return e&&w6(t,z6(t),e)}Iw.exports=S6});var kw=E((au,kl)=>{"use strict";var T6=qr(),Dw=typeof au=="object"&&au&&!au.nodeType&&au,Ow=Dw&&typeof kl=="object"&&kl&&!kl.nodeType&&kl,F6=Ow&&Ow.exports===Dw,Ew=F6?T6.Buffer:void 0,Aw=Ew?Ew.allocUnsafe:void 0;function P6(e,t){if(t)return e.slice();var n=e.length,i=Aw?Aw(n):new e.constructor(n);return e.copy(i),i}kl.exports=P6});var Rw=E((PX,Nw)=>{"use strict";function I6(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}Nw.exports=I6});var Bw=E((IX,Lw)=>{"use strict";var M6=Dl(),O6=fd();function E6(e,t){return M6(e,O6(e),t)}Lw.exports=E6});var Lm=E((MX,Hw)=>{"use strict";var A6=pd(),D6=td(),k6=fd(),N6=lm(),R6=Object.getOwnPropertySymbols,L6=R6?function(e){for(var t=[];e;)A6(t,k6(e)),e=D6(e);return t}:N6;Hw.exports=L6});var qw=E((OX,Vw)=>{"use strict";var B6=Dl(),H6=Lm();function V6(e,t){return B6(e,H6(e),t)}Vw.exports=V6});var jw=E((EX,$w)=>{"use strict";var q6=sm(),$6=Lm(),j6=ou();function Z6(e){return q6(e,j6,$6)}$w.exports=Z6});var Ww=E((AX,Zw)=>{"use strict";var W6=Object.prototype,U6=W6.hasOwnProperty;function G6(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&U6.call(e,"index")&&(n.index=e.index,n.input=e.input),n}Zw.exports=G6});var Cd=E((DX,Gw)=>{"use strict";var Uw=om();function Y6(e){var t=new e.constructor(e.byteLength);return new Uw(t).set(new Uw(e)),t}Gw.exports=Y6});var Kw=E((kX,Yw)=>{"use strict";var K6=Cd();function Q6(e,t){var n=t?K6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}Yw.exports=Q6});var Xw=E((NX,Qw)=>{"use strict";var X6=/\w*$/;function J6(e){var t=new e.constructor(e.source,X6.exec(e));return t.lastIndex=e.lastIndex,t}Qw.exports=J6});var iz=E((RX,nz)=>{"use strict";var Jw=ms(),ez=Jw?Jw.prototype:void 0,tz=ez?ez.valueOf:void 0;function e5(e){return tz?Object(tz.call(e)):{}}nz.exports=e5});var oz=E((LX,rz)=>{"use strict";var t5=Cd();function n5(e,t){var n=t?t5(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}rz.exports=n5});var sz=E((BX,az)=>{"use strict";var i5=Cd(),r5=Kw(),o5=Xw(),a5=iz(),s5=oz(),l5="[object Boolean]",c5="[object Date]",u5="[object Map]",h5="[object Number]",d5="[object RegExp]",p5="[object Set]",f5="[object String]",m5="[object Symbol]",_5="[object ArrayBuffer]",g5="[object DataView]",v5="[object Float32Array]",y5="[object Float64Array]",x5="[object Int8Array]",C5="[object Int16Array]",b5="[object Int32Array]",w5="[object Uint8Array]",z5="[object Uint8ClampedArray]",S5="[object Uint16Array]",T5="[object Uint32Array]";function F5(e,t,n){var i=e.constructor;switch(t){case _5:return i5(e);case l5:case c5:return new i(+e);case g5:return r5(e,n);case v5:case y5:case x5:case C5:case b5:case w5:case z5:case S5:case T5:return s5(e,n);case u5:return new i;case h5:case f5:return new i(e);case d5:return o5(e);case p5:return new i;case m5:return a5(e)}}az.exports=F5});var uz=E((HX,cz)=>{"use strict";var P5=po(),lz=Object.create,I5=function(){function e(){}return function(t){if(!P5(t))return{};if(lz)return lz(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();cz.exports=I5});var dz=E((VX,hz)=>{"use strict";var M5=uz(),O5=td(),E5=zl();function A5(e){return typeof e.constructor=="function"&&!E5(e)?M5(O5(e)):{}}hz.exports=A5});var fz=E((qX,pz)=>{"use strict";var D5=Ml(),k5=Bo(),N5="[object Map]";function R5(e){return k5(e)&&D5(e)==N5}pz.exports=R5});var vz=E(($X,gz)=>{"use strict";var L5=fz(),B5=od(),mz=ad(),_z=mz&&mz.isMap,H5=_z?B5(_z):L5;gz.exports=H5});var xz=E((jX,yz)=>{"use strict";var V5=Ml(),q5=Bo(),$5="[object Set]";function j5(e){return q5(e)&&V5(e)==$5}yz.exports=j5});var zz=E((ZX,wz)=>{"use strict";var Z5=xz(),W5=od(),Cz=ad(),bz=Cz&&Cz.isSet,U5=bz?W5(bz):Z5;wz.exports=U5});var Iz=E((WX,Pz)=>{"use strict";var G5=ud(),Y5=yw(),K5=ru(),Q5=ww(),X5=Mw(),J5=kw(),e8=Rw(),t8=Bw(),n8=qw(),i8=cm(),r8=jw(),o8=Ml(),a8=Ww(),s8=sz(),l8=dz(),c8=dr(),u8=Wc(),h8=vz(),d8=po(),p8=zz(),f8=Ho(),m8=ou(),_8=1,g8=2,v8=4,Sz="[object Arguments]",y8="[object Array]",x8="[object Boolean]",C8="[object Date]",b8="[object Error]",Tz="[object Function]",w8="[object GeneratorFunction]",z8="[object Map]",S8="[object Number]",Fz="[object Object]",T8="[object RegExp]",F8="[object Set]",P8="[object String]",I8="[object Symbol]",M8="[object WeakMap]",O8="[object ArrayBuffer]",E8="[object DataView]",A8="[object Float32Array]",D8="[object Float64Array]",k8="[object Int8Array]",N8="[object Int16Array]",R8="[object Int32Array]",L8="[object Uint8Array]",B8="[object Uint8ClampedArray]",H8="[object Uint16Array]",V8="[object Uint32Array]",rn={};rn[Sz]=rn[y8]=rn[O8]=rn[E8]=rn[x8]=rn[C8]=rn[A8]=rn[D8]=rn[k8]=rn[N8]=rn[R8]=rn[z8]=rn[S8]=rn[Fz]=rn[T8]=rn[F8]=rn[P8]=rn[I8]=rn[L8]=rn[B8]=rn[H8]=rn[V8]=!0;rn[b8]=rn[Tz]=rn[M8]=!1;function bd(e,t,n,i,o,s){var h,f=t&_8,g=t&g8,v=t&v8;if(n&&(h=o?n(e,i,o,s):n(e)),h!==void 0)return h;if(!d8(e))return e;var P=c8(e);if(P){if(h=a8(e),!f)return e8(e,h)}else{var I=o8(e),R=I==Tz||I==w8;if(u8(e))return J5(e,f);if(I==Fz||I==Sz||R&&!o){if(h=g||R?{}:l8(e),!f)return g?n8(e,X5(h,e)):t8(e,Q5(h,e))}else{if(!rn[I])return o?e:{};h=s8(e,I,f)}}s||(s=new G5);var $=s.get(e);if($)return $;s.set(e,h),p8(e)?e.forEach(function(re){h.add(bd(re,t,n,re,e,s))}):h8(e)&&e.forEach(function(re,xe){h.set(xe,bd(re,t,n,xe,e,s))});var V=v?g?r8:i8:g?m8:f8,le=P?void 0:V(e);return Y5(le||e,function(re,xe){le&&(xe=re,re=e[xe]),K5(h,xe,bd(re,t,n,xe,e,s))}),h}Pz.exports=bd});var Oz=E((UX,Mz)=>{"use strict";var q8=Iz(),$8=1,j8=4;function Z8(e){return q8(e,$8|j8)}Mz.exports=Z8});var wd=E((GX,Ez)=>{"use strict";function W8(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}Ez.exports=W8});var Dz=E((YX,Az)=>{"use strict";function U8(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Az.exports=U8});var Nz=E((KX,kz)=>{"use strict";var G8=nu(),Y8=Am();function K8(e,t){return t.length<2?e:G8(e,Y8(t,0,-1))}kz.exports=K8});var Lz=E((QX,Rz)=>{"use strict";var Q8=wd(),X8=Ol(),J8=Dz(),eH=Nz(),tH=vs();function nH(e,t,n){t=X8(t,e),e=eH(e,t);var i=e==null?e:e[tH(J8(t))];return i==null?void 0:Q8(i,e,n)}Rz.exports=nH});var Bm=E((XX,Hz)=>{"use strict";var iH=wd(),Bz=Math.max;function rH(e,t,n){return t=Bz(t===void 0?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Bz(i.length-t,0),h=Array(s);++o<s;)h[o]=i[t+o];o=-1;for(var f=Array(t+1);++o<t;)f[o]=i[o];return f[t]=n(h),iH(e,this,f)}}Hz.exports=rH});var qz=E((JX,Vz)=>{"use strict";function oH(e){return function(){return e}}Vz.exports=oH});var Zz=E((eJ,jz)=>{"use strict";var aH=qz(),$z=Kf(),sH=iu(),lH=$z?function(e,t){return $z(e,"toString",{configurable:!0,enumerable:!1,value:aH(t),writable:!0})}:sH;jz.exports=lH});var Uz=E((tJ,Wz)=>{"use strict";var cH=800,uH=16,hH=Date.now;function dH(e){var t=0,n=0;return function(){var i=hH(),o=uH-(i-n);if(n=i,o>0){if(++t>=cH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Wz.exports=dH});var Hm=E((nJ,Gz)=>{"use strict";var pH=Zz(),fH=Uz(),mH=fH(pH);Gz.exports=mH});var Vm=E((iJ,Yz)=>{"use strict";var _H=iu(),gH=Bm(),vH=Hm();function yH(e,t){return vH(gH(e,t,_H),e+"")}Yz.exports=yH});var Qz=E((rJ,Kz)=>{"use strict";var xH=wd(),CH=Rm(),bH=Lz(),wH=Vm(),zH=fo(),SH=wH(function(e,t,n){var i=-1,o=typeof t=="function",s=zH(e)?Array(e.length):[];return CH(e,function(h){s[++i]=o?xH(t,h,n):bH(h,t,n)}),s});Kz.exports=SH});var Jz=E((oJ,Xz)=>{"use strict";function TH(e){for(var t=-1,n=e==null?0:e.length,i=0,o=[];++t<n;){var s=e[t];s&&(o[i++]=s)}return o}Xz.exports=TH});var tS=E((aJ,eS)=>{"use strict";var FH=Object.prototype,PH=FH.hasOwnProperty;function IH(e,t){return e!=null&&PH.call(e,t)}eS.exports=IH});var iS=E((sJ,nS)=>{"use strict";var MH=tS(),OH=bm();function EH(e,t){return e!=null&&OH(e,t,MH)}nS.exports=EH});var oS=E((lJ,rS)=>{"use strict";var AH=vd();function DH(e,t){return AH(t,function(n){return e[n]})}rS.exports=DH});var sS=E((cJ,aS)=>{"use strict";var kH=oS(),NH=Ho();function RH(e){return e==null?[]:kH(e,NH(e))}aS.exports=RH});var cS=E((uJ,lS)=>{"use strict";var LH=em(),BH=Ml(),HH=jc(),VH=dr(),qH=fo(),$H=Wc(),jH=zl(),ZH=sd(),WH="[object Map]",UH="[object Set]",GH=Object.prototype,YH=GH.hasOwnProperty;function KH(e){if(e==null)return!0;if(qH(e)&&(VH(e)||typeof e=="string"||typeof e.splice=="function"||$H(e)||ZH(e)||HH(e)))return!e.length;var t=BH(e);if(t==WH||t==UH)return!e.size;if(jH(e))return!LH(e).length;for(var n in e)if(YH.call(e,n))return!1;return!0}lS.exports=KH});var hS=E((hJ,uS)=>{"use strict";var QH=El(),XH=Tm();function JH(e,t){return e&&e.length?XH(e,QH(t,2)):[]}uS.exports=JH});var pS=E((dJ,dS)=>{"use strict";var eV=iu();function tV(e){return typeof e=="function"?e:eV}dS.exports=tV});var mS=E((pJ,fS)=>{"use strict";var nV=Qf(),iV=pS(),rV=ou();function oV(e,t){return e==null?e:nV(e,iV(t),rV)}fS.exports=oV});var vS=E((fJ,gS)=>{"use strict";var aV=ru(),sV=Ol(),lV=Uc(),_S=po(),cV=vs();function uV(e,t,n,i){if(!_S(e))return e;t=sV(t,e);for(var o=-1,s=t.length,h=s-1,f=e;f!=null&&++o<s;){var g=cV(t[o]),v=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=h){var P=f[g];v=i?i(P,g,f):void 0,v===void 0&&(v=_S(P)?P:lV(t[o+1])?[]:{})}aV(f,g,v),f=f[g]}return e}gS.exports=uV});var xS=E((mJ,yS)=>{"use strict";var hV=nu(),dV=vS(),pV=Ol();function fV(e,t,n){for(var i=-1,o=t.length,s={};++i<o;){var h=t[i],f=hV(e,h);n(f,h)&&dV(s,pV(h,e),f)}return s}yS.exports=fV});var bS=E((_J,CS)=>{"use strict";var mV=xS(),_V=wm();function gV(e,t){return mV(e,t,function(n,i){return _V(e,i)})}CS.exports=gV});var zS=E((gJ,wS)=>{"use strict";var vV=Fm(),yV=Bm(),xV=Hm();function CV(e){return xV(yV(e,void 0,vV),e+"")}wS.exports=CV});var TS=E((vJ,SS)=>{"use strict";var bV=bS(),wV=zS(),zV=wV(function(e,t){return e==null?{}:bV(e,t)});SS.exports=zV});var PS=E((yJ,FS)=>{"use strict";var SV=Kc(),TV=fo(),FV=Uc(),PV=po();function IV(e,t,n){if(!PV(n))return!1;var i=typeof t;return(i=="number"?TV(n)&&FV(t,n.length):i=="string"&&t in n)?SV(n[t],e):!1}FS.exports=IV});var MS=E((xJ,IS)=>{"use strict";var MV=Vm(),OV=PS();function EV(e){return MV(function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,h=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,h&&OV(n[0],n[1],h)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var f=n[i];f&&e(t,f,i,s)}return t})}IS.exports=EV});var ES=E((CJ,OS)=>{"use strict";var AV=ru(),DV=Dl(),kV=MS(),NV=fo(),RV=zl(),LV=Ho(),BV=Object.prototype,HV=BV.hasOwnProperty,VV=kV(function(e,t){if(RV(t)||NV(t)){DV(t,LV(t),e);return}for(var n in t)HV.call(t,n)&&AV(e,n,t[n])});OS.exports=VV});var DS=E((bJ,AS)=>{"use strict";var qV=El(),$V=fo(),jV=Ho();function ZV(e){return function(t,n,i){var o=Object(t);if(!$V(t)){var s=qV(n,3);t=jV(t),n=function(f){return s(o[f],f,o)}}var h=e(t,n,i);return h>-1?o[s?t[h]:h]:void 0}}AS.exports=ZV});var NS=E((wJ,kS)=>{"use strict";var WV=/\s/;function UV(e){for(var t=e.length;t--&&WV.test(e.charAt(t)););return t}kS.exports=UV});var LS=E((zJ,RS)=>{"use strict";var GV=NS(),YV=/^\s+/;function KV(e){return e&&e.slice(0,GV(e)+1).replace(YV,"")}RS.exports=KV});var qS=E((SJ,VS)=>{"use strict";var QV=LS(),BS=po(),XV=tu(),HS=NaN,JV=/^[-+]0x[0-9a-f]+$/i,eq=/^0b[01]+$/i,tq=/^0o[0-7]+$/i,nq=parseInt;function iq(e){if(typeof e=="number")return e;if(XV(e))return HS;if(BS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=BS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QV(e);var n=eq.test(e);return n||tq.test(e)?nq(e.slice(2),n?2:8):JV.test(e)?HS:+e}VS.exports=iq});var ZS=E((TJ,jS)=>{"use strict";var rq=qS(),$S=1/0,oq=17976931348623157e292;function aq(e){if(!e)return e===0?e:0;if(e=rq(e),e===$S||e===-$S){var t=e<0?-1:1;return t*oq}return e===e?e:0}jS.exports=aq});var qm=E((FJ,WS)=>{"use strict";var sq=ZS();function lq(e){var t=sq(e),n=t%1;return t===t?n?t-n:t:0}WS.exports=lq});var GS=E((PJ,US)=>{"use strict";var cq=zm(),uq=El(),hq=qm(),dq=Math.max;function pq(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var o=n==null?0:hq(n);return o<0&&(o=dq(i+o,0)),cq(e,uq(t,3),o)}US.exports=pq});var KS=E((IJ,YS)=>{"use strict";var fq=DS(),mq=GS(),_q=fq(mq);YS.exports=_q});var XS=E((MJ,QS)=>{"use strict";var gq=qm();function vq(e){return typeof e=="number"&&e==gq(e)}QS.exports=vq});var G2=E((ql,fu)=>{"use strict";(function(){var e,t="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",v=1,P=2,I=4,R=1,$=2,V=1,le=2,re=4,xe=8,St=16,st=32,Nt=64,tt=128,Se=256,yt=512,Zt=30,q="...",oe=800,be=16,ue=1,Ge=2,ae=3,Re=1/0,W=9007199254740991,Qe=17976931348623157e292,_e=NaN,Ie=4294967295,dt=Ie-1,Ct=Ie>>>1,ot=[["ary",tt],["bind",V],["bindKey",le],["curry",xe],["curryRight",St],["flip",yt],["partial",st],["partialRight",Nt],["rearg",Se]],Ne="[object Arguments]",Me="[object Array]",vt="[object AsyncFunction]",Oe="[object Boolean]",pn="[object Date]",Mn="[object DOMException]",fn="[object Error]",Yt="[object Function]",he="[object GeneratorFunction]",se="[object Map]",ce="[object Number]",Ae="[object Null]",ci="[object Object]",Mr="[object Promise]",Ea="[object Proxy]",pr="[object RegExp]",Un="[object Set]",fr="[object String]",mr="[object Symbol]",Zo="[object Undefined]",Hn="[object WeakMap]",ii="[object WeakSet]",Fe="[object ArrayBuffer]",Ee="[object DataView]",At="[object Float32Array]",Pt="[object Float64Array]",Gn="[object Int8Array]",ri="[object Int16Array]",zn="[object Int32Array]",yn="[object Uint8Array]",xn="[object Uint8ClampedArray]",Sn="[object Uint16Array]",Kt="[object Uint32Array]",Vn=/\b__p \+= '';/g,Yn=/\b(__p \+=) '' \+/g,qn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,On=/&(?:amp|lt|gt|quot|#39);/g,En=/[&<>"']/g,Kn=RegExp(On.source),Qn=RegExp(En.source),Xn=/<%-([\s\S]+?)%>/g,Jn=/<%([\s\S]+?)%>/g,$n=/<%=([\s\S]+?)%>/g,ei=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xl=/^\w*$/,xp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jl=/[\\^$.*+?()[\]{}|]/g,Cp=RegExp(Jl.source),ec=/^\s+/,_r=/\s/,Pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zu=/\{\n\/\* \[wrapped with (.+)\] \*/,Su=/,? & /,Tu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fu=/[()=,{}\[\]\/\s]/,tc=/\\(\\)?/g,Pu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vo=/\w*$/,Iu=/^[-+]0x[0-9a-f]+$/i,bp=/^0b[01]+$/i,wp=/^\[object .+?Constructor\]$/,zp=/^0o[0-7]+$/i,Sp=/^(?:0|[1-9]\d*)$/,Mu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Is=/($^)/,Ms=/['\n\r\u2028\u2029\\]/g,Os="\\ud800-\\udfff",Tp="\\u0300-\\u036f",Fp="\\ufe20-\\ufe2f",Pp="\\u20d0-\\u20ff",Ou=Tp+Fp+Pp,Es="\\u2700-\\u27bf",Wo="a-z\\xdf-\\xf6\\xf8-\\xff",Eu="\\xac\\xb1\\xd7\\xf7",Au="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Aa="\\u2000-\\u206f",It=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="A-Z\\xc0-\\xd6\\xd8-\\xde",Da="\\ufe0e\\ufe0f",yo=Eu+Au+Aa+It,Zr="['\u2019]",nc="["+Os+"]",nt="["+yo+"]",Xt="["+Ou+"]",As="\\d+",Ds="["+Es+"]",Ti="["+Wo+"]",Du="[^"+Os+yo+As+Es+Wo+Qt+"]",Uo="\\ud83c[\\udffb-\\udfff]",xo="(?:"+Xt+"|"+Uo+")",Cn="[^"+Os+"]",Or="(?:\\ud83c[\\udde6-\\uddff]){2}",Co="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+Qt+"]",ks="\\u200d",Go="(?:"+Ti+"|"+Du+")",ic="(?:"+gr+"|"+Du+")",Ns="(?:"+Zr+"(?:d|ll|m|re|s|t|ve))?",ka="(?:"+Zr+"(?:D|LL|M|RE|S|T|VE))?",Rs=xo+"?",Ls="["+Da+"]?",Bs="(?:"+ks+"(?:"+[Cn,Or,Co].join("|")+")"+Ls+Rs+")*",ku="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nu=Ls+Rs+Bs,Xe="(?:"+[Ds,Or,Co].join("|")+")"+Nu,vr="(?:"+[Cn+Xt+"?",Xt,Or,Co,nc].join("|")+")",Wt=RegExp(Zr,"g"),Ru=RegExp(Xt,"g"),Na=RegExp(Uo+"(?="+Uo+")|"+vr+Nu,"g"),oc=RegExp([gr+"?"+Ti+"+"+Ns+"(?="+[nt,gr,"$"].join("|")+")",ic+"+"+ka+"(?="+[nt,gr+Go,"$"].join("|")+")",gr+"?"+Go+"+"+Ns,gr+"+"+ka,rc,ku,As,Xe].join("|"),"g"),ac=RegExp("["+ks+Os+Ou+Da+"]"),bo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ra=-1,it={};it[At]=it[Pt]=it[Gn]=it[ri]=it[zn]=it[yn]=it[xn]=it[Sn]=it[Kt]=!0,it[Ne]=it[Me]=it[Fe]=it[Oe]=it[Ee]=it[pn]=it[fn]=it[Yt]=it[se]=it[ce]=it[ci]=it[pr]=it[Un]=it[fr]=it[Hn]=!1;var Mt={};Mt[Ne]=Mt[Me]=Mt[Fe]=Mt[Ee]=Mt[Oe]=Mt[pn]=Mt[At]=Mt[Pt]=Mt[Gn]=Mt[ri]=Mt[zn]=Mt[se]=Mt[ce]=Mt[ci]=Mt[pr]=Mt[Un]=Mt[fr]=Mt[mr]=Mt[yn]=Mt[xn]=Mt[Sn]=Mt[Kt]=!0,Mt[fn]=Mt[Yt]=Mt[Hn]=!1;var Lu={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Bu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ip={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lc=parseFloat,Mp=parseInt,cc=typeof global=="object"&&global&&global.Object===Object&&global,bt=typeof self=="object"&&self&&self.Object===Object&&self,jn=cc||bt||Function("return this")(),Fi=typeof ql=="object"&&ql&&!ql.nodeType&&ql,tr=Fi&&typeof fu=="object"&&fu&&!fu.nodeType&&fu,uc=tr&&tr.exports===Fi,hc=uc&&cc.process,fi=function(){try{var k=tr&&tr.require&&tr.require("util").types;return k||hc&&hc.binding&&hc.binding("util")}catch{}}(),Vu=fi&&fi.isArrayBuffer,dc=fi&&fi.isDate,qu=fi&&fi.isMap,$u=fi&&fi.isRegExp,Hs=fi&&fi.isSet,ju=fi&&fi.isTypedArray;function mn(k,K,Z){switch(Z.length){case 0:return k.call(K);case 1:return k.call(K,Z[0]);case 2:return k.call(K,Z[0],Z[1]);case 3:return k.call(K,Z[0],Z[1],Z[2])}return k.apply(K,Z)}function Op(k,K,Z,ge){for(var Ye=-1,Ot=k==null?0:k.length;++Ye<Ot;){var An=k[Ye];K(ge,An,Z(An),k)}return ge}function Pi(k,K){for(var Z=-1,ge=k==null?0:k.length;++Z<ge&&K(k[Z],Z,k)!==!1;);return k}function Wr(k,K){for(var Z=k==null?0:k.length;Z--&&K(k[Z],Z,k)!==!1;);return k}function pc(k,K){for(var Z=-1,ge=k==null?0:k.length;++Z<ge;)if(!K(k[Z],Z,k))return!1;return!0}function Er(k,K){for(var Z=-1,ge=k==null?0:k.length,Ye=0,Ot=[];++Z<ge;){var An=k[Z];K(An,Z,k)&&(Ot[Ye++]=An)}return Ot}function Yo(k,K){var Z=k==null?0:k.length;return!!Z&&Ko(k,K,0)>-1}function fc(k,K,Z){for(var ge=-1,Ye=k==null?0:k.length;++ge<Ye;)if(Z(K,k[ge]))return!0;return!1}function Ut(k,K){for(var Z=-1,ge=k==null?0:k.length,Ye=Array(ge);++Z<ge;)Ye[Z]=K(k[Z],Z,k);return Ye}function Ar(k,K){for(var Z=-1,ge=K.length,Ye=k.length;++Z<ge;)k[Ye+Z]=K[Z];return k}function mc(k,K,Z,ge){var Ye=-1,Ot=k==null?0:k.length;for(ge&&Ot&&(Z=k[++Ye]);++Ye<Ot;)Z=K(Z,k[Ye],Ye,k);return Z}function Ep(k,K,Z,ge){var Ye=k==null?0:k.length;for(ge&&Ye&&(Z=k[--Ye]);Ye--;)Z=K(Z,k[Ye],Ye,k);return Z}function La(k,K){for(var Z=-1,ge=k==null?0:k.length;++Z<ge;)if(K(k[Z],Z,k))return!0;return!1}var Ap=Vs("length");function Zu(k){return k.split("")}function Wu(k){return k.match(Tu)||[]}function Ba(k,K,Z){var ge;return Z(k,function(Ye,Ot,An){if(K(Ye,Ot,An))return ge=Ot,!1}),ge}function yr(k,K,Z,ge){for(var Ye=k.length,Ot=Z+(ge?1:-1);ge?Ot--:++Ot<Ye;)if(K(k[Ot],Ot,k))return Ot;return-1}function Ko(k,K,Z){return K===K?Jo(k,K,Z):yr(k,Ii,Z)}function Ha(k,K,Z,ge){for(var Ye=Z-1,Ot=k.length;++Ye<Ot;)if(ge(k[Ye],K))return Ye;return-1}function Ii(k){return k!==k}function _c(k,K){var Z=k==null?0:k.length;return Z?yc(k,K)/Z:_e}function Vs(k){return function(K){return K==null?e:K[k]}}function gc(k){return function(K){return k==null?e:k[K]}}function qs(k,K,Z,ge,Ye){return Ye(k,function(Ot,An,Ht){Z=ge?(ge=!1,Ot):K(Z,Ot,An,Ht)}),Z}function vc(k,K){var Z=k.length;for(k.sort(K);Z--;)k[Z]=k[Z].value;return k}function yc(k,K){for(var Z,ge=-1,Ye=k.length;++ge<Ye;){var Ot=K(k[ge]);Ot!==e&&(Z=Z===e?Ot:Z+Ot)}return Z}function xc(k,K){for(var Z=-1,ge=Array(k);++Z<k;)ge[Z]=K(Z);return ge}function Uu(k,K){return Ut(K,function(Z){return[Z,k[Z]]})}function Gu(k){return k&&k.slice(0,bc(k)+1).replace(ec,"")}function ln(k){return function(K){return k(K)}}function Ur(k,K){return Ut(K,function(Z){return k[Z]})}function Va(k,K){return k.has(K)}function xr(k,K){for(var Z=-1,ge=k.length;++Z<ge&&Ko(K,k[Z],0)>-1;);return Z}function Yu(k,K){for(var Z=k.length;Z--&&Ko(K,k[Z],0)>-1;);return Z}function Qo(k,K){for(var Z=k.length,ge=0;Z--;)k[Z]===K&&++ge;return ge}var Dp=gc(Lu),qa=gc(Bu);function Ku(k){return"\\"+Hu[k]}function $s(k,K){return k==null?e:k[K]}function Xo(k){return ac.test(k)}function Gr(k){return bo.test(k)}function js(k){for(var K,Z=[];!(K=k.next()).done;)Z.push(K.value);return Z}function Cc(k){var K=-1,Z=Array(k.size);return k.forEach(function(ge,Ye){Z[++K]=[Ye,ge]}),Z}function Zs(k,K){return function(Z){return k(K(Z))}}function Yr(k,K){for(var Z=-1,ge=k.length,Ye=0,Ot=[];++Z<ge;){var An=k[Z];(An===K||An===g)&&(k[Z]=g,Ot[Ye++]=Z)}return Ot}function Vi(k){var K=-1,Z=Array(k.size);return k.forEach(function(ge){Z[++K]=ge}),Z}function kp(k){var K=-1,Z=Array(k.size);return k.forEach(function(ge){Z[++K]=[ge,ge]}),Z}function Jo(k,K,Z){for(var ge=Z-1,Ye=k.length;++ge<Ye;)if(k[ge]===K)return ge;return-1}function Np(k,K,Z){for(var ge=Z+1;ge--;)if(k[ge]===K)return ge;return ge}function mi(k){return Xo(k)?Ws(k):Ap(k)}function _i(k){return Xo(k)?zc(k):Zu(k)}function bc(k){for(var K=k.length;K--&&_r.test(k.charAt(K)););return K}var wc=gc(Ip);function Ws(k){for(var K=Na.lastIndex=0;Na.test(k);)++K;return K}function zc(k){return k.match(Na)||[]}function Us(k){return k.match(oc)||[]}var ea=function k(K){K=K==null?jn:nr.defaults(jn.Object(),K,nr.pick(jn,sc));var Z=K.Array,ge=K.Date,Ye=K.Error,Ot=K.Function,An=K.Math,Ht=K.Object,Sc=K.RegExp,Cr=K.String,ui=K.TypeError,Gs=Z.prototype,Ys=Ot.prototype,ta=Ht.prototype,$a=K["__core-js_shared__"],Ks=Ys.toString,Tt=ta.hasOwnProperty,Rp=0,wo=function(){var a=/[^.]+$/.exec($a&&$a.keys&&$a.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ja=ta.toString,Qu=Ks.call(Ht),Lp=jn._,Dr=Sc("^"+Ks.call(Tt).replace(Jl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Za=uc?K.Buffer:e,kr=K.Symbol,Kr=K.Uint8Array,Xu=Za?Za.allocUnsafe:e,zo=Zs(Ht.getPrototypeOf,Ht),na=Ht.create,Tc=ta.propertyIsEnumerable,Wa=Gs.splice,Ju=kr?kr.isConcatSpreadable:e,ia=kr?kr.iterator:e,Qr=kr?kr.toStringTag:e,Ua=function(){try{var a=ns(Ht,"defineProperty");return a({},"",{}),a}catch{}}(),eh=K.clearTimeout!==jn.clearTimeout&&K.clearTimeout,th=ge&&ge.now!==jn.Date.now&&ge.now,Bp=K.setTimeout!==jn.setTimeout&&K.setTimeout,Ga=An.ceil,Ya=An.floor,Fc=Ht.getOwnPropertySymbols,r=Za?Za.isBuffer:e,l=K.isFinite,u=Gs.join,p=Zs(Ht.keys,Ht),_=An.max,C=An.min,O=ge.now,B=K.parseInt,j=An.random,te=Gs.reverse,me=ns(K,"DataView"),De=ns(K,"Map"),at=ns(K,"Promise"),Tn=ns(K,"Set"),_n=ns(K,"WeakMap"),oi=ns(Ht,"create"),ti=_n&&new _n,ir={},Hp=is(me),Vp=is(De),qp=is(at),nh=is(Tn),$p=is(_n),Ka=kr?kr.prototype:e,Jt=Ka?Ka.valueOf:e,Qa=Ka?Ka.toString:e;function b(a){if(Fn(a)&&!rt(a)&&!(a instanceof ft)){if(a instanceof gi)return a;if(Tt.call(a,"__wrapped__"))return ig(a)}return new gi(a)}var ra=function(){function a(){}return function(c){if(!bn(c))return{};if(na)return na(c);a.prototype=c;var d=new a;return a.prototype=e,d}}();function Qs(){}function gi(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=e}b.templateSettings={escape:Xn,evaluate:Jn,interpolate:$n,variable:"",imports:{_:b}},b.prototype=Qs.prototype,b.prototype.constructor=b,gi.prototype=ra(Qs.prototype),gi.prototype.constructor=gi;function ft(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ie,this.__views__=[]}function jp(){var a=new ft(this.__wrapped__);return a.__actions__=qi(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=qi(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=qi(this.__views__),a}function uF(){if(this.__filtered__){var a=new ft(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function hF(){var a=this.__wrapped__.value(),c=this.__dir__,d=rt(a),m=c<0,x=d?a.length:0,T=wP(0,x,this.__views__),M=T.start,A=T.end,N=A-M,X=m?A:M-1,ee=this.__iteratees__,ie=ee.length,fe=0,Te=C(N,this.__takeCount__);if(!d||!m&&x==N&&Te==N)return T_(a,this.__actions__);var Be=[];e:for(;N--&&fe<Te;){X+=c;for(var pt=-1,He=a[X];++pt<ie;){var xt=ee[pt],Ft=xt.iteratee,ar=xt.type,Ei=Ft(He);if(ar==Ge)He=Ei;else if(!Ei){if(ar==ue)continue e;break e}}Be[fe++]=He}return Be}ft.prototype=ra(Qs.prototype),ft.prototype.constructor=ft;function Xa(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function dF(){this.__data__=oi?oi(null):{},this.size=0}function pF(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function fF(a){var c=this.__data__;if(oi){var d=c[a];return d===h?e:d}return Tt.call(c,a)?c[a]:e}function mF(a){var c=this.__data__;return oi?c[a]!==e:Tt.call(c,a)}function _F(a,c){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=oi&&c===e?h:c,this}Xa.prototype.clear=dF,Xa.prototype.delete=pF,Xa.prototype.get=fF,Xa.prototype.has=mF,Xa.prototype.set=_F;function So(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function gF(){this.__data__=[],this.size=0}function vF(a){var c=this.__data__,d=ih(c,a);if(d<0)return!1;var m=c.length-1;return d==m?c.pop():Wa.call(c,d,1),--this.size,!0}function yF(a){var c=this.__data__,d=ih(c,a);return d<0?e:c[d][1]}function xF(a){return ih(this.__data__,a)>-1}function CF(a,c){var d=this.__data__,m=ih(d,a);return m<0?(++this.size,d.push([a,c])):d[m][1]=c,this}So.prototype.clear=gF,So.prototype.delete=vF,So.prototype.get=yF,So.prototype.has=xF,So.prototype.set=CF;function To(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function bF(){this.size=0,this.__data__={hash:new Xa,map:new(De||So),string:new Xa}}function wF(a){var c=mh(this,a).delete(a);return this.size-=c?1:0,c}function zF(a){return mh(this,a).get(a)}function SF(a){return mh(this,a).has(a)}function TF(a,c){var d=mh(this,a),m=d.size;return d.set(a,c),this.size+=d.size==m?0:1,this}To.prototype.clear=bF,To.prototype.delete=wF,To.prototype.get=zF,To.prototype.has=SF,To.prototype.set=TF;function Ja(a){var c=-1,d=a==null?0:a.length;for(this.__data__=new To;++c<d;)this.add(a[c])}function FF(a){return this.__data__.set(a,h),this}function PF(a){return this.__data__.has(a)}Ja.prototype.add=Ja.prototype.push=FF,Ja.prototype.has=PF;function Nr(a){var c=this.__data__=new So(a);this.size=c.size}function IF(){this.__data__=new So,this.size=0}function MF(a){var c=this.__data__,d=c.delete(a);return this.size=c.size,d}function OF(a){return this.__data__.get(a)}function EF(a){return this.__data__.has(a)}function AF(a,c){var d=this.__data__;if(d instanceof So){var m=d.__data__;if(!De||m.length<n-1)return m.push([a,c]),this.size=++d.size,this;d=this.__data__=new To(m)}return d.set(a,c),this.size=d.size,this}Nr.prototype.clear=IF,Nr.prototype.delete=MF,Nr.prototype.get=OF,Nr.prototype.has=EF,Nr.prototype.set=AF;function i_(a,c){var d=rt(a),m=!d&&rs(a),x=!d&&!m&&ca(a),T=!d&&!m&&!x&&tl(a),M=d||m||x||T,A=M?xc(a.length,Cr):[],N=A.length;for(var X in a)(c||Tt.call(a,X))&&!(M&&(X=="length"||x&&(X=="offset"||X=="parent")||T&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Mo(X,N)))&&A.push(X);return A}function r_(a){var c=a.length;return c?a[tf(0,c-1)]:e}function DF(a,c){return _h(qi(a),es(c,0,a.length))}function kF(a){return _h(qi(a))}function Zp(a,c,d){(d!==e&&!Rr(a[c],d)||d===e&&!(c in a))&&Fo(a,c,d)}function Pc(a,c,d){var m=a[c];(!(Tt.call(a,c)&&Rr(m,d))||d===e&&!(c in a))&&Fo(a,c,d)}function ih(a,c){for(var d=a.length;d--;)if(Rr(a[d][0],c))return d;return-1}function NF(a,c,d,m){return oa(a,function(x,T,M){c(m,x,d(x),M)}),m}function o_(a,c){return a&&Jr(c,ai(c),a)}function RF(a,c){return a&&Jr(c,ji(c),a)}function Fo(a,c,d){c=="__proto__"&&Ua?Ua(a,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[c]=d}function Wp(a,c){for(var d=-1,m=c.length,x=Z(m),T=a==null;++d<m;)x[d]=T?e:Ff(a,c[d]);return x}function es(a,c,d){return a===a&&(d!==e&&(a=a<=d?a:d),c!==e&&(a=a>=c?a:c)),a}function br(a,c,d,m,x,T){var M,A=c&v,N=c&P,X=c&I;if(d&&(M=x?d(a,m,x,T):d(a)),M!==e)return M;if(!bn(a))return a;var ee=rt(a);if(ee){if(M=SP(a),!A)return qi(a,M)}else{var ie=vi(a),fe=ie==Yt||ie==he;if(ca(a))return I_(a,A);if(ie==ci||ie==Ne||fe&&!x){if(M=N||fe?{}:G_(a),!A)return N?fP(a,RF(M,a)):pP(a,o_(M,a))}else{if(!Mt[ie])return x?a:{};M=TP(a,ie,A)}}T||(T=new Nr);var Te=T.get(a);if(Te)return Te;T.set(a,M),wg(a)?a.forEach(function(He){M.add(br(He,c,d,He,a,T))}):Cg(a)&&a.forEach(function(He,xt){M.set(xt,br(He,c,d,xt,a,T))});var Be=X?N?pf:df:N?ji:ai,pt=ee?e:Be(a);return Pi(pt||a,function(He,xt){pt&&(xt=He,He=a[xt]),Pc(M,xt,br(He,c,d,xt,a,T))}),M}function LF(a){var c=ai(a);return function(d){return a_(d,a,c)}}function a_(a,c,d){var m=d.length;if(a==null)return!m;for(a=Ht(a);m--;){var x=d[m],T=c[x],M=a[x];if(M===e&&!(x in a)||!T(M))return!1}return!0}function s_(a,c,d){if(typeof a!="function")throw new ui(o);return kc(function(){a.apply(e,d)},c)}function Ic(a,c,d,m){var x=-1,T=Yo,M=!0,A=a.length,N=[],X=c.length;if(!A)return N;d&&(c=Ut(c,ln(d))),m?(T=fc,M=!1):c.length>=n&&(T=Va,M=!1,c=new Ja(c));e:for(;++x<A;){var ee=a[x],ie=d==null?ee:d(ee);if(ee=m||ee!==0?ee:0,M&&ie===ie){for(var fe=X;fe--;)if(c[fe]===ie)continue e;N.push(ee)}else T(c,ie,m)||N.push(ee)}return N}var oa=D_(Xr),l_=D_(Gp,!0);function BF(a,c){var d=!0;return oa(a,function(m,x,T){return d=!!c(m,x,T),d}),d}function rh(a,c,d){for(var m=-1,x=a.length;++m<x;){var T=a[m],M=c(T);if(M!=null&&(A===e?M===M&&!or(M):d(M,A)))var A=M,N=T}return N}function HF(a,c,d,m){var x=a.length;for(d=lt(d),d<0&&(d=-d>x?0:x+d),m=m===e||m>x?x:lt(m),m<0&&(m+=x),m=d>m?0:Sg(m);d<m;)a[d++]=c;return a}function c_(a,c){var d=[];return oa(a,function(m,x,T){c(m,x,T)&&d.push(m)}),d}function hi(a,c,d,m,x){var T=-1,M=a.length;for(d||(d=PP),x||(x=[]);++T<M;){var A=a[T];c>0&&d(A)?c>1?hi(A,c-1,d,m,x):Ar(x,A):m||(x[x.length]=A)}return x}var Up=k_(),u_=k_(!0);function Xr(a,c){return a&&Up(a,c,ai)}function Gp(a,c){return a&&u_(a,c,ai)}function oh(a,c){return Er(c,function(d){return Oo(a[d])})}function ts(a,c){c=sa(c,a);for(var d=0,m=c.length;a!=null&&d<m;)a=a[eo(c[d++])];return d&&d==m?a:e}function h_(a,c,d){var m=c(a);return rt(a)?m:Ar(m,d(a))}function Mi(a){return a==null?a===e?Zo:Ae:Qr&&Qr in Ht(a)?bP(a):kP(a)}function Yp(a,c){return a>c}function VF(a,c){return a!=null&&Tt.call(a,c)}function qF(a,c){return a!=null&&c in Ht(a)}function $F(a,c,d){return a>=C(c,d)&&a<_(c,d)}function Kp(a,c,d){for(var m=d?fc:Yo,x=a[0].length,T=a.length,M=T,A=Z(T),N=1/0,X=[];M--;){var ee=a[M];M&&c&&(ee=Ut(ee,ln(c))),N=C(ee.length,N),A[M]=!d&&(c||x>=120&&ee.length>=120)?new Ja(M&&ee):e}ee=a[0];var ie=-1,fe=A[0];e:for(;++ie<x&&X.length<N;){var Te=ee[ie],Be=c?c(Te):Te;if(Te=d||Te!==0?Te:0,!(fe?Va(fe,Be):m(X,Be,d))){for(M=T;--M;){var pt=A[M];if(!(pt?Va(pt,Be):m(a[M],Be,d)))continue e}fe&&fe.push(Be),X.push(Te)}}return X}function jF(a,c,d,m){return Xr(a,function(x,T,M){c(m,d(x),T,M)}),m}function Mc(a,c,d){c=sa(c,a),a=X_(a,c);var m=a==null?a:a[eo(zr(c))];return m==null?e:mn(m,a,d)}function d_(a){return Fn(a)&&Mi(a)==Ne}function ZF(a){return Fn(a)&&Mi(a)==Fe}function WF(a){return Fn(a)&&Mi(a)==pn}function Oc(a,c,d,m,x){return a===c?!0:a==null||c==null||!Fn(a)&&!Fn(c)?a!==a&&c!==c:UF(a,c,d,m,Oc,x)}function UF(a,c,d,m,x,T){var M=rt(a),A=rt(c),N=M?Me:vi(a),X=A?Me:vi(c);N=N==Ne?ci:N,X=X==Ne?ci:X;var ee=N==ci,ie=X==ci,fe=N==X;if(fe&&ca(a)){if(!ca(c))return!1;M=!0,ee=!1}if(fe&&!ee)return T||(T=new Nr),M||tl(a)?Z_(a,c,d,m,x,T):xP(a,c,N,d,m,x,T);if(!(d&R)){var Te=ee&&Tt.call(a,"__wrapped__"),Be=ie&&Tt.call(c,"__wrapped__");if(Te||Be){var pt=Te?a.value():a,He=Be?c.value():c;return T||(T=new Nr),x(pt,He,d,m,T)}}return fe?(T||(T=new Nr),CP(a,c,d,m,x,T)):!1}function GF(a){return Fn(a)&&vi(a)==se}function Qp(a,c,d,m){var x=d.length,T=x,M=!m;if(a==null)return!T;for(a=Ht(a);x--;){var A=d[x];if(M&&A[2]?A[1]!==a[A[0]]:!(A[0]in a))return!1}for(;++x<T;){A=d[x];var N=A[0],X=a[N],ee=A[1];if(M&&A[2]){if(X===e&&!(N in a))return!1}else{var ie=new Nr;if(m)var fe=m(X,ee,N,a,c,ie);if(!(fe===e?Oc(ee,X,R|$,m,ie):fe))return!1}}return!0}function p_(a){if(!bn(a)||MP(a))return!1;var c=Oo(a)?Dr:wp;return c.test(is(a))}function YF(a){return Fn(a)&&Mi(a)==pr}function KF(a){return Fn(a)&&vi(a)==Un}function QF(a){return Fn(a)&&bh(a.length)&&!!it[Mi(a)]}function f_(a){return typeof a=="function"?a:a==null?Zi:typeof a=="object"?rt(a)?g_(a[0],a[1]):__(a):Ng(a)}function Xp(a){if(!Dc(a))return p(a);var c=[];for(var d in Ht(a))Tt.call(a,d)&&d!="constructor"&&c.push(d);return c}function XF(a){if(!bn(a))return DP(a);var c=Dc(a),d=[];for(var m in a)m=="constructor"&&(c||!Tt.call(a,m))||d.push(m);return d}function Jp(a,c){return a<c}function m_(a,c){var d=-1,m=$i(a)?Z(a.length):[];return oa(a,function(x,T,M){m[++d]=c(x,T,M)}),m}function __(a){var c=mf(a);return c.length==1&&c[0][2]?K_(c[0][0],c[0][1]):function(d){return d===a||Qp(d,a,c)}}function g_(a,c){return gf(a)&&Y_(c)?K_(eo(a),c):function(d){var m=Ff(d,a);return m===e&&m===c?Pf(d,a):Oc(c,m,R|$)}}function ah(a,c,d,m,x){a!==c&&Up(c,function(T,M){if(x||(x=new Nr),bn(T))JF(a,c,M,d,ah,m,x);else{var A=m?m(yf(a,M),T,M+"",a,c,x):e;A===e&&(A=T),Zp(a,M,A)}},ji)}function JF(a,c,d,m,x,T,M){var A=yf(a,d),N=yf(c,d),X=M.get(N);if(X){Zp(a,d,X);return}var ee=T?T(A,N,d+"",a,c,M):e,ie=ee===e;if(ie){var fe=rt(N),Te=!fe&&ca(N),Be=!fe&&!Te&&tl(N);ee=N,fe||Te||Be?rt(A)?ee=A:Dn(A)?ee=qi(A):Te?(ie=!1,ee=I_(N,!0)):Be?(ie=!1,ee=M_(N,!0)):ee=[]:Nc(N)||rs(N)?(ee=A,rs(A)?ee=Tg(A):(!bn(A)||Oo(A))&&(ee=G_(N))):ie=!1}ie&&(M.set(N,ee),x(ee,N,m,T,M),M.delete(N)),Zp(a,d,ee)}function v_(a,c){var d=a.length;if(d)return c+=c<0?d:0,Mo(c,d)?a[c]:e}function y_(a,c,d){c.length?c=Ut(c,function(T){return rt(T)?function(M){return ts(M,T.length===1?T[0]:T)}:T}):c=[Zi];var m=-1;c=Ut(c,ln(Le()));var x=m_(a,function(T,M,A){var N=Ut(c,function(X){return X(T)});return{criteria:N,index:++m,value:T}});return vc(x,function(T,M){return dP(T,M,d)})}function eP(a,c){return x_(a,c,function(d,m){return Pf(a,m)})}function x_(a,c,d){for(var m=-1,x=c.length,T={};++m<x;){var M=c[m],A=ts(a,M);d(A,M)&&Ec(T,sa(M,a),A)}return T}function tP(a){return function(c){return ts(c,a)}}function ef(a,c,d,m){var x=m?Ha:Ko,T=-1,M=c.length,A=a;for(a===c&&(c=qi(c)),d&&(A=Ut(a,ln(d)));++T<M;)for(var N=0,X=c[T],ee=d?d(X):X;(N=x(A,ee,N,m))>-1;)A!==a&&Wa.call(A,N,1),Wa.call(a,N,1);return a}function C_(a,c){for(var d=a?c.length:0,m=d-1;d--;){var x=c[d];if(d==m||x!==T){var T=x;Mo(x)?Wa.call(a,x,1):of(a,x)}}return a}function tf(a,c){return a+Ya(j()*(c-a+1))}function nP(a,c,d,m){for(var x=-1,T=_(Ga((c-a)/(d||1)),0),M=Z(T);T--;)M[m?T:++x]=a,a+=d;return M}function nf(a,c){var d="";if(!a||c<1||c>W)return d;do c%2&&(d+=a),c=Ya(c/2),c&&(a+=a);while(c);return d}function mt(a,c){return xf(Q_(a,c,Zi),a+"")}function iP(a){return r_(nl(a))}function rP(a,c){var d=nl(a);return _h(d,es(c,0,d.length))}function Ec(a,c,d,m){if(!bn(a))return a;c=sa(c,a);for(var x=-1,T=c.length,M=T-1,A=a;A!=null&&++x<T;){var N=eo(c[x]),X=d;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(x!=M){var ee=A[N];X=m?m(ee,N,A):e,X===e&&(X=bn(ee)?ee:Mo(c[x+1])?[]:{})}Pc(A,N,X),A=A[N]}return a}var b_=ti?function(a,c){return ti.set(a,c),a}:Zi,oP=Ua?function(a,c){return Ua(a,"toString",{configurable:!0,enumerable:!1,value:Mf(c),writable:!0})}:Zi;function aP(a){return _h(nl(a))}function wr(a,c,d){var m=-1,x=a.length;c<0&&(c=-c>x?0:x+c),d=d>x?x:d,d<0&&(d+=x),x=c>d?0:d-c>>>0,c>>>=0;for(var T=Z(x);++m<x;)T[m]=a[m+c];return T}function sP(a,c){var d;return oa(a,function(m,x,T){return d=c(m,x,T),!d}),!!d}function sh(a,c,d){var m=0,x=a==null?m:a.length;if(typeof c=="number"&&c===c&&x<=Ct){for(;m<x;){var T=m+x>>>1,M=a[T];M!==null&&!or(M)&&(d?M<=c:M<c)?m=T+1:x=T}return x}return rf(a,c,Zi,d)}function rf(a,c,d,m){var x=0,T=a==null?0:a.length;if(T===0)return 0;c=d(c);for(var M=c!==c,A=c===null,N=or(c),X=c===e;x<T;){var ee=Ya((x+T)/2),ie=d(a[ee]),fe=ie!==e,Te=ie===null,Be=ie===ie,pt=or(ie);if(M)var He=m||Be;else X?He=Be&&(m||fe):A?He=Be&&fe&&(m||!Te):N?He=Be&&fe&&!Te&&(m||!pt):Te||pt?He=!1:He=m?ie<=c:ie<c;He?x=ee+1:T=ee}return C(T,dt)}function w_(a,c){for(var d=-1,m=a.length,x=0,T=[];++d<m;){var M=a[d],A=c?c(M):M;if(!d||!Rr(A,N)){var N=A;T[x++]=M===0?0:M}}return T}function z_(a){return typeof a=="number"?a:or(a)?_e:+a}function rr(a){if(typeof a=="string")return a;if(rt(a))return Ut(a,rr)+"";if(or(a))return Qa?Qa.call(a):"";var c=a+"";return c=="0"&&1/a==-Re?"-0":c}function aa(a,c,d){var m=-1,x=Yo,T=a.length,M=!0,A=[],N=A;if(d)M=!1,x=fc;else if(T>=n){var X=c?null:vP(a);if(X)return Vi(X);M=!1,x=Va,N=new Ja}else N=c?[]:A;e:for(;++m<T;){var ee=a[m],ie=c?c(ee):ee;if(ee=d||ee!==0?ee:0,M&&ie===ie){for(var fe=N.length;fe--;)if(N[fe]===ie)continue e;c&&N.push(ie),A.push(ee)}else x(N,ie,d)||(N!==A&&N.push(ie),A.push(ee))}return A}function of(a,c){return c=sa(c,a),a=X_(a,c),a==null||delete a[eo(zr(c))]}function S_(a,c,d,m){return Ec(a,c,d(ts(a,c)),m)}function lh(a,c,d,m){for(var x=a.length,T=m?x:-1;(m?T--:++T<x)&&c(a[T],T,a););return d?wr(a,m?0:T,m?T+1:x):wr(a,m?T+1:0,m?x:T)}function T_(a,c){var d=a;return d instanceof ft&&(d=d.value()),mc(c,function(m,x){return x.func.apply(x.thisArg,Ar([m],x.args))},d)}function af(a,c,d){var m=a.length;if(m<2)return m?aa(a[0]):[];for(var x=-1,T=Z(m);++x<m;)for(var M=a[x],A=-1;++A<m;)A!=x&&(T[x]=Ic(T[x]||M,a[A],c,d));return aa(hi(T,1),c,d)}function F_(a,c,d){for(var m=-1,x=a.length,T=c.length,M={};++m<x;){var A=m<T?c[m]:e;d(M,a[m],A)}return M}function sf(a){return Dn(a)?a:[]}function lf(a){return typeof a=="function"?a:Zi}function sa(a,c){return rt(a)?a:gf(a,c)?[a]:ng(Vt(a))}var lP=mt;function la(a,c,d){var m=a.length;return d=d===e?m:d,!c&&d>=m?a:wr(a,c,d)}var P_=eh||function(a){return jn.clearTimeout(a)};function I_(a,c){if(c)return a.slice();var d=a.length,m=Xu?Xu(d):new a.constructor(d);return a.copy(m),m}function cf(a){var c=new a.constructor(a.byteLength);return new Kr(c).set(new Kr(a)),c}function cP(a,c){var d=c?cf(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function uP(a){var c=new a.constructor(a.source,vo.exec(a));return c.lastIndex=a.lastIndex,c}function hP(a){return Jt?Ht(Jt.call(a)):{}}function M_(a,c){var d=c?cf(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function O_(a,c){if(a!==c){var d=a!==e,m=a===null,x=a===a,T=or(a),M=c!==e,A=c===null,N=c===c,X=or(c);if(!A&&!X&&!T&&a>c||T&&M&&N&&!A&&!X||m&&M&&N||!d&&N||!x)return 1;if(!m&&!T&&!X&&a<c||X&&d&&x&&!m&&!T||A&&d&&x||!M&&x||!N)return-1}return 0}function dP(a,c,d){for(var m=-1,x=a.criteria,T=c.criteria,M=x.length,A=d.length;++m<M;){var N=O_(x[m],T[m]);if(N){if(m>=A)return N;var X=d[m];return N*(X=="desc"?-1:1)}}return a.index-c.index}function E_(a,c,d,m){for(var x=-1,T=a.length,M=d.length,A=-1,N=c.length,X=_(T-M,0),ee=Z(N+X),ie=!m;++A<N;)ee[A]=c[A];for(;++x<M;)(ie||x<T)&&(ee[d[x]]=a[x]);for(;X--;)ee[A++]=a[x++];return ee}function A_(a,c,d,m){for(var x=-1,T=a.length,M=-1,A=d.length,N=-1,X=c.length,ee=_(T-A,0),ie=Z(ee+X),fe=!m;++x<ee;)ie[x]=a[x];for(var Te=x;++N<X;)ie[Te+N]=c[N];for(;++M<A;)(fe||x<T)&&(ie[Te+d[M]]=a[x++]);return ie}function qi(a,c){var d=-1,m=a.length;for(c||(c=Z(m));++d<m;)c[d]=a[d];return c}function Jr(a,c,d,m){var x=!d;d||(d={});for(var T=-1,M=c.length;++T<M;){var A=c[T],N=m?m(d[A],a[A],A,d,a):e;N===e&&(N=a[A]),x?Fo(d,A,N):Pc(d,A,N)}return d}function pP(a,c){return Jr(a,_f(a),c)}function fP(a,c){return Jr(a,W_(a),c)}function ch(a,c){return function(d,m){var x=rt(d)?Op:NF,T=c?c():{};return x(d,a,Le(m,2),T)}}function Xs(a){return mt(function(c,d){var m=-1,x=d.length,T=x>1?d[x-1]:e,M=x>2?d[2]:e;for(T=a.length>3&&typeof T=="function"?(x--,T):e,M&&Oi(d[0],d[1],M)&&(T=x<3?e:T,x=1),c=Ht(c);++m<x;){var A=d[m];A&&a(c,A,m,T)}return c})}function D_(a,c){return function(d,m){if(d==null)return d;if(!$i(d))return a(d,m);for(var x=d.length,T=c?x:-1,M=Ht(d);(c?T--:++T<x)&&m(M[T],T,M)!==!1;);return d}}function k_(a){return function(c,d,m){for(var x=-1,T=Ht(c),M=m(c),A=M.length;A--;){var N=M[a?A:++x];if(d(T[N],N,T)===!1)break}return c}}function mP(a,c,d){var m=c&V,x=Ac(a);function T(){var M=this&&this!==jn&&this instanceof T?x:a;return M.apply(m?d:this,arguments)}return T}function N_(a){return function(c){c=Vt(c);var d=Xo(c)?_i(c):e,m=d?d[0]:c.charAt(0),x=d?la(d,1).join(""):c.slice(1);return m[a]()+x}}function Js(a){return function(c){return mc(Dg(Ag(c).replace(Wt,"")),a,"")}}function Ac(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=ra(a.prototype),m=a.apply(d,c);return bn(m)?m:d}}function _P(a,c,d){var m=Ac(a);function x(){for(var T=arguments.length,M=Z(T),A=T,N=el(x);A--;)M[A]=arguments[A];var X=T<3&&M[0]!==N&&M[T-1]!==N?[]:Yr(M,N);if(T-=X.length,T<d)return V_(a,c,uh,x.placeholder,e,M,X,e,e,d-T);var ee=this&&this!==jn&&this instanceof x?m:a;return mn(ee,this,M)}return x}function R_(a){return function(c,d,m){var x=Ht(c);if(!$i(c)){var T=Le(d,3);c=ai(c),d=function(A){return T(x[A],A,x)}}var M=a(c,d,m);return M>-1?x[T?c[M]:M]:e}}function L_(a){return Io(function(c){var d=c.length,m=d,x=gi.prototype.thru;for(a&&c.reverse();m--;){var T=c[m];if(typeof T!="function")throw new ui(o);if(x&&!M&&fh(T)=="wrapper")var M=new gi([],!0)}for(m=M?m:d;++m<d;){T=c[m];var A=fh(T),N=A=="wrapper"?ff(T):e;N&&vf(N[0])&&N[1]==(tt|xe|st|Se)&&!N[4].length&&N[9]==1?M=M[fh(N[0])].apply(M,N[3]):M=T.length==1&&vf(T)?M[A]():M.thru(T)}return function(){var X=arguments,ee=X[0];if(M&&X.length==1&&rt(ee))return M.plant(ee).value();for(var ie=0,fe=d?c[ie].apply(this,X):ee;++ie<d;)fe=c[ie].call(this,fe);return fe}})}function uh(a,c,d,m,x,T,M,A,N,X){var ee=c&tt,ie=c&V,fe=c&le,Te=c&(xe|St),Be=c&yt,pt=fe?e:Ac(a);function He(){for(var xt=arguments.length,Ft=Z(xt),ar=xt;ar--;)Ft[ar]=arguments[ar];if(Te)var Ei=el(He),sr=Qo(Ft,Ei);if(m&&(Ft=E_(Ft,m,x,Te)),T&&(Ft=A_(Ft,T,M,Te)),xt-=sr,Te&&xt<X){var kn=Yr(Ft,Ei);return V_(a,c,uh,He.placeholder,d,Ft,kn,A,N,X-xt)}var Lr=ie?d:this,Ao=fe?Lr[a]:a;return xt=Ft.length,A?Ft=NP(Ft,A):Be&&xt>1&&Ft.reverse(),ee&&N<xt&&(Ft.length=N),this&&this!==jn&&this instanceof He&&(Ao=pt||Ac(Ao)),Ao.apply(Lr,Ft)}return He}function B_(a,c){return function(d,m){return jF(d,a,c(m),{})}}function hh(a,c){return function(d,m){var x;if(d===e&&m===e)return c;if(d!==e&&(x=d),m!==e){if(x===e)return m;typeof d=="string"||typeof m=="string"?(d=rr(d),m=rr(m)):(d=z_(d),m=z_(m)),x=a(d,m)}return x}}function uf(a){return Io(function(c){return c=Ut(c,ln(Le())),mt(function(d){var m=this;return a(c,function(x){return mn(x,m,d)})})})}function dh(a,c){c=c===e?" ":rr(c);var d=c.length;if(d<2)return d?nf(c,a):c;var m=nf(c,Ga(a/mi(c)));return Xo(c)?la(_i(m),0,a).join(""):m.slice(0,a)}function gP(a,c,d,m){var x=c&V,T=Ac(a);function M(){for(var A=-1,N=arguments.length,X=-1,ee=m.length,ie=Z(ee+N),fe=this&&this!==jn&&this instanceof M?T:a;++X<ee;)ie[X]=m[X];for(;N--;)ie[X++]=arguments[++A];return mn(fe,x?d:this,ie)}return M}function H_(a){return function(c,d,m){return m&&typeof m!="number"&&Oi(c,d,m)&&(d=m=e),c=Eo(c),d===e?(d=c,c=0):d=Eo(d),m=m===e?c<d?1:-1:Eo(m),nP(c,d,m,a)}}function ph(a){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Sr(c),d=Sr(d)),a(c,d)}}function V_(a,c,d,m,x,T,M,A,N,X){var ee=c&xe,ie=ee?M:e,fe=ee?e:M,Te=ee?T:e,Be=ee?e:T;c|=ee?st:Nt,c&=~(ee?Nt:st),c&re||(c&=~(V|le));var pt=[a,c,x,Te,ie,Be,fe,A,N,X],He=d.apply(e,pt);return vf(a)&&J_(He,pt),He.placeholder=m,eg(He,a,c)}function hf(a){var c=An[a];return function(d,m){if(d=Sr(d),m=m==null?0:C(lt(m),292),m&&l(d)){var x=(Vt(d)+"e").split("e"),T=c(x[0]+"e"+(+x[1]+m));return x=(Vt(T)+"e").split("e"),+(x[0]+"e"+(+x[1]-m))}return c(d)}}var vP=Tn&&1/Vi(new Tn([,-0]))[1]==Re?function(a){return new Tn(a)}:Af;function q_(a){return function(c){var d=vi(c);return d==se?Cc(c):d==Un?kp(c):Uu(c,a(c))}}function Po(a,c,d,m,x,T,M,A){var N=c&le;if(!N&&typeof a!="function")throw new ui(o);var X=m?m.length:0;if(X||(c&=~(st|Nt),m=x=e),M=M===e?M:_(lt(M),0),A=A===e?A:lt(A),X-=x?x.length:0,c&Nt){var ee=m,ie=x;m=x=e}var fe=N?e:ff(a),Te=[a,c,d,m,x,ee,ie,T,M,A];if(fe&&AP(Te,fe),a=Te[0],c=Te[1],d=Te[2],m=Te[3],x=Te[4],A=Te[9]=Te[9]===e?N?0:a.length:_(Te[9]-X,0),!A&&c&(xe|St)&&(c&=~(xe|St)),!c||c==V)var Be=mP(a,c,d);else c==xe||c==St?Be=_P(a,c,A):(c==st||c==(V|st))&&!x.length?Be=gP(a,c,d,m):Be=uh.apply(e,Te);var pt=fe?b_:J_;return eg(pt(Be,Te),a,c)}function $_(a,c,d,m){return a===e||Rr(a,ta[d])&&!Tt.call(m,d)?c:a}function j_(a,c,d,m,x,T){return bn(a)&&bn(c)&&(T.set(c,a),ah(a,c,e,j_,T),T.delete(c)),a}function yP(a){return Nc(a)?e:a}function Z_(a,c,d,m,x,T){var M=d&R,A=a.length,N=c.length;if(A!=N&&!(M&&N>A))return!1;var X=T.get(a),ee=T.get(c);if(X&&ee)return X==c&&ee==a;var ie=-1,fe=!0,Te=d&$?new Ja:e;for(T.set(a,c),T.set(c,a);++ie<A;){var Be=a[ie],pt=c[ie];if(m)var He=M?m(pt,Be,ie,c,a,T):m(Be,pt,ie,a,c,T);if(He!==e){if(He)continue;fe=!1;break}if(Te){if(!La(c,function(xt,Ft){if(!Va(Te,Ft)&&(Be===xt||x(Be,xt,d,m,T)))return Te.push(Ft)})){fe=!1;break}}else if(!(Be===pt||x(Be,pt,d,m,T))){fe=!1;break}}return T.delete(a),T.delete(c),fe}function xP(a,c,d,m,x,T,M){switch(d){case Ee:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Fe:return!(a.byteLength!=c.byteLength||!T(new Kr(a),new Kr(c)));case Oe:case pn:case ce:return Rr(+a,+c);case fn:return a.name==c.name&&a.message==c.message;case pr:case fr:return a==c+"";case se:var A=Cc;case Un:var N=m&R;if(A||(A=Vi),a.size!=c.size&&!N)return!1;var X=M.get(a);if(X)return X==c;m|=$,M.set(a,c);var ee=Z_(A(a),A(c),m,x,T,M);return M.delete(a),ee;case mr:if(Jt)return Jt.call(a)==Jt.call(c)}return!1}function CP(a,c,d,m,x,T){var M=d&R,A=df(a),N=A.length,X=df(c),ee=X.length;if(N!=ee&&!M)return!1;for(var ie=N;ie--;){var fe=A[ie];if(!(M?fe in c:Tt.call(c,fe)))return!1}var Te=T.get(a),Be=T.get(c);if(Te&&Be)return Te==c&&Be==a;var pt=!0;T.set(a,c),T.set(c,a);for(var He=M;++ie<N;){fe=A[ie];var xt=a[fe],Ft=c[fe];if(m)var ar=M?m(Ft,xt,fe,c,a,T):m(xt,Ft,fe,a,c,T);if(!(ar===e?xt===Ft||x(xt,Ft,d,m,T):ar)){pt=!1;break}He||(He=fe=="constructor")}if(pt&&!He){var Ei=a.constructor,sr=c.constructor;Ei!=sr&&"constructor"in a&&"constructor"in c&&!(typeof Ei=="function"&&Ei instanceof Ei&&typeof sr=="function"&&sr instanceof sr)&&(pt=!1)}return T.delete(a),T.delete(c),pt}function Io(a){return xf(Q_(a,e,ag),a+"")}function df(a){return h_(a,ai,_f)}function pf(a){return h_(a,ji,W_)}var ff=ti?function(a){return ti.get(a)}:Af;function fh(a){for(var c=a.name+"",d=ir[c],m=Tt.call(ir,c)?d.length:0;m--;){var x=d[m],T=x.func;if(T==null||T==a)return x.name}return c}function el(a){var c=Tt.call(b,"placeholder")?b:a;return c.placeholder}function Le(){var a=b.iteratee||Of;return a=a===Of?f_:a,arguments.length?a(arguments[0],arguments[1]):a}function mh(a,c){var d=a.__data__;return IP(c)?d[typeof c=="string"?"string":"hash"]:d.map}function mf(a){for(var c=ai(a),d=c.length;d--;){var m=c[d],x=a[m];c[d]=[m,x,Y_(x)]}return c}function ns(a,c){var d=$s(a,c);return p_(d)?d:e}function bP(a){var c=Tt.call(a,Qr),d=a[Qr];try{a[Qr]=e;var m=!0}catch{}var x=ja.call(a);return m&&(c?a[Qr]=d:delete a[Qr]),x}var _f=Fc?function(a){return a==null?[]:(a=Ht(a),Er(Fc(a),function(c){return Tc.call(a,c)}))}:Df,W_=Fc?function(a){for(var c=[];a;)Ar(c,_f(a)),a=zo(a);return c}:Df,vi=Mi;(me&&vi(new me(new ArrayBuffer(1)))!=Ee||De&&vi(new De)!=se||at&&vi(at.resolve())!=Mr||Tn&&vi(new Tn)!=Un||_n&&vi(new _n)!=Hn)&&(vi=function(a){var c=Mi(a),d=c==ci?a.constructor:e,m=d?is(d):"";if(m)switch(m){case Hp:return Ee;case Vp:return se;case qp:return Mr;case nh:return Un;case $p:return Hn}return c});function wP(a,c,d){for(var m=-1,x=d.length;++m<x;){var T=d[m],M=T.size;switch(T.type){case"drop":a+=M;break;case"dropRight":c-=M;break;case"take":c=C(c,a+M);break;case"takeRight":a=_(a,c-M);break}}return{start:a,end:c}}function zP(a){var c=a.match(zu);return c?c[1].split(Su):[]}function U_(a,c,d){c=sa(c,a);for(var m=-1,x=c.length,T=!1;++m<x;){var M=eo(c[m]);if(!(T=a!=null&&d(a,M)))break;a=a[M]}return T||++m!=x?T:(x=a==null?0:a.length,!!x&&bh(x)&&Mo(M,x)&&(rt(a)||rs(a)))}function SP(a){var c=a.length,d=new a.constructor(c);return c&&typeof a[0]=="string"&&Tt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function G_(a){return typeof a.constructor=="function"&&!Dc(a)?ra(zo(a)):{}}function TP(a,c,d){var m=a.constructor;switch(c){case Fe:return cf(a);case Oe:case pn:return new m(+a);case Ee:return cP(a,d);case At:case Pt:case Gn:case ri:case zn:case yn:case xn:case Sn:case Kt:return M_(a,d);case se:return new m;case ce:case fr:return new m(a);case pr:return uP(a);case Un:return new m;case mr:return hP(a)}}function FP(a,c){var d=c.length;if(!d)return a;var m=d-1;return c[m]=(d>1?"& ":"")+c[m],c=c.join(d>2?", ":" "),a.replace(Pe,`{
/* [wrapped with `+c+`] */
`)}function PP(a){return rt(a)||rs(a)||!!(Ju&&a&&a[Ju])}function Mo(a,c){var d=typeof a;return c=c??W,!!c&&(d=="number"||d!="symbol"&&Sp.test(a))&&a>-1&&a%1==0&&a<c}function Oi(a,c,d){if(!bn(d))return!1;var m=typeof c;return(m=="number"?$i(d)&&Mo(c,d.length):m=="string"&&c in d)?Rr(d[c],a):!1}function gf(a,c){if(rt(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||or(a)?!0:Xl.test(a)||!ei.test(a)||c!=null&&a in Ht(c)}function IP(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function vf(a){var c=fh(a),d=b[c];if(typeof d!="function"||!(c in ft.prototype))return!1;if(a===d)return!0;var m=ff(d);return!!m&&a===m[0]}function MP(a){return!!wo&&wo in a}var OP=$a?Oo:kf;function Dc(a){var c=a&&a.constructor,d=typeof c=="function"&&c.prototype||ta;return a===d}function Y_(a){return a===a&&!bn(a)}function K_(a,c){return function(d){return d==null?!1:d[a]===c&&(c!==e||a in Ht(d))}}function EP(a){var c=xh(a,function(m){return d.size===f&&d.clear(),m}),d=c.cache;return c}function AP(a,c){var d=a[1],m=c[1],x=d|m,T=x<(V|le|tt),M=m==tt&&d==xe||m==tt&&d==Se&&a[7].length<=c[8]||m==(tt|Se)&&c[7].length<=c[8]&&d==xe;if(!(T||M))return a;m&V&&(a[2]=c[2],x|=d&V?0:re);var A=c[3];if(A){var N=a[3];a[3]=N?E_(N,A,c[4]):A,a[4]=N?Yr(a[3],g):c[4]}return A=c[5],A&&(N=a[5],a[5]=N?A_(N,A,c[6]):A,a[6]=N?Yr(a[5],g):c[6]),A=c[7],A&&(a[7]=A),m&tt&&(a[8]=a[8]==null?c[8]:C(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=x,a}function DP(a){var c=[];if(a!=null)for(var d in Ht(a))c.push(d);return c}function kP(a){return ja.call(a)}function Q_(a,c,d){return c=_(c===e?a.length-1:c,0),function(){for(var m=arguments,x=-1,T=_(m.length-c,0),M=Z(T);++x<T;)M[x]=m[c+x];x=-1;for(var A=Z(c+1);++x<c;)A[x]=m[x];return A[c]=d(M),mn(a,this,A)}}function X_(a,c){return c.length<2?a:ts(a,wr(c,0,-1))}function NP(a,c){for(var d=a.length,m=C(c.length,d),x=qi(a);m--;){var T=c[m];a[m]=Mo(T,d)?x[T]:e}return a}function yf(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var J_=tg(b_),kc=Bp||function(a,c){return jn.setTimeout(a,c)},xf=tg(oP);function eg(a,c,d){var m=c+"";return xf(a,FP(m,RP(zP(m),d)))}function tg(a){var c=0,d=0;return function(){var m=O(),x=be-(m-d);if(d=m,x>0){if(++c>=oe)return arguments[0]}else c=0;return a.apply(e,arguments)}}function _h(a,c){var d=-1,m=a.length,x=m-1;for(c=c===e?m:c;++d<c;){var T=tf(d,x),M=a[T];a[T]=a[d],a[d]=M}return a.length=c,a}var ng=EP(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(xp,function(d,m,x,T){c.push(x?T.replace(tc,"$1"):m||d)}),c});function eo(a){if(typeof a=="string"||or(a))return a;var c=a+"";return c=="0"&&1/a==-Re?"-0":c}function is(a){if(a!=null){try{return Ks.call(a)}catch{}try{return a+""}catch{}}return""}function RP(a,c){return Pi(ot,function(d){var m="_."+d[0];c&d[1]&&!Yo(a,m)&&a.push(m)}),a.sort()}function ig(a){if(a instanceof ft)return a.clone();var c=new gi(a.__wrapped__,a.__chain__);return c.__actions__=qi(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function LP(a,c,d){(d?Oi(a,c,d):c===e)?c=1:c=_(lt(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var x=0,T=0,M=Z(Ga(m/c));x<m;)M[T++]=wr(a,x,x+=c);return M}function BP(a){for(var c=-1,d=a==null?0:a.length,m=0,x=[];++c<d;){var T=a[c];T&&(x[m++]=T)}return x}function HP(){var a=arguments.length;if(!a)return[];for(var c=Z(a-1),d=arguments[0],m=a;m--;)c[m-1]=arguments[m];return Ar(rt(d)?qi(d):[d],hi(c,1))}var VP=mt(function(a,c){return Dn(a)?Ic(a,hi(c,1,Dn,!0)):[]}),qP=mt(function(a,c){var d=zr(c);return Dn(d)&&(d=e),Dn(a)?Ic(a,hi(c,1,Dn,!0),Le(d,2)):[]}),$P=mt(function(a,c){var d=zr(c);return Dn(d)&&(d=e),Dn(a)?Ic(a,hi(c,1,Dn,!0),e,d):[]});function jP(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===e?1:lt(c),wr(a,c<0?0:c,m)):[]}function ZP(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===e?1:lt(c),c=m-c,wr(a,0,c<0?0:c)):[]}function WP(a,c){return a&&a.length?lh(a,Le(c,3),!0,!0):[]}function UP(a,c){return a&&a.length?lh(a,Le(c,3),!0):[]}function GP(a,c,d,m){var x=a==null?0:a.length;return x?(d&&typeof d!="number"&&Oi(a,c,d)&&(d=0,m=x),HF(a,c,d,m)):[]}function rg(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var x=d==null?0:lt(d);return x<0&&(x=_(m+x,0)),yr(a,Le(c,3),x)}function og(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var x=m-1;return d!==e&&(x=lt(d),x=d<0?_(m+x,0):C(x,m-1)),yr(a,Le(c,3),x,!0)}function ag(a){var c=a==null?0:a.length;return c?hi(a,1):[]}function YP(a){var c=a==null?0:a.length;return c?hi(a,Re):[]}function KP(a,c){var d=a==null?0:a.length;return d?(c=c===e?1:lt(c),hi(a,c)):[]}function QP(a){for(var c=-1,d=a==null?0:a.length,m={};++c<d;){var x=a[c];m[x[0]]=x[1]}return m}function sg(a){return a&&a.length?a[0]:e}function XP(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var x=d==null?0:lt(d);return x<0&&(x=_(m+x,0)),Ko(a,c,x)}function JP(a){var c=a==null?0:a.length;return c?wr(a,0,-1):[]}var eI=mt(function(a){var c=Ut(a,sf);return c.length&&c[0]===a[0]?Kp(c):[]}),tI=mt(function(a){var c=zr(a),d=Ut(a,sf);return c===zr(d)?c=e:d.pop(),d.length&&d[0]===a[0]?Kp(d,Le(c,2)):[]}),nI=mt(function(a){var c=zr(a),d=Ut(a,sf);return c=typeof c=="function"?c:e,c&&d.pop(),d.length&&d[0]===a[0]?Kp(d,e,c):[]});function iI(a,c){return a==null?"":u.call(a,c)}function zr(a){var c=a==null?0:a.length;return c?a[c-1]:e}function rI(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var x=m;return d!==e&&(x=lt(d),x=x<0?_(m+x,0):C(x,m-1)),c===c?Np(a,c,x):yr(a,Ii,x,!0)}function oI(a,c){return a&&a.length?v_(a,lt(c)):e}var aI=mt(lg);function lg(a,c){return a&&a.length&&c&&c.length?ef(a,c):a}function sI(a,c,d){return a&&a.length&&c&&c.length?ef(a,c,Le(d,2)):a}function lI(a,c,d){return a&&a.length&&c&&c.length?ef(a,c,e,d):a}var cI=Io(function(a,c){var d=a==null?0:a.length,m=Wp(a,c);return C_(a,Ut(c,function(x){return Mo(x,d)?+x:x}).sort(O_)),m});function uI(a,c){var d=[];if(!(a&&a.length))return d;var m=-1,x=[],T=a.length;for(c=Le(c,3);++m<T;){var M=a[m];c(M,m,a)&&(d.push(M),x.push(m))}return C_(a,x),d}function Cf(a){return a==null?a:te.call(a)}function hI(a,c,d){var m=a==null?0:a.length;return m?(d&&typeof d!="number"&&Oi(a,c,d)?(c=0,d=m):(c=c==null?0:lt(c),d=d===e?m:lt(d)),wr(a,c,d)):[]}function dI(a,c){return sh(a,c)}function pI(a,c,d){return rf(a,c,Le(d,2))}function fI(a,c){var d=a==null?0:a.length;if(d){var m=sh(a,c);if(m<d&&Rr(a[m],c))return m}return-1}function mI(a,c){return sh(a,c,!0)}function _I(a,c,d){return rf(a,c,Le(d,2),!0)}function gI(a,c){var d=a==null?0:a.length;if(d){var m=sh(a,c,!0)-1;if(Rr(a[m],c))return m}return-1}function vI(a){return a&&a.length?w_(a):[]}function yI(a,c){return a&&a.length?w_(a,Le(c,2)):[]}function xI(a){var c=a==null?0:a.length;return c?wr(a,1,c):[]}function CI(a,c,d){return a&&a.length?(c=d||c===e?1:lt(c),wr(a,0,c<0?0:c)):[]}function bI(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===e?1:lt(c),c=m-c,wr(a,c<0?0:c,m)):[]}function wI(a,c){return a&&a.length?lh(a,Le(c,3),!1,!0):[]}function zI(a,c){return a&&a.length?lh(a,Le(c,3)):[]}var SI=mt(function(a){return aa(hi(a,1,Dn,!0))}),TI=mt(function(a){var c=zr(a);return Dn(c)&&(c=e),aa(hi(a,1,Dn,!0),Le(c,2))}),FI=mt(function(a){var c=zr(a);return c=typeof c=="function"?c:e,aa(hi(a,1,Dn,!0),e,c)});function PI(a){return a&&a.length?aa(a):[]}function II(a,c){return a&&a.length?aa(a,Le(c,2)):[]}function MI(a,c){return c=typeof c=="function"?c:e,a&&a.length?aa(a,e,c):[]}function bf(a){if(!(a&&a.length))return[];var c=0;return a=Er(a,function(d){if(Dn(d))return c=_(d.length,c),!0}),xc(c,function(d){return Ut(a,Vs(d))})}function cg(a,c){if(!(a&&a.length))return[];var d=bf(a);return c==null?d:Ut(d,function(m){return mn(c,e,m)})}var OI=mt(function(a,c){return Dn(a)?Ic(a,c):[]}),EI=mt(function(a){return af(Er(a,Dn))}),AI=mt(function(a){var c=zr(a);return Dn(c)&&(c=e),af(Er(a,Dn),Le(c,2))}),DI=mt(function(a){var c=zr(a);return c=typeof c=="function"?c:e,af(Er(a,Dn),e,c)}),kI=mt(bf);function NI(a,c){return F_(a||[],c||[],Pc)}function RI(a,c){return F_(a||[],c||[],Ec)}var LI=mt(function(a){var c=a.length,d=c>1?a[c-1]:e;return d=typeof d=="function"?(a.pop(),d):e,cg(a,d)});function ug(a){var c=b(a);return c.__chain__=!0,c}function BI(a,c){return c(a),a}function gh(a,c){return c(a)}var HI=Io(function(a){var c=a.length,d=c?a[0]:0,m=this.__wrapped__,x=function(T){return Wp(T,a)};return c>1||this.__actions__.length||!(m instanceof ft)||!Mo(d)?this.thru(x):(m=m.slice(d,+d+(c?1:0)),m.__actions__.push({func:gh,args:[x],thisArg:e}),new gi(m,this.__chain__).thru(function(T){return c&&!T.length&&T.push(e),T}))});function VI(){return ug(this)}function qI(){return new gi(this.value(),this.__chain__)}function $I(){this.__values__===e&&(this.__values__=zg(this.value()));var a=this.__index__>=this.__values__.length,c=a?e:this.__values__[this.__index__++];return{done:a,value:c}}function jI(){return this}function ZI(a){for(var c,d=this;d instanceof Qs;){var m=ig(d);m.__index__=0,m.__values__=e,c?x.__wrapped__=m:c=m;var x=m;d=d.__wrapped__}return x.__wrapped__=a,c}function WI(){var a=this.__wrapped__;if(a instanceof ft){var c=a;return this.__actions__.length&&(c=new ft(this)),c=c.reverse(),c.__actions__.push({func:gh,args:[Cf],thisArg:e}),new gi(c,this.__chain__)}return this.thru(Cf)}function UI(){return T_(this.__wrapped__,this.__actions__)}var GI=ch(function(a,c,d){Tt.call(a,d)?++a[d]:Fo(a,d,1)});function YI(a,c,d){var m=rt(a)?pc:BF;return d&&Oi(a,c,d)&&(c=e),m(a,Le(c,3))}function KI(a,c){var d=rt(a)?Er:c_;return d(a,Le(c,3))}var QI=R_(rg),XI=R_(og);function JI(a,c){return hi(vh(a,c),1)}function eM(a,c){return hi(vh(a,c),Re)}function tM(a,c,d){return d=d===e?1:lt(d),hi(vh(a,c),d)}function hg(a,c){var d=rt(a)?Pi:oa;return d(a,Le(c,3))}function dg(a,c){var d=rt(a)?Wr:l_;return d(a,Le(c,3))}var nM=ch(function(a,c,d){Tt.call(a,d)?a[d].push(c):Fo(a,d,[c])});function iM(a,c,d,m){a=$i(a)?a:nl(a),d=d&&!m?lt(d):0;var x=a.length;return d<0&&(d=_(x+d,0)),wh(a)?d<=x&&a.indexOf(c,d)>-1:!!x&&Ko(a,c,d)>-1}var rM=mt(function(a,c,d){var m=-1,x=typeof c=="function",T=$i(a)?Z(a.length):[];return oa(a,function(M){T[++m]=x?mn(c,M,d):Mc(M,c,d)}),T}),oM=ch(function(a,c,d){Fo(a,d,c)});function vh(a,c){var d=rt(a)?Ut:m_;return d(a,Le(c,3))}function aM(a,c,d,m){return a==null?[]:(rt(c)||(c=c==null?[]:[c]),d=m?e:d,rt(d)||(d=d==null?[]:[d]),y_(a,c,d))}var sM=ch(function(a,c,d){a[d?0:1].push(c)},function(){return[[],[]]});function lM(a,c,d){var m=rt(a)?mc:qs,x=arguments.length<3;return m(a,Le(c,4),d,x,oa)}function cM(a,c,d){var m=rt(a)?Ep:qs,x=arguments.length<3;return m(a,Le(c,4),d,x,l_)}function uM(a,c){var d=rt(a)?Er:c_;return d(a,Ch(Le(c,3)))}function hM(a){var c=rt(a)?r_:iP;return c(a)}function dM(a,c,d){(d?Oi(a,c,d):c===e)?c=1:c=lt(c);var m=rt(a)?DF:rP;return m(a,c)}function pM(a){var c=rt(a)?kF:aP;return c(a)}function fM(a){if(a==null)return 0;if($i(a))return wh(a)?mi(a):a.length;var c=vi(a);return c==se||c==Un?a.size:Xp(a).length}function mM(a,c,d){var m=rt(a)?La:sP;return d&&Oi(a,c,d)&&(c=e),m(a,Le(c,3))}var _M=mt(function(a,c){if(a==null)return[];var d=c.length;return d>1&&Oi(a,c[0],c[1])?c=[]:d>2&&Oi(c[0],c[1],c[2])&&(c=[c[0]]),y_(a,hi(c,1),[])}),yh=th||function(){return jn.Date.now()};function gM(a,c){if(typeof c!="function")throw new ui(o);return a=lt(a),function(){if(--a<1)return c.apply(this,arguments)}}function pg(a,c,d){return c=d?e:c,c=a&&c==null?a.length:c,Po(a,tt,e,e,e,e,c)}function fg(a,c){var d;if(typeof c!="function")throw new ui(o);return a=lt(a),function(){return--a>0&&(d=c.apply(this,arguments)),a<=1&&(c=e),d}}var wf=mt(function(a,c,d){var m=V;if(d.length){var x=Yr(d,el(wf));m|=st}return Po(a,m,c,d,x)}),mg=mt(function(a,c,d){var m=V|le;if(d.length){var x=Yr(d,el(mg));m|=st}return Po(c,m,a,d,x)});function _g(a,c,d){c=d?e:c;var m=Po(a,xe,e,e,e,e,e,c);return m.placeholder=_g.placeholder,m}function gg(a,c,d){c=d?e:c;var m=Po(a,St,e,e,e,e,e,c);return m.placeholder=gg.placeholder,m}function vg(a,c,d){var m,x,T,M,A,N,X=0,ee=!1,ie=!1,fe=!0;if(typeof a!="function")throw new ui(o);c=Sr(c)||0,bn(d)&&(ee=!!d.leading,ie="maxWait"in d,T=ie?_(Sr(d.maxWait)||0,c):T,fe="trailing"in d?!!d.trailing:fe);function Te(kn){var Lr=m,Ao=x;return m=x=e,X=kn,M=a.apply(Ao,Lr),M}function Be(kn){return X=kn,A=kc(xt,c),ee?Te(kn):M}function pt(kn){var Lr=kn-N,Ao=kn-X,Rg=c-Lr;return ie?C(Rg,T-Ao):Rg}function He(kn){var Lr=kn-N,Ao=kn-X;return N===e||Lr>=c||Lr<0||ie&&Ao>=T}function xt(){var kn=yh();if(He(kn))return Ft(kn);A=kc(xt,pt(kn))}function Ft(kn){return A=e,fe&&m?Te(kn):(m=x=e,M)}function ar(){A!==e&&P_(A),X=0,m=N=x=A=e}function Ei(){return A===e?M:Ft(yh())}function sr(){var kn=yh(),Lr=He(kn);if(m=arguments,x=this,N=kn,Lr){if(A===e)return Be(N);if(ie)return P_(A),A=kc(xt,c),Te(N)}return A===e&&(A=kc(xt,c)),M}return sr.cancel=ar,sr.flush=Ei,sr}var vM=mt(function(a,c){return s_(a,1,c)}),yM=mt(function(a,c,d){return s_(a,Sr(c)||0,d)});function xM(a){return Po(a,yt)}function xh(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new ui(o);var d=function(){var m=arguments,x=c?c.apply(this,m):m[0],T=d.cache;if(T.has(x))return T.get(x);var M=a.apply(this,m);return d.cache=T.set(x,M)||T,M};return d.cache=new(xh.Cache||To),d}xh.Cache=To;function Ch(a){if(typeof a!="function")throw new ui(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function CM(a){return fg(2,a)}var bM=lP(function(a,c){c=c.length==1&&rt(c[0])?Ut(c[0],ln(Le())):Ut(hi(c,1),ln(Le()));var d=c.length;return mt(function(m){for(var x=-1,T=C(m.length,d);++x<T;)m[x]=c[x].call(this,m[x]);return mn(a,this,m)})}),zf=mt(function(a,c){var d=Yr(c,el(zf));return Po(a,st,e,c,d)}),yg=mt(function(a,c){var d=Yr(c,el(yg));return Po(a,Nt,e,c,d)}),wM=Io(function(a,c){return Po(a,Se,e,e,e,c)});function zM(a,c){if(typeof a!="function")throw new ui(o);return c=c===e?c:lt(c),mt(a,c)}function SM(a,c){if(typeof a!="function")throw new ui(o);return c=c==null?0:_(lt(c),0),mt(function(d){var m=d[c],x=la(d,0,c);return m&&Ar(x,m),mn(a,this,x)})}function TM(a,c,d){var m=!0,x=!0;if(typeof a!="function")throw new ui(o);return bn(d)&&(m="leading"in d?!!d.leading:m,x="trailing"in d?!!d.trailing:x),vg(a,c,{leading:m,maxWait:c,trailing:x})}function FM(a){return pg(a,1)}function PM(a,c){return zf(lf(c),a)}function IM(){if(!arguments.length)return[];var a=arguments[0];return rt(a)?a:[a]}function MM(a){return br(a,I)}function OM(a,c){return c=typeof c=="function"?c:e,br(a,I,c)}function EM(a){return br(a,v|I)}function AM(a,c){return c=typeof c=="function"?c:e,br(a,v|I,c)}function DM(a,c){return c==null||a_(a,c,ai(c))}function Rr(a,c){return a===c||a!==a&&c!==c}var kM=ph(Yp),NM=ph(function(a,c){return a>=c}),rs=d_(function(){return arguments}())?d_:function(a){return Fn(a)&&Tt.call(a,"callee")&&!Tc.call(a,"callee")},rt=Z.isArray,RM=Vu?ln(Vu):ZF;function $i(a){return a!=null&&bh(a.length)&&!Oo(a)}function Dn(a){return Fn(a)&&$i(a)}function LM(a){return a===!0||a===!1||Fn(a)&&Mi(a)==Oe}var ca=r||kf,BM=dc?ln(dc):WF;function HM(a){return Fn(a)&&a.nodeType===1&&!Nc(a)}function VM(a){if(a==null)return!0;if($i(a)&&(rt(a)||typeof a=="string"||typeof a.splice=="function"||ca(a)||tl(a)||rs(a)))return!a.length;var c=vi(a);if(c==se||c==Un)return!a.size;if(Dc(a))return!Xp(a).length;for(var d in a)if(Tt.call(a,d))return!1;return!0}function qM(a,c){return Oc(a,c)}function $M(a,c,d){d=typeof d=="function"?d:e;var m=d?d(a,c):e;return m===e?Oc(a,c,e,d):!!m}function Sf(a){if(!Fn(a))return!1;var c=Mi(a);return c==fn||c==Mn||typeof a.message=="string"&&typeof a.name=="string"&&!Nc(a)}function jM(a){return typeof a=="number"&&l(a)}function Oo(a){if(!bn(a))return!1;var c=Mi(a);return c==Yt||c==he||c==vt||c==Ea}function xg(a){return typeof a=="number"&&a==lt(a)}function bh(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=W}function bn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Fn(a){return a!=null&&typeof a=="object"}var Cg=qu?ln(qu):GF;function ZM(a,c){return a===c||Qp(a,c,mf(c))}function WM(a,c,d){return d=typeof d=="function"?d:e,Qp(a,c,mf(c),d)}function UM(a){return bg(a)&&a!=+a}function GM(a){if(OP(a))throw new Ye(i);return p_(a)}function YM(a){return a===null}function KM(a){return a==null}function bg(a){return typeof a=="number"||Fn(a)&&Mi(a)==ce}function Nc(a){if(!Fn(a)||Mi(a)!=ci)return!1;var c=zo(a);if(c===null)return!0;var d=Tt.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&Ks.call(d)==Qu}var Tf=$u?ln($u):YF;function QM(a){return xg(a)&&a>=-W&&a<=W}var wg=Hs?ln(Hs):KF;function wh(a){return typeof a=="string"||!rt(a)&&Fn(a)&&Mi(a)==fr}function or(a){return typeof a=="symbol"||Fn(a)&&Mi(a)==mr}var tl=ju?ln(ju):QF;function XM(a){return a===e}function JM(a){return Fn(a)&&vi(a)==Hn}function eO(a){return Fn(a)&&Mi(a)==ii}var tO=ph(Jp),nO=ph(function(a,c){return a<=c});function zg(a){if(!a)return[];if($i(a))return wh(a)?_i(a):qi(a);if(ia&&a[ia])return js(a[ia]());var c=vi(a),d=c==se?Cc:c==Un?Vi:nl;return d(a)}function Eo(a){if(!a)return a===0?a:0;if(a=Sr(a),a===Re||a===-Re){var c=a<0?-1:1;return c*Qe}return a===a?a:0}function lt(a){var c=Eo(a),d=c%1;return c===c?d?c-d:c:0}function Sg(a){return a?es(lt(a),0,Ie):0}function Sr(a){if(typeof a=="number")return a;if(or(a))return _e;if(bn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=bn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=Gu(a);var d=bp.test(a);return d||zp.test(a)?Mp(a.slice(2),d?2:8):Iu.test(a)?_e:+a}function Tg(a){return Jr(a,ji(a))}function iO(a){return a?es(lt(a),-W,W):a===0?a:0}function Vt(a){return a==null?"":rr(a)}var rO=Xs(function(a,c){if(Dc(c)||$i(c)){Jr(c,ai(c),a);return}for(var d in c)Tt.call(c,d)&&Pc(a,d,c[d])}),Fg=Xs(function(a,c){Jr(c,ji(c),a)}),zh=Xs(function(a,c,d,m){Jr(c,ji(c),a,m)}),oO=Xs(function(a,c,d,m){Jr(c,ai(c),a,m)}),aO=Io(Wp);function sO(a,c){var d=ra(a);return c==null?d:o_(d,c)}var lO=mt(function(a,c){a=Ht(a);var d=-1,m=c.length,x=m>2?c[2]:e;for(x&&Oi(c[0],c[1],x)&&(m=1);++d<m;)for(var T=c[d],M=ji(T),A=-1,N=M.length;++A<N;){var X=M[A],ee=a[X];(ee===e||Rr(ee,ta[X])&&!Tt.call(a,X))&&(a[X]=T[X])}return a}),cO=mt(function(a){return a.push(e,j_),mn(Pg,e,a)});function uO(a,c){return Ba(a,Le(c,3),Xr)}function hO(a,c){return Ba(a,Le(c,3),Gp)}function dO(a,c){return a==null?a:Up(a,Le(c,3),ji)}function pO(a,c){return a==null?a:u_(a,Le(c,3),ji)}function fO(a,c){return a&&Xr(a,Le(c,3))}function mO(a,c){return a&&Gp(a,Le(c,3))}function _O(a){return a==null?[]:oh(a,ai(a))}function gO(a){return a==null?[]:oh(a,ji(a))}function Ff(a,c,d){var m=a==null?e:ts(a,c);return m===e?d:m}function vO(a,c){return a!=null&&U_(a,c,VF)}function Pf(a,c){return a!=null&&U_(a,c,qF)}var yO=B_(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=ja.call(c)),a[c]=d},Mf(Zi)),xO=B_(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=ja.call(c)),Tt.call(a,c)?a[c].push(d):a[c]=[d]},Le),CO=mt(Mc);function ai(a){return $i(a)?i_(a):Xp(a)}function ji(a){return $i(a)?i_(a,!0):XF(a)}function bO(a,c){var d={};return c=Le(c,3),Xr(a,function(m,x,T){Fo(d,c(m,x,T),m)}),d}function wO(a,c){var d={};return c=Le(c,3),Xr(a,function(m,x,T){Fo(d,x,c(m,x,T))}),d}var zO=Xs(function(a,c,d){ah(a,c,d)}),Pg=Xs(function(a,c,d,m){ah(a,c,d,m)}),SO=Io(function(a,c){var d={};if(a==null)return d;var m=!1;c=Ut(c,function(T){return T=sa(T,a),m||(m=T.length>1),T}),Jr(a,pf(a),d),m&&(d=br(d,v|P|I,yP));for(var x=c.length;x--;)of(d,c[x]);return d});function TO(a,c){return Ig(a,Ch(Le(c)))}var FO=Io(function(a,c){return a==null?{}:eP(a,c)});function Ig(a,c){if(a==null)return{};var d=Ut(pf(a),function(m){return[m]});return c=Le(c),x_(a,d,function(m,x){return c(m,x[0])})}function PO(a,c,d){c=sa(c,a);var m=-1,x=c.length;for(x||(x=1,a=e);++m<x;){var T=a==null?e:a[eo(c[m])];T===e&&(m=x,T=d),a=Oo(T)?T.call(a):T}return a}function IO(a,c,d){return a==null?a:Ec(a,c,d)}function MO(a,c,d,m){return m=typeof m=="function"?m:e,a==null?a:Ec(a,c,d,m)}var Mg=q_(ai),Og=q_(ji);function OO(a,c,d){var m=rt(a),x=m||ca(a)||tl(a);if(c=Le(c,4),d==null){var T=a&&a.constructor;x?d=m?new T:[]:bn(a)?d=Oo(T)?ra(zo(a)):{}:d={}}return(x?Pi:Xr)(a,function(M,A,N){return c(d,M,A,N)}),d}function EO(a,c){return a==null?!0:of(a,c)}function AO(a,c,d){return a==null?a:S_(a,c,lf(d))}function DO(a,c,d,m){return m=typeof m=="function"?m:e,a==null?a:S_(a,c,lf(d),m)}function nl(a){return a==null?[]:Ur(a,ai(a))}function kO(a){return a==null?[]:Ur(a,ji(a))}function NO(a,c,d){return d===e&&(d=c,c=e),d!==e&&(d=Sr(d),d=d===d?d:0),c!==e&&(c=Sr(c),c=c===c?c:0),es(Sr(a),c,d)}function RO(a,c,d){return c=Eo(c),d===e?(d=c,c=0):d=Eo(d),a=Sr(a),$F(a,c,d)}function LO(a,c,d){if(d&&typeof d!="boolean"&&Oi(a,c,d)&&(c=d=e),d===e&&(typeof c=="boolean"?(d=c,c=e):typeof a=="boolean"&&(d=a,a=e)),a===e&&c===e?(a=0,c=1):(a=Eo(a),c===e?(c=a,a=0):c=Eo(c)),a>c){var m=a;a=c,c=m}if(d||a%1||c%1){var x=j();return C(a+x*(c-a+lc("1e-"+((x+"").length-1))),c)}return tf(a,c)}var BO=Js(function(a,c,d){return c=c.toLowerCase(),a+(d?Eg(c):c)});function Eg(a){return If(Vt(a).toLowerCase())}function Ag(a){return a=Vt(a),a&&a.replace(Mu,Dp).replace(Ru,"")}function HO(a,c,d){a=Vt(a),c=rr(c);var m=a.length;d=d===e?m:es(lt(d),0,m);var x=d;return d-=c.length,d>=0&&a.slice(d,x)==c}function VO(a){return a=Vt(a),a&&Qn.test(a)?a.replace(En,qa):a}function qO(a){return a=Vt(a),a&&Cp.test(a)?a.replace(Jl,"\\$&"):a}var $O=Js(function(a,c,d){return a+(d?"-":"")+c.toLowerCase()}),jO=Js(function(a,c,d){return a+(d?" ":"")+c.toLowerCase()}),ZO=N_("toLowerCase");function WO(a,c,d){a=Vt(a),c=lt(c);var m=c?mi(a):0;if(!c||m>=c)return a;var x=(c-m)/2;return dh(Ya(x),d)+a+dh(Ga(x),d)}function UO(a,c,d){a=Vt(a),c=lt(c);var m=c?mi(a):0;return c&&m<c?a+dh(c-m,d):a}function GO(a,c,d){a=Vt(a),c=lt(c);var m=c?mi(a):0;return c&&m<c?dh(c-m,d)+a:a}function YO(a,c,d){return d||c==null?c=0:c&&(c=+c),B(Vt(a).replace(ec,""),c||0)}function KO(a,c,d){return(d?Oi(a,c,d):c===e)?c=1:c=lt(c),nf(Vt(a),c)}function QO(){var a=arguments,c=Vt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var XO=Js(function(a,c,d){return a+(d?"_":"")+c.toLowerCase()});function JO(a,c,d){return d&&typeof d!="number"&&Oi(a,c,d)&&(c=d=e),d=d===e?Ie:d>>>0,d?(a=Vt(a),a&&(typeof c=="string"||c!=null&&!Tf(c))&&(c=rr(c),!c&&Xo(a))?la(_i(a),0,d):a.split(c,d)):[]}var eE=Js(function(a,c,d){return a+(d?" ":"")+If(c)});function tE(a,c,d){return a=Vt(a),d=d==null?0:es(lt(d),0,a.length),c=rr(c),a.slice(d,d+c.length)==c}function nE(a,c,d){var m=b.templateSettings;d&&Oi(a,c,d)&&(c=e),a=Vt(a),c=zh({},c,m,$_);var x=zh({},c.imports,m.imports,$_),T=ai(x),M=Ur(x,T),A,N,X=0,ee=c.interpolate||Is,ie="__p += '",fe=Sc((c.escape||Is).source+"|"+ee.source+"|"+(ee===$n?Pu:Is).source+"|"+(c.evaluate||Is).source+"|$","g"),Te="//# sourceURL="+(Tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ra+"]")+`
`;a.replace(fe,function(He,xt,Ft,ar,Ei,sr){return Ft||(Ft=ar),ie+=a.slice(X,sr).replace(Ms,Ku),xt&&(A=!0,ie+=`' +
__e(`+xt+`) +
'`),Ei&&(N=!0,ie+=`';
`+Ei+`;
__p += '`),Ft&&(ie+=`' +
((__t = (`+Ft+`)) == null ? '' : __t) +
'`),X=sr+He.length,He}),ie+=`';
`;var Be=Tt.call(c,"variable")&&c.variable;if(!Be)ie=`with (obj) {
`+ie+`
}
`;else if(Fu.test(Be))throw new Ye(s);ie=(N?ie.replace(Vn,""):ie).replace(Yn,"$1").replace(qn,"$1;"),ie="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var pt=kg(function(){return Ot(T,Te+"return "+ie).apply(e,M)});if(pt.source=ie,Sf(pt))throw pt;return pt}function iE(a){return Vt(a).toLowerCase()}function rE(a){return Vt(a).toUpperCase()}function oE(a,c,d){if(a=Vt(a),a&&(d||c===e))return Gu(a);if(!a||!(c=rr(c)))return a;var m=_i(a),x=_i(c),T=xr(m,x),M=Yu(m,x)+1;return la(m,T,M).join("")}function aE(a,c,d){if(a=Vt(a),a&&(d||c===e))return a.slice(0,bc(a)+1);if(!a||!(c=rr(c)))return a;var m=_i(a),x=Yu(m,_i(c))+1;return la(m,0,x).join("")}function sE(a,c,d){if(a=Vt(a),a&&(d||c===e))return a.replace(ec,"");if(!a||!(c=rr(c)))return a;var m=_i(a),x=xr(m,_i(c));return la(m,x).join("")}function lE(a,c){var d=Zt,m=q;if(bn(c)){var x="separator"in c?c.separator:x;d="length"in c?lt(c.length):d,m="omission"in c?rr(c.omission):m}a=Vt(a);var T=a.length;if(Xo(a)){var M=_i(a);T=M.length}if(d>=T)return a;var A=d-mi(m);if(A<1)return m;var N=M?la(M,0,A).join(""):a.slice(0,A);if(x===e)return N+m;if(M&&(A+=N.length-A),Tf(x)){if(a.slice(A).search(x)){var X,ee=N;for(x.global||(x=Sc(x.source,Vt(vo.exec(x))+"g")),x.lastIndex=0;X=x.exec(ee);)var ie=X.index;N=N.slice(0,ie===e?A:ie)}}else if(a.indexOf(rr(x),A)!=A){var fe=N.lastIndexOf(x);fe>-1&&(N=N.slice(0,fe))}return N+m}function cE(a){return a=Vt(a),a&&Kn.test(a)?a.replace(On,wc):a}var uE=Js(function(a,c,d){return a+(d?" ":"")+c.toUpperCase()}),If=N_("toUpperCase");function Dg(a,c,d){return a=Vt(a),c=d?e:c,c===e?Gr(a)?Us(a):Wu(a):a.match(c)||[]}var kg=mt(function(a,c){try{return mn(a,e,c)}catch(d){return Sf(d)?d:new Ye(d)}}),hE=Io(function(a,c){return Pi(c,function(d){d=eo(d),Fo(a,d,wf(a[d],a))}),a});function dE(a){var c=a==null?0:a.length,d=Le();return a=c?Ut(a,function(m){if(typeof m[1]!="function")throw new ui(o);return[d(m[0]),m[1]]}):[],mt(function(m){for(var x=-1;++x<c;){var T=a[x];if(mn(T[0],this,m))return mn(T[1],this,m)}})}function pE(a){return LF(br(a,v))}function Mf(a){return function(){return a}}function fE(a,c){return a==null||a!==a?c:a}var mE=L_(),_E=L_(!0);function Zi(a){return a}function Of(a){return f_(typeof a=="function"?a:br(a,v))}function gE(a){return __(br(a,v))}function vE(a,c){return g_(a,br(c,v))}var yE=mt(function(a,c){return function(d){return Mc(d,a,c)}}),xE=mt(function(a,c){return function(d){return Mc(a,d,c)}});function Ef(a,c,d){var m=ai(c),x=oh(c,m);d==null&&!(bn(c)&&(x.length||!m.length))&&(d=c,c=a,a=this,x=oh(c,ai(c)));var T=!(bn(d)&&"chain"in d)||!!d.chain,M=Oo(a);return Pi(x,function(A){var N=c[A];a[A]=N,M&&(a.prototype[A]=function(){var X=this.__chain__;if(T||X){var ee=a(this.__wrapped__),ie=ee.__actions__=qi(this.__actions__);return ie.push({func:N,args:arguments,thisArg:a}),ee.__chain__=X,ee}return N.apply(a,Ar([this.value()],arguments))})}),a}function CE(){return jn._===this&&(jn._=Lp),this}function Af(){}function bE(a){return a=lt(a),mt(function(c){return v_(c,a)})}var wE=uf(Ut),zE=uf(pc),SE=uf(La);function Ng(a){return gf(a)?Vs(eo(a)):tP(a)}function TE(a){return function(c){return a==null?e:ts(a,c)}}var FE=H_(),PE=H_(!0);function Df(){return[]}function kf(){return!1}function IE(){return{}}function ME(){return""}function OE(){return!0}function EE(a,c){if(a=lt(a),a<1||a>W)return[];var d=Ie,m=C(a,Ie);c=Le(c),a-=Ie;for(var x=xc(m,c);++d<a;)c(d);return x}function AE(a){return rt(a)?Ut(a,eo):or(a)?[a]:qi(ng(Vt(a)))}function DE(a){var c=++Rp;return Vt(a)+c}var kE=hh(function(a,c){return a+c},0),NE=hf("ceil"),RE=hh(function(a,c){return a/c},1),LE=hf("floor");function BE(a){return a&&a.length?rh(a,Zi,Yp):e}function HE(a,c){return a&&a.length?rh(a,Le(c,2),Yp):e}function VE(a){return _c(a,Zi)}function qE(a,c){return _c(a,Le(c,2))}function $E(a){return a&&a.length?rh(a,Zi,Jp):e}function jE(a,c){return a&&a.length?rh(a,Le(c,2),Jp):e}var ZE=hh(function(a,c){return a*c},1),WE=hf("round"),UE=hh(function(a,c){return a-c},0);function GE(a){return a&&a.length?yc(a,Zi):0}function YE(a,c){return a&&a.length?yc(a,Le(c,2)):0}return b.after=gM,b.ary=pg,b.assign=rO,b.assignIn=Fg,b.assignInWith=zh,b.assignWith=oO,b.at=aO,b.before=fg,b.bind=wf,b.bindAll=hE,b.bindKey=mg,b.castArray=IM,b.chain=ug,b.chunk=LP,b.compact=BP,b.concat=HP,b.cond=dE,b.conforms=pE,b.constant=Mf,b.countBy=GI,b.create=sO,b.curry=_g,b.curryRight=gg,b.debounce=vg,b.defaults=lO,b.defaultsDeep=cO,b.defer=vM,b.delay=yM,b.difference=VP,b.differenceBy=qP,b.differenceWith=$P,b.drop=jP,b.dropRight=ZP,b.dropRightWhile=WP,b.dropWhile=UP,b.fill=GP,b.filter=KI,b.flatMap=JI,b.flatMapDeep=eM,b.flatMapDepth=tM,b.flatten=ag,b.flattenDeep=YP,b.flattenDepth=KP,b.flip=xM,b.flow=mE,b.flowRight=_E,b.fromPairs=QP,b.functions=_O,b.functionsIn=gO,b.groupBy=nM,b.initial=JP,b.intersection=eI,b.intersectionBy=tI,b.intersectionWith=nI,b.invert=yO,b.invertBy=xO,b.invokeMap=rM,b.iteratee=Of,b.keyBy=oM,b.keys=ai,b.keysIn=ji,b.map=vh,b.mapKeys=bO,b.mapValues=wO,b.matches=gE,b.matchesProperty=vE,b.memoize=xh,b.merge=zO,b.mergeWith=Pg,b.method=yE,b.methodOf=xE,b.mixin=Ef,b.negate=Ch,b.nthArg=bE,b.omit=SO,b.omitBy=TO,b.once=CM,b.orderBy=aM,b.over=wE,b.overArgs=bM,b.overEvery=zE,b.overSome=SE,b.partial=zf,b.partialRight=yg,b.partition=sM,b.pick=FO,b.pickBy=Ig,b.property=Ng,b.propertyOf=TE,b.pull=aI,b.pullAll=lg,b.pullAllBy=sI,b.pullAllWith=lI,b.pullAt=cI,b.range=FE,b.rangeRight=PE,b.rearg=wM,b.reject=uM,b.remove=uI,b.rest=zM,b.reverse=Cf,b.sampleSize=dM,b.set=IO,b.setWith=MO,b.shuffle=pM,b.slice=hI,b.sortBy=_M,b.sortedUniq=vI,b.sortedUniqBy=yI,b.split=JO,b.spread=SM,b.tail=xI,b.take=CI,b.takeRight=bI,b.takeRightWhile=wI,b.takeWhile=zI,b.tap=BI,b.throttle=TM,b.thru=gh,b.toArray=zg,b.toPairs=Mg,b.toPairsIn=Og,b.toPath=AE,b.toPlainObject=Tg,b.transform=OO,b.unary=FM,b.union=SI,b.unionBy=TI,b.unionWith=FI,b.uniq=PI,b.uniqBy=II,b.uniqWith=MI,b.unset=EO,b.unzip=bf,b.unzipWith=cg,b.update=AO,b.updateWith=DO,b.values=nl,b.valuesIn=kO,b.without=OI,b.words=Dg,b.wrap=PM,b.xor=EI,b.xorBy=AI,b.xorWith=DI,b.zip=kI,b.zipObject=NI,b.zipObjectDeep=RI,b.zipWith=LI,b.entries=Mg,b.entriesIn=Og,b.extend=Fg,b.extendWith=zh,Ef(b,b),b.add=kE,b.attempt=kg,b.camelCase=BO,b.capitalize=Eg,b.ceil=NE,b.clamp=NO,b.clone=MM,b.cloneDeep=EM,b.cloneDeepWith=AM,b.cloneWith=OM,b.conformsTo=DM,b.deburr=Ag,b.defaultTo=fE,b.divide=RE,b.endsWith=HO,b.eq=Rr,b.escape=VO,b.escapeRegExp=qO,b.every=YI,b.find=QI,b.findIndex=rg,b.findKey=uO,b.findLast=XI,b.findLastIndex=og,b.findLastKey=hO,b.floor=LE,b.forEach=hg,b.forEachRight=dg,b.forIn=dO,b.forInRight=pO,b.forOwn=fO,b.forOwnRight=mO,b.get=Ff,b.gt=kM,b.gte=NM,b.has=vO,b.hasIn=Pf,b.head=sg,b.identity=Zi,b.includes=iM,b.indexOf=XP,b.inRange=RO,b.invoke=CO,b.isArguments=rs,b.isArray=rt,b.isArrayBuffer=RM,b.isArrayLike=$i,b.isArrayLikeObject=Dn,b.isBoolean=LM,b.isBuffer=ca,b.isDate=BM,b.isElement=HM,b.isEmpty=VM,b.isEqual=qM,b.isEqualWith=$M,b.isError=Sf,b.isFinite=jM,b.isFunction=Oo,b.isInteger=xg,b.isLength=bh,b.isMap=Cg,b.isMatch=ZM,b.isMatchWith=WM,b.isNaN=UM,b.isNative=GM,b.isNil=KM,b.isNull=YM,b.isNumber=bg,b.isObject=bn,b.isObjectLike=Fn,b.isPlainObject=Nc,b.isRegExp=Tf,b.isSafeInteger=QM,b.isSet=wg,b.isString=wh,b.isSymbol=or,b.isTypedArray=tl,b.isUndefined=XM,b.isWeakMap=JM,b.isWeakSet=eO,b.join=iI,b.kebabCase=$O,b.last=zr,b.lastIndexOf=rI,b.lowerCase=jO,b.lowerFirst=ZO,b.lt=tO,b.lte=nO,b.max=BE,b.maxBy=HE,b.mean=VE,b.meanBy=qE,b.min=$E,b.minBy=jE,b.stubArray=Df,b.stubFalse=kf,b.stubObject=IE,b.stubString=ME,b.stubTrue=OE,b.multiply=ZE,b.nth=oI,b.noConflict=CE,b.noop=Af,b.now=yh,b.pad=WO,b.padEnd=UO,b.padStart=GO,b.parseInt=YO,b.random=LO,b.reduce=lM,b.reduceRight=cM,b.repeat=KO,b.replace=QO,b.result=PO,b.round=WE,b.runInContext=k,b.sample=hM,b.size=fM,b.snakeCase=XO,b.some=mM,b.sortedIndex=dI,b.sortedIndexBy=pI,b.sortedIndexOf=fI,b.sortedLastIndex=mI,b.sortedLastIndexBy=_I,b.sortedLastIndexOf=gI,b.startCase=eE,b.startsWith=tE,b.subtract=UE,b.sum=GE,b.sumBy=YE,b.template=nE,b.times=EE,b.toFinite=Eo,b.toInteger=lt,b.toLength=Sg,b.toLower=iE,b.toNumber=Sr,b.toSafeInteger=iO,b.toString=Vt,b.toUpper=rE,b.trim=oE,b.trimEnd=aE,b.trimStart=sE,b.truncate=lE,b.unescape=cE,b.uniqueId=DE,b.upperCase=uE,b.upperFirst=If,b.each=hg,b.eachRight=dg,b.first=sg,Ef(b,function(){var a={};return Xr(b,function(c,d){Tt.call(b.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),b.VERSION=t,Pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),Pi(["drop","take"],function(a,c){ft.prototype[a]=function(d){d=d===e?1:_(lt(d),0);var m=this.__filtered__&&!c?new ft(this):this.clone();return m.__filtered__?m.__takeCount__=C(d,m.__takeCount__):m.__views__.push({size:C(d,Ie),type:a+(m.__dir__<0?"Right":"")}),m},ft.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Pi(["filter","map","takeWhile"],function(a,c){var d=c+1,m=d==ue||d==ae;ft.prototype[a]=function(x){var T=this.clone();return T.__iteratees__.push({iteratee:Le(x,3),type:d}),T.__filtered__=T.__filtered__||m,T}}),Pi(["head","last"],function(a,c){var d="take"+(c?"Right":"");ft.prototype[a]=function(){return this[d](1).value()[0]}}),Pi(["initial","tail"],function(a,c){var d="drop"+(c?"":"Right");ft.prototype[a]=function(){return this.__filtered__?new ft(this):this[d](1)}}),ft.prototype.compact=function(){return this.filter(Zi)},ft.prototype.find=function(a){return this.filter(a).head()},ft.prototype.findLast=function(a){return this.reverse().find(a)},ft.prototype.invokeMap=mt(function(a,c){return typeof a=="function"?new ft(this):this.map(function(d){return Mc(d,a,c)})}),ft.prototype.reject=function(a){return this.filter(Ch(Le(a)))},ft.prototype.slice=function(a,c){a=lt(a);var d=this;return d.__filtered__&&(a>0||c<0)?new ft(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),c!==e&&(c=lt(c),d=c<0?d.dropRight(-c):d.take(c-a)),d)},ft.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ft.prototype.toArray=function(){return this.take(Ie)},Xr(ft.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),x=b[m?"take"+(c=="last"?"Right":""):c],T=m||/^find/.test(c);x&&(b.prototype[c]=function(){var M=this.__wrapped__,A=m?[1]:arguments,N=M instanceof ft,X=A[0],ee=N||rt(M),ie=function(xt){var Ft=x.apply(b,Ar([xt],A));return m&&fe?Ft[0]:Ft};ee&&d&&typeof X=="function"&&X.length!=1&&(N=ee=!1);var fe=this.__chain__,Te=!!this.__actions__.length,Be=T&&!fe,pt=N&&!Te;if(!T&&ee){M=pt?M:new ft(this);var He=a.apply(M,A);return He.__actions__.push({func:gh,args:[ie],thisArg:e}),new gi(He,fe)}return Be&&pt?a.apply(this,A):(He=this.thru(ie),Be?m?He.value()[0]:He.value():He)})}),Pi(["pop","push","shift","sort","splice","unshift"],function(a){var c=Gs[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var x=arguments;if(m&&!this.__chain__){var T=this.value();return c.apply(rt(T)?T:[],x)}return this[d](function(M){return c.apply(rt(M)?M:[],x)})}}),Xr(ft.prototype,function(a,c){var d=b[c];if(d){var m=d.name+"";Tt.call(ir,m)||(ir[m]=[]),ir[m].push({name:c,func:d})}}),ir[uh(e,le).name]=[{name:"wrapper",func:e}],ft.prototype.clone=jp,ft.prototype.reverse=uF,ft.prototype.value=hF,b.prototype.at=HI,b.prototype.chain=VI,b.prototype.commit=qI,b.prototype.next=$I,b.prototype.plant=ZI,b.prototype.reverse=WI,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=UI,b.prototype.first=b.prototype.head,ia&&(b.prototype[ia]=jI),b},nr=ea();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(jn._=nr,define(function(){return nr})):tr?((tr.exports=nr)._=nr,Fi._=nr):jn._=nr}).call(ql)});var Y2=E((jJ,Ud)=>{"use strict";(function(){"use strict";var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA512_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=global:o&&(i=self);var h=!i.JS_SHA512_NO_COMMON_JS&&typeof Ud=="object"&&Ud.exports,f=typeof define=="function"&&define.amd,g=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",v="0123456789abcdef".split(""),P=[-2147483648,8388608,32768,128],I=[24,16,8,0],R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$=["hex","array","digest","arrayBuffer"],V=[],le=Array.isArray;(i.JS_SHA512_NO_NODE_JS||!le)&&(le=function(q){return Object.prototype.toString.call(q)==="[object Array]"});var re=ArrayBuffer.isView;g&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!re)&&(re=function(q){return typeof q=="object"&&q.buffer&&q.buffer.constructor===ArrayBuffer});var xe=function(q){var oe=typeof q;if(oe==="string")return[q,!0];if(oe!=="object"||q===null)throw new Error(e);if(g&&q.constructor===ArrayBuffer)return[new Uint8Array(q),!1];if(!le(q)&&!re(q))throw new Error(e);return[q,!1]},St=function(q,oe){return function(be){return new Se(oe,!0).update(be)[q]()}},st=function(q){var oe=St("hex",q);oe.create=function(){return new Se(q)},oe.update=function(Ge){return oe.create().update(Ge)};for(var be=0;be<$.length;++be){var ue=$[be];oe[ue]=St(ue,q)}return oe},Nt=function(q,oe){return function(be,ue){return new yt(be,oe,!0).update(ue)[q]()}},tt=function(q){var oe=Nt("hex",q);oe.create=function(Ge){return new yt(Ge,q)},oe.update=function(Ge,ae){return oe.create(Ge).update(ae)};for(var be=0;be<$.length;++be){var ue=$[be];oe[ue]=Nt(ue,q)}return oe};function Se(q,oe){oe?(V[0]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=V[16]=V[17]=V[18]=V[19]=V[20]=V[21]=V[22]=V[23]=V[24]=V[25]=V[26]=V[27]=V[28]=V[29]=V[30]=V[31]=V[32]=0,this.blocks=V):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):q==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):q==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=q,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}Se.prototype.update=function(q){if(this.finalized)throw new Error(t);var oe=xe(q);q=oe[0];for(var be=oe[1],ue,Ge=0,ae,Re=q.length,W=this.blocks;Ge<Re;){if(this.hashed&&(this.hashed=!1,W[0]=this.block,this.block=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=W[16]=W[17]=W[18]=W[19]=W[20]=W[21]=W[22]=W[23]=W[24]=W[25]=W[26]=W[27]=W[28]=W[29]=W[30]=W[31]=W[32]=0),be)for(ae=this.start;Ge<Re&&ae<128;++Ge)ue=q.charCodeAt(Ge),ue<128?W[ae>>>2]|=ue<<I[ae++&3]:ue<2048?(W[ae>>>2]|=(192|ue>>>6)<<I[ae++&3],W[ae>>>2]|=(128|ue&63)<<I[ae++&3]):ue<55296||ue>=57344?(W[ae>>>2]|=(224|ue>>>12)<<I[ae++&3],W[ae>>>2]|=(128|ue>>>6&63)<<I[ae++&3],W[ae>>>2]|=(128|ue&63)<<I[ae++&3]):(ue=65536+((ue&1023)<<10|q.charCodeAt(++Ge)&1023),W[ae>>>2]|=(240|ue>>>18)<<I[ae++&3],W[ae>>>2]|=(128|ue>>>12&63)<<I[ae++&3],W[ae>>>2]|=(128|ue>>>6&63)<<I[ae++&3],W[ae>>>2]|=(128|ue&63)<<I[ae++&3]);else for(ae=this.start;Ge<Re&&ae<128;++Ge)W[ae>>>2]|=q[Ge]<<I[ae++&3];this.lastByteIndex=ae,this.bytes+=ae-this.start,ae>=128?(this.block=W[32],this.start=ae-128,this.hash(),this.hashed=!0):this.start=ae}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},Se.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var q=this.blocks,oe=this.lastByteIndex;q[32]=this.block,q[oe>>>2]|=P[oe&3],this.block=q[32],oe>=112&&(this.hashed||this.hash(),q[0]=this.block,q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=q[16]=q[17]=q[18]=q[19]=q[20]=q[21]=q[22]=q[23]=q[24]=q[25]=q[26]=q[27]=q[28]=q[29]=q[30]=q[31]=q[32]=0),q[30]=this.hBytes<<3|this.bytes>>>29,q[31]=this.bytes<<3,this.hash()}},Se.prototype.hash=function(){var q=this.h0h,oe=this.h0l,be=this.h1h,ue=this.h1l,Ge=this.h2h,ae=this.h2l,Re=this.h3h,W=this.h3l,Qe=this.h4h,_e=this.h4l,Ie=this.h5h,dt=this.h5l,Ct=this.h6h,ot=this.h6l,Ne=this.h7h,Me=this.h7l,vt=this.blocks,Oe,pn,Mn,fn,Yt,he,se,ce,Ae,ci,Mr,Ea,pr,Un,fr,mr,Zo,Hn,ii,Fe,Ee,At,Pt,Gn,ri;for(Oe=32;Oe<160;Oe+=2)Fe=vt[Oe-30],Ee=vt[Oe-29],pn=(Fe>>>1|Ee<<31)^(Fe>>>8|Ee<<24)^Fe>>>7,Mn=(Ee>>>1|Fe<<31)^(Ee>>>8|Fe<<24)^(Ee>>>7|Fe<<25),Fe=vt[Oe-4],Ee=vt[Oe-3],fn=(Fe>>>19|Ee<<13)^(Ee>>>29|Fe<<3)^Fe>>>6,Yt=(Ee>>>19|Fe<<13)^(Fe>>>29|Ee<<3)^(Ee>>>6|Fe<<26),Fe=vt[Oe-32],Ee=vt[Oe-31],At=vt[Oe-14],Pt=vt[Oe-13],he=(Pt&65535)+(Ee&65535)+(Mn&65535)+(Yt&65535),se=(Pt>>>16)+(Ee>>>16)+(Mn>>>16)+(Yt>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(pn&65535)+(fn&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(pn>>>16)+(fn>>>16)+(ce>>>16),vt[Oe]=Ae<<16|ce&65535,vt[Oe+1]=se<<16|he&65535;var zn=q,yn=oe,xn=be,Sn=ue,Kt=Ge,Vn=ae,Yn=Re,qn=W,On=Qe,En=_e,Kn=Ie,Qn=dt,Xn=Ct,Jn=ot,$n=Ne,ei=Me;for(mr=xn&Kt,Zo=Sn&Vn,Oe=0;Oe<160;Oe+=8)pn=(zn>>>28|yn<<4)^(yn>>>2|zn<<30)^(yn>>>7|zn<<25),Mn=(yn>>>28|zn<<4)^(zn>>>2|yn<<30)^(zn>>>7|yn<<25),fn=(On>>>14|En<<18)^(On>>>18|En<<14)^(En>>>9|On<<23),Yt=(En>>>14|On<<18)^(En>>>18|On<<14)^(On>>>9|En<<23),ci=zn&xn,Mr=yn&Sn,Hn=ci^zn&Kt^mr,ii=Mr^yn&Vn^Zo,Gn=On&Kn^~On&Xn,ri=En&Qn^~En&Jn,Fe=vt[Oe],Ee=vt[Oe+1],At=R[Oe],Pt=R[Oe+1],he=(Pt&65535)+(Ee&65535)+(ri&65535)+(Yt&65535)+(ei&65535),se=(Pt>>>16)+(Ee>>>16)+(ri>>>16)+(Yt>>>16)+(ei>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(Gn&65535)+(fn&65535)+($n&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(Gn>>>16)+(fn>>>16)+($n>>>16)+(ce>>>16),Fe=Ae<<16|ce&65535,Ee=se<<16|he&65535,he=(ii&65535)+(Mn&65535),se=(ii>>>16)+(Mn>>>16)+(he>>>16),ce=(Hn&65535)+(pn&65535)+(se>>>16),Ae=(Hn>>>16)+(pn>>>16)+(ce>>>16),At=Ae<<16|ce&65535,Pt=se<<16|he&65535,he=(qn&65535)+(Ee&65535),se=(qn>>>16)+(Ee>>>16)+(he>>>16),ce=(Yn&65535)+(Fe&65535)+(se>>>16),Ae=(Yn>>>16)+(Fe>>>16)+(ce>>>16),$n=Ae<<16|ce&65535,ei=se<<16|he&65535,he=(Pt&65535)+(Ee&65535),se=(Pt>>>16)+(Ee>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(ce>>>16),Yn=Ae<<16|ce&65535,qn=se<<16|he&65535,pn=(Yn>>>28|qn<<4)^(qn>>>2|Yn<<30)^(qn>>>7|Yn<<25),Mn=(qn>>>28|Yn<<4)^(Yn>>>2|qn<<30)^(Yn>>>7|qn<<25),fn=($n>>>14|ei<<18)^($n>>>18|ei<<14)^(ei>>>9|$n<<23),Yt=(ei>>>14|$n<<18)^(ei>>>18|$n<<14)^($n>>>9|ei<<23),Ea=Yn&zn,pr=qn&yn,Hn=Ea^Yn&xn^ci,ii=pr^qn&Sn^Mr,Gn=$n&On^~$n&Kn,ri=ei&En^~ei&Qn,Fe=vt[Oe+2],Ee=vt[Oe+3],At=R[Oe+2],Pt=R[Oe+3],he=(Pt&65535)+(Ee&65535)+(ri&65535)+(Yt&65535)+(Jn&65535),se=(Pt>>>16)+(Ee>>>16)+(ri>>>16)+(Yt>>>16)+(Jn>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(Gn&65535)+(fn&65535)+(Xn&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(Gn>>>16)+(fn>>>16)+(Xn>>>16)+(ce>>>16),Fe=Ae<<16|ce&65535,Ee=se<<16|he&65535,he=(ii&65535)+(Mn&65535),se=(ii>>>16)+(Mn>>>16)+(he>>>16),ce=(Hn&65535)+(pn&65535)+(se>>>16),Ae=(Hn>>>16)+(pn>>>16)+(ce>>>16),At=Ae<<16|ce&65535,Pt=se<<16|he&65535,he=(Vn&65535)+(Ee&65535),se=(Vn>>>16)+(Ee>>>16)+(he>>>16),ce=(Kt&65535)+(Fe&65535)+(se>>>16),Ae=(Kt>>>16)+(Fe>>>16)+(ce>>>16),Xn=Ae<<16|ce&65535,Jn=se<<16|he&65535,he=(Pt&65535)+(Ee&65535),se=(Pt>>>16)+(Ee>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(ce>>>16),Kt=Ae<<16|ce&65535,Vn=se<<16|he&65535,pn=(Kt>>>28|Vn<<4)^(Vn>>>2|Kt<<30)^(Vn>>>7|Kt<<25),Mn=(Vn>>>28|Kt<<4)^(Kt>>>2|Vn<<30)^(Kt>>>7|Vn<<25),fn=(Xn>>>14|Jn<<18)^(Xn>>>18|Jn<<14)^(Jn>>>9|Xn<<23),Yt=(Jn>>>14|Xn<<18)^(Jn>>>18|Xn<<14)^(Xn>>>9|Jn<<23),Un=Kt&Yn,fr=Vn&qn,Hn=Un^Kt&zn^Ea,ii=fr^Vn&yn^pr,Gn=Xn&$n^~Xn&On,ri=Jn&ei^~Jn&En,Fe=vt[Oe+4],Ee=vt[Oe+5],At=R[Oe+4],Pt=R[Oe+5],he=(Pt&65535)+(Ee&65535)+(ri&65535)+(Yt&65535)+(Qn&65535),se=(Pt>>>16)+(Ee>>>16)+(ri>>>16)+(Yt>>>16)+(Qn>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(Gn&65535)+(fn&65535)+(Kn&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(Gn>>>16)+(fn>>>16)+(Kn>>>16)+(ce>>>16),Fe=Ae<<16|ce&65535,Ee=se<<16|he&65535,he=(ii&65535)+(Mn&65535),se=(ii>>>16)+(Mn>>>16)+(he>>>16),ce=(Hn&65535)+(pn&65535)+(se>>>16),Ae=(Hn>>>16)+(pn>>>16)+(ce>>>16),At=Ae<<16|ce&65535,Pt=se<<16|he&65535,he=(Sn&65535)+(Ee&65535),se=(Sn>>>16)+(Ee>>>16)+(he>>>16),ce=(xn&65535)+(Fe&65535)+(se>>>16),Ae=(xn>>>16)+(Fe>>>16)+(ce>>>16),Kn=Ae<<16|ce&65535,Qn=se<<16|he&65535,he=(Pt&65535)+(Ee&65535),se=(Pt>>>16)+(Ee>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(ce>>>16),xn=Ae<<16|ce&65535,Sn=se<<16|he&65535,pn=(xn>>>28|Sn<<4)^(Sn>>>2|xn<<30)^(Sn>>>7|xn<<25),Mn=(Sn>>>28|xn<<4)^(xn>>>2|Sn<<30)^(xn>>>7|Sn<<25),fn=(Kn>>>14|Qn<<18)^(Kn>>>18|Qn<<14)^(Qn>>>9|Kn<<23),Yt=(Qn>>>14|Kn<<18)^(Qn>>>18|Kn<<14)^(Kn>>>9|Qn<<23),mr=xn&Kt,Zo=Sn&Vn,Hn=mr^xn&Yn^Un,ii=Zo^Sn&qn^fr,Gn=Kn&Xn^~Kn&$n,ri=Qn&Jn^~Qn&ei,Fe=vt[Oe+6],Ee=vt[Oe+7],At=R[Oe+6],Pt=R[Oe+7],he=(Pt&65535)+(Ee&65535)+(ri&65535)+(Yt&65535)+(En&65535),se=(Pt>>>16)+(Ee>>>16)+(ri>>>16)+(Yt>>>16)+(En>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(Gn&65535)+(fn&65535)+(On&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(Gn>>>16)+(fn>>>16)+(On>>>16)+(ce>>>16),Fe=Ae<<16|ce&65535,Ee=se<<16|he&65535,he=(ii&65535)+(Mn&65535),se=(ii>>>16)+(Mn>>>16)+(he>>>16),ce=(Hn&65535)+(pn&65535)+(se>>>16),Ae=(Hn>>>16)+(pn>>>16)+(ce>>>16),At=Ae<<16|ce&65535,Pt=se<<16|he&65535,he=(yn&65535)+(Ee&65535),se=(yn>>>16)+(Ee>>>16)+(he>>>16),ce=(zn&65535)+(Fe&65535)+(se>>>16),Ae=(zn>>>16)+(Fe>>>16)+(ce>>>16),On=Ae<<16|ce&65535,En=se<<16|he&65535,he=(Pt&65535)+(Ee&65535),se=(Pt>>>16)+(Ee>>>16)+(he>>>16),ce=(At&65535)+(Fe&65535)+(se>>>16),Ae=(At>>>16)+(Fe>>>16)+(ce>>>16),zn=Ae<<16|ce&65535,yn=se<<16|he&65535;he=(oe&65535)+(yn&65535),se=(oe>>>16)+(yn>>>16)+(he>>>16),ce=(q&65535)+(zn&65535)+(se>>>16),Ae=(q>>>16)+(zn>>>16)+(ce>>>16),this.h0h=Ae<<16|ce&65535,this.h0l=se<<16|he&65535,he=(ue&65535)+(Sn&65535),se=(ue>>>16)+(Sn>>>16)+(he>>>16),ce=(be&65535)+(xn&65535)+(se>>>16),Ae=(be>>>16)+(xn>>>16)+(ce>>>16),this.h1h=Ae<<16|ce&65535,this.h1l=se<<16|he&65535,he=(ae&65535)+(Vn&65535),se=(ae>>>16)+(Vn>>>16)+(he>>>16),ce=(Ge&65535)+(Kt&65535)+(se>>>16),Ae=(Ge>>>16)+(Kt>>>16)+(ce>>>16),this.h2h=Ae<<16|ce&65535,this.h2l=se<<16|he&65535,he=(W&65535)+(qn&65535),se=(W>>>16)+(qn>>>16)+(he>>>16),ce=(Re&65535)+(Yn&65535)+(se>>>16),Ae=(Re>>>16)+(Yn>>>16)+(ce>>>16),this.h3h=Ae<<16|ce&65535,this.h3l=se<<16|he&65535,he=(_e&65535)+(En&65535),se=(_e>>>16)+(En>>>16)+(he>>>16),ce=(Qe&65535)+(On&65535)+(se>>>16),Ae=(Qe>>>16)+(On>>>16)+(ce>>>16),this.h4h=Ae<<16|ce&65535,this.h4l=se<<16|he&65535,he=(dt&65535)+(Qn&65535),se=(dt>>>16)+(Qn>>>16)+(he>>>16),ce=(Ie&65535)+(Kn&65535)+(se>>>16),Ae=(Ie>>>16)+(Kn>>>16)+(ce>>>16),this.h5h=Ae<<16|ce&65535,this.h5l=se<<16|he&65535,he=(ot&65535)+(Jn&65535),se=(ot>>>16)+(Jn>>>16)+(he>>>16),ce=(Ct&65535)+(Xn&65535)+(se>>>16),Ae=(Ct>>>16)+(Xn>>>16)+(ce>>>16),this.h6h=Ae<<16|ce&65535,this.h6l=se<<16|he&65535,he=(Me&65535)+(ei&65535),se=(Me>>>16)+(ei>>>16)+(he>>>16),ce=(Ne&65535)+($n&65535)+(se>>>16),Ae=(Ne>>>16)+($n>>>16)+(ce>>>16),this.h7h=Ae<<16|ce&65535,this.h7l=se<<16|he&65535},Se.prototype.hex=function(){this.finalize();var q=this.h0h,oe=this.h0l,be=this.h1h,ue=this.h1l,Ge=this.h2h,ae=this.h2l,Re=this.h3h,W=this.h3l,Qe=this.h4h,_e=this.h4l,Ie=this.h5h,dt=this.h5l,Ct=this.h6h,ot=this.h6l,Ne=this.h7h,Me=this.h7l,vt=this.bits,Oe=v[q>>>28&15]+v[q>>>24&15]+v[q>>>20&15]+v[q>>>16&15]+v[q>>>12&15]+v[q>>>8&15]+v[q>>>4&15]+v[q&15]+v[oe>>>28&15]+v[oe>>>24&15]+v[oe>>>20&15]+v[oe>>>16&15]+v[oe>>>12&15]+v[oe>>>8&15]+v[oe>>>4&15]+v[oe&15]+v[be>>>28&15]+v[be>>>24&15]+v[be>>>20&15]+v[be>>>16&15]+v[be>>>12&15]+v[be>>>8&15]+v[be>>>4&15]+v[be&15]+v[ue>>>28&15]+v[ue>>>24&15]+v[ue>>>20&15]+v[ue>>>16&15]+v[ue>>>12&15]+v[ue>>>8&15]+v[ue>>>4&15]+v[ue&15]+v[Ge>>>28&15]+v[Ge>>>24&15]+v[Ge>>>20&15]+v[Ge>>>16&15]+v[Ge>>>12&15]+v[Ge>>>8&15]+v[Ge>>>4&15]+v[Ge&15]+v[ae>>>28&15]+v[ae>>>24&15]+v[ae>>>20&15]+v[ae>>>16&15]+v[ae>>>12&15]+v[ae>>>8&15]+v[ae>>>4&15]+v[ae&15]+v[Re>>>28&15]+v[Re>>>24&15]+v[Re>>>20&15]+v[Re>>>16&15]+v[Re>>>12&15]+v[Re>>>8&15]+v[Re>>>4&15]+v[Re&15];return vt>=256&&(Oe+=v[W>>>28&15]+v[W>>>24&15]+v[W>>>20&15]+v[W>>>16&15]+v[W>>>12&15]+v[W>>>8&15]+v[W>>>4&15]+v[W&15]),vt>=384&&(Oe+=v[Qe>>>28&15]+v[Qe>>>24&15]+v[Qe>>>20&15]+v[Qe>>>16&15]+v[Qe>>>12&15]+v[Qe>>>8&15]+v[Qe>>>4&15]+v[Qe&15]+v[_e>>>28&15]+v[_e>>>24&15]+v[_e>>>20&15]+v[_e>>>16&15]+v[_e>>>12&15]+v[_e>>>8&15]+v[_e>>>4&15]+v[_e&15]+v[Ie>>>28&15]+v[Ie>>>24&15]+v[Ie>>>20&15]+v[Ie>>>16&15]+v[Ie>>>12&15]+v[Ie>>>8&15]+v[Ie>>>4&15]+v[Ie&15]+v[dt>>>28&15]+v[dt>>>24&15]+v[dt>>>20&15]+v[dt>>>16&15]+v[dt>>>12&15]+v[dt>>>8&15]+v[dt>>>4&15]+v[dt&15]),vt==512&&(Oe+=v[Ct>>>28&15]+v[Ct>>>24&15]+v[Ct>>>20&15]+v[Ct>>>16&15]+v[Ct>>>12&15]+v[Ct>>>8&15]+v[Ct>>>4&15]+v[Ct&15]+v[ot>>>28&15]+v[ot>>>24&15]+v[ot>>>20&15]+v[ot>>>16&15]+v[ot>>>12&15]+v[ot>>>8&15]+v[ot>>>4&15]+v[ot&15]+v[Ne>>>28&15]+v[Ne>>>24&15]+v[Ne>>>20&15]+v[Ne>>>16&15]+v[Ne>>>12&15]+v[Ne>>>8&15]+v[Ne>>>4&15]+v[Ne&15]+v[Me>>>28&15]+v[Me>>>24&15]+v[Me>>>20&15]+v[Me>>>16&15]+v[Me>>>12&15]+v[Me>>>8&15]+v[Me>>>4&15]+v[Me&15]),Oe},Se.prototype.toString=Se.prototype.hex,Se.prototype.digest=function(){this.finalize();var q=this.h0h,oe=this.h0l,be=this.h1h,ue=this.h1l,Ge=this.h2h,ae=this.h2l,Re=this.h3h,W=this.h3l,Qe=this.h4h,_e=this.h4l,Ie=this.h5h,dt=this.h5l,Ct=this.h6h,ot=this.h6l,Ne=this.h7h,Me=this.h7l,vt=this.bits,Oe=[q>>>24&255,q>>>16&255,q>>>8&255,q&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255,be>>>24&255,be>>>16&255,be>>>8&255,be&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,Ge>>>24&255,Ge>>>16&255,Ge>>>8&255,Ge&255,ae>>>24&255,ae>>>16&255,ae>>>8&255,ae&255,Re>>>24&255,Re>>>16&255,Re>>>8&255,Re&255];return vt>=256&&Oe.push(W>>>24&255,W>>>16&255,W>>>8&255,W&255),vt>=384&&Oe.push(Qe>>>24&255,Qe>>>16&255,Qe>>>8&255,Qe&255,_e>>>24&255,_e>>>16&255,_e>>>8&255,_e&255,Ie>>>24&255,Ie>>>16&255,Ie>>>8&255,Ie&255,dt>>>24&255,dt>>>16&255,dt>>>8&255,dt&255),vt==512&&Oe.push(Ct>>>24&255,Ct>>>16&255,Ct>>>8&255,Ct&255,ot>>>24&255,ot>>>16&255,ot>>>8&255,ot&255,Ne>>>24&255,Ne>>>16&255,Ne>>>8&255,Ne&255,Me>>>24&255,Me>>>16&255,Me>>>8&255,Me&255),Oe},Se.prototype.array=Se.prototype.digest,Se.prototype.arrayBuffer=function(){this.finalize();var q=this.bits,oe=new ArrayBuffer(q/8),be=new DataView(oe);return be.setUint32(0,this.h0h),be.setUint32(4,this.h0l),be.setUint32(8,this.h1h),be.setUint32(12,this.h1l),be.setUint32(16,this.h2h),be.setUint32(20,this.h2l),be.setUint32(24,this.h3h),q>=256&&be.setUint32(28,this.h3l),q>=384&&(be.setUint32(32,this.h4h),be.setUint32(36,this.h4l),be.setUint32(40,this.h5h),be.setUint32(44,this.h5l)),q==512&&(be.setUint32(48,this.h6h),be.setUint32(52,this.h6l),be.setUint32(56,this.h7h),be.setUint32(60,this.h7l)),oe},Se.prototype.clone=function(){var q=new Se(this.bits,!1);return this.copyTo(q),q},Se.prototype.copyTo=function(q){var oe=0,be=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(oe=0;oe<be.length;++oe)q[be[oe]]=this[be[oe]];for(oe=0;oe<this.blocks.length;++oe)q.blocks[oe]=this.blocks[oe]};function yt(q,oe,be){var ue,Ge=xe(q);if(q=Ge[0],Ge[1]){for(var ae=[],Re=q.length,W=0,Qe,ue=0;ue<Re;++ue)Qe=q.charCodeAt(ue),Qe<128?ae[W++]=Qe:Qe<2048?(ae[W++]=192|Qe>>>6,ae[W++]=128|Qe&63):Qe<55296||Qe>=57344?(ae[W++]=224|Qe>>>12,ae[W++]=128|Qe>>>6&63,ae[W++]=128|Qe&63):(Qe=65536+((Qe&1023)<<10|q.charCodeAt(++ue)&1023),ae[W++]=240|Qe>>>18,ae[W++]=128|Qe>>>12&63,ae[W++]=128|Qe>>>6&63,ae[W++]=128|Qe&63);q=ae}q.length>128&&(q=new Se(oe,!0).update(q).array());for(var _e=[],Ie=[],ue=0;ue<128;++ue){var dt=q[ue]||0;_e[ue]=92^dt,Ie[ue]=54^dt}Se.call(this,oe,be),this.update(Ie),this.oKeyPad=_e,this.inner=!0,this.sharedMemory=be}yt.prototype=new Se,yt.prototype.finalize=function(){if(Se.prototype.finalize.call(this),this.inner){this.inner=!1;var q=this.array();Se.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(q),Se.prototype.finalize.call(this)}},yt.prototype.clone=function(){var q=new yt([],this.bits,!1);this.copyTo(q),q.inner=this.inner;for(var oe=0;oe<this.oKeyPad.length;++oe)q.oKeyPad[oe]=this.oKeyPad[oe];return q};var Zt=st(512);Zt.sha512=Zt,Zt.sha384=st(384),Zt.sha512_256=st(256),Zt.sha512_224=st(224),Zt.sha512.hmac=tt(512),Zt.sha384.hmac=tt(384),Zt.sha512_256.hmac=tt(256),Zt.sha512_224.hmac=tt(224),h?Ud.exports=Zt:(i.sha512=Zt.sha512,i.sha384=Zt.sha384,i.sha512_256=Zt.sha512_256,i.sha512_224=Zt.sha512_224,f&&define(function(){return Zt}))})()});var ap=E((op,_T)=>{"use strict";(function(e,t){typeof op=="object"&&typeof _T<"u"?t(op):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.leaflet={}))})(op,function(e){"use strict";var t="1.9.4";function n(r){var l,u,p,_;for(u=1,p=arguments.length;u<p;u++){_=arguments[u];for(l in _)r[l]=_[l]}return r}var i=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function o(r,l){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var p=u.call(arguments,2);return function(){return r.apply(l,p.length?p.concat(u.call(arguments)):arguments)}}var s=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++s),r._leaflet_id}function f(r,l,u){var p,_,C,O;return O=function(){p=!1,_&&(C.apply(u,_),_=!1)},C=function(){p?_=arguments:(r.apply(u,arguments),setTimeout(O,l),p=!0)},C}function g(r,l,u){var p=l[1],_=l[0],C=p-_;return r===p&&u?r:((r-_)%C+C)%C+_}function v(){return!1}function P(r,l){if(l===!1)return r;var u=Math.pow(10,l===void 0?6:l);return Math.round(r*u)/u}function I(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function R(r){return I(r).split(/\s+/)}function $(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?i(r.options):{});for(var u in l)r.options[u]=l[u];return r.options}function V(r,l,u){var p=[];for(var _ in r)p.push(encodeURIComponent(u?_.toUpperCase():_)+"="+encodeURIComponent(r[_]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var le=/\{ *([\w_ -]+) *\}/g;function re(r,l){return r.replace(le,function(u,p){var _=l[p];if(_===void 0)throw new Error("No value provided for variable "+u);return typeof _=="function"&&(_=_(l)),_})}var xe=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function St(r,l){for(var u=0;u<r.length;u++)if(r[u]===l)return u;return-1}var st="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var tt=0;function Se(r){var l=+new Date,u=Math.max(0,16-(l-tt));return tt=l+u,window.setTimeout(r,u)}var yt=window.requestAnimationFrame||Nt("RequestAnimationFrame")||Se,Zt=window.cancelAnimationFrame||Nt("CancelAnimationFrame")||Nt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function q(r,l,u){if(u&&yt===Se)r.call(l);else return yt.call(window,o(r,l))}function oe(r){r&&Zt.call(window,r)}var be={__proto__:null,extend:n,create:i,bind:o,get lastId(){return s},stamp:h,throttle:f,wrapNum:g,falseFn:v,formatNum:P,trim:I,splitWords:R,setOptions:$,getParamString:V,template:re,isArray:xe,indexOf:St,emptyImageUrl:st,requestFn:yt,cancelFn:Zt,requestAnimFrame:q,cancelAnimFrame:oe};function ue(){}ue.extend=function(r){var l=function(){$(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=l.__super__=this.prototype,p=i(u);p.constructor=l,l.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return r.statics&&n(l,r.statics),r.includes&&(Ge(r.includes),n.apply(null,[p].concat(r.includes))),n(p,r),delete p.statics,delete p.includes,p.options&&(p.options=u.options?i(u.options):{},n(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,O=p._initHooks.length;C<O;C++)p._initHooks[C].call(this)}},l},ue.include=function(r){var l=this.prototype.options;return n(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},ue.mergeOptions=function(r){return n(this.prototype.options,r),this},ue.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Ge(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=xe(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(r,l,u){if(typeof r=="object")for(var p in r)this._on(p,r[p],l);else{r=R(r);for(var _=0,C=r.length;_<C;_++)this._on(r[_],l,u)}return this},off:function(r,l,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],l);else{r=R(r);for(var _=arguments.length===1,C=0,O=r.length;C<O;C++)_?this._off(r[C]):this._off(r[C],l,u)}return this},_on:function(r,l,u,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,u)===!1){u===this&&(u=void 0);var _={fn:l,ctx:u};p&&(_.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(_)}},_off:function(r,l,u){var p,_,C;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,C=p.length;_<C;_++)p[_].fn=v;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var O=this._listens(r,l,u);if(O!==!1){var B=p[O];this._firingCount&&(B.fn=v,this._events[r]=p=p.slice()),p.splice(O,1)}}},fire:function(r,l,u){if(!this.listens(r,u))return this;var p=n({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[r];if(_){this._firingCount=this._firingCount+1||1;for(var C=0,O=_.length;C<O;C++){var B=_[C],j=B.fn;B.once&&this.off(r,j,B.ctx),j.call(B.ctx||this,p)}this._firingCount--}}return u&&this._propagateEvent(p),this},listens:function(r,l,u,p){typeof r!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(p=!!l,_=void 0,u=void 0);var C=this._events&&this._events[r];if(C&&C.length&&this._listens(r,_,u)!==!1)return!0;if(p){for(var O in this._eventParents)if(this._eventParents[O].listens(r,l,u,p))return!0}return!1},_listens:function(r,l,u){if(!this._events)return!1;var p=this._events[r]||[];if(!l)return!!p.length;u===this&&(u=void 0);for(var _=0,C=p.length;_<C;_++)if(p[_].fn===l&&p[_].ctx===u)return _;return!1},once:function(r,l,u){if(typeof r=="object")for(var p in r)this._on(p,r[p],l,!0);else{r=R(r);for(var _=0,C=r.length;_<C;_++)this._on(r[_],l,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,n({layer:r.target,propagatedFrom:r.target},r),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var Re=ue.extend(ae);function W(r,l,u){this.x=u?Math.round(r):r,this.y=u?Math.round(l):l}var Qe=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(r){return this.clone()._add(_e(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(_e(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new W(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new W(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qe(this.x),this.y=Qe(this.y),this},distanceTo:function(r){r=_e(r);var l=r.x-this.x,u=r.y-this.y;return Math.sqrt(l*l+u*u)},equals:function(r){return r=_e(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=_e(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function _e(r,l,u){return r instanceof W?r:xe(r)?new W(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new W(r.x,r.y):new W(r,l,u)}function Ie(r,l){if(r)for(var u=l?[r,l]:r,p=0,_=u.length;p<_;p++)this.extend(u[p])}Ie.prototype={extend:function(r){var l,u;if(!r)return this;if(r instanceof W||typeof r[0]=="number"||"x"in r)l=u=_e(r);else if(r=dt(r),l=r.min,u=r.max,!l||!u)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=u.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return _e((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return _e(this.min.x,this.max.y)},getTopRight:function(){return _e(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,u;return typeof r[0]=="number"||r instanceof W?r=_e(r):r=dt(r),r instanceof Ie?(l=r.min,u=r.max):l=u=r,l.x>=this.min.x&&u.x<=this.max.x&&l.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=dt(r);var l=this.min,u=this.max,p=r.min,_=r.max,C=_.x>=l.x&&p.x<=u.x,O=_.y>=l.y&&p.y<=u.y;return C&&O},overlaps:function(r){r=dt(r);var l=this.min,u=this.max,p=r.min,_=r.max,C=_.x>l.x&&p.x<u.x,O=_.y>l.y&&p.y<u.y;return C&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,u=this.max,p=Math.abs(l.x-u.x)*r,_=Math.abs(l.y-u.y)*r;return dt(_e(l.x-p,l.y-_),_e(u.x+p,u.y+_))},equals:function(r){return r?(r=dt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function dt(r,l){return!r||r instanceof Ie?r:new Ie(r,l)}function Ct(r,l){if(r)for(var u=l?[r,l]:r,p=0,_=u.length;p<_;p++)this.extend(u[p])}Ct.prototype={extend:function(r){var l=this._southWest,u=this._northEast,p,_;if(r instanceof Ne)p=r,_=r;else if(r instanceof Ct){if(p=r._southWest,_=r._northEast,!p||!_)return this}else return r?this.extend(Me(r)||ot(r)):this;return!l&&!u?(this._southWest=new Ne(p.lat,p.lng),this._northEast=new Ne(_.lat,_.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),u.lat=Math.max(_.lat,u.lat),u.lng=Math.max(_.lng,u.lng)),this},pad:function(r){var l=this._southWest,u=this._northEast,p=Math.abs(l.lat-u.lat)*r,_=Math.abs(l.lng-u.lng)*r;return new Ct(new Ne(l.lat-p,l.lng-_),new Ne(u.lat+p,u.lng+_))},getCenter:function(){return new Ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ne||"lat"in r?r=Me(r):r=ot(r);var l=this._southWest,u=this._northEast,p,_;return r instanceof Ct?(p=r.getSouthWest(),_=r.getNorthEast()):p=_=r,p.lat>=l.lat&&_.lat<=u.lat&&p.lng>=l.lng&&_.lng<=u.lng},intersects:function(r){r=ot(r);var l=this._southWest,u=this._northEast,p=r.getSouthWest(),_=r.getNorthEast(),C=_.lat>=l.lat&&p.lat<=u.lat,O=_.lng>=l.lng&&p.lng<=u.lng;return C&&O},overlaps:function(r){r=ot(r);var l=this._southWest,u=this._northEast,p=r.getSouthWest(),_=r.getNorthEast(),C=_.lat>l.lat&&p.lat<u.lat,O=_.lng>l.lng&&p.lng<u.lng;return C&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=ot(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(r,l){return r instanceof Ct?r:new Ct(r,l)}function Ne(r,l,u){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,u!==void 0&&(this.alt=+u)}Ne.prototype={equals:function(r,l){if(!r)return!1;r=Me(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+P(this.lat,r)+", "+P(this.lng,r)+")"},distanceTo:function(r){return Oe.distance(this,Me(r))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,u=l/Math.cos(Math.PI/180*this.lat);return ot([this.lat-l,this.lng-u],[this.lat+l,this.lng+u])},clone:function(){return new Ne(this.lat,this.lng,this.alt)}};function Me(r,l,u){return r instanceof Ne?r:xe(r)&&typeof r[0]!="object"?r.length===3?new Ne(r[0],r[1],r[2]):r.length===2?new Ne(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ne(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new Ne(r,l,u)}var vt={latLngToPoint:function(r,l){var u=this.projection.project(r),p=this.scale(l);return this.transformation._transform(u,p)},pointToLatLng:function(r,l){var u=this.scale(l),p=this.transformation.untransform(r,u);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,u=this.scale(r),p=this.transformation.transform(l.min,u),_=this.transformation.transform(l.max,u);return new Ie(p,_)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?g(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?g(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new Ne(u,l,p)},wrapLatLngBounds:function(r){var l=r.getCenter(),u=this.wrapLatLng(l),p=l.lat-u.lat,_=l.lng-u.lng;if(p===0&&_===0)return r;var C=r.getSouthWest(),O=r.getNorthEast(),B=new Ne(C.lat-p,C.lng-_),j=new Ne(O.lat-p,O.lng-_);return new Ct(B,j)}},Oe=n({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var u=Math.PI/180,p=r.lat*u,_=l.lat*u,C=Math.sin((l.lat-r.lat)*u/2),O=Math.sin((l.lng-r.lng)*u/2),B=C*C+Math.cos(p)*Math.cos(_)*O*O,j=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*j}}),pn=6378137,Mn={R:pn,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,u=this.MAX_LATITUDE,p=Math.max(Math.min(u,r.lat),-u),_=Math.sin(p*l);return new W(this.R*r.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(r){var l=180/Math.PI;return new Ne((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=pn*Math.PI;return new Ie([-r,-r],[r,r])}()};function fn(r,l,u,p){if(xe(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=u,this._d=p}fn.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new W((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Yt(r,l,u,p){return new fn(r,l,u,p)}var he=n({},Oe,{code:"EPSG:3857",projection:Mn,transformation:function(){var r=.5/(Math.PI*Mn.R);return Yt(r,.5,-r,.5)}()}),se=n({},he,{code:"EPSG:900913"});function ce(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ae(r,l){var u="",p,_,C,O,B,j;for(p=0,C=r.length;p<C;p++){for(B=r[p],_=0,O=B.length;_<O;_++)j=B[_],u+=(_?"L":"M")+j.x+" "+j.y;u+=l?Pe.svg?"z":"x":""}return u||"M0 0"}var ci=document.documentElement.style,Mr="ActiveXObject"in window,Ea=Mr&&!document.addEventListener,pr="msLaunchUri"in navigator&&!("documentMode"in document),Un=_r("webkit"),fr=_r("android"),mr=_r("android 2")||_r("android 3"),Zo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hn=fr&&_r("Google")&&Zo<537&&!("AudioNode"in window),ii=!!window.opera,Fe=!pr&&_r("chrome"),Ee=_r("gecko")&&!Un&&!ii&&!Mr,At=!Fe&&_r("safari"),Pt=_r("phantom"),Gn="OTransition"in ci,ri=navigator.platform.indexOf("Win")===0,zn=Mr&&"transition"in ci,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mr,xn="MozPerspective"in ci,Sn=!window.L_DISABLE_3D&&(zn||yn||xn)&&!Gn&&!Pt,Kt=typeof orientation<"u"||_r("mobile"),Vn=Kt&&Un,Yn=Kt&&yn,qn=!window.PointerEvent&&window.MSPointerEvent,On=!!(window.PointerEvent||qn),En="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(En||On),Qn=Kt&&ii,Xn=Kt&&Ee,Jn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$n=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",v,l),window.removeEventListener("testPassiveEventSupport",v,l)}catch{}return r}(),ei=function(){return!!document.createElement("canvas").getContext}(),Xl=!!(document.createElementNS&&ce("svg").createSVGRect),xp=!!Xl&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jl=!Xl&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Cp=navigator.platform.indexOf("Mac")===0,ec=navigator.platform.indexOf("Linux")===0;function _r(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Pe={ie:Mr,ielt9:Ea,edge:pr,webkit:Un,android:fr,android23:mr,androidStock:Hn,opera:ii,chrome:Fe,gecko:Ee,safari:At,phantom:Pt,opera12:Gn,win:ri,ie3d:zn,webkit3d:yn,gecko3d:xn,any3d:Sn,mobile:Kt,mobileWebkit:Vn,mobileWebkit3d:Yn,msPointer:qn,pointer:On,touch:Kn,touchNative:En,mobileOpera:Qn,mobileGecko:Xn,retina:Jn,passiveEvents:$n,canvas:ei,svg:Xl,vml:Jl,inlineSvg:xp,mac:Cp,linux:ec},zu=Pe.msPointer?"MSPointerDown":"pointerdown",Su=Pe.msPointer?"MSPointerMove":"pointermove",Tu=Pe.msPointer?"MSPointerUp":"pointerup",Fu=Pe.msPointer?"MSPointerCancel":"pointercancel",tc={touchstart:zu,touchmove:Su,touchend:Tu,touchcancel:Fu},Pu={touchstart:Os,touchmove:Ms,touchend:Ms,touchcancel:Ms},vo={},Iu=!1;function bp(r,l,u){return l==="touchstart"&&Is(),Pu[l]?(u=Pu[l].bind(this,u),r.addEventListener(tc[l],u,!1),u):(console.warn("wrong event specified:",l),v)}function wp(r,l,u){if(!tc[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(tc[l],u,!1)}function zp(r){vo[r.pointerId]=r}function Sp(r){vo[r.pointerId]&&(vo[r.pointerId]=r)}function Mu(r){delete vo[r.pointerId]}function Is(){Iu||(document.addEventListener(zu,zp,!0),document.addEventListener(Su,Sp,!0),document.addEventListener(Tu,Mu,!0),document.addEventListener(Fu,Mu,!0),Iu=!0)}function Ms(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var u in vo)l.touches.push(vo[u]);l.changedTouches=[l],r(l)}}function Os(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&it(l),Ms(r,l)}function Tp(r){var l={},u,p;for(p in r)u=r[p],l[p]=u&&u.bind?u.bind(r):u;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fp=200;function Pp(r,l){r.addEventListener("dblclick",l);var u=0,p;function _(C){if(C.detail!==1){p=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var O=Lu(C);if(!(O.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!O.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var B=Date.now();B-u<=Fp?(p++,p===2&&l(Tp(C))):p=1,u=B}}}return r.addEventListener("click",_),{dblclick:l,simDblclick:_}}function Ou(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var Es=Uo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wo=Uo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Eu=Wo==="webkitTransition"||Wo==="OTransition"?Wo+"End":"transitionend";function Au(r){return typeof r=="string"?document.getElementById(r):r}function Aa(r,l){var u=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!u||u==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);u=p?p[l]:null}return u==="auto"?null:u}function It(r,l,u){var p=document.createElement(r);return p.className=l||"",u&&u.appendChild(p),p}function Qt(r){var l=r.parentNode;l&&l.removeChild(r)}function Da(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function yo(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function Zr(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function nc(r,l){if(r.classList!==void 0)return r.classList.contains(l);var u=Ds(r);return u.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(u)}function nt(r,l){if(r.classList!==void 0)for(var u=R(l),p=0,_=u.length;p<_;p++)r.classList.add(u[p]);else if(!nc(r,l)){var C=Ds(r);As(r,(C?C+" ":"")+l)}}function Xt(r,l){r.classList!==void 0?r.classList.remove(l):As(r,I((" "+Ds(r)+" ").replace(" "+l+" "," ")))}function As(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function Ds(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ti(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Du(r,l)}function Du(r,l){var u=!1,p="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),u?(u.Enabled=l!==100,u.Opacity=l):r.style.filter+=" progid:"+p+"(opacity="+l+")"}function Uo(r){for(var l=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in l)return r[u];return!1}function xo(r,l,u){var p=l||new W(0,0);r.style[Es]=(Pe.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(u?" scale("+u+")":"")}function Cn(r,l){r._leaflet_pos=l,Pe.any3d?xo(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Or(r){return r._leaflet_pos||new W(0,0)}var Co,gr,ks;if("onselectstart"in document)Co=function(){Xe(window,"selectstart",it)},gr=function(){Wt(window,"selectstart",it)};else{var Go=Uo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Co=function(){if(Go){var r=document.documentElement.style;ks=r[Go],r[Go]="none"}},gr=function(){Go&&(document.documentElement.style[Go]=ks,ks=void 0)}}function ic(){Xe(window,"dragstart",it)}function Ns(){Wt(window,"dragstart",it)}var ka,Rs;function Ls(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Bs(),ka=r,Rs=r.style.outlineStyle,r.style.outlineStyle="none",Xe(window,"keydown",Bs))}function Bs(){ka&&(ka.style.outlineStyle=Rs,ka=void 0,Rs=void 0,Wt(window,"keydown",Bs))}function ku(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function rc(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Nu={__proto__:null,TRANSFORM:Es,TRANSITION:Wo,TRANSITION_END:Eu,get:Au,getStyle:Aa,create:It,remove:Qt,empty:Da,toFront:yo,toBack:Zr,hasClass:nc,addClass:nt,removeClass:Xt,setClass:As,getClass:Ds,setOpacity:Ti,testProp:Uo,setTransform:xo,setPosition:Cn,getPosition:Or,get disableTextSelection(){return Co},get enableTextSelection(){return gr},disableImageDrag:ic,enableImageDrag:Ns,preventOutline:Ls,restoreOutline:Bs,getSizedParentNode:ku,getScale:rc};function Xe(r,l,u,p){if(l&&typeof l=="object")for(var _ in l)oc(r,_,l[_],u);else{l=R(l);for(var C=0,O=l.length;C<O;C++)oc(r,l[C],u,p)}return this}var vr="_leaflet_events";function Wt(r,l,u,p){if(arguments.length===1)Ru(r),delete r[vr];else if(l&&typeof l=="object")for(var _ in l)ac(r,_,l[_],u);else if(l=R(l),arguments.length===2)Ru(r,function(B){return St(l,B)!==-1});else for(var C=0,O=l.length;C<O;C++)ac(r,l[C],u,p);return this}function Ru(r,l){for(var u in r[vr]){var p=u.split(/\d/)[0];(!l||l(p))&&ac(r,p,null,null,u)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oc(r,l,u,p){var _=l+h(u)+(p?"_"+h(p):"");if(r[vr]&&r[vr][_])return this;var C=function(B){return u.call(p||r,B||window.event)},O=C;!Pe.touchNative&&Pe.pointer&&l.indexOf("touch")===0?C=bp(r,l,C):Pe.touch&&l==="dblclick"?C=Pp(r,C):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(Na[l]||l,C,Pe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(C=function(B){B=B||window.event,lc(r,B)&&O(B)},r.addEventListener(Na[l],C,!1)):r.addEventListener(l,O,!1):r.attachEvent("on"+l,C),r[vr]=r[vr]||{},r[vr][_]=C}function ac(r,l,u,p,_){_=_||l+h(u)+(p?"_"+h(p):"");var C=r[vr]&&r[vr][_];if(!C)return this;!Pe.touchNative&&Pe.pointer&&l.indexOf("touch")===0?wp(r,l,C):Pe.touch&&l==="dblclick"?Ou(r,C):"removeEventListener"in r?r.removeEventListener(Na[l]||l,C,!1):r.detachEvent("on"+l,C),r[vr][_]=null}function bo(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function sc(r){return oc(r,"wheel",bo),this}function Ra(r){return Xe(r,"mousedown touchstart dblclick contextmenu",bo),r._leaflet_disable_click=!0,this}function it(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Mt(r){return it(r),bo(r),this}function Lu(r){if(r.composedPath)return r.composedPath();for(var l=[],u=r.target;u;)l.push(u),u=u.parentNode;return l}function Bu(r,l){if(!l)return new W(r.clientX,r.clientY);var u=rc(l),p=u.boundingClientRect;return new W((r.clientX-p.left)/u.x-l.clientLeft,(r.clientY-p.top)/u.y-l.clientTop)}var Ip=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hu(r){return Pe.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ip:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function lc(r,l){var u=l.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var Mp={__proto__:null,on:Xe,off:Wt,stopPropagation:bo,disableScrollPropagation:sc,disableClickPropagation:Ra,preventDefault:it,stop:Mt,getPropagationPath:Lu,getMousePosition:Bu,getWheelDelta:Hu,isExternalTarget:lc,addListener:Xe,removeListener:Wt},cc=Re.extend({run:function(r,l,u,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Or(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,u=this._duration*1e3;l<u?this._runFrame(this._easeOut(l/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var u=this._startPos.add(this._offset.multiplyBy(r));l&&u._round(),Cn(this._el,u),this.fire("step")},_complete:function(){oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),bt=Re.extend({options:{crs:he,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=$(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Me(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wo&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xe(this._proxy,Eu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,u){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(Me(r),l,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=n({animate:u.animate},u.zoom),u.pan=n({animate:u.animate,duration:u.duration},u.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,u.zoom):this._tryAnimatedPan(r,u.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,u){var p=this.getZoomScale(l),_=this.getSize().divideBy(2),C=r instanceof W?r:this.latLngToContainerPoint(r),O=C.subtract(_).multiplyBy(1-1/p),B=this.containerPointToLatLng(_.add(O));return this.setView(B,l,{zoom:u})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():ot(r);var u=_e(l.paddingTopLeft||l.padding||[0,0]),p=_e(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(r,!1,u.add(p));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:r.getCenter(),zoom:_};var C=p.subtract(u).divideBy(2),O=this.project(r.getSouthWest(),_),B=this.project(r.getNorthEast(),_),j=this.unproject(O.add(B).divideBy(2).add(C),_);return{center:j,zoom:_}},fitBounds:function(r,l){if(r=ot(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,l);return this.setView(u.center,u.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=_e(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,u){if(u=u||{},u.animate===!1||!Pe.any3d)return this.setView(r,l,u);this._stop();var p=this.project(this.getCenter()),_=this.project(r),C=this.getSize(),O=this._zoom;r=Me(r),l=l===void 0?O:l;var B=Math.max(C.x,C.y),j=B*this.getZoomScale(O,l),te=_.distanceTo(p)||1,me=1.42,De=me*me;function at(Jt){var Qa=Jt?-1:1,b=Jt?j:B,ra=j*j-B*B+Qa*De*De*te*te,Qs=2*b*De*te,gi=ra/Qs,ft=Math.sqrt(gi*gi+1)-gi,jp=ft<1e-9?-18:Math.log(ft);return jp}function Tn(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function _n(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function oi(Jt){return Tn(Jt)/_n(Jt)}var ti=at(0);function ir(Jt){return B*(_n(ti)/_n(ti+me*Jt))}function Hp(Jt){return B*(_n(ti)*oi(ti+me*Jt)-Tn(ti))/De}function Vp(Jt){return 1-Math.pow(1-Jt,1.5)}var qp=Date.now(),nh=(at(1)-ti)/me,$p=u.duration?1e3*u.duration:1e3*nh*.8;function Ka(){var Jt=(Date.now()-qp)/$p,Qa=Vp(Jt)*nh;Jt<=1?(this._flyToFrame=q(Ka,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(Hp(Qa)/te)),O),this.getScaleZoom(B/ir(Qa),O),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Ka.call(this),this},flyToBounds:function(r,l){var u=this._getBoundsCenterZoom(r,l);return this.flyTo(u.center,u.zoom,l)},setMaxBounds:function(r){return r=ot(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var u=this.getCenter(),p=this._limitCenter(u,this._zoom,ot(r));return u.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var u=_e(l.paddingTopLeft||l.padding||[0,0]),p=_e(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),C=this.project(r),O=this.getPixelBounds(),B=dt([O.min.add(u),O.max.subtract(p)]),j=B.getSize();if(!B.contains(C)){this._enforcingBounds=!0;var te=C.subtract(B.getCenter()),me=B.extend(C).getSize().subtract(j);_.x+=te.x<0?-me.x:me.x,_.y+=te.y<0?-me.y:me.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=n({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),p=l.divideBy(2).round(),_=u.divideBy(2).round(),C=p.subtract(_);return!C.x&&!C.y?this:(r.animate&&r.pan?this.panBy(C):(r.pan&&this._rawPanBy(C),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=n({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=o(this._handleGeolocationResponse,this),u=o(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,u,r):navigator.geolocation.getCurrentPosition(l,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,u=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,u=r.coords.longitude,p=new Ne(l,u),_=p.toBounds(r.coords.accuracy*2),C=this._locateOptions;if(C.setView){var O=this.getBoundsZoom(_);this.setView(p,C.maxZoom?Math.min(O,C.maxZoom):O)}var B={latlng:p,bounds:_,timestamp:r.timestamp};for(var j in r.coords)typeof r.coords[j]=="number"&&(B[j]=r.coords[j]);this.fire("locationfound",B)}},addHandler:function(r,l){if(!l)return this;var u=this[r]=new l(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Qt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=It("div",u,l||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new Ct(l,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,u){r=ot(r),u=_e(u||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),C=this.getMaxZoom(),O=r.getNorthWest(),B=r.getSouthEast(),j=this.getSize().subtract(u),te=dt(this.project(B,p),this.project(O,p)).getSize(),me=Pe.any3d?this.options.zoomSnap:1,De=j.x/te.x,at=j.y/te.y,Tn=l?Math.max(De,at):Math.min(De,at);return p=this.getScaleZoom(Tn,p),me&&(p=Math.round(p/(me/100))*(me/100),p=l?Math.ceil(p/me)*me:Math.floor(p/me)*me),Math.max(_,Math.min(C,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var u=this._getTopLeftPoint(r,l);return new Ie(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var u=this.options.crs;return l=l===void 0?this._zoom:l,u.scale(r)/u.scale(l)},getScaleZoom:function(r,l){var u=this.options.crs;l=l===void 0?this._zoom:l;var p=u.zoom(r*u.scale(l));return isNaN(p)?1/0:p},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Me(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(_e(r),l)},layerPointToLatLng:function(r){var l=_e(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(Me(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Me(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ot(r))},distance:function(r,l){return this.options.crs.distance(Me(r),Me(l))},containerPointToLayerPoint:function(r){return _e(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return _e(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(_e(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(r)))},mouseEventToContainerPoint:function(r){return Bu(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Au(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xe(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,nt(r,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Aa(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Cn(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(r.markerPane,"leaflet-zoom-hide"),nt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,u){Cn(this._mapPane,new W(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,u)._move(r,l)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,u,p){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?u&&u.pinch&&this.fire("zoom",u):((_||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Cn(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var l=r?Wt:Xe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){oe(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var u=[],p,_=l==="mouseout"||l==="mouseover",C=r.target||r.srcElement,O=!1;C;){if(p=this._targets[h(C)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){O=!0;break}if(p&&p.listens(l,!0)&&(_&&!lc(C,r)||(u.push(p),_))||C===this._container)break;C=C.parentNode}return!u.length&&!O&&!_&&this.listens(l,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var u=r.type;u==="mousedown"&&Ls(l),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,u){if(r.type==="click"){var p=n({},r);p.type="preclick",this._fireDOMEvent(p,p.type,u)}var _=this._findEventTargets(r,l);if(u){for(var C=[],O=0;O<u.length;O++)u[O].listens(l,!0)&&C.push(u[O]);_=C.concat(_)}if(_.length){l==="contextmenu"&&it(r);var B=_[0],j={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var te=B.getLatLng&&(!B._radius||B._radius<=10);j.containerPoint=te?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(r),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=te?B.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(O=0;O<_.length;O++)if(_[O].fire(l,j,!0),j.originalEvent._stopped||_[O].options.bubblingMouseEvents===!1&&St(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Or(this._mapPane)||new W(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var u=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var u=this.getSize()._divideBy(2);return this.project(r,l)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,u){var p=this._getNewPixelOrigin(u,l);return this.project(r,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,l,u){var p=this._getNewPixelOrigin(u,l);return dt([this.project(r.getSouthWest(),l)._subtract(p),this.project(r.getNorthWest(),l)._subtract(p),this.project(r.getSouthEast(),l)._subtract(p),this.project(r.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,u){if(!u)return r;var p=this.project(r,l),_=this.getSize().divideBy(2),C=new Ie(p.subtract(_),p.add(_)),O=this._getBoundsOffset(C,u,l);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?r:this.unproject(p.add(O),l)},_limitOffset:function(r,l){if(!l)return r;var u=this.getPixelBounds(),p=new Ie(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(r,l,u){var p=dt(this.project(l.getNorthEast(),u),this.project(l.getSouthWest(),u)),_=p.min.subtract(r.min),C=p.max.subtract(r.max),O=this._rebound(_.x,-C.x),B=this._rebound(_.y,-C.y);return new W(O,B)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),u=this.getMaxZoom(),p=Pe.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(l,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var u=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,l),!0)},_createAnimProxy:function(){var r=this._proxy=It("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var u=Es,p=this._proxy.style[u];xo(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();xo(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),_=this._getCenterOffset(r)._divideBy(1-1/p);return u.animate!==!0&&!this.getSize().contains(_)?!1:(q(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,u,p){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function jn(r,l){return new bt(r,l)}var Fi=ue.extend({options:{position:"topright"},initialize:function(r){$(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),u=this.getPosition(),p=r._controlCorners[u];return nt(l,"leaflet-control"),u.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),tr=function(r){return new Fi(r)};bt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",u=this._controlContainer=It("div",l+"control-container",this._container);function p(_,C){var O=l+_+" "+l+C;r[_+C]=It("div",O,u)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Qt(this._controlCorners[r]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uc=Fi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,u,p){return u<p?-1:p<u?1:0}},initialize:function(r,l,u){$(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Fi.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=It("div",r),u=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ra(l),sc(l);var p=this._section=It("section",r+"-list");u&&(this._map.on("click",this.collapse,this),Xe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=It("a",r+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),Xe(_,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){it(C),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=It("div",r+"-base",p),this._separator=It("div",r+"-separator",p),this._overlaysList=It("div",r+"-overlays",p),l.appendChild(p)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:u}),this.options.sortLayers&&this._layers.sort(o(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Da(this._baseLayersList),Da(this._overlaysList),this._layerControlInputs=[];var r,l,u,p,_=0;for(u=0;u<this._layers.length;u++)p=this._layers[u],this._addItem(p),l=l||p.overlay,r=r||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&_>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(h(r.target)),u=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,l)},_createRadioElement:function(r,l){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=u,p.firstChild},_addItem:function(r){var l=document.createElement("label"),u=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=u):p=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(p),p.layerId=h(r.layer),Xe(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+r.name;var C=document.createElement("span");l.appendChild(C),C.appendChild(p),C.appendChild(_);var O=r.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,u,p=[],_=[];this._handlingClick=!0;for(var C=r.length-1;C>=0;C--)l=r[C],u=this._getLayer(l.layerId).layer,l.checked?p.push(u):l.checked||_.push(u);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])&&this._map.removeLayer(_[C]);for(C=0;C<p.length;C++)this._map.hasLayer(p[C])||this._map.addLayer(p[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,u,p=this._map.getZoom(),_=r.length-1;_>=0;_--)l=r[_],u=this._getLayer(l.layerId).layer,l.disabled=u.options.minZoom!==void 0&&p<u.options.minZoom||u.options.maxZoom!==void 0&&p>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Xe(r,"click",it),this.expand();var l=this;setTimeout(function(){Wt(r,"click",it),l._preventClick=!1})}}),hc=function(r,l,u){return new uc(r,l,u)},fi=Fi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",u=It("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,u,p,_){var C=It("a",u,p);return C.innerHTML=r,C.href="#",C.title=l,C.setAttribute("role","button"),C.setAttribute("aria-label",l),Ra(C),Xe(C,"click",Mt),Xe(C,"click",_,this),Xe(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Xt(this._zoomInButton,l),Xt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(nt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(nt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fi,this.addControl(this.zoomControl))});var Vu=function(r){return new fi(r)},dc=Fi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",u=It("div",l),p=this.options;return this._addScales(p,l+"-line",u),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,u){r.metric&&(this._mScale=It("div",l,u)),r.imperial&&(this._iScale=It("div",l,u))},_update:function(){var r=this._map,l=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),u=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,u,l/r)},_updateImperial:function(r){var l=r*3.2808399,u,p,_;l>5280?(u=l/5280,p=this._getRoundNum(u),this._updateScale(this._iScale,p+" mi",p/u)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(r,l,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),u=r/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,l*u}}),qu=function(r){return new dc(r)},$u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Hs=Fi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?$u+" ":"")+"Leaflet</a>"},initialize:function(r){$(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=It("div","leaflet-control-attribution"),Ra(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new Hs().addTo(this)});var ju=function(r){return new Hs(r)};Fi.Layers=uc,Fi.Zoom=fi,Fi.Scale=dc,Fi.Attribution=Hs,tr.layers=hc,tr.zoom=Vu,tr.scale=qu,tr.attribution=ju;var mn=ue.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(r,l){return r.addHandler(l,this),this};var Op={Events:ae},Pi=Pe.touch?"touchstart mousedown":"mousedown",Wr=Re.extend({options:{clickTolerance:3},initialize:function(r,l,u,p){$(this,p),this._element=r,this._dragStartTarget=l||r,this._preventOutline=u},enable:function(){this._enabled||(Xe(this._dragStartTarget,Pi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wr._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Pi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!nc(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Wr._dragging===this&&this.finishDrag();return}if(!(Wr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Wr._dragging=this,this._preventOutline&&Ls(this._element),ic(),Co(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,u=ku(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=Or(this._element),this._parentScale=rc(u);var p=r.type==="mousedown";Xe(document,p?"mousemove":"touchmove",this._onMove,this),Xe(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,u=new W(l.clientX,l.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,it(r),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Cn(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Xt(document.body,"leaflet-dragging"),this._lastTarget&&(Xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Ns(),gr();var l=this._moved&&this._moving;this._moving=!1,Wr._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function pc(r,l,u){var p,_=[1,4,2,8],C,O,B,j,te,me,De,at;for(C=0,me=r.length;C<me;C++)r[C]._code=yr(r[C],l);for(B=0;B<4;B++){for(De=_[B],p=[],C=0,me=r.length,O=me-1;C<me;O=C++)j=r[C],te=r[O],j._code&De?te._code&De||(at=Ba(te,j,De,l,u),at._code=yr(at,l),p.push(at)):(te._code&De&&(at=Ba(te,j,De,l,u),at._code=yr(at,l),p.push(at)),p.push(j));r=p}return r}function Er(r,l){var u,p,_,C,O,B,j,te,me;if(!r||r.length===0)throw new Error("latlngs not passed");Ii(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var De=Me([0,0]),at=ot(r),Tn=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());Tn<1700&&(De=Yo(r));var _n=r.length,oi=[];for(u=0;u<_n;u++){var ti=Me(r[u]);oi.push(l.project(Me([ti.lat-De.lat,ti.lng-De.lng])))}for(B=j=te=0,u=0,p=_n-1;u<_n;p=u++)_=oi[u],C=oi[p],O=_.y*C.x-C.y*_.x,j+=(_.x+C.x)*O,te+=(_.y+C.y)*O,B+=O*3;B===0?me=oi[0]:me=[j/B,te/B];var ir=l.unproject(_e(me));return Me([ir.lat+De.lat,ir.lng+De.lng])}function Yo(r){for(var l=0,u=0,p=0,_=0;_<r.length;_++){var C=Me(r[_]);l+=C.lat,u+=C.lng,p++}return Me([l/p,u/p])}var fc={__proto__:null,clipPolygon:pc,polygonCenter:Er,centroid:Yo};function Ut(r,l){if(!l||!r.length)return r.slice();var u=l*l;return r=Ap(r,u),r=Ep(r,u),r}function Ar(r,l,u){return Math.sqrt(Ha(r,l,u,!0))}function mc(r,l,u){return Ha(r,l,u)}function Ep(r,l){var u=r.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(u);_[0]=_[u-1]=1,La(r,_,l,0,u-1);var C,O=[];for(C=0;C<u;C++)_[C]&&O.push(r[C]);return O}function La(r,l,u,p,_){var C=0,O,B,j;for(B=p+1;B<=_-1;B++)j=Ha(r[B],r[p],r[_],!0),j>C&&(O=B,C=j);C>u&&(l[O]=1,La(r,l,u,p,O),La(r,l,u,O,_))}function Ap(r,l){for(var u=[r[0]],p=1,_=0,C=r.length;p<C;p++)Ko(r[p],r[_])>l&&(u.push(r[p]),_=p);return _<C-1&&u.push(r[C-1]),u}var Zu;function Wu(r,l,u,p,_){var C=p?Zu:yr(r,u),O=yr(l,u),B,j,te;for(Zu=O;;){if(!(C|O))return[r,l];if(C&O)return!1;B=C||O,j=Ba(r,l,B,u,_),te=yr(j,u),B===C?(r=j,C=te):(l=j,O=te)}}function Ba(r,l,u,p,_){var C=l.x-r.x,O=l.y-r.y,B=p.min,j=p.max,te,me;return u&8?(te=r.x+C*(j.y-r.y)/O,me=j.y):u&4?(te=r.x+C*(B.y-r.y)/O,me=B.y):u&2?(te=j.x,me=r.y+O*(j.x-r.x)/C):u&1&&(te=B.x,me=r.y+O*(B.x-r.x)/C),new W(te,me,_)}function yr(r,l){var u=0;return r.x<l.min.x?u|=1:r.x>l.max.x&&(u|=2),r.y<l.min.y?u|=4:r.y>l.max.y&&(u|=8),u}function Ko(r,l){var u=l.x-r.x,p=l.y-r.y;return u*u+p*p}function Ha(r,l,u,p){var _=l.x,C=l.y,O=u.x-_,B=u.y-C,j=O*O+B*B,te;return j>0&&(te=((r.x-_)*O+(r.y-C)*B)/j,te>1?(_=u.x,C=u.y):te>0&&(_+=O*te,C+=B*te)),O=r.x-_,B=r.y-C,p?O*O+B*B:new W(_,C)}function Ii(r){return!xe(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function _c(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ii(r)}function Vs(r,l){var u,p,_,C,O,B,j,te;if(!r||r.length===0)throw new Error("latlngs not passed");Ii(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var me=Me([0,0]),De=ot(r),at=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());at<1700&&(me=Yo(r));var Tn=r.length,_n=[];for(u=0;u<Tn;u++){var oi=Me(r[u]);_n.push(l.project(Me([oi.lat-me.lat,oi.lng-me.lng])))}for(u=0,p=0;u<Tn-1;u++)p+=_n[u].distanceTo(_n[u+1])/2;if(p===0)te=_n[0];else for(u=0,C=0;u<Tn-1;u++)if(O=_n[u],B=_n[u+1],_=O.distanceTo(B),C+=_,C>p){j=(C-p)/_,te=[B.x-j*(B.x-O.x),B.y-j*(B.y-O.y)];break}var ti=l.unproject(_e(te));return Me([ti.lat+me.lat,ti.lng+me.lng])}var gc={__proto__:null,simplify:Ut,pointToSegmentDistance:Ar,closestPointOnSegment:mc,clipSegment:Wu,_getEdgeIntersection:Ba,_getBitCode:yr,_sqClosestPointOnSegment:Ha,isFlat:Ii,_flat:_c,polylineCenter:Vs},qs={project:function(r){return new W(r.lng,r.lat)},unproject:function(r){return new Ne(r.y,r.x)},bounds:new Ie([-180,-90],[180,90])},vc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,u=this.R,p=r.lat*l,_=this.R_MINOR/u,C=Math.sqrt(1-_*_),O=C*Math.sin(p),B=Math.tan(Math.PI/4-p/2)/Math.pow((1-O)/(1+O),C/2);return p=-u*Math.log(Math.max(B,1e-10)),new W(r.lng*l*u,p)},unproject:function(r){for(var l=180/Math.PI,u=this.R,p=this.R_MINOR/u,_=Math.sqrt(1-p*p),C=Math.exp(-r.y/u),O=Math.PI/2-2*Math.atan(C),B=0,j=.1,te;B<15&&Math.abs(j)>1e-7;B++)te=_*Math.sin(O),te=Math.pow((1-te)/(1+te),_/2),j=Math.PI/2-2*Math.atan(C*te)-O,O+=j;return new Ne(O*l,r.x*l/u)}},yc={__proto__:null,LonLat:qs,Mercator:vc,SphericalMercator:Mn},xc=n({},Oe,{code:"EPSG:3395",projection:vc,transformation:function(){var r=.5/(Math.PI*vc.R);return Yt(r,.5,-r,.5)}()}),Uu=n({},Oe,{code:"EPSG:4326",projection:qs,transformation:Yt(1/180,1,-1/180,.5)}),Gu=n({},vt,{projection:qs,transformation:Yt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var u=l.lng-r.lng,p=l.lat-r.lat;return Math.sqrt(u*u+p*p)},infinite:!0});vt.Earth=Oe,vt.EPSG3395=xc,vt.EPSG3857=he,vt.EPSG900913=se,vt.EPSG4326=Uu,vt.Simple=Gu;var ln=Re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var u=this.getEvents();l.on(u,this),this.once("remove",function(){l.off(u,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=h(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,l){for(var u in this._layers)r.call(l,this._layers[u]);return this},_addLayers:function(r){r=r?xe(r)?r:[r]:[];for(var l=0,u=r.length;l<u;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=h(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,u=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;r=_.minZoom===void 0?r:Math.min(r,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ur=ln.extend({initialize:function(r,l){$(this,l),this._layers={};var u,p;if(r)for(u=0,p=r.length;u<p;u++)this.addLayer(r[u])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),u,p;for(u in this._layers)p=this._layers[u],p[r]&&p[r].apply(p,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var u in this._layers)r.call(l,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),Va=function(r,l){return new Ur(r,l)},xr=Ur.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ur.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ur.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ct;for(var l in this._layers){var u=this._layers[l];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),Yu=function(r,l){return new xr(r,l)},Qo=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){$(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(u,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,l){var u=this.options,p=u[l+"Size"];typeof p=="number"&&(p=[p,p]);var _=_e(p),C=_e(l==="shadow"&&u.shadowAnchor||u.iconAnchor||_&&_.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(u.className||""),C&&(r.style.marginLeft=-C.x+"px",r.style.marginTop=-C.y+"px"),_&&(r.style.width=_.x+"px",r.style.height=_.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Pe.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Dp(r){return new Qo(r)}var qa=Qo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof qa.imagePath!="string"&&(qa.imagePath=this._detectIconPath()),(this.options.imagePath||qa.imagePath)+Qo.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(u,p,_){var C=p.exec(u);return C&&C[_]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=It("div","leaflet-default-icon-path",document.body),l=Aa(r,"background-image")||Aa(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Ku=mn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Wr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,u=l._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,C=Or(l._icon),O=u.getPixelBounds(),B=u.getPixelOrigin(),j=dt(O.min._subtract(B).add(_),O.max._subtract(B).subtract(_));if(!j.contains(C)){var te=_e((Math.max(j.max.x,C.x)-j.max.x)/(O.max.x-j.max.x)-(Math.min(j.min.x,C.x)-j.min.x)/(O.min.x-j.min.x),(Math.max(j.max.y,C.y)-j.max.y)/(O.max.y-j.max.y)-(Math.min(j.min.y,C.y)-j.min.y)/(O.min.y-j.min.y)).multiplyBy(p);u.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),Cn(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=q(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(oe(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,u=l._shadow,p=Or(l._icon),_=l._map.layerPointToLatLng(p);u&&Cn(u,p),l._latlng=_,r.latlng=_,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),$s=ln.extend({options:{icon:new qa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){$(this,l),this._latlng=Me(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=Me(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),p=!1;u!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),nt(u,l),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(u,"focus",this._panOnFocus,this);var _=r.icon.createShadow(this._shadow),C=!1;_!==this._shadow&&(this._removeShadow(),C=!0),_&&(nt(_,l),_.alt=""),this._shadow=_,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&C&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Cn(this._icon,r),this._shadow&&Cn(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ku)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ku(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ti(this._icon,r),this._shadow&&Ti(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,u=l.iconSize?_e(l.iconSize):_e(0,0),p=l.iconAnchor?_e(l.iconAnchor):_e(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:u.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xo(r,l){return new $s(r,l)}var Gr=ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return $(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),js=Gr.extend({options:{fill:!0,radius:10},initialize:function(r,l){$(this,l),this._latlng=Me(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=Me(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Gr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,u=this._clickTolerance(),p=[r+u,l+u];this._pxBounds=new Ie(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cc(r,l){return new js(r,l)}var Zs=js.extend({initialize:function(r,l,u){if(typeof l=="number"&&(l=n({},u,{radius:l})),$(this,l),this._latlng=Me(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ct(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Gr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,u=this._map,p=u.options.crs;if(p.distance===Oe.distance){var _=Math.PI/180,C=this._mRadius/Oe.R/_,O=u.project([l+C,r]),B=u.project([l-C,r]),j=O.add(B).divideBy(2),te=u.unproject(j).lat,me=Math.acos((Math.cos(C*_)-Math.sin(l*_)*Math.sin(te*_))/(Math.cos(l*_)*Math.cos(te*_)))/_;(isNaN(me)||me===0)&&(me=C/Math.cos(Math.PI/180*l)),this._point=j.subtract(u.getPixelOrigin()),this._radius=isNaN(me)?0:j.x-u.project([te,r-me]).x,this._radiusY=j.y-O.y}else{var De=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(De).x}this._updateBounds()}});function Yr(r,l,u){return new Zs(r,l,u)}var Vi=Gr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){$(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,u=null,p=Ha,_,C,O=0,B=this._parts.length;O<B;O++)for(var j=this._parts[O],te=1,me=j.length;te<me;te++){_=j[te-1],C=j[te];var De=p(r,_,C,!0);De<l&&(l=De,u=p(r,_,C))}return u&&(u.distance=Math.sqrt(l)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=Me(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ct,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ii(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],u=Ii(r),p=0,_=r.length;p<_;p++)u?(l[p]=Me(r[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(r[p]);return l},_project:function(){var r=new Ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new W(r,r);this._rawPxBounds&&(this._pxBounds=new Ie([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,u){var p=r[0]instanceof Ne,_=r.length,C,O;if(p){for(O=[],C=0;C<_;C++)O[C]=this._map.latLngToLayerPoint(r[C]),u.extend(O[C]);l.push(O)}else for(C=0;C<_;C++)this._projectLatlngs(r[C],l,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,u,p,_,C,O,B,j;for(u=0,_=0,C=this._rings.length;u<C;u++)for(j=this._rings[u],p=0,O=j.length;p<O-1;p++)B=Wu(j[p],j[p+1],r,p,!0),B&&(l[_]=l[_]||[],l[_].push(B[0]),(B[1]!==j[p+1]||p===O-2)&&(l[_].push(B[1]),_++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,u=0,p=r.length;u<p;u++)r[u]=Ut(r[u],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var u,p,_,C,O,B,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,C=this._parts.length;u<C;u++)for(B=this._parts[u],p=0,O=B.length,_=O-1;p<O;_=p++)if(!(!l&&p===0)&&Ar(r,B[_],B[p])<=j)return!0;return!1}});function kp(r,l){return new Vi(r,l)}Vi._flat=_c;var Jo=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Er(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Vi.prototype._convertLatLngs.call(this,r),u=l.length;return u>=2&&l[0]instanceof Ne&&l[0].equals(l[u-1])&&l.pop(),l},_setLatLngs:function(r){Vi.prototype._setLatLngs.call(this,r),Ii(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ii(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,u=new W(l,l);if(r=new Ie(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,C;p<_;p++)C=pc(this._rings[p],r,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,u,p,_,C,O,B,j,te;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(C=0,j=this._parts.length;C<j;C++)for(u=this._parts[C],O=0,te=u.length,B=te-1;O<te;B=O++)p=u[O],_=u[B],p.y>r.y!=_.y>r.y&&r.x<(_.x-p.x)*(r.y-p.y)/(_.y-p.y)+p.x&&(l=!l);return l||Vi.prototype._containsPoint.call(this,r,!0)}});function Np(r,l){return new Jo(r,l)}var mi=xr.extend({initialize:function(r,l){$(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=xe(r)?r:r.features,u,p,_;if(l){for(u=0,p=l.length;u<p;u++)_=l[u],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var C=this.options;if(C.filter&&!C.filter(r))return this;var O=_i(r,C);return O?(O.feature=nr(r),O.defaultOptions=O.options,this.resetStyle(O),C.onEachFeature&&C.onEachFeature(r,O),this.addLayer(O)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=n({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function _i(r,l){var u=r.type==="Feature"?r.geometry:r,p=u?u.coordinates:null,_=[],C=l&&l.pointToLayer,O=l&&l.coordsToLatLng||wc,B,j,te,me;if(!p&&!u)return null;switch(u.type){case"Point":return B=O(p),bc(C,r,B,l);case"MultiPoint":for(te=0,me=p.length;te<me;te++)B=O(p[te]),_.push(bc(C,r,B,l));return new xr(_);case"LineString":case"MultiLineString":return j=Ws(p,u.type==="LineString"?0:1,O),new Vi(j,l);case"Polygon":case"MultiPolygon":return j=Ws(p,u.type==="Polygon"?1:2,O),new Jo(j,l);case"GeometryCollection":for(te=0,me=u.geometries.length;te<me;te++){var De=_i({geometry:u.geometries[te],type:"Feature",properties:r.properties},l);De&&_.push(De)}return new xr(_);case"FeatureCollection":for(te=0,me=u.features.length;te<me;te++){var at=_i(u.features[te],l);at&&_.push(at)}return new xr(_);default:throw new Error("Invalid GeoJSON object.")}}function bc(r,l,u,p){return r?r(l,u):new $s(u,p&&p.markersInheritOptions&&p)}function wc(r){return new Ne(r[1],r[0],r[2])}function Ws(r,l,u){for(var p=[],_=0,C=r.length,O;_<C;_++)O=l?Ws(r[_],l-1,u):(u||wc)(r[_]),p.push(O);return p}function zc(r,l){return r=Me(r),r.alt!==void 0?[P(r.lng,l),P(r.lat,l),P(r.alt,l)]:[P(r.lng,l),P(r.lat,l)]}function Us(r,l,u,p){for(var _=[],C=0,O=r.length;C<O;C++)_.push(l?Us(r[C],Ii(r[C])?0:l-1,u,p):zc(r[C],p));return!l&&u&&_.length>0&&_.push(_[0].slice()),_}function ea(r,l){return r.feature?n({},r.feature,{geometry:l}):nr(l)}function nr(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var k={toGeoJSON:function(r){return ea(this,{type:"Point",coordinates:zc(this.getLatLng(),r)})}};$s.include(k),Zs.include(k),js.include(k),Vi.include({toGeoJSON:function(r){var l=!Ii(this._latlngs),u=Us(this._latlngs,l?1:0,!1,r);return ea(this,{type:(l?"Multi":"")+"LineString",coordinates:u})}}),Jo.include({toGeoJSON:function(r){var l=!Ii(this._latlngs),u=l&&!Ii(this._latlngs[0]),p=Us(this._latlngs,u?2:l?1:0,!0,r);return l||(p=[p]),ea(this,{type:(u?"Multi":"")+"Polygon",coordinates:p})}}),Ur.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(u){l.push(u.toGeoJSON(r).geometry.coordinates)}),ea(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var u=l==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var C=_.toGeoJSON(r);if(u)p.push(C.geometry);else{var O=nr(C);O.type==="FeatureCollection"?p.push.apply(p,O.features):p.push(O)}}}),u?ea(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function K(r,l){return new mi(r,l)}var Z=K,ge=ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,u){this._url=r,this._bounds=ot(l),$(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&yo(this._image),this},bringToBack:function(){return this._map&&Zr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ot(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:It("img");if(nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onload=o(this.fire,this,"load"),l.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;xo(this._image,u,l)},_reset:function(){var r=this._image,l=new Ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=l.getSize();Cn(r,l.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Ti(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Ye=function(r,l,u){return new ge(r,l,u)},Ot=ge.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:It("video");if(nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=v,l.onmousemove=v,l.onloadeddata=o(this.fire,this,"load"),r){for(var u=l.getElementsByTagName("source"),p=[],_=0;_<u.length;_++)p.push(u[_].src);this._url=u.length>0?p:[l.src];return}xe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var O=It("source");O.src=this._url[C],l.appendChild(O)}}});function An(r,l,u){return new Ot(r,l,u)}var Ht=ge.extend({_initImage:function(){var r=this._image=this._url;nt(r,"leaflet-image-layer"),this._zoomAnimated&&nt(r,"leaflet-zoom-animated"),this.options.className&&nt(r,this.options.className),r.onselectstart=v,r.onmousemove=v}});function Sc(r,l,u){return new Ht(r,l,u)}var Cr=ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof Ne||xe(r))?(this._latlng=Me(r),$(this,l)):($(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ti(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ti(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ti(this._container,0),this._removeTimeout=setTimeout(o(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(Xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Me(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yo(this._container),this},bringToBack:function(){return this._map&&Zr(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof xr){l=null;var u=this._source._layers;for(var p in u)if(u[p]._map){l=u[p];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=_e(this.options.offset),u=this._getAnchor();this._zoomAnimated?Cn(this._container,r.add(u)):l=l.add(r).add(u);var p=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(r,l,u,p){var _=l;return _ instanceof r||(_=new r(p).setContent(l)),u&&_.setLatLng(u),_}}),ln.include({_initOverlay:function(r,l,u,p){var _=u;return _ instanceof r?($(_,p),_._source=this):(_=l&&!p?l:new r(p,this),_.setContent(u)),_}});var ui=Cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Cr.prototype.openOn.call(this,r)},onAdd:function(r){Cr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gr||this._source.on("preclick",bo))},onRemove:function(r){Cr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gr||this._source.off("preclick",bo))},getEvents:function(){var r=Cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=It("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=It("div",r+"-content-wrapper",l);if(this._contentNode=It("div",r+"-content",u),Ra(l),sc(this._contentNode),Xe(l,"contextmenu",bo),this._tipContainer=It("div",r+"-tip-container",l),this._tip=It("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=It("a",r+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Xe(p,"click",function(_){it(_),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),l.width=u+1+"px",l.whiteSpace="",l.height="";var p=r.offsetHeight,_=this.options.maxHeight,C="leaflet-popup-scrolled";_&&p>_?(l.height=_+"px",nt(r,C)):Xt(r,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();Cn(this._container,l.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Aa(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+l,p=this._containerWidth,_=new W(this._containerLeft,-u-this._containerBottom);_._add(Or(this._container));var C=r.layerPointToContainerPoint(_),O=_e(this.options.autoPanPadding),B=_e(this.options.autoPanPaddingTopLeft||O),j=_e(this.options.autoPanPaddingBottomRight||O),te=r.getSize(),me=0,De=0;C.x+p+j.x>te.x&&(me=C.x+p-te.x+j.x),C.x-me-B.x<0&&(me=C.x-B.x),C.y+u+j.y>te.y&&(De=C.y+u-te.y+j.y),C.y-De-B.y<0&&(De=C.y-B.y),(me||De)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([me,De]))}},_getAnchor:function(){return _e(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gs=function(r,l){return new ui(r,l)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(r,l,u){return this._initOverlay(ui,r,l,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),ln.include({bindPopup:function(r,l){return this._popup=this._initOverlay(ui,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof xr||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Mt(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Gr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ys=Cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Cr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Cr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Cr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=It("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,u,p=this._map,_=this._container,C=p.latLngToContainerPoint(p.getCenter()),O=p.layerPointToContainerPoint(r),B=this.options.direction,j=_.offsetWidth,te=_.offsetHeight,me=_e(this.options.offset),De=this._getAnchor();B==="top"?(l=j/2,u=te):B==="bottom"?(l=j/2,u=0):B==="center"?(l=j/2,u=te/2):B==="right"?(l=0,u=te/2):B==="left"?(l=j,u=te/2):O.x<C.x?(B="right",l=0,u=te/2):(B="left",l=j+(me.x+De.x)*2,u=te/2),r=r.subtract(_e(l,u,!0)).add(me).add(De),Xt(_,"leaflet-tooltip-right"),Xt(_,"leaflet-tooltip-left"),Xt(_,"leaflet-tooltip-top"),Xt(_,"leaflet-tooltip-bottom"),nt(_,"leaflet-tooltip-"+B),Cn(_,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ti(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return _e(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ta=function(r,l){return new Ys(r,l)};bt.include({openTooltip:function(r,l,u){return this._initOverlay(Ys,r,l,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),ln.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ys,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[l](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof xr||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Xe(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Xe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,u,p;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(u),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var $a=Qo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Da(l),l.appendChild(u.html)):l.innerHTML=u.html!==!1?u.html:"",u.bgPos){var p=_e(u.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Ks(r){return new $a(r)}Qo.Default=qa;var Tt=ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){$(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Qt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof W?r:new W(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,u=-r(-1/0,1/0),p=0,_=l.length,C;p<_;p++)C=l[p].style.zIndex,l[p]!==this._container&&C&&(u=r(u,+C));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){Ti(this._container,this.options.opacity);var r=+new Date,l=!1,u=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var C=Math.min(1,(r-_.loaded)/200);Ti(_.el,C),C<1?l=!0:(_.active?u=!0:this._onOpaqueTile(_),_.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),l&&(oe(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=It("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=l-Math.abs(r-u),this._onUpdateLevel(u)):(Qt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var p=this._levels[r],_=this._map;return p||(p=this._levels[r]={},p.el=It("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=_.project(_.unproject(_.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,_.getCenter(),_.getZoom()),v(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var r,l,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Qt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,u,p){var _=Math.floor(r/2),C=Math.floor(l/2),O=u-1,B=new W(+_,+C);B.z=+O;var j=this._tileCoordsToKey(B),te=this._tiles[j];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),O>p?this._retainParent(_,C,O,p):!1)},_retainChildren:function(r,l,u,p){for(var _=2*r;_<2*r+2;_++)for(var C=2*l;C<2*l+2;C++){var O=new W(_,C);O.z=u+1;var B=this._tileCoordsToKey(O),j=this._tiles[B];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);u+1<p&&this._retainChildren(_,C,u+1,p)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,u,p){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var C=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||C)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,l)},_setZoomTransform:function(r,l,u){var p=this._map.getZoomScale(u,r.zoom),_=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,u)).round();Pe.any3d?xo(r.el,_,p):Cn(r.el,_)},_resetGrid:function(){var r=this._map,l=r.options.crs,u=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],p).x/u.x),Math.ceil(r.project([0,l.wrapLng[1]],p).x/u.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],p).y/u.x),Math.ceil(r.project([l.wrapLat[1],0],p).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,u=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(u,this._tileZoom),_=l.project(r,this._tileZoom).floor(),C=l.getSize().divideBy(p*2);return new Ie(_.subtract(C),_.add(C))},_update:function(r){var l=this._map;if(l){var u=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),_=this._pxBoundsToTileRange(p),C=_.getCenter(),O=[],B=this.options.keepBuffer,j=new Ie(_.getBottomLeft().subtract([B,-B]),_.getTopRight().add([B,-B]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var me=this._tiles[te].coords;(me.z!==this._tileZoom||!j.contains(new W(me.x,me.y)))&&(this._tiles[te].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var De=_.min.y;De<=_.max.y;De++)for(var at=_.min.x;at<=_.max.x;at++){var Tn=new W(at,De);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var _n=this._tiles[this._tileCoordsToKey(Tn)];_n?_n.current=!0:O.push(Tn)}}if(O.sort(function(ti,ir){return ti.distanceTo(C)-ir.distanceTo(C)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var oi=document.createDocumentFragment();for(at=0;at<O.length;at++)this._addTile(O[at],oi);this._level.el.appendChild(oi)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var u=this._globalTileRange;if(!l.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!l.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return ot(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,u=this.getTileSize(),p=r.scaleBy(u),_=p.add(u),C=l.unproject(p,r.z),O=l.unproject(_,r.z);return[C,O]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),u=new Ct(l[0],l[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),u=new W(+l[0],+l[1]);return u.z=+l[2],u},_removeTile:function(r){var l=this._tiles[r];l&&(Qt(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){nt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=v,r.onmousemove=v,Pe.ielt9&&this.options.opacity<1&&Ti(r,this.options.opacity)},_addTile:function(r,l){var u=this._getTilePos(r),p=this._tileCoordsToKey(r),_=this.createTile(this._wrapCoords(r),o(this._tileReady,this,r));this._initTile(_),this.createTile.length<2&&q(o(this._tileReady,this,r,null,_)),Cn(_,u),this._tiles[p]={el:_,coords:r,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:r})},_tileReady:function(r,l,u){l&&this.fire("tileerror",{error:l,tile:u,coords:r});var p=this._tileCoordsToKey(r);u=this._tiles[p],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Ti(u.el,0),oe(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),l||(nt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new W(this._wrapX?g(r.x,this._wrapX):r.x,this._wrapY?g(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new Ie(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Rp(r){return new Tt(r)}var wo=Tt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=$(this,l),l.detectRetina&&Pe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var u=document.createElement("img");return Xe(u,"load",o(this._tileOnLoad,this,l,u)),Xe(u,"error",o(this._tileOnError,this,l,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var l={r:Pe.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=u),l["-y"]=u}return re(this._url,n(l,this.options))},_tileOnLoad:function(r,l){Pe.ielt9?setTimeout(o(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,u){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),r(u,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,u=this.options.zoomReverse,p=this.options.zoomOffset;return u&&(r=l-r),r+p},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=v,l.onerror=v,!l.complete)){l.src=st;var u=this._tiles[r].coords;Qt(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:u})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",st),Tt.prototype._removeTile.call(this,r)},_tileReady:function(r,l,u){if(!(!this._map||u&&u.getAttribute("src")===st))return Tt.prototype._tileReady.call(this,r,l,u)}});function ja(r,l){return new wo(r,l)}var Qu=wo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var u=n({},this.defaultWmsParams);for(var p in l)p in this.options||(u[p]=l[p]);l=$(this,l);var _=l.detectRetina&&Pe.retina?2:1,C=this.getTileSize();u.width=C.x*_,u.height=C.y*_,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,wo.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),u=this._crs,p=dt(u.project(l[0]),u.project(l[1])),_=p.min,C=p.max,O=(this._wmsVersion>=1.3&&this._crs===Uu?[_.y,_.x,C.y,C.x]:[_.x,_.y,C.x,C.y]).join(","),B=wo.prototype.getTileUrl.call(this,r);return B+V(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(r,l){return n(this.wmsParams,r),l||this.redraw(),this}});function Lp(r,l){return new Qu(r,l)}wo.WMS=Qu,ja.wms=Lp;var Dr=ln.extend({options:{padding:.1},initialize:function(r){$(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var u=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),C=p.multiplyBy(-u).add(_).subtract(this._map._getNewPixelOrigin(r,l));Pe.any3d?xo(this._container,C,u):Cn(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),u=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new Ie(u,u.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Za=Dr.extend({options:{tolerance:0},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Xe(r,"mousemove",this._onMouseMove,this),Xe(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xe(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){oe(this._redrawRequest),delete this._ctx,Qt(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var r=this._bounds,l=this._container,u=r.getSize(),p=Pe.retina?2:1;Cn(l,r.min),l.width=p*u.x,l.height=p*u.y,l.style.width=u.x+"px",l.style.height=u.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,u=l.next,p=l.prev;u?u.prev=p:this._drawLast=p,p?p.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),u=[],p,_;for(_=0;_<l.length;_++){if(p=Number(l[_]),isNaN(p))return;u.push(p)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ie,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var u=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var u,p,_,C,O=r._parts,B=O.length,j=this._ctx;if(B){for(j.beginPath(),u=0;u<B;u++){for(p=0,_=O[u].length;p<_;p++)C=O[u][p],j[p?"lineTo":"moveTo"](C.x,C.y);l&&j.closePath()}this._fillStroke(j,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,u=this._ctx,p=Math.max(Math.round(r._radius),1),_=(Math.max(Math.round(r._radiusY),1)||p)/p;_!==1&&(u.save(),u.scale(1,_)),u.beginPath(),u.arc(l.x,l.y/_,p,0,Math.PI*2,!1),_!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,l){var u=l.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),u,p,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(p=u);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Xt(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var u,p,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(l)&&(p=u);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(nt(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,u){this._map._fireDOMEvent(l,u||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var u=l.next,p=l.prev;if(u)u.prev=p;else return;p?p.next=u:u&&(this._drawFirst=u),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var u=l.next,p=l.prev;if(p)p.next=u;else return;u?u.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function kr(r){return Pe.canvas?new Za(r):null}var Kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xu={_initContainer:function(){this._container=It("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Kr("shape");nt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Kr("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Qt(l),r.removeInteractiveTarget(l),delete this._layers[h(r)]},_updateStyle:function(r){var l=r._stroke,u=r._fill,p=r.options,_=r._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(l||(l=r._stroke=Kr("stroke")),_.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=xe(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(_.removeChild(l),r._stroke=null),p.fill?(u||(u=r._fill=Kr("fill")),_.appendChild(u),u.color=p.fillColor||p.color,u.opacity=p.fillOpacity):u&&(_.removeChild(u),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),u=Math.round(r._radius),p=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+u+","+p+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){yo(r._container)},_bringToBack:function(r){Zr(r._container)}},zo=Pe.vml?Kr:ce,na=Dr.extend({_initContainer:function(){this._container=zo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var r=this._bounds,l=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,u.setAttribute("width",l.x),u.setAttribute("height",l.y)),Cn(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=zo("path");r.options.className&&nt(l,r.options.className),r.options.interactive&&nt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Qt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,u=r.options;l&&(u.stroke?(l.setAttribute("stroke",u.color),l.setAttribute("stroke-opacity",u.opacity),l.setAttribute("stroke-width",u.weight),l.setAttribute("stroke-linecap",u.lineCap),l.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?l.setAttribute("stroke-dasharray",u.dashArray):l.removeAttribute("stroke-dasharray"),u.dashOffset?l.setAttribute("stroke-dashoffset",u.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),u.fill?(l.setAttribute("fill",u.fillColor||u.color),l.setAttribute("fill-opacity",u.fillOpacity),l.setAttribute("fill-rule",u.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Ae(r._parts,l))},_updateCircle:function(r){var l=r._point,u=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||u,_="a"+u+","+p+" 0 1,0 ",C=r._empty()?"M0 0":"M"+(l.x-u)+","+l.y+_+u*2+",0 "+_+-u*2+",0 ";this._setPath(r,C)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){yo(r._path)},_bringToBack:function(r){Zr(r._path)}});Pe.vml&&na.include(Xu);function Tc(r){return Pe.svg||Pe.vml?new na(r):null}bt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&kr(r)||Tc(r)}});var Wa=Jo.extend({initialize:function(r,l){Jo.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ot(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Ju(r,l){return new Wa(r,l)}na.create=zo,na.pointsToPath=Ae,mi.geometryToLayer=_i,mi.coordsToLatLng=wc,mi.coordsToLatLngs=Ws,mi.latLngToCoords=zc,mi.latLngsToCoords=Us,mi.getFeature=ea,mi.asFeature=nr,bt.mergeOptions({boxZoom:!0});var ia=mn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Co(),ic(),this._startPoint=this._map.mouseEventToContainerPoint(r),Xe(document,{contextmenu:Mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=It("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new Ie(this._point,this._startPoint),u=l.getSize();Cn(this._box,l.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Qt(this._box),Xt(this._container,"leaflet-crosshair")),gr(),Ns(),Wt(document,{contextmenu:Mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var l=new Ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",ia),bt.mergeOptions({doubleClickZoom:!0});var Qr=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,u=l.getZoom(),p=l.options.zoomDelta,_=r.originalEvent.shiftKey?u-p:u+p;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(r.containerPoint,_)}});bt.addInitHook("addHandler","doubleClickZoom",Qr),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ua=mn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Wr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xt(this._map._container,"leaflet-grab"),Xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ot(this._map.options.maxBounds);this._offsetLimit=dt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),u=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-l+u)%r+l-u,C=(p+l+u)%r-l-u,O=Math.abs(_+u)<Math.abs(C+u)?_:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(r){var l=this._map,u=l.options,p=!u.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),p)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,O=u.easeLinearity,B=_.multiplyBy(O/C),j=B.distanceTo([0,0]),te=Math.min(u.inertiaMaxSpeed,j),me=B.multiplyBy(te/j),De=te/(u.inertiaDeceleration*O),at=me.multiplyBy(-De/2).round();!at.x&&!at.y?l.fire("moveend"):(at=l._limitOffset(at,l.options.maxBounds),q(function(){l.panBy(at,{duration:De,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Ua),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eh=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Xe(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,u=r.scrollTop||l.scrollTop,p=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},u=this.keyCodes,p,_;for(p=0,_=u.left.length;p<_;p++)l[u.left[p]]=[-1*r,0];for(p=0,_=u.right.length;p<_;p++)l[u.right[p]]=[r,0];for(p=0,_=u.down.length;p<_;p++)l[u.down[p]]=[0,r];for(p=0,_=u.up.length;p<_;p++)l[u.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},u=this.keyCodes,p,_;for(p=0,_=u.zoomIn.length;p<_;p++)l[u.zoomIn[p]]=r;for(p=0,_=u.zoomOut.length;p<_;p++)l[u.zoomOut[p]]=-r},_addHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,u=this._map,p;if(l in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(p=this._panKeys[l],r.shiftKey&&(p=_e(p).multiplyBy(3)),u.options.maxBounds&&(p=u._limitOffset(_e(p),u.options.maxBounds)),u.options.worldCopyJump){var _=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(p)));u.panTo(_)}else u.panBy(p)}else if(l in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Mt(r)}}});bt.addInitHook("addHandler","keyboard",eh),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var th=mn.extend({addHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=Hu(r),u=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),p),Mt(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,C=u?Math.ceil(_/u)*u:_,O=r._limitZoom(l+(this._delta>0?C:-C))-l;this._delta=0,this._startTime=null,O&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+O):r.setZoomAround(this._lastMousePos,l+O))}});bt.addInitHook("addHandler","scrollWheelZoom",th);var Bp=600;bt.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var Ga=mn.extend({addHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Xe(document,"touchend",it),Xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Bp),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Wt(document,"touchend",it),Wt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});u._simulated=!0,l.target.dispatchEvent(u)}});bt.addInitHook("addHandler","tapHold",Ga),bt.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Ya=mn.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var u=l.mouseEventToContainerPoint(r.touches[0]),p=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(u.add(p)._divideBy(2))),this._startDist=u.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),it(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,u=l.mouseEventToContainerPoint(r.touches[0]),p=l.mouseEventToContainerPoint(r.touches[1]),_=u.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var C=u._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&C.x===0&&C.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),oe(this._animRequest);var O=o(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(O,this,!0),it(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,oe(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",Ya),bt.BoxZoom=ia,bt.DoubleClickZoom=Qr,bt.Drag=Ua,bt.Keyboard=eh,bt.ScrollWheelZoom=th,bt.TapHold=Ga,bt.TouchZoom=Ya,e.Bounds=Ie,e.Browser=Pe,e.CRS=vt,e.Canvas=Za,e.Circle=Zs,e.CircleMarker=js,e.Class=ue,e.Control=Fi,e.DivIcon=$a,e.DivOverlay=Cr,e.DomEvent=Mp,e.DomUtil=Nu,e.Draggable=Wr,e.Evented=Re,e.FeatureGroup=xr,e.GeoJSON=mi,e.GridLayer=Tt,e.Handler=mn,e.Icon=Qo,e.ImageOverlay=ge,e.LatLng=Ne,e.LatLngBounds=Ct,e.Layer=ln,e.LayerGroup=Ur,e.LineUtil=gc,e.Map=bt,e.Marker=$s,e.Mixin=Op,e.Path=Gr,e.Point=W,e.PolyUtil=fc,e.Polygon=Jo,e.Polyline=Vi,e.Popup=ui,e.PosAnimation=cc,e.Projection=yc,e.Rectangle=Wa,e.Renderer=Dr,e.SVG=na,e.SVGOverlay=Ht,e.TileLayer=wo,e.Tooltip=Ys,e.Transformation=fn,e.Util=be,e.VideoOverlay=Ot,e.bind=o,e.bounds=dt,e.canvas=kr,e.circle=Yr,e.circleMarker=Cc,e.control=tr,e.divIcon=Ks,e.extend=n,e.featureGroup=Yu,e.geoJSON=K,e.geoJson=Z,e.gridLayer=Rp,e.icon=Dp,e.imageOverlay=Ye,e.latLng=Me,e.latLngBounds=ot,e.layerGroup=Va,e.map=jn,e.marker=Xo,e.point=_e,e.polygon=Np,e.polyline=kp,e.popup=Gs,e.rectangle=Ju,e.setOptions=$,e.stamp=h,e.svg=Tc,e.svgOverlay=Sc,e.tileLayer=ja,e.tooltip=ta,e.transformation=Yt,e.version=t,e.videoOverlay=An;var Fc=window.L;e.noConflict=function(){return window.L=Fc,this},window.L=e})});var Hl=en(Cy(),1),du=en(nd(),1),I2=en(sb(),1),M2=en(Sb(),1),Zd=en(Fm(),1);var Q4=Object.prototype.toString;function X4(e){return Q4.call(e)==="[object Function]"}var Lb=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},yd=function(){function e(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Db(e){return e.split("").map(function(t){return"(?:"+t.toUpperCase()+"|"+t.toLowerCase()+")"}).join("")}function Al(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&Array.prototype.splice.call(e,n,1)}function J4(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Pm={},kb=function(){yd(e,null,[{key:"getInstance",value:function(n){return Pm[n]=Pm[n]||new e,Pm[n]}}]);function e(){Lb(this,e),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return yd(e,[{key:"acronym",value:function(n){this.acronyms[n.toLowerCase()]=n;var i=[];for(var o in this.acronyms)J4(this.acronyms,o)&&i.push(this.acronyms[o]);this.acronymRegex=new RegExp(i.join("|"))}},{key:"plural",value:function(n,i){typeof n=="string"&&Al(this.uncountables,n),Al(this.uncountables,i),this.plurals.unshift([n,i])}},{key:"singular",value:function(n,i){typeof n=="string"&&Al(this.uncountables,n),Al(this.uncountables,i),this.singulars.unshift([n,i])}},{key:"irregular",value:function(n,i){Al(this.uncountables,n),Al(this.uncountables,i);var o=n[0],s=n.substr(1),h=i[0],f=i.substr(1);if(o.toUpperCase()===h.toUpperCase())this.plural(new RegExp("("+o+")"+s+"$","i"),"$1"+f),this.plural(new RegExp("("+h+")"+f+"$","i"),"$1"+f),this.singular(new RegExp("("+o+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+h+")"+f+"$","i"),"$1"+s);else{var g=Db(s),v=Db(f);this.plural(new RegExp(o.toUpperCase()+g+"$"),h.toUpperCase()+f),this.plural(new RegExp(o.toLowerCase()+g+"$"),h.toLowerCase()+f),this.plural(new RegExp(h.toUpperCase()+v+"$"),h.toUpperCase()+f),this.plural(new RegExp(h.toLowerCase()+v+"$"),h.toLowerCase()+f),this.singular(new RegExp(o.toUpperCase()+g+"$"),o.toUpperCase()+s),this.singular(new RegExp(o.toLowerCase()+g+"$"),o.toLowerCase()+s),this.singular(new RegExp(h.toUpperCase()+v+"$"),o.toUpperCase()+s),this.singular(new RegExp(h.toLowerCase()+v+"$"),o.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.uncountables=this.uncountables.concat(i)}},{key:"human",value:function(n,i){this.humans.unshift([n,i])}},{key:"clear",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";n==="all"?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[n]=[]}}]),e}();function eB(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var Nb={en:eB};function ba(e,t){if(X4(e)&&(t=e,e=null),e=e||"en",t)t(kb.getInstance(e));else return kb.getInstance(e)}for(Im in Nb)ba(Im,Nb[Im]);var Im;function Bb(e,t){var n=""+e,i,o,s;if(n.length===0)return n;var h=n.toLowerCase().match(/\b\w+$/);if(h&&ba().uncountables.indexOf(h[0])>-1)return n;for(var f=0,g=t.length;f<g;f++)if(i=t[f],o=i[0],s=i[1],n.match(o)){n=n.replace(o,s);break}return n}function Om(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Bb(e,ba(t).plurals)}function Em(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";return Bb(e,ba(t).singulars)}function xd(e){var t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)}function Hb(e,t){t==null&&(t=!0);var n=""+e;return t?n=n.replace(/^[a-z\d]*/,function(i){return ba().acronyms[i]||xd(i)}):n=n.replace(new RegExp("^(?:"+ba().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(i){return i.toLowerCase()}),n=n.replace(/(?:_|(\/))([a-z\d]*)/gi,function(i,o,s,h,f){return o||(o=""),""+o+(ba().acronyms[s]||xd(s))}),n}function Vb(e){var t=""+e;return t=t.replace(new RegExp("(?:([A-Za-z\\d])|^)("+ba().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(n,i,o){return""+(i||"")+(i?"_":"")+o.toLowerCase()}),t=t.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/([a-z\d])([A-Z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()}function qb(e){return e.replace(/_/g,"-")}var Rb={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00C6:"AE",\u00C7:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O","\xD7":"x",\u00D8:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00DD:"Y",\u00DE:"Th",\u00DF:"ss",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00E6:"ae",\u00E7:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00FD:"y",\u00FE:"th",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u011D:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014A:"NG",\u014B:"ng",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041A:"K",\u041B:"L",\u041C:"M",\u041D:"N",\u041E:"O",\u041F:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042A:"",\u042B:"Y",\u042C:"",\u042D:"E",\u042E:"YU",\u042F:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043A:"k",\u043B:"l",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044A:"",\u044B:"y",\u044C:"",\u044D:"e",\u044E:"yu",\u044F:"ya"},tB="?",Mm={},oX=function(){yd(e,null,[{key:"getInstance",value:function(n){return Mm[n]=Mm[n]||new e,Mm[n]}}]);function e(){Lb(this,e),this.approximations={};for(var t in Rb)this.approximate(t,Rb[t])}return yd(e,[{key:"approximate",value:function(n,i){this.approximations[n]=i}},{key:"transliterate",value:function(n,i){var o=this;return n.replace(/[^\u0000-\u007f]/g,function(s){return o.approximations[s]||i||tB})}}]),e}();var O2=en(lw(),1),Ad=en(uw(),1),E2=en(gw(),1),A2=en(Oz(),1),qo=en(Qz(),1),pu=en(Jz(),1),D2=en(iS(),1),Od=en(sS(),1),Dd=en(cS(),1),w0=en(Cm(),1),z0=en(hS(),1),k2=en(mS(),1),N2=en(TS(),1),kd=en(ES(),1),Ed=en(KS(),1),h0=en(XS(),1);typeof global<"u"&&typeof global.self>"u"&&(global.self={},global.__pretenderNodePolyfill=!0);var yq=Object.create;function $m(){var e=yq(null);return e.__=void 0,delete e.__,e}var i2=function(t,n,i){this.path=t,this.matcher=n,this.delegate=i};i2.prototype.to=function(t,n){var i=this.delegate;if(i&&i.willAddRoute&&(t=i.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),n){if(n.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,n,this.delegate)}};var zd=function(t){this.routes=$m(),this.children=$m(),this.target=t};zd.prototype.add=function(t,n){this.routes[t]=n};zd.prototype.addChild=function(t,n,i,o){var s=new zd(n);this.children[t]=s;var h=jm(t,s,o);o&&o.contextEntered&&o.contextEntered(n,h),i(h)};function jm(e,t,n){function i(o,s){var h=e+o;if(s)s(jm(h,t,n));else return new i2(h,t,n)}return i}function xq(e,t,n){for(var i=0,o=0;o<e.length;o++)i+=e[o].path.length;t=t.substr(i);var s={path:t,handler:n};e.push(s)}function r2(e,t,n,i){for(var o=t.routes,s=Object.keys(o),h=0;h<s.length;h++){var f=s[h],g=e.slice();xq(g,f,o[f]);var v=t.children[f];v?r2(g,v,n,i):n.call(i,g)}}var Cq=function(e,t){var n=new zd;e(jm("",n,this.delegate)),r2([],n,function(i){t?t(this,i):this.add(i)},this)};function o2(e){return e.split("/").map(Zm).join("/")}var bq=/%|\//g;function Zm(e){return e.length<3||e.indexOf("%")===-1?e:decodeURIComponent(e).replace(bq,encodeURIComponent)}var wq=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function a2(e){return encodeURIComponent(e).replace(wq,decodeURIComponent)}var zq=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,Td=Array.isArray,Sq=Object.prototype.hasOwnProperty;function s2(e,t){if(typeof e!="object"||e===null)throw new Error("You must pass an object as the second argument to `generate`.");if(!Sq.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.");var n=e[t],i=typeof n=="string"?n:""+n;if(i.length===0)throw new Error("You must provide a param `"+t+"`.");return i}var su=[];su[0]=function(e,t){for(var n=t,i=e.value,o=0;o<i.length;o++){var s=i.charCodeAt(o);n=n.put(s,!1,!1)}return n};su[1]=function(e,t){return t.put(47,!0,!0)};su[2]=function(e,t){return t.put(-1,!1,!0)};su[4]=function(e,t){return t};var lu=[];lu[0]=function(e){return e.value.replace(zq,"\\$1")};lu[1]=function(){return"([^/]+)"};lu[2]=function(){return"(.+)"};lu[4]=function(){return""};var cu=[];cu[0]=function(e){return e.value};cu[1]=function(e,t){var n=s2(t,e.value);return Li.ENCODE_AND_DECODE_PATH_SEGMENTS?a2(n):n};cu[2]=function(e,t){return s2(t,e.value)};cu[4]=function(){return""};var JS=Object.freeze({}),Sd=Object.freeze([]);function Tq(e,t,n){t.length>0&&t.charCodeAt(0)===47&&(t=t.substr(1));for(var i=t.split("/"),o=void 0,s=void 0,h=0;h<i.length;h++){var f=i[h],g=0,v=0;f===""?v=4:f.charCodeAt(0)===58?v=1:f.charCodeAt(0)===42?v=2:v=0,g=2<<v,g&12&&(f=f.slice(1),o=o||[],o.push(f),s=s||[],s.push((g&4)!==0)),g&14&&n[v]++,e.push({type:v,value:Zm(f)})}return{names:o||Sd,shouldDecodes:s||Sd}}function e2(e,t,n){return e.char===t&&e.negate===n}var Nl=function(t,n,i,o,s){this.states=t,this.id=n,this.char=i,this.negate=o,this.nextStates=s?n:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};Nl.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex};Nl.prototype.get=function(t,n){var i=this,o=this.nextStates;if(o!==null)if(Td(o))for(var s=0;s<o.length;s++){var h=i.states[o[s]];if(e2(h,t,n))return h}else{var f=this.states[o];if(e2(f,t,n))return f}};Nl.prototype.put=function(t,n,i){var o;if(o=this.get(t,n))return o;var s=this.states;return o=new Nl(s,s.length,t,n,i),s[s.length]=o,this.nextStates==null?this.nextStates=o.id:Td(this.nextStates)?this.nextStates.push(o.id):this.nextStates=[this.nextStates,o.id],o};Nl.prototype.match=function(t){var n=this,i=this.nextStates;if(!i)return[];var o=[];if(Td(i))for(var s=0;s<i.length;s++){var h=n.states[i[s]];t2(h,t)&&o.push(h)}else{var f=this.states[i];t2(f,t)&&o.push(f)}return o};function t2(e,t){return e.negate?e.char!==t&&e.char!==-1:e.char===t||e.char===-1}function Fq(e){return e.sort(function(t,n){var i=t.types||[0,0,0],o=i[0],s=i[1],h=i[2],f=n.types||[0,0,0],g=f[0],v=f[1],P=f[2];if(h!==P)return h-P;if(h){if(o!==g)return g-o;if(s!==v)return v-s}return s!==v?s-v:o!==g?g-o:0})}function Pq(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var s=e[i];n=n.concat(s.match(t))}return n}var Fd=function(t){this.length=0,this.queryParams=t||{}};Fd.prototype.splice=Array.prototype.splice;Fd.prototype.slice=Array.prototype.slice;Fd.prototype.push=Array.prototype.push;function Iq(e,t,n){var i=e.handlers,o=e.regex();if(!o||!i)throw new Error("state not initialized");var s=t.match(o),h=1,f=new Fd(n);f.length=i.length;for(var g=0;g<i.length;g++){var v=i[g],P=v.names,I=v.shouldDecodes,R=JS,$=!1;if(P!==Sd&&I!==Sd)for(var V=0;V<P.length;V++){$=!0;var le=P[V],re=s&&s[h++];R===JS&&(R={}),Li.ENCODE_AND_DECODE_PATH_SEGMENTS&&I[V]?R[le]=re&&decodeURIComponent(re):R[le]=re}f[g]={handler:v.handler,params:R,isDynamic:$}}return f}function n2(e){e=e.replace(/\+/gm,"%20");var t;try{t=decodeURIComponent(e)}catch{t=""}return t}var Li=function(){this.names=$m();var t=[],n=new Nl(t,0,-1,!0,!1);t[0]=n,this.states=t,this.rootState=n};Li.prototype.add=function(t,n){for(var i=this.rootState,o="^",s=[0,0,0],h=new Array(t.length),f=[],g=!0,v=0,P=0;P<t.length;P++){for(var I=t[P],R=Tq(f,I.path,s),$=R.names,V=R.shouldDecodes;v<f.length;v++){var le=f[v];le.type!==4&&(g=!1,i=i.put(47,!1,!1),o+="/",i=su[le.type](le,i),o+=lu[le.type](le))}h[P]={handler:I.handler,names:$,shouldDecodes:V}}g&&(i=i.put(47,!1,!1),o+="/"),i.handlers=h,i.pattern=o+"$",i.types=s;var re;typeof n=="object"&&n!==null&&n.as&&(re=n.as),re&&(this.names[re]={segments:f,handlers:h})};Li.prototype.handlersFor=function(t){var n=this.names[t];if(!n)throw new Error("There is no route named "+t);for(var i=new Array(n.handlers.length),o=0;o<n.handlers.length;o++){var s=n.handlers[o];i[o]=s}return i};Li.prototype.hasRoute=function(t){return!!this.names[t]};Li.prototype.generate=function(t,n){var i=this.names[t],o="";if(!i)throw new Error("There is no route named "+t);for(var s=i.segments,h=0;h<s.length;h++){var f=s[h];f.type!==4&&(o+="/",o+=cu[f.type](f,n))}return o.charAt(0)!=="/"&&(o="/"+o),n&&n.queryParams&&(o+=this.generateQueryString(n.queryParams)),o};Li.prototype.generateQueryString=function(t){var n=[],i=Object.keys(t);i.sort();for(var o=0;o<i.length;o++){var s=i[o],h=t[s];if(h!=null){var f=encodeURIComponent(s);if(Td(h))for(var g=0;g<h.length;g++){var v=s+"[]="+encodeURIComponent(h[g]);n.push(v)}else f+="="+encodeURIComponent(h),n.push(f)}}return n.length===0?"":"?"+n.join("&")};Li.prototype.parseQueryString=function(t){for(var n=t.split("&"),i={},o=0;o<n.length;o++){var s=n[o].split("="),h=n2(s[0]),f=h.length,g=!1,v=void 0;s.length===1?v="true":(f>2&&h.slice(f-2)==="[]"&&(g=!0,h=h.slice(0,f-2),i[h]||(i[h]=[])),v=s[1]?n2(s[1]):""),g?i[h].push(v):i[h]=v}return i};Li.prototype.recognize=function(t){var n,i=[this.rootState],o={},s=!1,h=t.indexOf("#");h!==-1&&(t=t.substr(0,h));var f=t.indexOf("?");if(f!==-1){var g=t.substr(f+1,t.length);t=t.substr(0,f),o=this.parseQueryString(g)}t.charAt(0)!=="/"&&(t="/"+t);var v=t;Li.ENCODE_AND_DECODE_PATH_SEGMENTS?t=o2(t):(t=decodeURI(t),v=decodeURI(v));var P=t.length;P>1&&t.charAt(P-1)==="/"&&(t=t.substr(0,P-1),v=v.substr(0,v.length-1),s=!0);for(var I=0;I<t.length&&(i=Pq(i,t.charCodeAt(I)),!!i.length);I++);for(var R=[],$=0;$<i.length;$++)i[$].handlers&&R.push(i[$]);i=Fq(R);var V=R[0];return V&&V.handlers&&(s&&V.pattern&&V.pattern.slice(-5)==="(.+)$"&&(v=v+"/"),n=Iq(V,v,o)),n};Li.VERSION="0.3.4";Li.ENCODE_AND_DECODE_PATH_SEGMENTS=!0;Li.Normalizer={normalizeSegment:Zm,normalizePath:o2,encodePathSegment:a2};Li.prototype.map=Cq;var wa=Li;var za=function(t,n,i,o){this.type=t,this.bubbles=n,this.cancelable=i,this.target=o};za.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var Mq={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function Oq(e){var t;if(typeof DOMParser<"u"){var n=new DOMParser;t=n.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}var Eq={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function Aq(e,t){t.addEventListener(e,function(n){var i=t["on"+e];i&&typeof i=="function"&&i.call(n.target,n)})}function Pd(){this._eventListeners={};for(var e=["loadstart","progress","load","abort","loadend"],t=e.length-1;t>=0;t--)Aq(e[t],this)}Pd.prototype={addEventListener:function(t,n){this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push(n)},removeEventListener:function(t,n){for(var i=this._eventListeners[t]||[],o=0,s=i.length;o<s;++o)if(i[o]==n)return i.splice(o,1)},dispatchEvent:function(t){for(var n=t.type,i=this._eventListeners[n]||[],o=0;o<i.length;o++)typeof i[o]=="function"?i[o].call(this,t):i[o].handleEvent(t);return!!t.defaultPrevented},_progress:function(t,n,i){var o=new za("progress");o.target=this,o.lengthComputable=t,o.loaded=n,o.total=i,this.dispatchEvent(o)}};function on(){Pd.call(this),this.readyState=on.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new Pd,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}on.prototype=new Pd;on.UNSENT=0;on.OPENED=1;on.HEADERS_RECEIVED=2;on.LOADING=3;on.DONE=4;var l2={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(t,n,i,o,s){this.method=t,this.url=n,this.async=typeof i=="boolean"?i:!0,this.username=o,this.password=s,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=n,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(on.OPENED)},setRequestHeader:function(t,n){if(c2(this),Eq[t]||/^(Sec-|Proxy-)/.test(t))throw new Error('Refused to set unsafe header "'+t+'"');this.requestHeaders[t]?this.requestHeaders[t]+=","+n:this.requestHeaders[t]=n},send:function(t){if(c2(this),!/^(get|head)$/i.test(this.method)){var n=!1;Object.keys(this.requestHeaders).forEach(function(i){i.toLowerCase()==="content-type"&&(n=!0)}),!n&&!(t||"").toString().match("FormData")&&(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=t}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(on.OPENED),typeof this.onSend=="function"&&this.onSend(this),this.dispatchEvent(new za("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new za("abort",!1,!1,this)),this.readyState>on.UNSENT&&this.sendFlag&&(this._readyStateChange(on.UNSENT),this.sendFlag=!1),typeof this.onerror=="function"&&this.onerror()},getResponseHeader:function(t){if(this.readyState<on.HEADERS_RECEIVED||/^Set-Cookie2?$/i.test(t))return null;t=t.toLowerCase();for(var n in this.responseHeaders)if(n.toLowerCase()==t)return this.responseHeaders[n];return null},getAllResponseHeaders:function(){if(this.readyState<on.HEADERS_RECEIVED)return"";var t="";for(var n in this.responseHeaders)this.responseHeaders.hasOwnProperty(n)&&!/^Set-Cookie2?$/i.test(n)&&(t+=n+": "+this.responseHeaders[n]+`\r
`);return t},overrideMimeType:function(t){typeof t=="string"&&(this.forceMimeType=t.toLowerCase())},_readyStateChange:function(t){this.readyState=t,typeof this.onreadystatechange=="function"&&this.onreadystatechange(new za("readystatechange")),this.dispatchEvent(new za("readystatechange")),this.readyState==on.DONE&&this.dispatchEvent(new za("load",!1,!1,this)),(this.readyState==on.UNSENT||this.readyState==on.DONE)&&this.dispatchEvent(new za("loadend",!1,!1,this))},_setResponseHeaders:function(t){this.responseHeaders={};for(var n in t)t.hasOwnProperty(n)&&(this.responseHeaders[n]=t[n]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(on.HEADERS_RECEIVED):this.readyState=on.HEADERS_RECEIVED},_setResponseBody:function(t){Dq(this),kq(this),Nq(t);var n=this.chunkSize||10,i=0;this.responseText="",this.response=this.responseText;do this.async&&this._readyStateChange(on.LOADING),this.responseText+=t.substring(i,i+n),this.response=this.responseText,i+=n;while(i<t.length);var o=this.getResponseHeader("Content-Type");if(this.responseText&&(!o||/(text\/xml)|(application\/xml)|(\+xml)/.test(o)))try{this.responseXML=Oq(this.responseText)}catch{}this.async?this._readyStateChange(on.DONE):this.readyState=on.DONE},respond:function(t,n,i){this._setResponseHeaders(n||{}),this.status=typeof t=="number"?t:200,this.statusText=Mq[this.status],this._setResponseBody(i||"")}};for(Wm in l2)on.prototype[Wm]=l2[Wm];var Wm;function c2(e){if(e.readyState!==on.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function Dq(e){if(e.readyState==on.DONE)throw new Error("Request done")}function kq(e){if(e.async&&e.readyState!=on.HEADERS_RECEIVED)throw new Error("No headers received")}function Nq(e){if(typeof e!="string"){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw t.name="InvalidBodyException",t}}var uu=on;var u2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g2=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},Rq=Object.prototype.hasOwnProperty,Lq;function h2(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Bq(e){for(var t=/([^=?&]+)=?([^&]*)/g,n={},i;i=t.exec(e);){var o=h2(i[1]),s=h2(i[2]);o===null||s===null||o in n||(n[o]=s)}return n}function Hq(e,t){t=t||"";var n=[],i,o;typeof t!="string"&&(t="?");for(o in e)if(Rq.call(e,o)){if(i=e[o],!i&&(i===null||i===Lq||isNaN(i))&&(i=""),o=encodeURIComponent(o),i=encodeURIComponent(i),o===null||i===null)continue;n.push(o+"="+i)}return n.length?t+n.join("&"):""}var Vq=Hq,qq=Bq,Id={stringify:Vq,parse:qq},$q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,jq=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Zq=/^[a-zA-Z]:/,Wq="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",Uq=new RegExp("^"+Wq+"+");function Qm(e){return(e||"").toString().replace(Uq,"")}var Ym=[["#","hash"],["?","query"],function(t,n){return Vo(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d2={hash:1,query:1};function v2(e){var t;typeof window<"u"?t=window:typeof u2<"u"?t=u2:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var i={},o=typeof e,s;if(e.protocol==="blob:")i=new mo(unescape(e.pathname),{});else if(o==="string"){i=new mo(e,{});for(s in d2)delete i[s]}else if(o==="object"){for(s in e)s in d2||(i[s]=e[s]);i.slashes===void 0&&(i.slashes=$q.test(e.href))}return i}function Vo(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function y2(e,t){e=Qm(e),t=t||{};var n=jq.exec(e),i=n[1]?n[1].toLowerCase():"",o=!!n[2],s=!!n[3],h=0,f;return o?s?(f=n[2]+n[3]+n[4],h=n[2].length+n[3].length):(f=n[2]+n[4],h=n[2].length):s?(f=n[3]+n[4],h=n[3].length):f=n[4],i==="file:"?h>=2&&(f=f.slice(2)):Vo(i)?f=n[4]:i?o&&(f=f.slice(2)):h>=2&&Vo(t.protocol)&&(f=n[4]),{protocol:i,slashes:o||Vo(i),slashesCount:h,rest:f}}function Gq(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,o=n[i-1],s=!1,h=0;i--;)n[i]==="."?n.splice(i,1):n[i]===".."?(n.splice(i,1),h++):h&&(i===0&&(s=!0),n.splice(i,1),h--);return s&&n.unshift(""),(o==="."||o==="..")&&n.push(""),n.join("/")}function mo(e,t,n){if(e=Qm(e),!(this instanceof mo))return new mo(e,t,n);var i,o,s,h,f,g,v=Ym.slice(),P=typeof t,I=this,R=0;for(P!=="object"&&P!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Id.parse),t=v2(t),o=y2(e||"",t),i=!o.protocol&&!o.slashes,I.slashes=o.slashes||i&&t.slashes,I.protocol=o.protocol||t.protocol||"",e=o.rest,(o.protocol==="file:"&&(o.slashesCount!==2||Zq.test(e))||!o.slashes&&(o.protocol||o.slashesCount<2||!Vo(I.protocol)))&&(v[3]=[/(.*)/,"pathname"]);R<v.length;R++){if(h=v[R],typeof h=="function"){e=h(e,I);continue}s=h[0],g=h[1],s!==s?I[g]=e:typeof s=="string"?~(f=e.indexOf(s))&&(typeof h[2]=="number"?(I[g]=e.slice(0,f),e=e.slice(f+h[2])):(I[g]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(I[g]=f[1],e=e.slice(0,f.index)),I[g]=I[g]||i&&h[3]&&t[g]||"",h[4]&&(I[g]=I[g].toLowerCase())}n&&(I.query=n(I.query)),i&&t.slashes&&I.pathname.charAt(0)!=="/"&&(I.pathname!==""||t.pathname!=="")&&(I.pathname=Gq(I.pathname,t.pathname)),I.pathname.charAt(0)!=="/"&&Vo(I.protocol)&&(I.pathname="/"+I.pathname),g2(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(h=I.auth.split(":"),I.username=h[0]||"",I.password=h[1]||""),I.origin=I.protocol!=="file:"&&Vo(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString()}function Yq(e,t,n){var i=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Id.parse)(t)),i[e]=t;break;case"port":i[e]=t,g2(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var o=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==o?o+t:t}else i[e]=t;break;default:i[e]=t}for(var s=0;s<Ym.length;s++){var h=Ym[s];h[4]&&(i[h[1]]=i[h[1]].toLowerCase())}return i.origin=i.protocol!=="file:"&&Vo(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function Kq(e){(!e||typeof e!="function")&&(e=Id.stringify);var t,n=this,i=n.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(n.slashes||Vo(n.protocol)?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(o+=n.hash),o}mo.prototype={set:Yq,toString:Kq};mo.extractProtocol=y2;mo.location=v2;mo.trimLeft=Qm;mo.qs=Id;var Qq=mo;function Rl(e){var t=new Qq(e);t.host||(t.href=t.href);var n=t.pathname;n.charAt(0)!=="/"&&(n="/"+n);var i=t.host;return(t.port==="80"||t.port==="443")&&(i=t.hostname),{host:i,protocol:t.protocol,search:t.query,hash:t.hash,href:t.href,pathname:n,fullpath:n+(t.query||"")+(t.hash||"")}}var Xm=function(){function e(){this.verbs={GET:new wa,PUT:new wa,POST:new wa,DELETE:new wa,PATCH:new wa,HEAD:new wa,OPTIONS:new wa}}return e}(),Km=function(){function e(){this.registries={}}return e.prototype.forURL=function(t){var n=Rl(t).host,i=this.registries[n];return i===void 0&&(i=this.registries[n]=new Xm),i.verbs},e}(),Si=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Si<"u"&&Si,Ji={searchParams:"URLSearchParams"in Si,iterable:"Symbol"in Si&&"iterator"in Symbol,blob:"FileReader"in Si&&"Blob"in Si&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Si,arrayBuffer:"ArrayBuffer"in Si};function Xq(e){return e&&DataView.prototype.isPrototypeOf(e)}Ji.arrayBuffer&&(p2=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x2=ArrayBuffer.isView||function(e){return e&&p2.indexOf(Object.prototype.toString.call(e))>-1});var p2,x2;function hu(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Jm(e){return typeof e!="string"&&(e=String(e)),e}function e0(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return Ji.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Wn(e){this.map={},e instanceof Wn?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Wn.prototype.append=function(e,t){e=hu(e),t=Jm(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};Wn.prototype.delete=function(e){delete this.map[hu(e)]};Wn.prototype.get=function(e){return e=hu(e),this.has(e)?this.map[e]:null};Wn.prototype.has=function(e){return this.map.hasOwnProperty(hu(e))};Wn.prototype.set=function(e,t){this.map[hu(e)]=Jm(t)};Wn.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};Wn.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e0(e)};Wn.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),e0(e)};Wn.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),e0(e)};Ji.iterable&&(Wn.prototype[Symbol.iterator]=Wn.prototype.entries);function Um(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function C2(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Jq(e){var t=new FileReader,n=C2(t);return t.readAsArrayBuffer(e),n}function e$(e){var t=new FileReader,n=C2(t);return t.readAsText(e),n}function t$(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function f2(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b2(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Ji.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ji.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ji.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ji.arrayBuffer&&Ji.blob&&Xq(e)?(this._bodyArrayBuffer=f2(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ji.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||x2(e))?this._bodyArrayBuffer=f2(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ji.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ji.blob&&(this.blob=function(){var e=Um(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Um(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Jq)}),this.text=function(){var e=Um(this);if(e)return e;if(this._bodyBlob)return e$(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(t$(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ji.formData&&(this.formData=function(){return this.text().then(r$)}),this.json=function(){return this.text().then(JSON.parse)},this}var n$=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function i$(e){var t=e.toUpperCase();return n$.indexOf(t)>-1?t:e}function Ta(e,t){if(!(this instanceof Ta))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof Ta){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Wn(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Wn(t.headers)),this.method=i$(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ta.prototype.clone=function(){return new Ta(this,{body:this._bodyInit})};function r$(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var i=n.split("="),o=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(s))}}),t}function o$(e){var t=new Wn,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(i){return i.indexOf(`
`)===0?i.substr(1,i.length):i}).forEach(function(i){var o=i.split(":"),s=o.shift().trim();if(s){var h=o.join(":").trim();t.append(s,h)}}),t}b2.call(Ta.prototype);function $r(e,t){if(!(this instanceof $r))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Wn(t.headers),this.url=t.url||"",this._initBody(e)}b2.call($r.prototype);$r.prototype.clone=function(){return new $r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Wn(this.headers),url:this.url})};$r.error=function(){var e=new $r(null,{status:0,statusText:""});return e.type="error",e};var a$=[301,302,303,307,308];$r.redirect=function(e,t){if(a$.indexOf(t)===-1)throw new RangeError("Invalid status code");return new $r(null,{status:t,headers:{location:e}})};var Sa=Si.DOMException;try{new Sa}catch{Sa=function(t,n){this.message=t,this.name=n;var i=Error(t);this.stack=i.stack},Sa.prototype=Object.create(Error.prototype),Sa.prototype.constructor=Sa}function t0(e,t){return new Promise(function(n,i){var o=new Ta(e,t);if(o.signal&&o.signal.aborted)return i(new Sa("Aborted","AbortError"));var s=new XMLHttpRequest;function h(){s.abort()}s.onload=function(){var g={status:s.status,statusText:s.statusText,headers:o$(s.getAllResponseHeaders()||"")};g.url="responseURL"in s?s.responseURL:g.headers.get("X-Request-URL");var v="response"in s?s.response:s.responseText;setTimeout(function(){n(new $r(v,g))},0)},s.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},s.onabort=function(){setTimeout(function(){i(new Sa("Aborted","AbortError"))},0)};function f(g){try{return g===""&&Si.location.href?Si.location.href:g}catch{return g}}s.open(o.method,f(o.url),!0),o.credentials==="include"?s.withCredentials=!0:o.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(Ji.blob?s.responseType="blob":Ji.arrayBuffer&&o.headers.get("Content-Type")&&o.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(s.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Wn)?Object.getOwnPropertyNames(t.headers).forEach(function(g){s.setRequestHeader(g,Jm(t.headers[g]))}):o.headers.forEach(function(g,v){s.setRequestHeader(v,g)}),o.signal&&(o.signal.addEventListener("abort",h),s.onreadystatechange=function(){s.readyState===4&&o.signal.removeEventListener("abort",h)}),s.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}t0.polyfill=!0;Si.fetch||(Si.fetch=t0,Si.Headers=Wn,Si.Request=Ta,Si.Response=$r);var m2=Object.freeze({__proto__:null,Headers:Wn,Request:Ta,Response:$r,get DOMException(){return Sa},fetch:t0});function s$(e,t){var n=["error","timeout","abort","readystatechange"],i=[],o=["readyState","responseText","response","responseXML","responseURL","status","statusText"],s=e._passthroughRequest=new t;s.open(e.method,e.url,e.async,e.username,e.password),e.responseType==="arraybuffer"&&(o=["readyState","response","status","statusText"],s.responseType=e.responseType),"onload"in s&&n.push("load"),e.async&&e.responseType!=="arraybuffer"&&(n.push("progress"),i.push("progress"));function h(R,$,V){for(var le=0;le<R.length;le++){var re=R[le];re in $&&(V[re]=$[re])}}function f(R,$,V){R.dispatchEvent(V),R["on"+$]&&R["on"+$](V)}function g(R){s["on"+R]=function($){h(o,s,e),f(e,R,$)}}function v(R){s.upload&&e.upload&&e.upload["on"+R]&&(s.upload["on"+R]=function($){f(e.upload,R,$)})}var P;for(P=0;P<n.length;P++)g(n[P]);for(P=0;P<i.length;P++)v(i[P]);e.async&&(s.timeout=e.timeout,s.withCredentials=e.withCredentials),!s.timeout&&s.timeout!==0&&(s.timeout=0);for(var I in e.requestHeaders)s.setRequestHeader(I,e.requestHeaders[I]);return s}function l$(e){function t(){uu.call(this)}return t.prototype=Object.create(uu.prototype),t.prototype.constructor=t,t.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");uu.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},t.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var i=s$(this,e.pretender._nativeXMLHttpRequest);return i.send.apply(i,this.sendArguments),i},t.prototype._passthroughCheck=function(n,i){return this._passthroughRequest?this._passthroughRequest[n].apply(this._passthroughRequest,i):uu.prototype[n].apply(this,i)},t.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},t.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},t.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),t}var Gm=function(){function e(){this.length=0}return e.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0},e}();function w2(e,t,n){var i=0,o=e.requestBody;o&&(o instanceof FormData?o.forEach(function(s){s instanceof File?i+=s.size:i+=s.length}):i=o.byteLength||o.size||o.length||0),setTimeout(function(){if(!e.aborted&&!e.status){var s=new Date().getTime()-t.getTime(),h=n<=0?0:s/n*i;e.upload._progress(!0,h,i),e._progress(!0,h,i),w2(e,t,n)}else e.status&&(e.upload._progress(!0,i,i),e._progress(!0,i,i))},50)}function c$(e){return Object.prototype.toString.call(e)==="[object Array]"}var _2={};function ys(e){return function(t,n,i){return this.register(e,t,n,i)}}var Md=function(){function e(){var t=this;this.hosts=new Km,this.handlers=[],this.get=ys("GET"),this.post=ys("POST"),this.put=ys("PUT"),this.delete=ys("DELETE"),this.patch=ys("PATCH"),this.head=ys("HEAD"),this.options=ys("OPTIONS"),this.passthrough=_2;var n=arguments[arguments.length-1],i=typeof n=="object"?n:null,o=i&&i.trackRequests===!1;this.handledRequests=o?new Gm:[],this.passthroughRequests=o?new Gm:[],this.unhandledRequests=o?new Gm:[],this.requestReferences=[],this.forcePassthrough=i&&i.forcePassthrough===!0,this.disableUnhandled=i&&i.disableUnhandled===!0,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var s={pretender:this};this.ctx=s,self.XMLHttpRequest=l$(s),this._fetchProps=m2?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach(function(g){t["_native"+g]=self[g],self[g]=m2[g]},this),this.running=!0;for(var h=i?arguments.length-1:arguments.length,f=0;f<h;f++)this.map(arguments[f])}return e.prototype.map=function(t){t.call(this)},e.prototype.register=function(t,n,i,o){if(!i)throw new Error("The function you tried passing to Pretender to handle "+t+" "+n+" is undefined or missing.");var s=i;s.numberOfCalls=0,s.async=o,this.handlers.push(s);var h=this.hosts.forURL(n)[t];return h.add([{path:Rl(n).fullpath,handler:s}]),s},e.prototype.checkPassthrough=function(t){var n=t.method.toUpperCase(),i=Rl(t.url).fullpath,o=this.hosts.forURL(t.url)[n].recognize(i),s=o&&o[0];return s&&s.handler===_2||this.forcePassthrough?(this.passthroughRequests.push(t),this.passthroughRequest(n,i,t),!0):!1},e.prototype.handleRequest=function(t){var n=t.method.toUpperCase(),i=t.url,o=this._handlerFor(n,i,t);if(o){o.handler.numberOfCalls++;var s=o.handler.async;this.handledRequests.push(t);var h=this,f=function(v){if(!c$(v)){var P="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+i+". "+P)}var I=v[0],R=h.prepareHeaders(v[1]),$=h.prepareBody(v[2],R);h.handleResponse(t,s,function(){t.respond(I,R,$),h.handledRequest(n,i,t)})};try{var g=o.handler(t);g&&typeof g.then=="function"?g.then(function(v){f(v)}):f(g)}catch(v){this.erroredRequest(n,i,t,v),this.resolve(t)}}else this.disableUnhandled||(this.unhandledRequests.push(t),this.unhandledRequest(n,i,t))},e.prototype.handleResponse=function(t,n,i){var o=typeof n=="function"?n():n;if(o=typeof o=="boolean"||typeof o=="number"?o:0,o===!1)i();else{var s=this;s.requestReferences.push({request:t,callback:i}),o!==!0&&(w2(t,new Date,o),setTimeout(function(){s.resolve(t)},o))}},e.prototype.resolve=function(t){for(var n=0,i=this.requestReferences.length;n<i;n++){var o=this.requestReferences[n];if(o.request===t){o.callback(),this.requestReferences.splice(n,1);break}}},e.prototype.requiresManualResolution=function(t,n){var i=this._handlerFor(t.toUpperCase(),n,{});if(!i)return!1;var o=i.handler.async;return typeof o=="function"?o()===!0:o===!0},e.prototype.prepareBody=function(t,n){return t},e.prototype.prepareHeaders=function(t){return t},e.prototype.handledRequest=function(t,n,i){},e.prototype.passthroughRequest=function(t,n,i){},e.prototype.unhandledRequest=function(t,n,i){throw new Error("Pretender intercepted "+t+" "+n+" but no handler was defined for this type of request")},e.prototype.erroredRequest=function(t,n,i,o){throw o.message="Pretender intercepted "+t+" "+n+" but encountered an error: "+o.message,o},e.prototype.shutdown=function(){var t=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach(function(n){self[n]=t["_native"+n]},this),this.ctx.pretender=void 0,this.running=!1},e.prototype._handlerFor=function(t,n,i){var o=this.hosts.forURL(n)[t],s=o.recognize(Rl(n).fullpath),h=s?s[0]:null;return h&&(i.params=h.params,i.queryParams=s.queryParams),h},e.parseURL=Rl,e.Hosts=Km,e.Registry=Xm,e}();Md.parseURL=Rl;Md.Hosts=Km;Md.Registry=Xm;var z2=Md;typeof global<"u"&&global.__pretenderNodePolyfill&&(delete global.self,delete global.__pretenderNodePolyfill);function u$(e){for(var t=(0,M2.default)((0,Zd.default)(e)),n=t.length,i=new Array(n),o={},s=n,h=function f(g,v,P){if(P.indexOf(g)>=0)throw new Error("Cyclic dependency in properties ".concat(JSON.stringify(P)));if(!o[v]){o[v]=!0;var I=e.filter(function(le){return le&&le[0]===g});if(v=I.length,v){var R=P.concat(g);do{var $=I[--v],V=$[1];V&&f(V,t.indexOf(V),R)}while(v)}i[--n]=g}};s--;)o[s]||h(t[s],s,[]);return i.reverse()}var xs=function e(){this.build=function(t){var n={},i=Object.assign({},this.attrs);delete i.afterCreate,Object.keys(i).forEach(s=>{e.isTrait.call(this,s)&&delete i[s]});var o=h$(i,t);return o.forEach(function(s){var h,f;h=function(P){return(0,I2.default)(P,f)},f=v=>Array.isArray(v)?v.map(f):(0,Hl.default)(v)?h(v):(0,du.default)(v)?v.call(i,t):v;var g=i[s];(0,du.default)(g)?n[s]=g.call(n,t):n[s]=f(g)}),n}};xs.extend=function(e){var t=Object.assign({},this.attrs,e),n=function(){this.attrs=t,xs.call(this)};return n.extend=xs.extend,n.extractAfterCreateCallbacks=xs.extractAfterCreateCallbacks,n.isTrait=xs.isTrait,n.attrs=t,n};xs.extractAfterCreateCallbacks=function(){var{traits:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=[],n=this.attrs||{},i;return n.afterCreate&&t.push(n.afterCreate),Array.isArray(e)?i=e:i=Object.keys(n),i.filter(o=>this.isTrait(o)&&n[o].extension.afterCreate).forEach(o=>{t.push(n[o].extension.afterCreate)}),t};xs.isTrait=function(e){var{attrs:t}=this;return(0,Hl.default)(t[e])&&t[e].__isTrait__===!0};function h$(e,t){var n=function(){},i=new n,o=[],s;return Object.keys(e).forEach(function(h){var f;Object.defineProperty(i.constructor.prototype,h,{get(){return o.push([s,h]),f},set(g){f=g},enumerable:!1,configurable:!0})}),Object.keys(e).forEach(function(h){var f=e[h];typeof f!="function"&&(i[h]=f)}),Object.keys(e).forEach(function(h){var f=e[h];s=h,typeof f=="function"&&(i[h]=f.call(i,t)),o.push([h])}),u$(o)}function d$(e){return(+e).toString()===e.toString()}var d0=class{constructor(){this._nextId=1,this._ids={}}get(){return this._nextId}set(t){if(this._ids[t])throw new Error("Attempting to use the ID ".concat(t,", but it's already been used"));d$(t)&&+t>=this._nextId&&(this._nextId=+t+1),this._ids[t]=!0}inc(){var t=this.get()+1;return this._nextId=t,t}fetch(){var t=this.get();return this._ids[t]=!0,this.inc(),t.toString()}reset(){this._nextId=1,this._ids={}}};var p$=console.warn,pi=class{constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.code=t,this.headers=n,t===204?i!==void 0&&i!==""?p$(`Mirage: One of your route handlers is returning a custom
          204 Response that has data, but this is a violation of the HTTP spec
          and could lead to unexpected behavior. 204 responses should have no
          content (an empty string) as their body.`):this.data="":(i===void 0||i==="")&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data={}:this.data=i,t!==204&&!Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")&&(this.headers["Content-Type"]="application/json")}toRackResponse(){return[this.code,this.headers,this.data]}};function S2(e,t,n,i,o,s,h){try{var f=e[s](h),g=f.value}catch(v){return void n(v)}f.done?t(g):Promise.resolve(g).then(i,o)}function f$(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function h(g){S2(s,i,o,h,f,"next",g)}function f(g){S2(s,i,o,h,f,"throw",g)}h(void 0)})}}function Fa(e,t,n){return(t=g$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function m$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(i){Fa(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$(e){var t=_$(e,"string");return typeof t=="symbol"?t:t+""}var n0={},i0={},r0={},o0={};function Ue(e){if(typeof n0[e]!="string"){var t=Hb(_o(e),!1),n=t.split("/").map(O2.default).join("/");n0[e]=n}return n0[e]}function an(e){if(typeof i0[e]!="string"){var t=qb(_o(e));i0[e]=t}return i0[e]}function _o(e){if(typeof r0[e]!="string"){var t=Vb(e);r0[e]=t}return r0[e]}function Nd(e){if(typeof o0[e]!="string"){var t=xd(e);o0[e]=t}return o0[e]}function v$(e){return(0,Hl.default)(e)&&e.__isAssociation__===!0}var F2=["description","fileName","lineNumber","message","name","number","stack"];function qe(e,t){if(typeof e=="string"&&!t)throw new Rd(e);if(!e)throw new Rd(t.replace(/^ +/gm,"")||"Assertion failed")}function Rd(e,t){var n=Error(e);t&&(n.stack=t);for(var i=0;i<F2.length;i++){var o=F2[i];["description","message","stack"].indexOf(o)>-1?this[o]="Mirage: ".concat(n[o]):this[o]=n[o]}}Rd.prototype=Object.create(Error.prototype);var ws=class{constructor(t,n){this.modelName=void 0,typeof t=="object"?(this.modelName=void 0,this.opts=t):(this.modelName=t?an(t):"",this.opts=n||{}),this.name="",this.ownerModelName=""}setSchema(t){this.schema=t}isReflexive(){var t=!!(this.modelName===this.ownerModelName&&this.opts.inverse),n=this.opts.inverse===void 0&&this.ownerModelName===this.modelName;return t||n}get isPolymorphic(){return this.opts.polymorphic}get type(){throw new Error("Subclasses of Association must implement a getter for type")}get foreignKey(){return this.getForeignKey()}get identifier(){throw new Error("Subclasses of Association must implement a getter for identifier")}},Ll={},bs=class extends ws{get identifier(){if(typeof Ll[this.name]!="string"){var t="".concat(Ue(this.name),"Id");Ll[this.name]=t}return Ll[this.name]}get type(){return"belongsTo"}getForeignKeyArray(){return[Ue(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof Ll[this.name]!="string"){var t="".concat(Ue(this.name),"Id");Ll[this.name]=t}return Ll[this.name]}addMethodsToModelClass(t,n){var i=t.prototype,o=this,s=this.getForeignKey(),h={[n]:this};i.belongsToAssociations=Object.assign(i.belongsToAssociations,h),Object.keys(i.belongsToAssociations).forEach(f=>{var g=i.belongsToAssociations[f];i.belongsToAssociationFks[g.getForeignKey()]=g}),this.schema.addDependentAssociation(this,this.modelName),i.associationKeys.add(n),i.associationIdKeys.add(s),Object.defineProperty(i,s,{get(){this._tempAssociations=this._tempAssociations||{};var f=this._tempAssociations[n],g;return f===null?g=null:o.isPolymorphic?f?g={id:f.id,type:f.modelName}:g=this.attrs[s]:f?g=f.id:g=this.attrs[s],g},set(f){var g;f===null?g=null:f!==void 0&&(o.isPolymorphic?(qe(typeof f=="object","You're setting an ID on the polymorphic association '".concat(o.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),g=o.schema[o.schema.toCollectionName(f.type)].find(f.id)):(g=o.schema[o.schema.toCollectionName(o.modelName)].find(f),qe(g,"Couldn't find ".concat(o.modelName," with id = ").concat(f)))),this[n]=g}}),Object.defineProperty(i,n,{get(){this._tempAssociations=this._tempAssociations||{};var f=this._tempAssociations[n],g=this[s],v=null;return f?v=f:g!==null&&(o.isPolymorphic?v=o.schema[o.schema.toCollectionName(g.type)].find(g.id):v=o.schema[o.schema.toCollectionName(o.modelName)].find(g)),v},set(f){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[n]=f,f&&f.hasInverseFor(o)){var g=f.inverseFor(o);f.associate(this,g)}}}),i["new".concat(Nd(n))]=function(){var f,g;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,g=arguments.length<=0?void 0:arguments[0]);var v=o.schema[o.schema.toCollectionName(f)].new(g);return this[n]=v,v},i["create".concat(Nd(n))]=function(){var f,g;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,g=arguments.length<=0?void 0:arguments[0]);var v=o.schema[o.schema.toCollectionName(f)].create(g);return this[n]=v,this.save(),v.reload()}}disassociateAllDependentsFromTarget(t){var n=this.ownerModelName,i;this.isPolymorphic?i={type:t.modelName,id:t.id}:i=t.id;var o=this.schema[this.schema.toCollectionName(n)].where(s=>{var h=s[this.getForeignKey()];return h?typeof h=="object"?h.type===i.type&&h.id===i.id:h===i:!1});o.models.forEach(s=>{s.disassociate(t,this),s.save()})}};function Pa(e){return Array.isArray(e)?e.map(Pa):Object.assign({},e)}var p0=class{constructor(t,n,i){this.name=t,this._records=[],this.identityManager=new i,n&&this.insert(n)}all(){return Pa(this._records)}insert(t){return Array.isArray(t)?(0,E2.default)(t,n=>this._insertRecord(n)):this._insertRecord(t)}find(t){if(Array.isArray(t)){var n=this._findRecords(t).filter(Boolean).map(Pa);return n}else{var i=this._findRecord(t);return i?Pa(i):null}}findBy(t){var n=this._findRecordBy(t);return n?Pa(n):null}where(t){return this._findRecordsWhere(t).map(Pa)}firstOrCreate(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.where(t),[o]=i;if(o)return o;var s=Object.assign(n,t),h=this.insert(s);return h}update(t,n){var i;if(typeof n>"u"){n=t;var o=[];return this._records.forEach(v=>{var P=Object.assign({},v);this._updateRecord(v,n),(0,Ad.default)(P,v)||o.push(v)}),o}else if(typeof t=="number"||typeof t=="string"){var s=t,h=this._findRecord(s);return this._updateRecord(h,n),h}else if(Array.isArray(t)){var f=t;return i=this._findRecords(f),i.forEach(v=>{this._updateRecord(v,n)}),i}else if(typeof t=="object"){var g=t;return i=this._findRecordsWhere(g),i.forEach(v=>{this._updateRecord(v,n)}),i}}remove(t){var n;if(typeof t>"u")this._records=[],this.identityManager.reset();else if(typeof t=="number"||typeof t=="string"){var i=this._findRecord(t),o=this._records.indexOf(i);this._records.splice(o,1)}else Array.isArray(t)?(n=this._findRecords(t),n.forEach(s=>{var h=this._records.indexOf(s);this._records.splice(h,1)})):typeof t=="object"&&(n=this._findRecordsWhere(t),n.forEach(s=>{var h=this._records.indexOf(s);this._records.splice(h,1)}))}_findRecord(t){return t=t.toString(),this._records.find(n=>n.id===t)}_findRecordBy(t){return this._findRecordsWhere(t)[0]}_findRecords(t){return t.map(this._findRecord,this)}_findRecordsWhere(t){var n=this._records;function i(s){var h=Object.keys(t);return h.every(function(f){return String(s[f])===String(t[f])})}var o=typeof t=="object"?i:t;return n.filter(o)}_insertRecord(t){var n=Pa(t);return n&&(n.id===void 0||n.id===null)?n.id=this.identityManager.fetch(n):(n.id=n.id.toString(),this.identityManager.set(n.id)),this._records.push(n),Pa(n)}_updateRecord(t,n){var i=n&&Object.prototype.hasOwnProperty.call(n,"id")?n.id.toString():null,o=t.id;if(i&&o!==i)throw new Error("Updating the ID of a record is not permitted");for(var s in n)s!=="id"&&(t[s]=n[s])}},Ld=class{constructor(t,n){this._collections=[],this.registerIdentityManagers(n),t&&this.loadData(t)}loadData(t){for(var n in t)this.createCollection(n,(0,A2.default)(t[n]))}dump(){return this._collections.reduce((t,n)=>(t[n.name]=n.all(),t),{})}createCollection(t,n){if(this[t])n&&this[t].insert(n);else{var i=this.identityManagerFor(t),o=new p0(t,n,i);Object.defineProperty(this,t,{get(){var s=o.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(h){s[h]=function(){return o[h](...arguments)}}),s}}),Object.defineProperty(this,"_".concat(t),{get(){var s=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach(function(h){s[h]=function(){return o[h](...arguments)}}),s}}),this._collections.push(o)}return this}createCollections(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(o=>this.createCollection(o))}emptyData(){this._collections.forEach(t=>t.remove())}identityManagerFor(t){return this._identityManagers[this._container.inflector.singularize(t)]||this._identityManagers.application||d0}registerIdentityManagers(t){this._identityManagers=t||{}}},Pr=class e{constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];qe(t&&typeof t=="string","You must pass a `modelName` into a Collection"),this.modelName=t,this.models=n}get length(){return this.models.length}update(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0,qo.default)(this.models,"update",...n),this}save(){return(0,qo.default)(this.models,"save"),this}reload(){return(0,qo.default)(this.models,"reload"),this}destroy(){return(0,qo.default)(this.models,"destroy"),this}add(t){return this.models.push(t),this}remove(t){var n=this.models.find(o=>o.toString()===t.toString());if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}includes(t){return this.models.some(n=>n.toString()===t.toString())}filter(t){var n=this.models.filter(t);return new e(this.modelName,n)}sort(t){var n=this.models.concat().sort(t);return new e(this.modelName,n)}slice(){var t=this.models.slice(...arguments);return new e(this.modelName,t)}mergeCollection(t){return this.models=this.models.concat(t.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(t=>t.id).join(","),")")}},Bi=class e{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.models=t}get length(){return this.models.length}update(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0,qo.default)(this.models,"update",...n),this}destroy(){return(0,qo.default)(this.models,"destroy"),this}save(){return(0,qo.default)(this.models,"save"),this}reload(){return(0,qo.default)(this.models,"reload"),this}add(t){return this.models.push(t),this}remove(t){var n=this.models.find(o=>(0,Ad.default)(o.attrs,t.attrs));if(n){var i=this.models.indexOf(n);this.models.splice(i,1)}return this}includes(t){return this.models.some(n=>(0,Ad.default)(n.attrs,t.attrs))}filter(t){var n=this.models.filter(t);return new e(n)}sort(t){var n=this.models.concat().sort(t);return new e(n)}slice(){var t=this.models.slice(...arguments);return new e(t)}mergeCollection(t){return this.models=this.models.concat(t.models),this}toString(){return"collection:".concat(this.modelName,"(").concat(this.models.map(t=>t.id).join(","),")")}},Bl={},Cs=class extends ws{get identifier(){if(typeof Bl[this.name]!="string"){var t="".concat(Ue(this._container.inflector.singularize(this.name)),"Ids");Bl[this.name]=t}return Bl[this.name]}get type(){return"hasMany"}getForeignKeyArray(){return[Ue(this.ownerModelName),this.getForeignKey()]}getForeignKey(){if(typeof Bl[this.name]!="string"){var t="".concat(this._container.inflector.singularize(Ue(this.name)),"Ids");Bl[this.name]=t}return Bl[this.name]}addMethodsToModelClass(t,n){var i=t.prototype,o=this,s=this.getForeignKey(),h={[n]:this};i.hasManyAssociations=Object.assign(i.hasManyAssociations,h),Object.keys(i.hasManyAssociations).forEach(f=>{var g=i.hasManyAssociations[f];i.hasManyAssociationFks[g.getForeignKey()]=g}),this.schema.addDependentAssociation(this,this.modelName),i.associationKeys.add(n),i.associationIdKeys.add(s),Object.defineProperty(i,s,{get(){this._tempAssociations=this._tempAssociations||{};var f=this._tempAssociations[n],g=[];return f?o.isPolymorphic?g=f.models.map(v=>({type:v.modelName,id:v.id})):g=f.models.map(v=>v.id):g=this.attrs[s]||[],g},set(f){var g;if(f===null)g=[];else if(f!==void 0)if(qe(Array.isArray(f),"You must pass an array in when setting ".concat(s," on ").concat(this)),o.isPolymorphic){qe(f.every(P=>typeof P=="object"&&typeof P.type<"u"&&typeof P.id<"u"),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(s," on ").concat(this));var v=f.map(P=>{var{type:I,id:R}=P;return o.schema[o.schema.toCollectionName(I)].find(R)});g=new Bi(v)}else g=o.schema[o.schema.toCollectionName(o.modelName)].find(f);this[n]=g}}),Object.defineProperty(i,n,{get(){this._tempAssociations=this._tempAssociations||{};var f=null;if(this._tempAssociations[n])f=this._tempAssociations[n];else{if(o.isPolymorphic)if(this[s]){var g=this[s],v=g.map(P=>{var{type:I,id:R}=P;return o.schema[o.schema.toCollectionName(I)].find(R)});f=new Bi(v)}else f=new Bi(o.modelName);else this[s]?f=o.schema[o.schema.toCollectionName(o.modelName)].find(this[s]):f=new Pr(o.modelName);this._tempAssociations[n]=f}return f},set(f){(f instanceof Pr||f instanceof Bi)&&(f=f.models),f=f?(0,pu.default)(f):[],this._tempAssociations=this._tempAssociations||{};var g;o.isPolymorphic?g=new Bi(f):g=new Pr(o.modelName,f),this._tempAssociations[n]=g,f.forEach(v=>{if(v.hasInverseFor(o)){var P=v.inverseFor(o);v.associate(this,P)}})}}),i["new".concat(Nd(Ue(this._container.inflector.singularize(o.name))))]=function(){var f,g;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,g=arguments.length<=0?void 0:arguments[0]);var v=o.schema[o.schema.toCollectionName(f)].new(g),P=this[n].models;return P.push(v),this[n]=P,v},i["create".concat(Nd(Ue(this._container.inflector.singularize(o.name))))]=function(){var f,g;o.isPolymorphic?(f=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1]):(f=o.modelName,g=arguments.length<=0?void 0:arguments[0]);var v=o.schema[o.schema.toCollectionName(f)].create(g),P=this[n].models;return P.push(v),this[n]=P,this.save(),v.reload()}}disassociateAllDependentsFromTarget(t){var n=this.ownerModelName,i;this.isPolymorphic?i={type:t.modelName,id:t.id}:i=t.id;var o=this.schema[this.schema.toCollectionName(n)].where(s=>{var h=s[this.getForeignKey()];return h&&h.find(f=>typeof f=="object"?f.type===i.type&&f.id===i.id:f===i)});o.models.forEach(s=>{s.disassociate(t,this),s.save()})}},a0={},Vl=class{getModelClassFromPath(t){if(t){if(typeof a0[t]!="string"){for(var n=t.split("/"),i,o=n.length-1;o>=0;o--){var s=n[o];if(s.length&&s[0]!==":"){i=s;break}}a0[t]=an(Ue(this._container.inflector.singularize(i)))}return a0[t]}}_getIdForRequest(t,n){var i;return t&&t.params&&t.params.id?i=t.params.id:n&&n.data&&n.data.id&&(i=n.data.id),i}_getJsonApiDocForRequest(t,n){var i;return t&&t.requestBody&&(i=JSON.parse(t.requestBody)),this.serializerOrRegistry.normalize(i,n)}_getAttrsForRequest(t,n){var i=this._getJsonApiDocForRequest(t,n),o=this._getIdForRequest(t,i),s={};return qe(i.data&&(i.data.attributes||i.data.type||i.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),i.data.attributes&&(s=Object.keys(i.data.attributes).reduce((h,f)=>(h[Ue(f)]=i.data.attributes[f],h),{})),i.data.relationships&&Object.keys(i.data.relationships).forEach(h=>{var f=i.data.relationships[h],g=this.schema.modelClassFor(n),v=g.associationFor(Ue(h)),P;qe(v,"You're passing the relationship '".concat(h,"' to the '").concat(n,"' model via a ").concat(t.method," to '").concat(t.url,"', but you did not define the '").concat(h,"' association on the '").concat(n,"' model.")),v.isPolymorphic?P=f.data:v instanceof Cs?P=f.data&&f.data.map(I=>I.id):P=f.data&&f.data.id,s[v.identifier]=P},{}),o&&(s.id=o),s}_getAttrsForFormRequest(t){var{requestBody:n}=t,i,o=[];return qe(n&&typeof n=="string","You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),o=n.split("&"),i=o.reduce((s,h)=>{var[f,g]=h.split("=");return s[f]=decodeURIComponent(g.replace(/\+/g," ")),s},{}),i}},Bd=class extends Vl{constructor(t,n,i,o,s){super(s),this.schema=t,this.serializerOrRegistry=n,this.userFunction=i,this.path=o}handle(t){return this.userFunction(this.schema,t)}setRequest(t){this.request=t}serialize(t,n){var i;return n?i=this.serializerOrRegistry.serializerFor(n,{explicit:!0}):i=this.serializerOrRegistry,i.serialize(t,this.request)}normalizedRequestAttrs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,{path:n,request:i,request:{requestHeaders:o}}=this,s,h={};for(var f in o)h[f.toLowerCase()]=o[f];return/x-www-form-urlencoded/.test(h["content-type"])?s=this._getAttrsForFormRequest(i):(t?qe(an(t)===t,"You called normalizedRequestAttrs('".concat(t,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(an(t),"').")):t=this.getModelClassFromPath(n),qe(this.schema.hasModelForModelName(t),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(t,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),s=this._getAttrsForRequest(i,t)),s}},f0=class{constructor(t,n,i){this.schema=t,this.serializerOrRegistry=n,this.object=i}handle(){return this.object}},zs=class extends Vl{constructor(t,n,i,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};super(),i=i||this.getModelClassFromPath(o),this.schema=t,this.serializerOrRegistry=n,this.shorthand=i,this.options=s;var h=Array.isArray(i)?"array":typeof i;if(h==="string"){var f=this.schema[this.schema.toCollectionName(i)];this.handle=v=>this.handleStringShorthand(v,f)}else if(h==="array"){var g=i.map(v=>this.schema[this.schema.toCollectionName(v)]);this.handle=v=>this.handleArrayShorthand(v,g)}}},m0=class extends zs{handleStringShorthand(t,n){var i=this.shorthand,o=Ue(i);qe(n,"The route handler for ".concat(t.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var s=this._getIdForRequest(t);if(s){var h=n.find(s);return h||new pi(404)}else if(this.options.coalesce){var f=this.serializerOrRegistry.getCoalescedIds(t,o);if(f)return n.find(f)}return n.all()}handleArrayShorthand(t,n){var i=this.shorthand,o=this._getIdForRequest(t);return qe(!o||this._container.inflector.singularize(i[0])!==i[0],`It looks like you're using the "Single record with
      related records" version of the array shorthand, in addition to opting
      in to the model layer. This shorthand was made when there was no
      serializer layer. Now that you're using models, please ensure your
      relationships are defined, and create a serializer for the parent
      model, adding the relationships there.`),n.map(s=>s.all())}},_0=class extends zs{handleStringShorthand(t,n){var i=this.shorthand,o=Ue(i);qe(n,"The route handler for ".concat(t.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var s=this._getAttrsForRequest(t,n.camelizedModelName);return n.create(s)}},g0=class extends zs{handleStringShorthand(t,n){var i=this.shorthand,o=Ue(i);qe(n,"The route handler for ".concat(t.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var s=this._getIdForRequest(t),h=n.find(s);if(!h)return new pi(404);var f=this._getAttrsForRequest(t,n.camelizedModelName);return h.update(f)}},v0=class extends zs{handleStringShorthand(t,n){var i=this.shorthand,o=Ue(i);qe(n,"The route handler for ".concat(t.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var s=this._getIdForRequest(t),h=n.find(s);if(!h)return new pi(404);h.destroy()}handleArrayShorthand(t,n){var i=this._getIdForRequest(t),o=n[0].find(i),s=n.slice(1).map(h=>this._container.inflector.pluralize(h.camelizedModelName));s.forEach(h=>o[h].destroy()),o.destroy()}},y0=class extends zs{handleStringShorthand(t,n){var i=this.shorthand,o=Ue(i);qe(n,"The route handler for ".concat(t.url," is trying to access the ").concat(o," model, but that model doesn't exist."));var s=this._getIdForRequest(t);if(s){var h=n.find(s);return h?new pi(204):new pi(404)}else if(this.options.coalesce&&t.queryParams&&t.queryParams.ids){var f=n.find(t.queryParams.ids);return f?new pi(204):new pi(404)}else return new pi(204)}},y$={get:200,put:204,post:201,delete:204};function x$(e){var{verb:t,schema:n,serializerOrRegistry:i,path:o,rawHandler:s,options:h,middleware:f}=e,g,v=[n,i,s,o,h,f],P=typeof s;return P==="function"?g=new Bd(...v):P==="object"&&s?g=new f0(...v):t==="get"?g=new m0(...v):t==="post"?g=new _0(...v):t==="put"||t==="patch"?g=new g0(...v):t==="delete"?g=new v0(...v):t==="head"&&(g=new y0(...v)),g}var Hd=class{constructor(t){var{schema:n,verb:i,rawHandler:o,customizedCode:s,options:h,path:f,serializerOrRegistry:g,middleware:v}=t;this.verb=i,this.customizedCode=s,this.serializerOrRegistry=g,this.middleware=v||[],this.handler=x$({verb:i,schema:n,path:f,serializerOrRegistry:g,rawHandler:o,options:h})}handle(t){return this._getMirageResponseForRequest(t,this.middleware).then(n=>this.serialize(n,t)).then(n=>n.toRackResponse())}_getMirageResponseForRequest(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i;try{this.handler instanceof Bd&&this.handler.setRequest(t),i=this.handleWithMiddleware(t,[...n,(s,h)=>this.handler.handle(h)])}catch(s){if(s instanceof Rd)i=new pi(500,{},s);else{var o=s.message||s;i=new pi(500,{},{message:o,stack:"Mirage: Your ".concat(t.method," handler for the url ").concat(t.url,` threw an error:

`).concat(s.stack||s)})}}return this._toMirageResponse(i)}handleWithMiddleware(t,n){var i=this,[o,...s]=n;return o(this.schema,t,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t;return i.handleWithMiddleware(h,s)})}_toMirageResponse(t){var n;return new Promise((i,o)=>{Promise.resolve(t).then(s=>{if(s instanceof pi)n=t;else{var h=this._getCodeForResponse(s);n=new pi(h,{},s)}i(n)}).catch(o)})}_getCodeForResponse(t){var n;return this.customizedCode?n=this.customizedCode:(n=y$[this.verb],n===204&&t!==void 0&&t!==""&&(n=200)),n}serialize(t,n){return t.data=this.serializerOrRegistry.serialize(t.data,n),t}};function R2(e,t){class n extends this{constructor(){for(var o=arguments.length,s=new Array(o),h=0;h<o;h++)s[h]=arguments[h];super(...s),e&&(0,D2.default)(e,"constructor")&&e.constructor.call(this,...s)}}return Object.assign(n,this,t),e&&Object.assign(n.prototype,e),n}var L2=(()=>{class e{constructor(n,i,o,s){return qe(n,"A model requires a schema"),qe(i,"A model requires a modelName"),this._schema=n,this.modelName=i,this.fks=s||[],this.attrs={},o=o||{},this.fks.forEach(h=>{this.attrs[h]=o[h]!==void 0?o[h]:null}),Object.keys(o).forEach(h=>{var f=o[h];this._validateAttr(h,f),this._setupAttr(h,f),this._setupRelationship(h,f)}),this}save(){var n=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[n].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[n].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}update(n,i){var o;return n==null?this:(typeof n=="object"?o=n:(o={})[n]=i,Object.keys(o).forEach(function(s){!this.associationKeys.has(s)&&!this.associationIdKeys.has(s)&&this._definePlainAttribute(s),this[s]=o[s]},this),this.save(),this)}destroy(){if(this.isSaved()){this._disassociateFromDependents();var n=this._schema.toInternalCollectionName(this.modelName);this._schema.db[n].remove(this.attrs.id)}}isNew(){var n=!1,i=this.attrs.id!==void 0&&this.attrs.id!==null;if(i){var o=this._schema.toInternalCollectionName(this.modelName),s=this._schema.db[o].find(this.attrs.id);s&&(n=!0)}return!n}isSaved(){return!this.isNew()}reload(){if(this.id){var n=this._schema.toInternalCollectionName(this.modelName),i=this._schema.db[n].find(this.id);Object.keys(i).filter(function(o){return o!=="id"}).forEach(function(o){this.attrs[o]=i[o]},this)}return this._tempAssociations={},this}toJSON(){return m$({},this.attrs)}get associations(){return this._schema.associationsFor(this.modelName)}associationFor(n){return this.associations[n]}inverseFor(n){return this._explicitInverseFor(n)||this._implicitInverseFor(n)}_explicitInverseFor(n){this._checkForMultipleExplicitInverses(n);var i=this._schema.associationsFor(this.modelName),o=n.opts.inverse,s=o?i[o]:null,h=s&&s.isPolymorphic,f=s&&s.modelName===n.ownerModelName,g=s&&s.opts.inverse;return g&&s.opts.inverse!==n.name&&qe(!1,"You specified an inverse of ".concat(o," for ").concat(n.name,", but it does not match ").concat(s.modelName," ").concat(s.name,"'s inverse")),h||f?s:null}_checkForMultipleExplicitInverses(n){var i=this._schema.associationsFor(this.modelName),o=Object.keys(i).filter(s=>{var h=i[s],f=n.ownerModelName===h.modelName,g=n.name===h.opts.inverse;return f&&g});qe(o.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(n.ownerModelName,".").concat(n.name," association."))}_implicitInverseFor(n){var i=this._schema.associationsFor(this.modelName),o=n.ownerModelName;return(0,Od.default)(i).filter(s=>s.modelName===o).reduce((s,h)=>{var f=h.opts.inverse,g=f===void 0,v=f===n.name,P=g||v;return P&&(qe(!s,"The ".concat(this.modelName," model has multiple possible inverse associations for the ").concat(n.ownerModelName,".").concat(n.name," association.")),s=h),s},null)}hasInverseFor(n){return!!this.inverseFor(n)}alreadyAssociatedWith(n,i){var o=this[i.name];if(o&&n)return o instanceof e?o.isSaved()&&n.isSaved()?o.toString()===n.toString():o===n:o.includes(n)}associate(n,i){if(!this.alreadyAssociatedWith(n,i)){var{name:o}=i;i instanceof Cs?this[o].includes(n)||this[o].add(n):this[o]=n}}disassociate(n,i){var o=i.getForeignKey();if(i instanceof Cs){var s;if(i.isPolymorphic){var h=this[o].find(f=>{var{type:g,id:v}=f;return g===n.modelName&&v===n.id});s=h&&this[o].indexOf(h)}else s=this[o].map(f=>f.toString()).indexOf(n.id.toString());s>-1&&this.attrs[o].splice(s,1)}else this.attrs[o]=null}get isSaving(){return this._schema.isSaving[this.toString()]}_setupAttr(n,i){var o=this.associationKeys.has(n)||this.associationIdKeys.has(n);o||(this.attrs[n]=i,this._definePlainAttribute(n))}_definePlainAttribute(n){var i=Object.getOwnPropertyDescriptor(this,n);i&&i.get||(Object.prototype.hasOwnProperty.call(this.attrs,n)||(this.attrs[n]=null),Object.defineProperty(this,n,{get(){return this.attrs[n]},set(o){this.attrs[n]=o}}))}_setupRelationship(n,i){var o=this.associationIdKeys.has(n)||this.fks.includes(n),s=this.associationKeys.has(n);o&&(i!=null&&this._validateForeignKeyExistsInDatabase(n,i),this.attrs[n]=i),s&&(this[n]=i)}_validateAttr(n,i){if(this.associationKeys.has(n)){var o=this.associationFor(n),s=i===null;if(o instanceof Cs){var h=i instanceof Pr||i instanceof Bi,f=Array.isArray(i)&&i.every($=>$ instanceof e);qe(h||f||s,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(i,'" under the ').concat(n," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else o instanceof bs&&qe(i instanceof e||s,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(i,'" under the ').concat(n," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(n)&&n.endsWith("Ids")){var g=Array.isArray(i),v=i===null;qe(g||v,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(i,'" under the ').concat(n," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}{var P=i instanceof e||i instanceof Pr||i instanceof Bi,I=Array.isArray(i)&&i.length&&i.every($=>$ instanceof e);if(P||I){var R=i;qe(this.associationKeys.has(n),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(R.toString()," under the ").concat(n," key, but you haven't defined that key as an association on your model."))}}}_validateForeignKeyExistsInDatabase(n,i){if(Array.isArray(i)){var o=this.hasManyAssociationFks[n],s;o.isPolymorphic?(s=i.map(P=>{var{type:I,id:R}=P;return this._schema.db[this._schema.toInternalCollectionName(I)].find(R)}),s=(0,pu.default)(s)):s=this._schema.db[this._schema.toInternalCollectionName(o.modelName)].find(i);var h=o.isPolymorphic?i.map(P=>"".concat(P.type,":").concat(P.id)).join(","):i;qe(s.length===i.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(n," of ").concat(h,", but some of those records don't exist in the database."))}else{var f=this.belongsToAssociationFks[n],g;f.isPolymorphic?g=this._schema.db[this._schema.toInternalCollectionName(i.type)].find(i.id):g=this._schema.db[this._schema.toInternalCollectionName(f.modelName)].find(i);var v=f.isPolymorphic?"".concat(i.type,":").concat(i.id):i;qe(g,"You're instantiating a ".concat(this.modelName," that has a ").concat(n," of ").concat(v,", but that record doesn't exist in the database."))}}_saveAssociations(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}_saveBelongsToAssociations(){(0,Od.default)(this.belongsToAssociations).forEach(n=>{this._disassociateFromOldInverses(n),this._saveNewAssociates(n),this._associateWithNewInverses(n)})}_saveHasManyAssociations(){(0,Od.default)(this.hasManyAssociations).forEach(n=>{this._disassociateFromOldInverses(n),this._saveNewAssociates(n),this._associateWithNewInverses(n)})}_disassociateFromOldInverses(n){n instanceof Cs?this._disassociateFromHasManyInverses(n):n instanceof bs&&this._disassociateFromBelongsToInverse(n)}_disassociateFromHasManyInverses(n){var i=n.getForeignKey(),o=this._tempAssociations&&this._tempAssociations[n.name],s=this.attrs[i];if(o&&s){var h;n.isPolymorphic?h=s.map(f=>{var{type:g,id:v}=f;return this._schema[this._schema.toCollectionName(g)].find(v)}):h=this._schema[this._schema.toCollectionName(n.modelName)].find(s||[]).models,h.filter(f=>!f.isSaving&&!o.includes(f)&&f.hasInverseFor(n)).forEach(f=>{var g=f.inverseFor(n);f.disassociate(this,g),f.save()})}}_disassociateFromBelongsToInverse(n){var i=n.getForeignKey(),o=this._tempAssociations&&this._tempAssociations[n.name],s=this.attrs[i];if(o!==void 0&&s){var h;if(n.isPolymorphic?h=this._schema[this._schema.toCollectionName(s.type)].find(s.id):h=this._schema[this._schema.toCollectionName(n.modelName)].find(s),h.hasInverseFor(n)){var f=h.inverseFor(n);h.disassociate(this,f),h._updateInDb(h.attrs)}}}_disassociateFromDependents(){this._schema.dependentAssociationsFor(this.modelName).forEach(n=>{n.disassociateAllDependentsFromTarget(this)})}_saveNewAssociates(n){var i=n.getForeignKey(),o=this._tempAssociations&&this._tempAssociations[n.name];if(o!==void 0){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[n.name],o instanceof Pr)o.models.filter(h=>!h.isSaving).forEach(h=>{h.save()}),this._updateInDb({[i]:o.models.map(h=>h.id)});else if(o instanceof Bi)o.models.filter(h=>!h.isSaving).forEach(h=>{h.save()}),this._updateInDb({[i]:o.models.map(h=>({type:h.modelName,id:h.id}))});else if(o===null)this._updateInDb({[i]:null});else if(this.equals(o))this._updateInDb({[i]:this.id});else if(!o.isSaving){o.save(),this._syncTempAssociations(o);var s;n.isPolymorphic?s={id:o.id,type:o.modelName}:s=o.id,this._updateInDb({[i]:s})}this.__isSavingNewChildren=!1}}_associateWithNewInverses(n){if(!this.__isSavingNewChildren){var i=this[n.name];i instanceof e?this._associateModelWithInverse(i,n):(i instanceof Pr||i instanceof Bi)&&i.models.forEach(o=>{this._associateModelWithInverse(o,n)}),delete this._tempAssociations[n.name]}}_associateModelWithInverse(n,i){if(n.hasInverseFor(i)){var o=n.inverseFor(i),s=o.getForeignKey(),h=this.id;if(o instanceof bs){var f;o.isPolymorphic?f={type:this.modelName,id:h}:f=h,this._schema.db[this._schema.toInternalCollectionName(n.modelName)].update(n.id,{[s]:f})}else{var g=this._schema.db[this._schema.toInternalCollectionName(n.modelName)],v=g.find(n.id)[o.getForeignKey()]||[],P=Object.assign([],v),I,R;o.isPolymorphic?(I={type:this.modelName,id:h},R=P.some($=>$.type==this.modelName&&$.id==h)):(I=h,R=P.includes(h)),R||P.push(I),g.update(n.id,{[s]:P})}}}_updateInDb(n){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,n)}_syncTempAssociations(n){Object.keys(this._tempAssociations).forEach(i=>{this._tempAssociations[i]&&this._tempAssociations[i].toString()===n.toString()&&(this._tempAssociations[i]=n)})}toString(){var n=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(n)}equals(n){return this.toString()===n.toString()}}return e.extend=R2,e.findBelongsToAssociation=function(t){return this.prototype.belongsToAssociations[t]},e})(),er=class{constructor(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.registry=t,this.type=n,this.request=i,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=(0,du.default)(this.embed)?this.embed:()=>!!this.embed,this.serializeIds=this.serializeIds||void 0,this.primaryKey=this.primaryKey||void 0}serialize(t){return this.primaryResource=t,this.buildPayload(t)}normalize(t){return t}buildPayload(t,n,i,o){if(!t&&(0,Dd.default)(n))return o;if(t){var[s,h]=this.getHashForPrimaryResource(t),f=this.isCollection(t)?t.models:[t];return this.buildPayload(void 0,h,f,s)}else{var g=n.shift(),[v,P]=this.getHashForIncludedResource(g),I=P.filter(V=>!i.map(le=>le.toString()).includes(V.toString())).concat(n),R=(this.isCollection(g)?g.models:[g]).concat(i),$=this.mergePayloads(o,v);return this.buildPayload(void 0,I,R,$)}}getHashForPrimaryResource(t){var[n,i]=this.getHashForResource(t),o;if(this.root){qe(!(t instanceof Bi),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var s=this.serializerFor(t.modelName),h=s.keyForResource(t);o={[h]:n}}else o=n;return[o,i]}getHashForIncludedResource(t){var n,i;if(t instanceof Bi)n={},i=t.models;else{var o=this.serializerFor(t.modelName),[s,h]=o.getHashForResource(t),f=o.keyForRelationship(t.modelName);n=Array.isArray(s)?{[f]:s}:{[f]:[s]},i=h}return[n,i]}getHashForResource(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this,h;o&&t.modelName&&(s=this.serializerFor(t.modelName)),this.isModel(t)?h=s._hashForModel(t,n,i):h=t.models.map(g=>{var v=s;return v||(v=this.serializerFor(g.modelName)),v._hashForModel(g,n,i)});var f=(0,z0.default)((0,pu.default)((0,Zd.default)(s.getKeysForIncluded().map(g=>this.isCollection(t)?t.models.map(v=>v[g]):t[g]))),g=>g.toString());return[h,f]}mergePayloads(t,n){var i,[o]=Object.keys(n);return t[o]?(i=t,i[o]=t[o].concat(n[o])):i=Object.assign(t,n),i}keyForResource(t){var{modelName:n}=t;return this.isModel(t)?this.keyForModel(n):this.keyForCollection(n)}keyForModel(t){return Ue(t)}keyForCollection(t){return this._container.inflector.pluralize(this.keyForModel(t))}_hashForModel(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this._attrsForModel(t);if(n&&t.fks.forEach(h=>{delete o[h]}),this.embed){var s=Object.assign({},i);s[t.modelName]=s[t.modelName]||{},s[t.modelName][t.id]=!0,this.getKeysForEmbedded().forEach(h=>{var f=t[h];if(f&&!(0,w0.default)(s,"".concat(f.modelName,".").concat(f.id))){var[g]=this.getHashForResource(f,!0,s,!0),v=this.keyForEmbeddedRelationship(h);if(o[v]=g,this.isModel(f)){var P="".concat(Ue(h),"Id");delete o[P]}}})}return this._maybeAddAssociationIds(t,o)}_attrsForModel(t){var n={};return this.attrs?n=this.attrs.reduce((i,o)=>(i[o]=t[o],i),{}):n=Object.assign(n,t.attrs),t.fks.forEach(i=>delete n[i]),this._formatAttributeKeys(n)}_maybeAddAssociationIds(t,n){var i=Object.assign({},n);return this.serializeIds==="always"?[...t.associationKeys].filter(o=>!this._embedFn(o)).forEach(o=>{var s=t[o],h=t.associationFor(o);if(this.isCollection(s)){var f=this.keyForRelationshipIds(o);i[f]=t["".concat(this._container.inflector.singularize(o),"Ids")]}else if(this.isModel(s)&&h.isPolymorphic){var g=this.keyForPolymorphicForeignKeyType(o),v=this.keyForPolymorphicForeignKeyId(o);i[g]=t["".concat(o,"Id")].type,i[v]=t["".concat(o,"Id")].id}else if(s){var P=this.keyForForeignKey(o);i[P]=t["".concat(o,"Id")]}}):this.serializeIds==="included"&&this.getKeysForIncluded().forEach(o=>{var s=t[o],h=t.associationFor(o);if(this.isCollection(s)){var f=this.keyForRelationshipIds(o);i[f]=t["".concat(this._container.inflector.singularize(o),"Ids")]}else if(this.isModel(s)&&h.isPolymorphic){var g=this.keyForPolymorphicForeignKeyType(o),v=this.keyForPolymorphicForeignKeyId(o);i[g]=t["".concat(o,"Id")].type,i[v]=t["".concat(o,"Id")].id}else if(this.isModel(s)){var P=this.keyForForeignKey(o);i[P]=t["".concat(o,"Id")]}}),i}keyForAttribute(t){return t==="id"?this.keyForId():t}keyForRelationship(t){return Ue(this._container.inflector.pluralize(t))}keyForEmbeddedRelationship(t){return Ue(t)}keyForRelationshipIds(t){return"".concat(this._container.inflector.singularize(Ue(t)),"Ids")}keyForForeignKey(t){return"".concat(Ue(t),"Id")}keyForPolymorphicForeignKeyId(t){return"".concat(Ue(t),"Id")}keyForPolymorphicForeignKeyType(t){return"".concat(Ue(t),"Type")}isModel(t){return t instanceof L2}isCollection(t){return t instanceof Pr||t instanceof Bi}isModelOrCollection(t){return this.isModel(t)||this.isCollection(t)}serializerFor(t){return this.registry.serializerFor(t)}getAssociationKeys(){return(0,du.default)(this.include)?this.include(this.request,this.primaryResource):this.include}getKeysForEmbedded(){return this.getAssociationKeys().filter(t=>this._embedFn(t))}getKeysForIncluded(){return this.getAssociationKeys().filter(t=>!this._embedFn(t))}get schema(){return this.registry.schema}keyForId(){return this.primaryKey}valueForId(t){return t}_formatAttributeKeys(t){var n={};for(var i in t){var o=t[i];i==="id"&&(o=this.valueForId(o));var s=this.keyForAttribute(i);n[s]=o}return n}getCoalescedIds(){}};er.prototype.include=[];er.prototype.root=!0;er.prototype.embed=!1;er.prototype.primaryKey="id";er.prototype.serializeIds="included";er.extend=R2;var Vd=class extends er{constructor(){super(...arguments),this.alwaysIncludeLinkageData=this.alwaysIncludeLinkageData||void 0}keyForModel(t){return an(t)}keyForCollection(t){return an(t)}keyForAttribute(t){return an(t)}keyForRelationship(t){return an(t)}links(){}getHashForPrimaryResource(t){this._createRequestedIncludesGraph(t);var n=this.getHashForResource(t),i={data:n},o=this.getAddToIncludesForResource(t);return[i,o]}getHashForIncludedResource(t){var n=this.serializerFor(t.modelName),i=n.getHashForResource(t),o={included:this.isModel(t)?[i]:i},s=[];return this.hasQueryParamIncludes()||(s=this.getAddToIncludesForResource(t)),[o,s]}getHashForResource(t){var n;return this.isModel(t)?n=this.getResourceObjectForModel(t):n=t.models.map(i=>this.getResourceObjectForModel(i)),n}getAddToIncludesForResource(t){var n;if(this.hasQueryParamIncludes())n=this.getQueryParamIncludes();else{var i=this.serializerFor(t.modelName);n=i.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(t,n)}getAddToIncludesForResourceAndPaths(t,n){var i=[];return n.forEach(o=>{var s=o.split("."),h=this.getIncludesForResourceAndPath(t,...s);i.push(h)}),(0,z0.default)((0,pu.default)((0,Zd.default)(i)),o=>o.toString())}getIncludesForResourceAndPath(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var s=Ue(i.shift()),h=[],f=[];if(this.isModel(t)){var g=t[s];this.isModel(g)?f=[g]:this.isCollection(g)&&(f=g.models)}else t.models.forEach(v=>{var P=v[s];this.isModel(P)?f.push(P):this.isCollection(P)&&(f=f.concat(P.models))});return h=h.concat(f),i.length&&f.forEach(v=>{h=h.concat(this.getIncludesForResourceAndPath(v,...i))}),h}getResourceObjectForModel(t){var n=this._attrsForModel(t,!0);delete n.id;var i={type:this.typeKeyForModel(t),id:t.id,attributes:n};return this._maybeAddRelationshipsToResourceObjectForModel(i,t)}_maybeAddRelationshipsToResourceObjectForModel(t,n){var i={};return n.associationKeys.forEach(o=>{var s=n[o],h=this.keyForRelationship(o),f={};if(this.hasLinksForRelationship(n,o)){var g=this.serializerFor(n.modelName),v=g.links(n);f.links=v[o]}if(this.alwaysIncludeLinkageData||this.shouldIncludeLinkageData(o,n)||this._relationshipIsIncludedForModel(o,n)){var P=null;this.isModel(s)?P={type:this.typeKeyForModel(s),id:s.id}:this.isCollection(s)&&(P=s.models.map(I=>({type:this.typeKeyForModel(I),id:I.id}))),f.data=P}(0,Dd.default)(f)||(i[h]=f)}),(0,Dd.default)(i)||(t.relationships=i),t}hasLinksForRelationship(t,n){var i=this.serializerFor(t.modelName),o=i.links&&i.links(t);return o&&o[n]!=null}_relationshipIsIncludedForModel(t,n){if(this.hasQueryParamIncludes()){var i=this.request._includesGraph,o=this._graphKeyForModel(n),s;return i.data[o]?s=i.data[o]:i.included[this._container.inflector.pluralize(n.modelName)]&&(s=i.included[this._container.inflector.pluralize(n.modelName)][o]),s&&s.relationships&&Object.prototype.hasOwnProperty.call(s.relationships,an(t))}else{var h=this.getKeysForIncluded();return h.includes(t)}}_createRequestedIncludesGraph(t){var n={data:{}};if(this.isModel(t)){var i=this._graphKeyForModel(t);n.data[i]={},this._addPrimaryModelToRequestedIncludesGraph(n,t)}else this.isCollection(t)&&t.models.forEach(o=>{var s=this._graphKeyForModel(o);n.data[s]={},this._addPrimaryModelToRequestedIncludesGraph(n,o)});this.request._includesGraph=n}_addPrimaryModelToRequestedIncludesGraph(t,n){if(this.hasQueryParamIncludes()){var i=this._graphKeyForModel(n);this.getQueryParamIncludes().filter(o=>!!o.trim()).forEach(o=>{t.data[i].relationships=t.data[i].relationships||{};var s=o.split(".").map(an),h=s[0],f=h,g=Ue(h),v=n.associationKeys.has(g);qe(v,'You tried to include "'.concat(h,'" with ').concat(n,' but no association named "').concat(g,'" is defined on the model.'));var P=n[g],I;this.isModel(P)?I=this._graphKeyForModel(P):this.isCollection(P)?I=P.models.map(this._graphKeyForModel):I=null,t.data[i].relationships[f]=I,P&&this._addResourceToRequestedIncludesGraph(t,P,s.slice(1))})}}_addResourceToRequestedIncludesGraph(t,n,i){t.included=t.included||{};var o=this.isCollection(n)?n.models:[n];o.forEach(s=>{var h=this._container.inflector.pluralize(s.modelName);t.included[h]=t.included[h]||{},this._addModelToRequestedIncludesGraph(t,s,i)})}_addModelToRequestedIncludesGraph(t,n,i){var o=this._container.inflector.pluralize(n.modelName),s=this._graphKeyForModel(n);t.included[o][s]=t.included[o][s]||{},i.length&&this._addResourceRelationshipsToRequestedIncludesGraph(t,o,s,n,i)}_addResourceRelationshipsToRequestedIncludesGraph(t,n,i,o,s){t.included[n][i].relationships=t.included[n][i].relationships||{};var h=s[0],f=o[Ue(h)],g;this.isModel(f)?g=this._graphKeyForModel(f):this.isCollection(f)&&(g=f.models.map(this._graphKeyForModel)),t.included[n][i].relationships[h]=g,f&&this._addResourceToRequestedIncludesGraph(t,f,s.slice(1))}_graphKeyForModel(t){return"".concat(t.modelName,":").concat(t.id)}getQueryParamIncludes(){var t=(0,w0.default)(this,"request.queryParams.include");return t&&!Array.isArray(t)&&(t=t.split(",")),t}hasQueryParamIncludes(){return!!this.getQueryParamIncludes()}typeKeyForModel(t){return an(this._container.inflector.pluralize(t.modelName))}getCoalescedIds(t){var n=t.queryParams&&t.queryParams["filter[id]"];return typeof n=="string"?n.split(","):n}shouldIncludeLinkageData(t,n){return!1}};Vd.prototype.alwaysIncludeLinkageData=!1;var qd=class{constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.schema=t,this._serializerMap=n}normalize(t,n){return this.serializerFor(n).normalize(t)}serialize(t,n){if(this.request=n,this._isModelOrCollection(t)){var i=this.serializerFor(t.modelName);return i.serialize(t,n)}else return Array.isArray(t)&&t.some(this._isCollection)?t.reduce((o,s)=>{var h=this.serializerFor(s.modelName);return h.embed?o[this._container.inflector.pluralize(s.modelName)]=h.serialize(s,n):o=Object.assign(o,h.serialize(s,n)),o},{}):t}serializerFor(t){var{explicit:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t&&this._serializerMap&&this._serializerMap[Ue(t)];return n?qe(!!i,"You passed in ".concat(t," as an explicit serializer type but that serializer doesn't exist.")):(i=i||this._serializerMap.application||er,qe(!i||i.prototype.embed||i.prototype.root||new i instanceof Vd,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new i(this,t,this.request)}_isModel(t){return t instanceof L2}_isCollection(t){return t instanceof Pr||t instanceof Bi}_isModelOrCollection(t){return this._isModel(t)||this._isCollection(t)}registerSerializers(t){var n=this._serializerMap||{};this._serializerMap=Object.assign(n,t)}getCoalescedIds(t,n){return this.serializerFor(n).getCoalescedIds(t)}},s0={},l0={},c0={},$d=class{constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qe(t,"A schema requires a db"),this.db=t,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(n),this.isSaving={}}registerModels(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,k2.default)(t,(n,i)=>{this.registerModel(i,t[i])})}registerModel(t,n){var i=Ue(t),o=an(i);n=n.extend(),this._registry[i]=this._registry[i]||{class:null,foreignKeys:[]},this._registry[i].class=n,n.prototype._schema=this,n.prototype.modelName=o,n.prototype.hasManyAssociations={},n.prototype.hasManyAssociationFks={},n.prototype.belongsToAssociations={},n.prototype.belongsToAssociationFks={},n.prototype.associationKeys=new Set,n.prototype.associationIdKeys=new Set,n.prototype.dependentAssociations=[];var s={};for(var h in n.prototype)if(n.prototype[h]instanceof ws){var f=n.prototype[h];f.name=h,f.modelName=f.modelName||this.toModelName(h),f.ownerModelName=o,f.setSchema(this);var[g,v]=f.getForeignKeyArray();s[g]=s[g]||[],qe(!s[g].includes(v),"Your '".concat(t,"' model definition has multiple possible inverse relationships of type '").concat(g,"'. Please use explicit inverses.")),s[g].push(v),this._addForeignKeyToRegistry(g,v),f.addMethodsToModelClass(n,h)}var P=this.toCollectionName(o);return this.db[P]||this.db.createCollection(P),this[P]={camelizedModelName:i,new:I=>this.new(i,I),create:I=>this.create(i,I),all:I=>this.all(i,I),find:I=>this.find(i,I),findBy:I=>this.findBy(i,I),findOrCreateBy:I=>this.findOrCreateBy(i,I),where:I=>this.where(i,I),none:I=>this.none(i,I),first:I=>this.first(i,I)},this}modelFor(t){return this._registry[t]}new(t,n){return this._instantiateModel(an(t),n)}create(t,n){return this.new(t,n).save()}all(t){var n=this.collectionForType(t);return this._hydrate(n,an(t))}none(t){return this._hydrate([],an(t))}find(t,n){var i=this.collectionForType(t),o=i.find(n);return Array.isArray(n)&&qe(o.length===n.length,"Couldn't find all ".concat(this._container.inflector.pluralize(t)," with ids: (").concat(n.join(","),") (found ").concat(o.length," results, but was looking for ").concat(n.length,")")),this._hydrate(o,an(t))}findBy(t,n){var i=this.collectionForType(t),o=i.findBy(n);return this._hydrate(o,an(t))}findOrCreateBy(t,n){var i=this.collectionForType(t),o=i.findBy(n),s;return o?s=this._hydrate(o,an(t)):s=this.create(t,n),s}where(t,n){var i=this.collectionForType(t),o=i.where(n);return this._hydrate(o,an(t))}first(t){var n=this.collectionForType(t),i=n[0];return this._hydrate(i,an(t))}modelClassFor(t){var n=this._registry[Ue(t)];return qe(n,"Model not registered: ".concat(t)),n.class.prototype}addDependentAssociation(t,n){t.isPolymorphic?this._dependentAssociations.polymorphic.push(t):(this._dependentAssociations[n]=this._dependentAssociations[n]||[],this._dependentAssociations[n].push(t))}dependentAssociationsFor(t){var n=this._dependentAssociations[t]||[],i=this._dependentAssociations.polymorphic||[];return n.concat(i)}associationsFor(t){var n=this.modelClassFor(t);return Object.assign({},n.belongsToAssociations,n.hasManyAssociations)}hasModelForModelName(t){return this.modelFor(Ue(t))}collectionForType(t){var n=this.toCollectionName(t);return qe(this.db[n],"You're trying to find model(s) of type ".concat(t," but this collection doesn't exist in the database.")),this.db[n]}toCollectionName(t){if(typeof s0[t]!="string"){var n=an(t),i=Ue(this._container.inflector.pluralize(n));s0[t]=i}return s0[t]}toInternalCollectionName(t){if(typeof l0[t]!="string"){var n="_".concat(this.toCollectionName(t));l0[t]=n}return l0[t]}toModelName(t){if(typeof c0[t]!="string"){var n=an(t),i=this._container.inflector.singularize(n);c0[t]=i}return c0[t]}_addForeignKeyToRegistry(t,n){this._registry[t]=this._registry[t]||{class:null,foreignKeys:[]};var i=this._registry[t].foreignKeys;i.includes(n)||i.push(n)}_instantiateModel(t,n){var i=this._modelFor(t),o=this._foreignKeysFor(t);return new i(this,t,n,o)}_modelFor(t){return this._registry[Ue(t)].class}_foreignKeysFor(t){return this._registry[Ue(t)].foreignKeys}_hydrate(t,n){if(Array.isArray(t)){var i=t.map(function(o){return this._instantiateModel(n,o)},this);return new Pr(n,i)}else return t?this._instantiateModel(n,t):null}},C$={Db:Ld,Association:ws,RouteHandler:Hd,BaseRouteHandler:Vl,Serializer:er,SerializerRegistry:qd,Schema:$d},b$={singularize:Em,pluralize:Om},jd=class{constructor(){this.inflector=b$}register(t,n){this[t]=n}create(t){var n=C$[t];n.prototype._container=this;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return new n(...o)}},Ss=new jd;Ld.prototype._container=Ss;ws.prototype._container=Ss;Vl.prototype._container=Ss;Hd.prototype._container=Ss;er.prototype._container=Ss;qd.prototype._container=Ss;$d.prototype._container=Ss;var w$=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",e=>/.+\.hot-update.json$/.test(e.url)],x0={coalesce:!1,timing:void 0};function z$(e){if(!e||typeof e!="object")return!1;for(var t=Object.keys(x0),n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];if(t.indexOf(o)>-1)return!0}return!1}function S$(e){var[t]=e.splice(-1);z$(t)?t=(0,kd.default)({},x0,t):(e.push(t),t=x0);for(var n=2-e.length;n-- >0;)e.push(void 0);return e.push(t),e}var C0=class{constructor(){Fa(this,"urlPrefix",void 0),Fa(this,"namespace",void 0),Fa(this,"timing",void 0),Fa(this,"passthroughChecks",void 0),Fa(this,"pretender",void 0),Fa(this,"mirageServer",void 0),Fa(this,"trackRequests",void 0)}create(t,n){var i=this;this.mirageServer=t,this.pretender=this._create(t,n),t.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(n),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach(o=>{var[s,h]=o;this[s]=function(f){for(var g,v=arguments.length,P=new Array(v>1?v-1:0),I=1;I<v;I++)P[I-1]=arguments[I];var[R,$,V]=S$(P),le=t.registerRouteHandler(s,f,R,$,V),re=i._getFullPath(f),xe=V.timing!==void 0?V.timing:()=>i.timing;return(g=i.pretender)===null||g===void 0?void 0:g[s](re,le,xe)},t[s]=this[s],h&&(this[h]=this[s],t[h]=this[s])})}config(t){var n,i,o=typeof t.useDefaultPassthroughs<"u"?t.useDefaultPassthroughs:!0;o&&this._configureDefaultPassthroughs();var s=t.trackRequests!==void 0&&t.trackRequests!==this.trackRequests;qe(!s,"You cannot modify Pretender's request tracking once the server is created"),this.timing=(n=(i=t.timing)!==null&&i!==void 0?i:this.timing)!==null&&n!==void 0?n:400,this.urlPrefix=this.urlPrefix||t.urlPrefix||"",this.namespace=this.namespace||t.namespace||""}_configureDefaultPassthroughs(){w$.forEach(t=>{this.passthrough(t)})}_create(t,n){if(typeof window<"u")return this.trackRequests=n.trackRequests||!1,new z2(function(){this.passthroughRequest=function(o,s,h){t.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(o.toUpperCase()," ").concat(h.url))},this.handledRequest=function(o,s,h){if(t.shouldLog()){console.groupCollapsed("Mirage: [".concat(h.status,"] ").concat(o.toUpperCase()," ").concat(h.url));var{requestBody:f,responseText:g}=h,v,P;try{v=JSON.parse(f)}catch{v=f}try{P=JSON.parse(g)}catch{P=g}console.groupCollapsed("Response"),console.log(P),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(v),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(h),console.groupEnd(),console.groupEnd()}};var i=this.checkPassthrough;this.checkPassthrough=function(o){var s=t.passthroughChecks.some(f=>f(o));if(s){var h=o.url.includes("?")?o.url.substr(0,o.url.indexOf("?")):o.url;this[o.method.toLowerCase()](h,this.passthrough)}return i.apply(this,arguments)},this.unhandledRequest=function(o,s){s=decodeURI(s);var h="";this.namespace===""?h="There is no existing namespace defined. Please define one":h="The existing namespace is ".concat(this.namespace),qe("Your app tried to ".concat(o," '").concat(s,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(h))}},{trackRequests:this.trackRequests})}passthrough(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(typeof window<"u"){var o=["get","post","put","delete","patch","options","head"],s=n[n.length-1];n.length===0?n=["/**","/"]:n.length>1&&Array.isArray(s)&&(o=n.pop()),n.forEach(h=>{typeof h=="function"?this.passthroughChecks.push(h):o.forEach(f=>{var g=this._getFullPath(h);this.pretender[f](g,this.pretender.passthrough)})})}}_getFullPath(t){t=t[0]==="/"?t.slice(1):t;var n="",i=this.urlPrefix?this.urlPrefix.trim():"",o="";if(this.urlPrefix&&this.namespace&&(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(o=this.namespace.substring(0,this.namespace.length-1).substring(1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(o=this.namespace.substring(1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"&&(o=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(o=this.namespace)),this.namespace&&!this.urlPrefix){if(this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]==="/"&&(o=this.namespace.substring(0,this.namespace.length-1)),this.namespace[0]==="/"&&this.namespace[this.namespace.length-1]!=="/"&&(o=this.namespace),this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]==="/"){var s=this.namespace.substring(0,this.namespace.length-1);o="/".concat(s)}this.namespace[0]!=="/"&&this.namespace[this.namespace.length-1]!=="/"&&(o="/".concat(this.namespace))}return this.namespace||(o=""),/^https?:\/\//.test(t)?n+=t:(i.length&&(n+=i[i.length-1]==="/"?i:"".concat(i,"/")),n+=o,n[n.length-1]!=="/"&&(n+="/"),n+=t,/^https?:\/\//.test(n)||(n="/".concat(n),n=n.replace(/\/+/g,"/"))),n}start(){}shutdown(){this.pretender.shutdown()}},u0={},T$={singularize:Em,pluralize:Om};function B2(e){var t=new b0(e);return t}var b0=class{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._container=new jd,this.config(t),this.db=this.db||void 0,this.schema=this.schema||void 0,this.middleware=[]}get namespace(){return this.interceptor.namespace}set namespace(t){this.interceptor.namespace=t}get urlPrefix(){return this.interceptor.urlPrefix}set urlPrefix(t){this.interceptor.urlPrefix=t}get timing(){return this.interceptor.timing}set timing(t){this.interceptor.timing=t}get passthroughChecks(){return this.interceptor.passthroughChecks}set passthroughChecks(t){this.interceptor.passthroughChecks=t}config(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interceptor||(t.interceptor=new C0),this.interceptor?this.interceptor.config(t):(this.interceptor=t.interceptor,this.interceptor.create(this,t));var n=t.environment&&this.environment&&this.environment!==t.environment;qe(!n,"You cannot modify Mirage's environment once the server is created"),this.environment=t.environment||this.environment||"development",t.routes&&(qe(!t.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),t.baseConfig=t.routes),t.seeds&&(qe(!t.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),t.scenarios={default:t.seeds}),this._config=t,this.inflector=t.inflector||T$,this._container.register("inflector",this.inflector),this.logging=t.logging!==void 0?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=t.trackRequests,this.db?this.db.registerIdentityManagers(t.identityManagers):this.db=this._container.create("Db",void 0,t.identityManagers),this.schema?(this.schema.registerModels(t.models),this.serializerOrRegistry.registerSerializers(t.serializers||{})):(this.schema=this._container.create("Schema",this.db,t.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,t.serializers));var i=this._hasModulesOfType(t,"factories"),o=t.scenarios&&Object.prototype.hasOwnProperty.call(t.scenarios,"default");t.baseConfig&&this.loadConfig(t.baseConfig),this.isTest()&&(this.loadConfig(t.testConfig),typeof window<"u"&&(window.server=this)),this.isTest()&&i?this.loadFactories(t.factories):!this.isTest()&&o?(this.loadFactories(t.factories),t.scenarios.default(this)):this.loadFixtures()}start(){var t=this;return f$(function*(){var n,i;yield(n=(i=t.interceptor).start)===null||n===void 0?void 0:n.call(i)})()}isTest(){return this.environment==="test"}shouldLog(){return typeof this.logging<"u"?this.logging:!this.isTest()}loadConfig(t){t?.call(this),this.timing=this.isTest()?0:this.timing||0}passthrough(){for(var t,n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(t=(n=this.interceptor).passthrough)===null||t===void 0||t.call(n,...o)}loadFixtures(){for(var{fixtures:t}=this._config,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(i.length){var s=i.map(Ue),h=s.filter(f=>!t[f]);if(h.length)throw new Error("Fixtures not found: ".concat(h.join(", ")));t=(0,N2.default)(t,...s)}this.db.loadData(t)}loadFactories(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this._factoryMap||{};this._factoryMap=(0,kd.default)(n,t),Object.keys(t).forEach(i=>{var o=this.schema.toCollectionName(i);this.db.createCollection(o)})}factoryFor(t){var n=Ue(t);if(this._factoryMap&&this._factoryMap[n])return this._factoryMap[n]}build(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var s=i.filter(V=>V&&typeof V=="string"),h=(0,Ed.default)(i,V=>(0,Hl.default)(V)),f=Ue(t);this.factorySequences=this.factorySequences||{},this.factorySequences[f]=this.factorySequences[f]+1||0;var g=this.factoryFor(t);if(g){g=g.extend({});var v=g.attrs||{};this._validateTraits(s,g,t);var P=this._mergeExtensions(v,s,h);this._mapAssociationsFromAttributes(t,v,h),this._mapAssociationsFromAttributes(t,P);var I=g.extend(P),R=new I,$=this.factorySequences[f];return R.build($)}else return h}buildList(t,n){qe((0,h0.default)(n),"second argument has to be an integer, you passed: ".concat(typeof n));for(var i=[],o=arguments.length,s=new Array(o>2?o-2:0),h=2;h<o;h++)s[h-2]=arguments[h];for(var f=[t,...s],g=0;g<n;g++)i.push(this.build.apply(this,f));return i}create(t){qe(this._modelOrFactoryExistsForType(t),"You called server.create('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var s=i.filter(V=>V&&typeof V=="string"),h=(0,Ed.default)(i,V=>(0,Hl.default)(V)),f=(0,Ed.default)(i,V=>V&&Array.isArray(V)),g=this.build(t,...s,h),v;if(this.schema&&this.schema[this.schema.toCollectionName(t)]){var P=this.schema[this.schema.toCollectionName(t)];v=P.create(g)}else{var I,R;f?I=f:(R=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),I=this.db[R]),qe(I,"You called server.create('".concat(t,"') but no model or factory was found.")),v=I.insert(g)}var $=this.factoryFor(t);return $&&$.extractAfterCreateCallbacks({traits:s}).forEach(V=>{V(v,this)}),v}createList(t,n){qe(this._modelOrFactoryExistsForType(t),"You called server.createList('".concat(t,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),qe((0,h0.default)(n),"second argument has to be an integer, you passed: ".concat(typeof n));for(var i=[],o=this.schema?this.schema.toInternalCollectionName(t):"_".concat(this.inflector.pluralize(t)),s=this.db[o],h=arguments.length,f=new Array(h>2?h-2:0),g=2;g<h;g++)f[g-2]=arguments[g];for(var v=[t,...f,s],P=0;P<n;P++)i.push(this.create.apply(this,v));return i}shutdown(){typeof window<"u"&&this.interceptor.shutdown(),typeof window<"u"&&this.environment==="test"&&(window.server=void 0)}resource(t){var{only:n,except:i,path:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t=this.inflector.pluralize(t),o=o||"/".concat(t),n=n||[],i=i||[],n.length>0&&i.length>0)throw"cannot use both :only and :except options";var s={index:{methods:["get"],path:"".concat(o)},show:{methods:["get"],path:"".concat(o,"/:id")},create:{methods:["post"],path:"".concat(o)},update:{methods:["put","patch"],path:"".concat(o,"/:id")},delete:{methods:["del"],path:"".concat(o,"/:id")}},h=Object.keys(s),f=n.length>0&&n||i.length>0&&h.filter(g=>i.indexOf(g)===-1)||h;f.forEach(g=>{var v=s[g];v.methods.forEach(P=>o===t?this[P](v.path):this[P](v.path,t))})}_serialize(t){return typeof t=="string"||t instanceof Blob||t instanceof ArrayBuffer||t instanceof FormData||t instanceof ReadableStream||t instanceof URLSearchParams||t&&typeof t=="object"&&"isView"in t&&t.isView()?t:JSON.stringify(t)}registerRouteHandler(t,n,i,o,s){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.middleware,f=this._container.create("RouteHandler",{schema:this.schema,verb:t,rawHandler:i,customizedCode:o,options:s,path:n,serializerOrRegistry:this.serializerOrRegistry,middleware:h});return g=>f.handle(g).then(v=>{var[P,I,R]=v;return[P,I,this._serialize(R)]})}_hasModulesOfType(t,n){var i=t[n];return i?Object.keys(i).length>0:!1}_typeIsPluralForModel(t){if(typeof u0[t]!="boolean"){var n=this._modelOrFactoryExistsForTypeOrCollectionName(t),i=t===this.inflector.pluralize(t),o=this.inflector.singularize(t)===this.inflector.pluralize(t),s=i&&!o&&n;u0[t]=s}return u0[t]}_modelOrFactoryExistsForType(t){var n=this.schema&&this.schema.modelFor(Ue(t)),i=this.db[this.schema.toInternalCollectionName(t)];return(n||i)&&!this._typeIsPluralForModel(t)}_modelOrFactoryExistsForTypeOrCollectionName(t){var n=this.schema&&this.schema.modelFor(Ue(t)),i=this.db[this.schema.toInternalCollectionName(t)];return n||i}_validateTraits(t,n,i){t.forEach(o=>{if(!n.isTrait(o))throw new Error("'".concat(o,"' trait is not registered in '").concat(i,"' factory"))})}_mergeExtensions(t,n,i){var o=n.map(s=>t[s].extension);return o.push(i||{}),o.reduce((s,h)=>(0,kd.default)(s,h),{})}_mapAssociationsFromAttributes(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n||{}).filter(o=>v$(n[o])).forEach(o=>{var s=this.schema.modelClassFor(t),h=s.associationFor(o);qe(h&&h instanceof bs,"You're using the `association` factory helper on the '".concat(o,"' attribute of your ").concat(t," factory, but that attribute is not a `belongsTo` association."));var f=h&&h instanceof bs&&h.modelName===t;qe(!f,"You're using the association() helper on your ".concat(t," factory for ").concat(o,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var g=h&&h.opts&&h.opts.polymorphic;qe(!g,"You're using the association() helper on your ".concat(t," factory for ").concat(o,", which is a polymorphic relationship. This is not currently supported."));var v=n[o],P="".concat(Ue(o),"Id");i[o]||(n[P]=this.create(h.modelName,...v.traitsAndOverrides).id),delete n[o]})}},P2=er.extend({serializeIds:"always",normalizeIds:!0,keyForModel(e){return _o(e)},keyForAttribute(e){return e=er.prototype.keyForAttribute.apply(this,arguments),_o(e)},keyForRelationship(e){return this._container.inflector.pluralize(_o(e))},keyForEmbeddedRelationship(e){return _o(e)},keyForRelationshipIds(e){return"".concat(_o(this._container.inflector.singularize(e)),"_ids")},keyForForeignKey(e){return"".concat(_o(e),"_id")},keyForPolymorphicForeignKeyId(e){return"".concat(_o(e),"_id")},keyForPolymorphicForeignKeyType(e){return"".concat(_o(e),"_type")},normalize(e){var t=Object.keys(e)[0],n=e[t],i=Ue(t),o=this.schema.modelClassFor(i),{belongsToAssociations:s,hasManyAssociations:h}=o,f=Object.keys(s),g=Object.keys(h);this.primaryKey!=="id"&&(n.id=n[this.primaryKey],delete n[this.primaryKey]);var v={data:{type:this._container.inflector.pluralize(t),attributes:{}}};n.id&&(v.data.id=n.id);var P={};return Object.keys(n).forEach(I=>{if(I!=="id")if(this.normalizeIds)if(f.includes(I)){var R=s[I],$=R.modelName;P[an(I)]={data:{type:$,id:n[I]}}}else if(g.includes(I)){var V=h[I],le=V.modelName,re=n[I].map(xe=>({type:le,id:xe}));P[an(I)]={data:re}}else v.data.attributes[an(I)]=n[I];else v.data.attributes[an(I)]=n[I]}),Object.keys(P).length&&(v.data.relationships=P),v},getCoalescedIds(e){return e.queryParams&&e.queryParams.ids}}),HJ=P2.extend({serializeIds:"always",keyForModel(e){return Ue(e)},keyForAttribute(e){return e=P2.prototype.keyForAttribute.apply(this,arguments),Ue(e)},keyForRelationship(e){return Ue(this._container.inflector.pluralize(e))},keyForEmbeddedRelationship(e){return Ue(e)},keyForRelationshipIds(e){return Ue(this._container.inflector.pluralize(e))},keyForForeignKey(e){return Ue(this._container.inflector.singularize(e))},getCoalescedIds(e){return e.queryParams&&e.queryParams.ids}});var F0=(e,t)=>t.some(n=>e instanceof n),H2,V2;function F$(){return H2||(H2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P$(){return V2||(V2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var P0=new WeakMap,S0=new WeakMap,Wd=new WeakMap;function I$(e){let t=new Promise((n,i)=>{let o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",h)},s=()=>{n(Ts(e.result)),o()},h=()=>{i(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",h)});return Wd.set(t,e),t}function M$(e){if(P0.has(e))return;let t=new Promise((n,i)=>{let o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",h),e.removeEventListener("abort",h)},s=()=>{n(),o()},h=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",h),e.addEventListener("abort",h)});P0.set(e,t)}var I0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return P0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Z2(e){I0=e(I0)}function O$(e){return P$().includes(e)?function(...t){return e.apply(M0(this),t),Ts(this.request)}:function(...t){return Ts(e.apply(M0(this),t))}}function E$(e){return typeof e=="function"?O$(e):(e instanceof IDBTransaction&&M$(e),F0(e,F$())?new Proxy(e,I0):e)}function Ts(e){if(e instanceof IDBRequest)return I$(e);if(S0.has(e))return S0.get(e);let t=E$(e);return t!==e&&(S0.set(e,t),Wd.set(t,e)),t}var M0=e=>Wd.get(e);function W2(e,t,{blocked:n,upgrade:i,blocking:o,terminated:s}={}){let h=indexedDB.open(e,t),f=Ts(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Ts(h.result),g.oldVersion,g.newVersion,Ts(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{s&&g.addEventListener("close",()=>s()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}var A$=["get","getKey","getAll","getAllKeys","count"],D$=["put","add","delete","clear"],T0=new Map;function q2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(T0.get(t))return T0.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,o=D$.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||A$.includes(n)))return;let s=function(h,...f){return Rt(this,null,function*(){let g=this.transaction(h,o?"readwrite":"readonly"),v=g.store;return i&&(v=v.index(f.shift())),(yield Promise.all([v[n](...f),o&&g.done]))[0]})};return T0.set(t,s),s}Z2(e=>Nn(qt({},e),{get:(t,n,i)=>q2(t,n)||e.get(t,n,i),has:(t,n)=>!!q2(t,n)||e.has(t,n)}));var k$=["continue","continuePrimaryKey","advance"],$2={},O0=new WeakMap,U2=new WeakMap,N$={get(e,t){if(!k$.includes(t))return e[t];let n=$2[t];return n||(n=$2[t]=function(...i){O0.set(this,U2.get(this)[t](...i))}),n}};function R$(...e){return Lg(this,null,function*(){let t=this;if(t instanceof IDBCursor||(t=yield new Nf(t.openCursor(...e))),!t)return;t=t;let n=new Proxy(t,N$);for(U2.set(n,t),Wd.set(n,M0(t));t;)yield n,t=yield new Nf(O0.get(n)||t.continue()),O0.delete(n)})}function j2(e,t){return t===Symbol.asyncIterator&&F0(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&F0(e,[IDBIndex,IDBObjectStore])}Z2(e=>Nn(qt({},e),{get(t,n,i){return j2(t,n)?R$:e.get(t,n,i)},has(t,n){return j2(t,n)||e.has(t,n)}}));var ze=en(G2()),D0=en(Y2());var L$=6371;function Gd(e){return e*(Math.PI/180)}function k0(e,t,n,i){let o=Gd(n-e),s=Gd(i-t),h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(Gd(e))*Math.cos(Gd(n))*Math.sin(s/2)*Math.sin(s/2),f=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return L$*f}function Qd(e){return(0,D0.sha512)(e)}function Q2(e,t,n){let i=[],o=(0,ze.keyBy)(n,"carriageCode");for(let s=0;s<e.departureTime.length;s++){let h=t.reduce((f,g)=>(f[g]=o[g].price[s],f),{});i.push({time:[e.departureTime[s],e.arrivalTime[s]],price:h})}return i}function B$(e){return(0,D0.sha512)(`-user:${e.email}:${Date.now()}`)}var mu=function(e){return e.active="active",e.canceled="canceled",e.completed="completed",e.rejected="rejected",e}(mu||{}),$l=function(e){return e.manager="manager",e.user="user",e}($l||{}),jt=W2("rsschool@train-a",1,{upgrade(e,t,n){let i=e.createObjectStore("users",{keyPath:"id",autoIncrement:!0}),o=e.createObjectStore("stations",{keyPath:"id",autoIncrement:!0}),s=e.createObjectStore("carriages",{keyPath:"code"}),h=e.createObjectStore("railways",{keyPath:"id",autoIncrement:!0}),f=e.createObjectStore("routes",{keyPath:"id",autoIncrement:!0}),g=e.createObjectStore("schedule",{keyPath:"id",autoIncrement:!0}),v=e.createObjectStore("price",{keyPath:"id",autoIncrement:!0}),P=e.createObjectStore("order",{keyPath:"id",autoIncrement:!0});i.createIndex("email","email",{unique:!0}),i.createIndex("token","accessToken",{unique:!0}),o.createIndex("city","city",{unique:!0}),o.createIndex("geolocation",["latitude","longitude"],{unique:!0}),o.createIndex("latitude","latitude"),o.createIndex("longitude","longitude"),h.createIndex("stations",["station1","station2"],{unique:!0}),h.createIndex("station1","station1"),h.createIndex("station2","station2"),f.createIndex("carriage","carriages",{multiEntry:!0}),f.createIndex("station","path",{multiEntry:!0}),g.createIndex("route","routeId"),g.createIndex("ride",["routeId","id"],{unique:!0}),g.createIndex("arrivalTime","arrivalTime",{multiEntry:!0}),g.createIndex("departureTime","departureTime",{multiEntry:!0}),v.createIndex("carriage","carriageCode"),v.createIndex("ride","rideId"),v.createIndex("carriage_ride",["carriageCode","rideId"],{unique:!0}),v.createIndex("price","price",{multiEntry:!0}),P.createIndex("userId","userId"),P.createIndex("rideId","rideId"),P.createIndex("stationStart","stationStart"),P.createIndex("stationEnd","stationEnd"),P.createIndex("status","status"),P.createIndex("trip",["userId","rideId"]),P.createIndex("user_ride_status",["userId","rideId","status"],{unique:!0}),i.add({email:"admin@admin.com",name:"Admin",role:$l.manager,passHash:Qd("my-password"),accessToken:null});let I=[],R=new Map,$=new Map,V=new Map,le=new Map;(0,ze.range)(1,(0,ze.random)(60,200)).forEach(tt=>{let Se={city:`city${tt}`,latitude:(0,ze.random)(-90,90,!0),longitude:(0,ze.random)(-180,180,!0)};V.set(Se,new Map);for(let yt of I){let Zt=yt.latitude,q=yt.longitude,oe=Se.latitude,be=Se.longitude,ue=Math.ceil(k0(Zt,q,oe,be));$.has(ue)||$.set(ue,[]),V.has(yt)||V.set(yt,new Map),$.get(ue).push([yt,Se]),V.get(Se).set(yt,ue),V.get(yt).set(Se,ue)}o.add(Se),I.push(Se),R.set(Se,tt)});let re=Array.from($.keys()).sort((tt,Se)=>tt-Se),xe=re.slice(0,Math.floor(re.length/5));for(let tt of xe)for(let[Se,yt]of $.get(tt))le.has(Se)||le.set(Se,[]),le.has(yt)||le.set(yt,[]),le.get(Se).push(yt),le.get(yt).push(Se),h.add({station1:R.get(Se),station2:R.get(yt),distance:tt});let St=[];(0,ze.range)(1,(0,ze.random)(4,7)).forEach(tt=>{let Se={code:`carriage${tt}`,name:`carriage${tt}`,rows:(0,ze.random)(8,20),leftSeats:(0,ze.random)(1,4),rightSeats:(0,ze.random)(1,3)};St.push(Se),s.add(Se)});let st=60,Nt=1;(0,ze.range)(1,(0,ze.random)(500,700)).forEach(tt=>{let Se=(0,ze.range)((0,ze.random)(8,25)).map(()=>St[(0,ze.random)(0,St.length-1)].code),yt=Array.from(new Set(Se)),Zt=(0,ze.random)(10,30),q=[],oe=[],be=0,ue=I[(0,ze.random)(0,I.length-1)];for(;be<Zt&&ue;){let Ge=R.get(ue);q.push(ue),oe.push(Ge);let ae=le.get(ue),Re=(0,ze.differenceWith)(ae,q,(W,Qe)=>W.city===Qe.city);Re.length>0?ue=Re[(0,ze.random)(Re.length-1)]:ue=null,be++}f.add({path:oe,carriages:Se}),(0,ze.range)(1,(0,ze.random)(2,7)).forEach(()=>{let Ge=[],ae=[];ae.push(new Date(Date.now()+(0,ze.random)(-864e6,1296e6)));for(let Re=1;Re<q.length;Re++){let W=q[Re],Qe=q[Re-1],_e=V.get(W).get(Qe),Ie=ae[Re-1],dt=new Date(Ie.getTime()+Math.floor(_e/st*36e5));if(Ge.push(dt),Re<q.length-1){let Ct=(0,ze.random)(5,60),ot=new Date(dt.getTime()+Ct*6e4);ae.push(ot)}}g.add({routeId:tt,arrivalTime:Ge,departureTime:ae});for(let Re of yt){let W=(0,ze.range)(oe.length-1).map(()=>(0,ze.random)(100,2500));v.add({rideId:Nt,carriageCode:Re,price:W})}Nt++})})}}),H$=(e,t,n)=>Rt(void 0,null,function*(){yield(yield jt).put("users",Nn(qt({},n),{accessToken:null}))}),X2=/^Bearer\s+([\w\d]{5,})$/,N0=/^[\w\d\._]+@[\w\d_]+\.\w{2,7}$/,J2=function(e){return e.token="invalidAccessToken",e}(J2||{}),Xd=function(e){return e.recordNotFound="recordNotFound",e}(Xd||{}),_u=function(e){return e.orderNotFound="orderNotFound",e.alreadyBooked="alreadyBooked",e.orderNotActive="orderNotActive",e}(_u||{}),Ia=function(e){return e.stationNotFound="stationNotFound",e.rideNotFound="rideNotFound",e.invalidStations="invalidStations",e}(Ia||{}),Yd=function(e){return e.notFound="userNotFound",e.alreadyLoggedIn="alreadyLoggedIn",e}(Yd||{}),$o=function(e){return e.invalidFields="invalidFields",e.invalidEmail="invalidEmail",e.invalidPassword="invalidPassword",e.invalidUniqueKey="invalidUniqueKey",e}($o||{}),eT=function(e){return e.invalidStationData="invalidStationData",e}(eT||{}),E0=class extends pi{constructor(t,n){super(400,{},{message:t,reason:n})}};function sn(e,t){return new E0(e,t)}var A0=class extends pi{constructor(){super(401,{},{message:"Access is not granted",reason:J2.token})}};function Kd(){return new A0}var V$=(e,t)=>Rt(void 0,null,function*(){let{email:n,password:i}=JSON.parse(t.requestBody),{Authorization:o=""}=t.requestHeaders;if(X2.test(o))return sn("Authorization error",Yd.alreadyLoggedIn);if(!n||!i)return sn("Fields are empty",$o.invalidFields);if(!N0.test(n))return sn("Email is wrong",$o.invalidEmail);let s=yield jt,h=yield s.getFromIndex("users","email",n);if(h){if(Qd(i)!==h.passHash)return sn("User is not found",Yd.notFound)}else return sn("User is not found",Yd.notFound);let f=B$(h);return yield s.put("users",Nn(qt({},h),{accessToken:f})),{token:f}}),q$=(e,t)=>Rt(void 0,null,function*(){let{email:n,password:i}=JSON.parse(t.requestBody);if(n&&i)if(N0.test(n)){if(i.length<8)return sn("Password is wrong",$o.invalidPassword)}else return sn("Email is wrong",$o.invalidEmail);else return sn("Fields are empty",$o.invalidFields);let o=Qd(i),s=yield jt;try{yield s.add("users",{name:null,accessToken:null,email:n,passHash:o,role:$l.user})}catch(h){if(h instanceof Error&&(h.name==="ConstraintError"||(h.message?.toLowerCase()).includes("already exist")))return sn("User already exists",$o.invalidUniqueKey);throw h}}),$$=(e,t,n)=>Rt(void 0,null,function*(){let i=JSON.parse(t.requestBody),o=(0,ze.toInteger)(i.stationStart),s=(0,ze.toInteger)(i.stationEnd),h=(0,ze.toInteger)(i.rideId),f=(0,ze.toInteger)(i.seat),g=yield jt,v=yield g.get("schedule",h);if(!v)return sn("Ride not found",Ia.rideNotFound);let P=yield g.get("routes",v.routeId);if(!P)return sn("Ride not found",Ia.rideNotFound);let I=P.path.indexOf(o),R=P.path.indexOf(s);if(I>=0&&R>I)try{return{id:yield g.add("order",{userId:n.id,rideId:h,seatId:(0,ze.toInteger)(f),stationStart:o,stationEnd:s,status:mu.active})}}catch($){if($.name==="ConstraintError")return sn("Ride is already booked",_u.alreadyBooked);throw $}else return sn("Invalid stations",Ia.invalidStations)}),j$=(e,t,n)=>Rt(void 0,null,function*(){let i=Number(t.params.rideId),o=yield jt;if(!i||i<1)return sn("Order is not found",_u.orderNotFound);let s=yield o.getAllFromIndex("order","rideId",i);if(!s.length)return sn("Order is not found",_u.orderNotFound);let h=s.find(g=>g.status===mu.active),f=n.role===$l.manager;return!h||!f&&h.userId!==n.id?sn("Order is not active",_u.orderNotActive):(yield o.put("order",Nn(qt({},h),{status:f?mu.rejected:mu.canceled})),null)}),Z$=(e,t)=>Rt(void 0,null,function*(){return(yield jt).getAll("carriages")}),W$=(e,t)=>Rt(void 0,null,function*(){let{name:n,rows:i,leftSeats:o,rightSeats:s}=JSON.parse(t.requestBody),h=yield jt,f=(0,ze.kebabCase)(n),g={code:f,name:n,rows:i,leftSeats:o,rightSeats:s};return yield h.add("carriages",g),{code:f}}),U$=(e,t)=>Rt(void 0,null,function*(){let n=t.params.code;return yield(yield jt).delete("carriages",n),null}),G$=(e,t)=>Rt(void 0,null,function*(){let n=JSON.parse(t.requestBody),i=t.params.code,o=yield jt,s=yield o.get("carriages",i);if(s){let h=Nn(qt({},s),{name:n.name,rows:n.rows,leftSeats:n.leftSeats,rightSeats:n.rightSeats});return{code:yield o.put("carriages",h)}}else return sn("Carriage not found",Xd.recordNotFound)}),Y$=(e,t,n)=>Rt(void 0,null,function*(){let i=n.role===$l.manager&&t.queryParams.all&&t.queryParams.all!=="false",o=yield jt,s=o.getAllFromIndex("order","userId",n.id);i&&(s=o.getAll("order"));let h=yield s,f=Array.from(new Set(h.map(re=>re.rideId))),g=yield Promise.all(f.map(re=>o.get("schedule",re))),v=(0,ze.keyBy)(g,"id"),P=Array.from(new Set(g.map(re=>re.routeId))),I=yield Promise.all(P.map(re=>o.get("routes",re))),R=(0,ze.keyBy)(I,"id"),$=yield Promise.all(f.map(re=>o.getAllFromIndex("price","ride",re))),V=(0,ze.keyBy)($,re=>re[0].rideId);return h.map(re=>Nn(qt({},re),{routeId:v[re.rideId].routeId,carriages:R[v[re.rideId].routeId].carriages,path:R[v[re.rideId].routeId].path,schedule:{segments:Q2(v[re.rideId],Array.from(new Set(R[v[re.rideId].routeId].carriages)),V[re.rideId])}})).map(re=>(0,ze.pick)(re,["id","userId","routeId","rideId","seatId","path","carriages","stationStart","stationEnd","schedule","status"]))}),K$=(e,t,n)=>(0,ze.pick)(n,["name","email","role"]),Q$=(e,t,n)=>Rt(void 0,null,function*(){let{name:i,email:o}=JSON.parse(t.requestBody),s=qt({},n);i&&i!==n.name&&(s.name=i),o&&o!==n.email&&N0.test(o)&&(s.email=o);let h=yield jt;try{yield h.put("users",s)}catch(f){if(f instanceof Error&&(f.name==="ConstraintError"||(f.message?.toLowerCase()).includes("Unable to add key to index")))return sn("Email already exists",$o.invalidUniqueKey);throw f}return(0,ze.pick)(s,["name","email","role"])}),X$=(e,t,n)=>Rt(void 0,null,function*(){let{password:i}=JSON.parse(t.requestBody);if(i.length<8)return sn("Password is wrong",$o.invalidPassword);let o=Qd(i);yield(yield jt).put("users",Nn(qt({},n),{passHash:o}))}),J$=(e,t)=>Rt(void 0,null,function*(){let n=Number(t.params.id),i=yield jt,o=yield i.get("schedule",n);if(!o)return sn("Ride not found",Ia.rideNotFound);let s=yield i.get("routes",o.routeId),h=yield i.getAllFromIndex("price","ride",n),f=(0,ze.keyBy)(h,"carriageCode"),g=yield i.getAllFromIndex("order","rideId",n),v=s.path,P=s.carriages,I=Array.from(new Set(P)),R=[],$=(0,ze.range)(v.length-1).map(()=>[]);for(let V of g){let le=v.indexOf(V.stationStart),re=v.indexOf(V.stationEnd);for(let xe of(0,ze.range)(le,re))$[xe].push(V.seatId)}for(let V=0;V<v.length-1;V++){let le=[o.departureTime[V],o.arrivalTime[V]],re=I.reduce((xe,St)=>(xe[St]=f[St].price[V],xe),{});R.push({time:le,price:re,occupiedSeats:$[V]})}return{rideId:n,path:v,carriages:P,schedule:{segments:R}}}),e7=(e,t)=>Rt(void 0,null,function*(){return(yield jt).getAll("routes")}),t7=(e,t)=>Rt(void 0,null,function*(){let{path:n,carriages:i}=JSON.parse(t.requestBody);return{id:yield(yield jt).add("routes",{path:n.map(ze.toInteger),carriages:i})}}),n7=(e,t)=>Rt(void 0,null,function*(){let n=Number(t.params.id);return yield(yield jt).delete("routes",n),null}),i7=(e,t)=>Rt(void 0,null,function*(){let n=Number(t.params.id),i=yield jt,[o,s]=yield Promise.all([i.get("routes",n),i.getAllFromIndex("schedule","route",n)]);if(!o)return sn("Ride not found",Ia.rideNotFound);let h=yield Promise.all(s.map(({id:P})=>i.getAllFromIndex("price","ride",P))),f=(0,ze.keyBy)(h,P=>P[0].rideId),g=Array.from(new Set(o.carriages)),v=s.map(P=>{let I=Q2(P,g,f[P.id]);return{rideId:P.id,segments:I}});return{id:o.id,path:o.path,carriages:o.carriages,schedule:v}}),r7=(e,t)=>Rt(void 0,null,function*(){let n=JSON.parse(t.requestBody),i=Number(t.params.routeId),o=yield jt,s=yield o.get("routes",i);if(!s)return sn("Route not found",Xd.recordNotFound);let h=Array.from(new Set(s.carriages)),f=[],g=[],v={};for(let V of n.segments){let[le,re]=V.time;f.push(re),g.push(le);for(let xe of h)v[xe]||(v[xe]=[]),v[xe].push((0,ze.toInteger)(V.price[xe]))}let P=o.transaction(["schedule","price"],"readwrite"),I=P.objectStore("schedule"),R=P.objectStore("price"),$=yield I.add({routeId:i,arrivalTime:f,departureTime:g});return yield Promise.all([...h.map(V=>R.add({rideId:$,carriageCode:V,price:v[V]})),P.done]),{id:$}}),o7=(e,t)=>Rt(void 0,null,function*(){let n=JSON.parse(t.requestBody),i=(0,ze.toInteger)(t.params.routeId),o=(0,ze.toInteger)(t.params.rideId),s=yield jt,[h,f]=yield Promise.all([s.get("routes",i),s.getFromIndex("schedule","ride",[i,o])]);if(!f||!h)return sn("Ride not found",Xd.recordNotFound);let g=Array.from(new Set(h.carriages)),v=[],P=[],I={};for(let xe of n.segments){let[St,st]=xe.time;v.push(st),P.push(St);for(let Nt of g)I[Nt]||(I[Nt]=[]),I[Nt].push((0,ze.toInteger)(xe.price[Nt]))}let R=s.transaction(["schedule","price"],"readwrite"),$=R.objectStore("schedule"),V=R.objectStore("price"),le=yield V.index("ride").getAll(o),re=(0,ze.keyBy)(le,"carriageCode");return yield Promise.all([$.put(Nn(qt({},f),{arrivalTime:v,departureTime:P})),...g.map(xe=>V.put(Nn(qt({},re[xe]),{price:I[xe]}))),R.done]),null}),a7=(e,t)=>Rt(void 0,null,function*(){let{path:n,carriages:i}=JSON.parse(t.requestBody),o=(0,ze.toInteger)(t.params.id),h=yield(yield jt).put("routes",{id:o,path:n.map(ze.toInteger),carriages:i});if(o===h)return{id:o}}),s7=50,l7=(e,t)=>Rt(void 0,null,function*(){let n=t.queryParams,i=yield jt,o=yield K2(n.fromCity,n.fromLatitude,n.fromLongitude);if(!o)return sn("Start station not found",Ia.stationNotFound);let s=yield K2(n.toCity,n.toLatitude,n.toLongitude);if(!s)return sn("End station not found",Ia.stationNotFound);let h=yield i.getAllFromIndex("routes","station",o.id),f=yield i.getAllFromIndex("routes","station",s.id),g=(0,ze.intersectionBy)(h,f,"id").filter(R=>{let $=R.path.indexOf(o.id);return $>=0&&$<R.path.indexOf(s.id)}),v=n.time?new Date(n.time):new Date;return{routes:(yield Promise.all(g.map(R=>i.getAllFromIndex("schedule","route",R.id).then($=>{let V=R.path.indexOf(o.id);return $.filter(le=>le.departureTime[V]>=v)}).then($=>Promise.all($.map(V=>Promise.all([i.getAllFromIndex("price","ride",V.id).then(le=>(0,ze.keyBy)(le,"carriageCode")),i.getAllFromIndex("order","rideId",V.id)]).then(([le,re])=>Nn(qt({},V),{prices:le,orders:re})))).then(V=>{let le=Array.from(new Set(R.carriages));return Nn(qt({},R),{schedule:V.map(re=>{let xe=[],St=(0,ze.range)(R.path.length-1).map(()=>[]);for(let st of re.orders){let Nt=R.path.indexOf(st.stationStart),tt=R.path.indexOf(st.stationEnd);for(let Se of(0,ze.range)(Nt,tt+1))St[Se].push(st.seatId)}for(let st=0;st<R.path.length-1;st++){let Nt=[re.departureTime[st],re.arrivalTime[st]],tt=le.reduce((Se,yt)=>(Se[yt]=re.prices[yt].price[st],Se),{});xe.push({time:Nt,price:tt,occupiedSeats:St[st]})}return{rideId:re.id,segments:xe}})})}))))).filter(({schedule:R})=>R.length>0),from:{stationId:o.id,city:o.city,geolocation:{latitude:o.latitude,longitude:o.longitude}},to:{stationId:s.id,city:s.city,geolocation:{latitude:s.latitude,longitude:s.longitude}}}});function c7(e,t){return Rt(this,null,function*(){let n=new Map,o=yield(yield jt).transaction("stations").store.openCursor();for(;o;){let h=o.value,f=k0(e,t,h.latitude,h.longitude);n.set(f,h),o=yield o.continue()}let s=Math.min(...n.keys());return s<s7?n.get(s)??null:null})}function K2(e,t,n){return Rt(this,null,function*(){let i=yield jt;if(e=e?.trim(),e){let o=yield i.getFromIndex("stations","city",e);if(o)return o;if(t&&n&&(o=yield i.getFromIndex("stations","geolocation",IDBKeyRange.only([t,n])),o))return o}return t&&n?c7(t,n):null})}var u7=(e,t)=>Rt(void 0,null,function*(){let n=yield jt,i=yield n.getAll("stations"),o=[];for(let{id:s,city:h,latitude:f,longitude:g}of i){let v=yield n.getAllFromIndex("railways","station1",IDBKeyRange.only(s)),P=yield n.getAllFromIndex("railways","station2",IDBKeyRange.only(s)),I=[];for(let{station2:R,distance:$}of v)I.push({id:R,distance:$});for(let{station1:R,distance:$}of P)I.push({id:R,distance:$});o.push({id:s,city:h,latitude:f,longitude:g,connectedTo:I})}return o}),h7=(e,t)=>Rt(void 0,null,function*(){let{city:n,latitude:i,longitude:o,relations:s}=JSON.parse(t.requestBody);if(!n||!(0,ze.inRange)(i,-90,90.01)||!(0,ze.inRange)(o,-90,90.01)||!Array.isArray(s))return sn("Invalid station data",eT.invalidStationData);let h=(yield jt).transaction(["stations","railways"],"readwrite"),f=h.objectStore("stations"),g=h.objectStore("railways"),v=yield f.add({city:n,latitude:i,longitude:o});return yield Promise.all(s.map(P=>f.get(P).then(I=>{if(!I)return;let R=I.latitude,$=I.longitude,re=Math.ceil(k0(R,$,i,o));return g.add({station1:Number(P),station2:Number(v),distance:re})})).concat(h.done)),{id:v}}),d7=(e,t)=>Rt(void 0,null,function*(){let n=Number(t.params.id),o=(yield jt).transaction(["stations","railways"],"readwrite"),s=o.objectStore("railways"),h=yield s.index("station1").getAllKeys(n),f=yield s.index("station2").getAllKeys(n),g=[o.objectStore("stations").delete(n),o.done];return h.length>0&&g.push(...h.map(v=>s.delete(v))),f.length>0&&g.push(...f.map(v=>s.delete(v))),yield Promise.all(g),null}),p7=(e,t)=>Rt(void 0,null,function*(){return(yield(yield jt).getAll("users")).map(o=>(0,ze.pick)(o,["id","email","role","name"]))});function Fs(e){return(t,n)=>Rt(this,null,function*(){let{Authorization:i=""}=n.requestHeaders,s=i.match(X2)?.[1];if(!s)return Kd();let h=yield(yield jt).getFromIndex("users","token",s);return h?e(t,n,h):Kd()})}function Ir(e){return(t,n)=>Rt(this,null,function*(){let{Authorization:i}=n.requestHeaders,s=i.match(/^Bearer\s+([\w\d]+)$/)?.[1];if(!s)return Kd();let h=yield(yield jt).getFromIndex("users","token",s);return h?.role===$l.manager?e(t,n,h):Kd()})}var f7=B2({routes(){this.namespace="api",this.post("/signin",V$),this.post("/signup",q$),this.delete("/logout",Fs(H$)),this.get("/profile",Fs(K$)),this.put("/profile",Fs(Q$)),this.put("/profile/password",Fs(X$)),this.get("/station",u7),this.post("/station",Ir(h7)),this.delete("/station/:id",Ir(d7)),this.get("/carriage",Z$),this.post("/carriage",Ir(W$)),this.put("/carriage/:code",Ir(G$)),this.delete("/carriage/:code",Ir(U$)),this.get("/route",e7),this.post("/route",Ir(t7)),this.get("/route/:id",Ir(i7)),this.put("/route/:id",Ir(a7)),this.delete("/route/:id",Ir(n7)),this.post("/route/:routeId/ride",Ir(r7)),this.put("/route/:routeId/ride/:rideId",Ir(o7)),this.get("/search",l7),this.get("/search/:id",J$),this.get("/order",Fs(Y$)),this.post("/order",Fs($$)),this.delete("/order/:id",Fs(j$)),this.get("/users",Ir(p7)),this.passthrough(e=>!/^\/api\//.test(e.url)&&!new RegExp(`^${document.location.origin}/api/`).test(e.url))}});function tT(){return f7.start()}function m7(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var nT=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",m7];var _7="@",g7=(()=>{let t=class t{constructor(i,o,s,h,f){this.doc=i,this.delegate=o,this.zone=s,this.animationType=h,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=Et(Jg,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-A6G72VP6.js").then(o=>o)).catch(o=>{throw new Rc(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let h=new s(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(i,o){let s=this.delegate.createRenderer(i,o);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let h=new R0(s);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let g=f.createRenderer(i,o);h.use(g),this.scheduler?.notify(9)}).catch(f=>{h.use(s)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){Xg()},t.\u0275prov=Pn({token:t,factory:t.\u0275fac});let e=t;return e})(),R0=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,o){this.delegate.insertBefore(t,n,i,o)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,o){this.delegate.setAttribute(t,n,i,o)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,o){this.delegate.setStyle(t,n,i,o)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(_7)}};function iT(e="animations"){return tv("NgAsyncAnimations"),Wg([{provide:ev,useFactory:(t,n,i)=>new g7(t,n,i,e),deps:[ma,fv,xi]},{provide:Qg,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var C7=["hourListElement"],b7=["minuteListElement"],w7=["secondListElement"],z7=["use12HoursListElement"];function S7(e,t){if(e&1&&(z(0,"div",8)(1,"div",9),H(2),S()()),e&2){let n=w();y(2),Ve(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function T7(e,t){if(e&1){let n=we();z(0,"li",13),ne("click",function(){G(n);let o=w().$implicit,s=w(2);return Y(s.selectHour(o))}),z(1,"div",14),H(2),hn(3,"number"),S()()}if(e&2){let n=w().$implicit,i=w(2);We("ant-picker-time-panel-cell-selected",i.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),y(2),Ve(Gi(3,5,n.index,"2.0-0"))}}function F7(e,t){if(e&1&&(je(0),D(1,T7,4,8,"li",12),Ze()),e&2){let n=t.$implicit,i=w(2);y(),F("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function P7(e,t){if(e&1&&(z(0,"ul",10,0),D(2,F7,2,1,"ng-container",11),S()),e&2){let n=w();y(2),F("ngForOf",n.hourRange)("ngForTrackBy",n.trackByFn)}}function I7(e,t){if(e&1){let n=we();z(0,"li",13),ne("click",function(){G(n);let o=w().$implicit,s=w(2);return Y(s.selectMinute(o))}),z(1,"div",14),H(2),hn(3,"number"),S()()}if(e&2){let n=w().$implicit,i=w(2);We("ant-picker-time-panel-cell-selected",i.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),y(2),Ve(Gi(3,5,n.index,"2.0-0"))}}function M7(e,t){if(e&1&&(je(0),D(1,I7,4,8,"li",12),Ze()),e&2){let n=t.$implicit,i=w(2);y(),F("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function O7(e,t){if(e&1&&(z(0,"ul",10,1),D(2,M7,2,1,"ng-container",11),S()),e&2){let n=w();y(2),F("ngForOf",n.minuteRange)("ngForTrackBy",n.trackByFn)}}function E7(e,t){if(e&1){let n=we();z(0,"li",13),ne("click",function(){G(n);let o=w().$implicit,s=w(2);return Y(s.selectSecond(o))}),z(1,"div",14),H(2),hn(3,"number"),S()()}if(e&2){let n=w().$implicit,i=w(2);We("ant-picker-time-panel-cell-selected",i.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),y(2),Ve(Gi(3,5,n.index,"2.0-0"))}}function A7(e,t){if(e&1&&(je(0),D(1,E7,4,8,"li",12),Ze()),e&2){let n=t.$implicit,i=w(2);y(),F("ngIf",!(i.nzHideDisabledOptions&&n.disabled))}}function D7(e,t){if(e&1&&(z(0,"ul",10,2),D(2,A7,2,1,"ng-container",11),S()),e&2){let n=w();y(2),F("ngForOf",n.secondRange)("ngForTrackBy",n.trackByFn)}}function k7(e,t){if(e&1){let n=we();je(0),z(1,"li",13),ne("click",function(){let o=G(n).$implicit,s=w(2);return Y(s.select12Hours(o))}),z(2,"div",14),H(3),S()(),Ze()}if(e&2){let n=t.$implicit,i=w(2);y(),We("ant-picker-time-panel-cell-selected",i.isSelected12Hours(n)),y(2),Ve(n.value)}}function N7(e,t){if(e&1&&(z(0,"ul",10,3),D(2,k7,4,3,"ng-container",15),S()),e&2){let n=w();y(2),F("ngForOf",n.use12HoursRange)}}function R7(e,t){}function L7(e,t){if(e&1&&(z(0,"div",23),D(1,R7,0,0,"ng-template",24),S()),e&2){let n=w(2);y(),F("ngTemplateOutlet",n.nzAddOn)}}function B7(e,t){if(e&1){let n=we();z(0,"div",16),D(1,L7,2,1,"div",17),z(2,"ul",18)(3,"li",19)(4,"a",20),ne("click",function(){G(n);let o=w();return Y(o.onClickNow())}),H(5),hn(6,"nzI18n"),S()(),z(7,"li",21)(8,"button",22),ne("click",function(){G(n);let o=w();return Y(o.onClickOk())}),H(9),hn(10,"nzI18n"),S()()()()}if(e&2){let n=w();y(),F("ngIf",n.nzAddOn),y(4),Ce(" ",n.nzNowText||Ui(6,3,"Calendar.lang.now")," "),y(4),Ce(" ",n.nzOkText||Ui(10,5,"Calendar.lang.ok")," ")}}var H7=["inputElement"];function V7(e,t){if(e&1&&(je(0),Q(1,"span",8),Ze()),e&2){let n=t.$implicit;y(),F("nzType",n)}}function q7(e,t){if(e&1&&Q(0,"nz-form-item-feedback-icon",9),e&2){let n=w();F("status",n.status)}}function $7(e,t){if(e&1){let n=we();z(0,"span",10),ne("click",function(o){G(n);let s=w();return Y(s.onClickClearBtn(o))}),Q(1,"span",11),S()}if(e&2){let n=w();y(),wn("aria-label",n.nzClearText)("title",n.nzClearText)}}function j7(e,t){if(e&1){let n=we();z(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),hn(4,"async"),wi("ngModelChange",function(o){G(n);let s=w();return bi(s.value,o)||(s.value=o),Y(o)}),ne("ngModelChange",function(o){G(n);let s=w();return Y(s.onPanelValueChange(o))})("closePanel",function(){G(n);let o=w();return Y(o.closePanel())}),S()()()()}if(e&2){let n=w();F("@slideMotion","enter"),y(3),F("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||Ui(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),Ci("ngModel",n.value)}}var B0=class{setMinutes(t,n){return n||(this.initValue(),this.value.setMinutes(t),this.update()),this}setHours(t,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&t!==12?this.value.setHours(t+12):this.selected12Hours==="AM"&&t===12?this.value.setHours(0):this.value.setHours(t):this.value.setHours(t),this.update()),this}setSeconds(t,n){return n||(this.initValue(),this.value.setSeconds(t),this.update()),this}setUse12Hours(t){return this._use12Hours=t,this}get changes(){return this._changes.asObservable()}setValue(t,n){return di(n)&&(this._use12Hours=n),t!==this.value&&(this._value=t,di(this.value)?this._use12Hours&&di(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){Hf(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(di(this.hours)||di(this.minutes)||di(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(di(this.hours)&&this.value.setHours(this.hours),di(this.minutes)&&this.value.setMinutes(this.minutes),di(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&di(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(t){t.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=t.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(t){return this._defaultOpenValue=t,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new Gt}calculateViewHour(t){let n=this.selected12Hours;return n==="PM"&&t>12?t-12:n==="AM"&&t===0?12:t}};function L0(e,t=1,n=0){return new Array(Math.ceil(e/t)).fill(0).map((i,o)=>(o+n)*t)}var Jd=(()=>{let t=class t{set nzAllowEmpty(i){this._allowEmpty=i}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(i){this._disabledHours=i,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(i){di(i)&&(this._disabledMinutes=i,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(i){di(i)&&(this._disabledSeconds=i,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(i){if(di(i)){this._format=i,this.enabledColumns=0;let o=new Set(i);this.hourEnabled=o.has("H")||o.has("h"),this.minuteEnabled=o.has("m"),this.secondEnabled=o.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(i){this._nzHourStep=i||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(i){this._nzMinuteStep=i||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(i){this._nzSecondStep=i||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}trackByFn(i){return i}buildHours(){let i=24,o=this.nzDisabledHours?.(),s=0;if(this.nzUse12Hours&&(i=12,o&&(this.time.selected12Hours==="PM"?o=o.filter(h=>h>=12).map(h=>h>12?h-12:h):o=o.filter(h=>h<12||h===24).map(h=>h===24||h===0?12:h)),s=1),this.hourRange=L0(i,this.nzHourStep,s).map(h=>({index:h,disabled:!!o&&o.indexOf(h)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let h=[...this.hourRange];h.unshift(h[h.length-1]),h.splice(h.length-1,1),this.hourRange=h}}buildMinutes(){this.minuteRange=L0(60,this.nzMinuteStep).map(i=>({index:i,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(i)!==-1}))}buildSeconds(){this.secondRange=L0(60,this.nzSecondStep).map(i=>({index:i,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(i)!==-1}))}build12Hours(){let i=this._format.includes("A");this.use12HoursRange=[{index:0,value:i?"AM":"am"},{index:1,value:i?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(i=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,i,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,i,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,i,"second"),this.nzUse12Hours&&this.use12HoursListElement){let s=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,s,i,"12-hour")}}selectHour(i){this.time.setHours(i.index,i.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(i){this.time.setMinutes(i.index,i.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(i){this.time.setSeconds(i.index,i.disabled)}select12Hours(i){this.time.setSelected12Hours(i.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(i,o,s=0,h){if(!i)return;let f=this.translateIndex(o,h),g=i.children[f]||i.children[0];this.scrollTo(i,g.offsetTop,s)}translateIndex(i,o){return o==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(s=>s.index).indexOf(i)):o==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(s=>s.index).indexOf(i)):o==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(s=>s.index).indexOf(i)):this.calcIndex([],this.use12HoursRange.map(s=>s.index).indexOf(i))}scrollTo(i,o,s){if(s<=0){i.scrollTop=o;return}let f=(o-i.scrollTop)/s*10;this.ngZone.runOutsideAngular(()=>{Dv(()=>{i.scrollTop=i.scrollTop+f,i.scrollTop!==o&&this.scrollTo(i,o,s-10)})})}calcIndex(i,o){return i?.length&&this.nzHideDisabledOptions?o-i.reduce((s,h)=>s+(h<o?1:0),0):o}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(i){let o=i.getHours(),s=i.getMinutes(),h=i.getSeconds();return(this.nzDisabledHours?.().indexOf(o)??-1)>-1||(this.nzDisabledMinutes?.(o).indexOf(s)??-1)>-1||(this.nzDisabledSeconds?.(o,s).indexOf(h)??-1)>-1}onClickNow(){let i=new Date;this.timeDisabled(i)||(this.time.setValue(i),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(i){return i.index===this.time.viewHours}isSelectedMinute(i){return i.index===this.time.minutes}isSelectedSecond(i){return i.index===this.time.seconds}isSelected12Hours(i){return i.value.toUpperCase()===this.time.selected12Hours}constructor(i,o,s,h){this.ngZone=i,this.cdr=o,this.dateHelper=s,this.elementRef=h,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new Gt,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new B0,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new ut}ngOnInit(){this.time.changes.pipe($e(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),Tr(this.elementRef.nativeElement,"mousedown").pipe($e(this.unsubscribe$)).subscribe(i=>{i.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(i){let{nzUse12Hours:o,nzDefaultOpenValue:s}=i;!o?.previousValue&&o?.currentValue&&(this.build12Hours(),this.enabledColumns++),s?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(i){this.time.setValue(i,this.nzUse12Hours),this.buildTimes(),i&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouch=i}};t.\u0275fac=function(o){return new(o||t)(U(xi),U(nn),U(ur),U(Wi))},t.\u0275cmp=ve({type:t,selectors:[["nz-time-picker-panel"]],viewQuery:function(o,s){if(o&1&&(Bt(C7,5),Bt(b7,5),Bt(w7,5),Bt(z7,5)),o&2){let h;wt(h=zt())&&(s.hourListElement=h.first),wt(h=zt())&&(s.minuteListElement=h.first),wt(h=zt())&&(s.secondListElement=h.first),wt(h=zt())&&(s.use12HoursListElement=h.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(o,s){o&2&&We("ant-picker-time-panel-column-0",s.enabledColumns===0&&!s.nzInDatePicker)("ant-picker-time-panel-column-1",s.enabledColumns===1&&!s.nzInDatePicker)("ant-picker-time-panel-column-2",s.enabledColumns===2&&!s.nzInDatePicker)("ant-picker-time-panel-column-3",s.enabledColumns===3&&!s.nzInDatePicker)("ant-picker-time-panel-narrow",s.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!s.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",pe],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",pe],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",pe],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",Ro],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",Ro],nzSecondStep:[2,"nzSecondStep","nzSecondStep",Ro]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[ki([{provide:ps,useExisting:t,multi:!0}]),Lt,$t,ye],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(o,s){o&1&&(D(0,S7,3,1,"div",4),z(1,"div",5),D(2,P7,3,2,"ul",6)(3,O7,3,2,"ul",6)(4,D7,3,2,"ul",6)(5,N7,3,1,"ul",6),S(),D(6,B7,11,7,"div",7)),o&2&&(F("ngIf",s.nzInDatePicker),y(2),F("ngIf",s.hourEnabled),y(),F("ngIf",s.minuteEnabled),y(),F("ngIf",s.secondEnabled),y(),F("ngIf",s.nzUse12Hours),y(),F("ngIf",!s.nzInDatePicker))},dependencies:[cs,sl,uv,Rn,Tv,Sv,Xi,li,Qi,Fr],encapsulation:2,changeDetection:0});let e=t;return e})(),Z7="timePicker",W7=(()=>{let t=class t{emitValue(i){this.setValue(i,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(i,o=!1){o&&(this.preValue=Lc(i)?new Date(i):null),this.value=Lc(i)?new Date(i):null,this.inputValue=this.dateHelper.format(i,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(i){i.stopPropagation(),this.emitValue(null)}onClickOutside(i){let o=Mv(i);this.element.nativeElement.contains(o)||this.setCurrentValueAndClose()}onFocus(i){this.focused=i,i||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&Lc(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(i){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(i))}onPanelValueChange(i){this.setValue(i),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(i,o,s,h,f,g,v,P){this.nzConfigService=i,this.i18n=o,this.element=s,this.renderer=h,this.cdr=f,this.dateHelper=g,this.platform=v,this.directionality=P,this._nzModuleName=Z7,this.destroy$=new Gt,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=Do(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new ut,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzFormStatusService=Et(Yh,{optional:!0}),this.nzFormNoStatusService=Et(Kh,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ol((i,o)=>i.status===o.status&&i.hasFeedback===o.hasFeedback),Ih(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Do(!1)),Br(([{status:i,hasFeedback:o},s])=>({status:s?"":i,hasFeedback:o})),$e(this.destroy$)).subscribe(({status:i,hasFeedback:o})=>{this.setStatusStyles(i,o)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new jh(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(Br(i=>i.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(i){let{nzUse12Hours:o,nzFormat:s,nzDisabled:h,nzAutoFocus:f,nzStatus:g}=i;if(o&&!o.previousValue&&o.currentValue&&!s&&(this.nzFormat="h:mm:ss a"),h){let v=h.currentValue,P=this.inputRef.nativeElement;v?this.renderer.setAttribute(P,"disabled",""):this.renderer.removeAttribute(P,"disabled")}f&&this.updateAutoFocus(),g&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(i){let o=this.dateHelper.parseTime(i,this.nzFormat)||null;Lc(o)&&(this.value=o,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(i){let o;i instanceof Date?o=i:Hf(i)?o=null:(vv('Non-Date type is not recommended for time-picker, use "Date" type.'),o=new Date(i)),this.setValue(o,!0)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||i,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(i){if(!i)return!0;let o=this.nzDisabledHours?.(),s=this.nzDisabledMinutes?.(i.getHours()),h=this.nzDisabledSeconds?.(i.getHours(),i.getMinutes());return!(o?.includes(i.getHours())||s?.includes(i.getMinutes())||h?.includes(i.getSeconds()))}setStatusStyles(i,o){this.status=i,this.hasFeedback=o,this.cdr.markForCheck(),this.statusCls=Lh(this.prefixCls,i,o),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)})}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(Hc),U(Wi),U(to),U(nn),U(ur),U(dl),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-time-picker"]],viewQuery:function(o,s){if(o&1&&Bt(H7,7),o&2){let h;wt(h=zt())&&(s.inputRef=h.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(o,s){o&1&&ne("click",function(){return s.open()}),o&2&&We("ant-picker-large",s.nzSize==="large")("ant-picker-small",s.nzSize==="small")("ant-picker-disabled",s.nzDisabled)("ant-picker-focused",s.focused)("ant-picker-rtl",s.dir==="rtl")("ant-picker-borderless",s.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",pe],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",pe],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",pe],nzDisabled:[2,"nzDisabled","nzDisabled",pe],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",pe],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",pe],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",pe]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[ki([{provide:ps,useExisting:t,multi:!0}]),Lt,$t,ye],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(o,s){if(o&1){let h=we();z(0,"div",1)(1,"input",2,0),hn(3,"async"),wi("ngModelChange",function(g){return G(h),bi(s.inputValue,g)||(s.inputValue=g),Y(g)}),ne("focus",function(){return G(h),Y(s.onFocus(!0))})("blur",function(){return G(h),Y(s.onFocus(!1))})("keyup.enter",function(){return G(h),Y(s.onKeyupEnter())})("keyup.escape",function(){return G(h),Y(s.onKeyupEsc())})("ngModelChange",function(g){return G(h),Y(s.onInputChange(g))}),S(),z(4,"span",3),D(5,V7,2,1,"ng-container",4)(6,q7,1,1,"nz-form-item-feedback-icon",5),S(),D(7,$7,2,2,"span",6),S(),D(8,j7,5,21,"ng-template",7),ne("detach",function(){return G(h),Y(s.close())})("overlayOutsideClick",function(g){return G(h),Y(s.onClickOutside(g))})}o&2&&(y(),F("size",s.inputSize)("placeholder",s.nzPlaceHolder||Ui(3,14,s.i18nPlaceHolder$)),Ci("ngModel",s.inputValue),F("disabled",s.nzDisabled)("readOnly",s.nzInputReadOnly),wn("id",s.nzId),y(4),F("nzStringTemplateOutlet",s.nzSuffixIcon),y(),F("ngIf",s.hasFeedback&&!!s.status),y(),F("ngIf",s.nzAllowEmpty&&!s.nzDisabled&&s.value),y(),F("cdkConnectedOverlayHasBackdrop",s.nzBackdrop)("cdkConnectedOverlayPositions",s.overlayPositions)("cdkConnectedOverlayOrigin",s.origin)("cdkConnectedOverlayOpen",s.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[ll,Lo,Ki,Ni,fs,Bn,Ln,vn,gn,Xh,Qh,cs,Jd,Yi,Wh,Zh,Av,qc],encapsulation:2,data:{animation:[pl]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzHourStep",void 0),ct([ht()],e.prototype,"nzMinuteStep",void 0),ct([ht()],e.prototype,"nzSecondStep",void 0),ct([ht()],e.prototype,"nzClearText",void 0),ct([ht()],e.prototype,"nzNowText",void 0),ct([ht()],e.prototype,"nzOkText",void 0),ct([ht()],e.prototype,"nzPopupClassName",void 0),ct([ht()],e.prototype,"nzFormat",void 0),ct([ht()],e.prototype,"nzUse12Hours",void 0),ct([ht()],e.prototype,"nzSuffixIcon",void 0),ct([ht()],e.prototype,"nzAllowEmpty",void 0),ct([ht()],e.prototype,"nzBackdrop",void 0),e})(),aT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[W7,Jd]});let e=t;return e})();function G7(e,t){e&1&&Dt(0)}function Y7(e,t){if(e&1&&D(0,G7,1,0,"ng-container",3),e&2){let n=w(2);F("ngTemplateOutlet",n.extraFooter)}}function K7(e,t){if(e&1&&Q(0,"span",2),e&2){let n=w(2);F("innerHTML",n.extraFooter,Hr)}}function Q7(e,t){if(e&1&&(z(0,"div"),D(1,Y7,1,1,"ng-container")(2,K7,1,1,"span",2),S()),e&2){let n=w();de("",n.prefixCls,"-footer-extra"),y(),J(n.isExtraFooterTemplateRef?1:-1),y(),J(n.isExtraFooterNonEmptyString?2:-1)}}function X7(e,t){if(e&1){let n=we();z(0,"a",4),ne("click",function(){G(n);let o=w();return Y(o.isTodayDisabled?null:o.onClickToday())}),H(1),S()}if(e&2){let n=w();al("",n.prefixCls,"-today-btn ",n.isTodayDisabled?n.prefixCls+"-today-btn-disabled":"",""),gt("title",n.todayTitle),y(),Ce(" ",n.locale.today," ")}}function J7(e,t){e&1&&Dt(0)}function e9(e,t){if(e&1){let n=we();z(0,"li")(1,"a",5),ne("click",function(){G(n);let o=w(2);return Y(o.isTodayDisabled?null:o.onClickToday())}),H(2),S()()}if(e&2){let n=w(2);de("",n.prefixCls,"-now"),y(),de("",n.prefixCls,"-now-btn"),y(),Ce(" ",n.locale.now," ")}}function t9(e,t){if(e&1){let n=we();z(0,"li")(1,"button",6),ne("click",function(){G(n);let o=w(2);return Y(o.okDisabled?null:o.clickOk.emit())}),H(2),S()()}if(e&2){let n=w(2);de("",n.prefixCls,"-ok"),y(),F("disabled",n.okDisabled),y(),Ce(" ",n.locale.ok," ")}}function n9(e,t){if(e&1&&(z(0,"ul"),D(1,J7,1,0,"ng-container",3)(2,e9,3,7,"li",0)(3,t9,3,5,"li",0),S()),e&2){let n=w();de("",n.prefixCls,"-ranges"),y(),F("ngTemplateOutlet",n.rangeQuickSelector),y(),J(n.showNow?2:-1),y(),J(n.hasTimePicker?3:-1)}}function i9(e,t){if(e&1){let n=we();z(0,"button",6),ne("click",function(){let o=G(n).$implicit;return Y(o.onClick())}),H(1),S()}if(e&2){let n=t.$implicit;cr(n.className),gt("title",n.title||null),y(),Ce(" ",n.label," ")}}var go=(e,t)=>t.trackByIndex,Hi=e=>({$implicit:e});function r9(e,t){e&1&&Q(0,"th",3)}function o9(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let n=t.$implicit;gt("title",n.title),y(),Ce(" ",n.content," ")}}function a9(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),D(2,r9,1,0,"th",3),Je(3,o9,2,2,"th",4,tn),S()()),e&2){let n=w();y(2),J(n.showWeek?2:-1),y(),et(n.headRow)}}function s9(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let n=w().$implicit,i=w();de("",i.prefixCls,"-cell-week"),y(),Ce(" ",n.weekNum," ")}}function l9(e,t){e&1&&Dt(0)}function c9(e,t){if(e&1&&D(0,l9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function u9(e,t){if(e&1&&Q(0,"span",10),e&2){let n=w(2).$implicit;F("innerHTML",n.cellRender,Hr)}}function h9(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-cell-inner"),wn("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),y(),Ce(" ",n.content," ")}}function d9(e,t){if(e&1&&D(0,c9,1,4,"ng-container")(1,u9,1,1,"span",10)(2,h9,2,6,"div",11),e&2){let n=w().$implicit;J(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function p9(e,t){e&1&&Dt(0)}function f9(e,t){if(e&1&&D(0,p9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function m9(e,t){e&1&&Dt(0)}function _9(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),D(3,m9,1,0,"ng-container",12),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-date-value"),y(),Ve(n.content),y(),de("",i.prefixCls,"-date-content"),y(),F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(9,Hi,n.value))}}function g9(e,t){if(e&1&&(z(0,"div"),D(1,f9,1,4,"ng-container")(2,_9,4,11),S()),e&2){let n=w().$implicit,i=w(2);de("",i.prefixCls,"-date ant-picker-cell-inner"),We("ant-picker-calendar-date-today",n.isToday),y(),J(n.fullCellRender?1:2)}}function v9(e,t){if(e&1){let n=we();z(0,"td",8),ne("click",function(){let o=G(n).$implicit;return Y(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=G(n).$implicit;return Y(o.onMouseEnter())}),D(1,d9,3,1)(2,g9,3,6,"div",9),S()}if(e&2){let n,i=t.$implicit,o=w(2);gt("title",i.title),F("ngClass",i.classMap),y(),J((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function y9(e,t){if(e&1&&(z(0,"tr",1),D(1,s9,2,4,"td",5),Je(2,v9,3,3,"td",6,go),S()),e&2){let n=t.$implicit;F("ngClass",n.classMap),y(),J(n.weekNum?1:-1),y(),et(n.dateCells)}}function x9(e,t){if(e&1){let n=we();z(0,"button",6),ne("click",function(){let o=G(n).$implicit;return Y(o.onClick())}),H(1),S()}if(e&2){let n=t.$implicit;cr(n.className),gt("title",n.title||null),y(),Ce(" ",n.label," ")}}function C9(e,t){e&1&&Q(0,"th",3)}function b9(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let n=t.$implicit;gt("title",n.title),y(),Ce(" ",n.content," ")}}function w9(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),D(2,C9,1,0,"th",3),Je(3,b9,2,2,"th",4,tn),S()()),e&2){let n=w();y(2),J(n.showWeek?2:-1),y(),et(n.headRow)}}function z9(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let n=w().$implicit,i=w();de("",i.prefixCls,"-cell-week"),y(),Ce(" ",n.weekNum," ")}}function S9(e,t){e&1&&Dt(0)}function T9(e,t){if(e&1&&D(0,S9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function F9(e,t){if(e&1&&Q(0,"span",10),e&2){let n=w(2).$implicit;F("innerHTML",n.cellRender,Hr)}}function P9(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-cell-inner"),wn("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),y(),Ce(" ",n.content," ")}}function I9(e,t){if(e&1&&D(0,T9,1,4,"ng-container")(1,F9,1,1,"span",10)(2,P9,2,6,"div",11),e&2){let n=w().$implicit;J(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function M9(e,t){e&1&&Dt(0)}function O9(e,t){if(e&1&&D(0,M9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function E9(e,t){e&1&&Dt(0)}function A9(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),D(3,E9,1,0,"ng-container",12),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-date-value"),y(),Ve(n.content),y(),de("",i.prefixCls,"-date-content"),y(),F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(9,Hi,n.value))}}function D9(e,t){if(e&1&&(z(0,"div"),D(1,O9,1,4,"ng-container")(2,A9,4,11),S()),e&2){let n=w().$implicit,i=w(2);de("",i.prefixCls,"-date ant-picker-cell-inner"),We("ant-picker-calendar-date-today",n.isToday),y(),J(n.fullCellRender?1:2)}}function k9(e,t){if(e&1){let n=we();z(0,"td",8),ne("click",function(){let o=G(n).$implicit;return Y(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=G(n).$implicit;return Y(o.onMouseEnter())}),D(1,I9,3,1)(2,D9,3,6,"div",9),S()}if(e&2){let n,i=t.$implicit,o=w(2);gt("title",i.title),F("ngClass",i.classMap),y(),J((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function N9(e,t){if(e&1&&(z(0,"tr",1),D(1,z9,2,4,"td",5),Je(2,k9,3,3,"td",6,go),S()),e&2){let n=t.$implicit;F("ngClass",n.classMap),y(),J(n.weekNum?1:-1),y(),et(n.dateCells)}}function R9(e,t){if(e&1){let n=we();z(0,"button",6),ne("click",function(){let o=G(n).$implicit;return Y(o.onClick())}),H(1),S()}if(e&2){let n=t.$implicit;cr(n.className),gt("title",n.title||null),y(),Ce(" ",n.label," ")}}function L9(e,t){e&1&&Q(0,"th",3)}function B9(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let n=t.$implicit;gt("title",n.title),y(),Ce(" ",n.content," ")}}function H9(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),D(2,L9,1,0,"th",3),Je(3,B9,2,2,"th",4,tn),S()()),e&2){let n=w();y(2),J(n.showWeek?2:-1),y(),et(n.headRow)}}function V9(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let n=w().$implicit,i=w();de("",i.prefixCls,"-cell-week"),y(),Ce(" ",n.weekNum," ")}}function q9(e,t){e&1&&Dt(0)}function $9(e,t){if(e&1&&D(0,q9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function j9(e,t){if(e&1&&Q(0,"span",10),e&2){let n=w(2).$implicit;F("innerHTML",n.cellRender,Hr)}}function Z9(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-cell-inner"),wn("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),y(),Ce(" ",n.content," ")}}function W9(e,t){if(e&1&&D(0,$9,1,4,"ng-container")(1,j9,1,1,"span",10)(2,Z9,2,6,"div",11),e&2){let n=w().$implicit;J(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function U9(e,t){e&1&&Dt(0)}function G9(e,t){if(e&1&&D(0,U9,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function Y9(e,t){e&1&&Dt(0)}function K9(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),D(3,Y9,1,0,"ng-container",12),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-date-value"),y(),Ve(n.content),y(),de("",i.prefixCls,"-date-content"),y(),F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(9,Hi,n.value))}}function Q9(e,t){if(e&1&&(z(0,"div"),D(1,G9,1,4,"ng-container")(2,K9,4,11),S()),e&2){let n=w().$implicit,i=w(2);de("",i.prefixCls,"-date ant-picker-cell-inner"),We("ant-picker-calendar-date-today",n.isToday),y(),J(n.fullCellRender?1:2)}}function X9(e,t){if(e&1){let n=we();z(0,"td",8),ne("click",function(){let o=G(n).$implicit;return Y(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=G(n).$implicit;return Y(o.onMouseEnter())}),D(1,W9,3,1)(2,Q9,3,6,"div",9),S()}if(e&2){let n,i=t.$implicit,o=w(2);gt("title",i.title),F("ngClass",i.classMap),y(),J((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function J9(e,t){if(e&1&&(z(0,"tr",1),D(1,V9,2,4,"td",5),Je(2,X9,3,3,"td",6,go),S()),e&2){let n=t.$implicit;F("ngClass",n.classMap),y(),J(n.weekNum?1:-1),y(),et(n.dateCells)}}function ej(e,t){if(e&1){let n=we();z(0,"button",6),ne("click",function(){let o=G(n).$implicit;return Y(o.onClick())}),H(1),S()}if(e&2){let n=t.$implicit;cr(n.className),gt("title",n.title||null),y(),Ce(" ",n.label," ")}}function tj(e,t){e&1&&Q(0,"th",3)}function nj(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let n=t.$implicit;gt("title",n.title),y(),Ce(" ",n.content," ")}}function ij(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),D(2,tj,1,0,"th",3),Je(3,nj,2,2,"th",4,tn),S()()),e&2){let n=w();y(2),J(n.showWeek?2:-1),y(),et(n.headRow)}}function rj(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let n=w().$implicit,i=w();de("",i.prefixCls,"-cell-week"),y(),Ce(" ",n.weekNum," ")}}function oj(e,t){e&1&&Dt(0)}function aj(e,t){if(e&1&&D(0,oj,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function sj(e,t){if(e&1&&Q(0,"span",10),e&2){let n=w(2).$implicit;F("innerHTML",n.cellRender,Hr)}}function lj(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-cell-inner"),wn("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),y(),Ce(" ",n.content," ")}}function cj(e,t){if(e&1&&D(0,aj,1,4,"ng-container")(1,sj,1,1,"span",10)(2,lj,2,6,"div",11),e&2){let n=w().$implicit;J(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function uj(e,t){e&1&&Dt(0)}function hj(e,t){if(e&1&&D(0,uj,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function dj(e,t){e&1&&Dt(0)}function pj(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),D(3,dj,1,0,"ng-container",12),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-date-value"),y(),Ve(n.content),y(),de("",i.prefixCls,"-date-content"),y(),F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(9,Hi,n.value))}}function fj(e,t){if(e&1&&(z(0,"div"),D(1,hj,1,4,"ng-container")(2,pj,4,11),S()),e&2){let n=w().$implicit,i=w(2);de("",i.prefixCls,"-date ant-picker-cell-inner"),We("ant-picker-calendar-date-today",n.isToday),y(),J(n.fullCellRender?1:2)}}function mj(e,t){if(e&1){let n=we();z(0,"td",8),ne("click",function(){let o=G(n).$implicit;return Y(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=G(n).$implicit;return Y(o.onMouseEnter())}),D(1,cj,3,1)(2,fj,3,6,"div",9),S()}if(e&2){let n,i=t.$implicit,o=w(2);gt("title",i.title),F("ngClass",i.classMap),y(),J((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function _j(e,t){if(e&1&&(z(0,"tr",1),D(1,rj,2,4,"td",5),Je(2,mj,3,3,"td",6,go),S()),e&2){let n=t.$implicit;F("ngClass",n.classMap),y(),J(n.weekNum?1:-1),y(),et(n.dateCells)}}function gj(e,t){if(e&1){let n=we();z(0,"button",6),ne("click",function(){let o=G(n).$implicit;return Y(o.onClick())}),H(1),S()}if(e&2){let n=t.$implicit;cr(n.className),gt("title",n.title||null),y(),Ce(" ",n.label," ")}}function vj(e,t){e&1&&Q(0,"th",3)}function yj(e,t){if(e&1&&(z(0,"th",4),H(1),S()),e&2){let n=t.$implicit;gt("title",n.title),y(),Ce(" ",n.content," ")}}function xj(e,t){if(e&1&&(z(0,"thead")(1,"tr",2),D(2,vj,1,0,"th",3),Je(3,yj,2,2,"th",4,tn),S()()),e&2){let n=w();y(2),J(n.showWeek?2:-1),y(),et(n.headRow)}}function Cj(e,t){if(e&1&&(z(0,"td",7),H(1),S()),e&2){let n=w().$implicit,i=w();de("",i.prefixCls,"-cell-week"),y(),Ce(" ",n.weekNum," ")}}function bj(e,t){e&1&&Dt(0)}function wj(e,t){if(e&1&&D(0,bj,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function zj(e,t){if(e&1&&Q(0,"span",10),e&2){let n=w(2).$implicit;F("innerHTML",n.cellRender,Hr)}}function Sj(e,t){if(e&1&&(z(0,"div"),H(1),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-cell-inner"),wn("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),y(),Ce(" ",n.content," ")}}function Tj(e,t){if(e&1&&D(0,wj,1,4,"ng-container")(1,zj,1,1,"span",10)(2,Sj,2,6,"div",11),e&2){let n=w().$implicit;J(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function Fj(e,t){e&1&&Dt(0)}function Pj(e,t){if(e&1&&D(0,Fj,1,0,"ng-container",12),e&2){let n=w(2).$implicit;F("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",ni(2,Hi,n.value))}}function Ij(e,t){e&1&&Dt(0)}function Mj(e,t){if(e&1&&(z(0,"div"),H(1),S(),z(2,"div"),D(3,Ij,1,0,"ng-container",12),S()),e&2){let n=w(2).$implicit,i=w(2);de("",i.prefixCls,"-date-value"),y(),Ve(n.content),y(),de("",i.prefixCls,"-date-content"),y(),F("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",ni(9,Hi,n.value))}}function Oj(e,t){if(e&1&&(z(0,"div"),D(1,Pj,1,4,"ng-container")(2,Mj,4,11),S()),e&2){let n=w().$implicit,i=w(2);de("",i.prefixCls,"-date ant-picker-cell-inner"),We("ant-picker-calendar-date-today",n.isToday),y(),J(n.fullCellRender?1:2)}}function Ej(e,t){if(e&1){let n=we();z(0,"td",8),ne("click",function(){let o=G(n).$implicit;return Y(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=G(n).$implicit;return Y(o.onMouseEnter())}),D(1,Tj,3,1)(2,Oj,3,6,"div",9),S()}if(e&2){let n,i=t.$implicit,o=w(2);gt("title",i.title),F("ngClass",i.classMap),y(),J((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function Aj(e,t){if(e&1&&(z(0,"tr",1),D(1,Cj,2,4,"td",5),Je(2,Ej,3,3,"td",6,go),S()),e&2){let n=t.$implicit;F("ngClass",n.classMap),y(),J(n.weekNum?1:-1),y(),et(n.dateCells)}}function Dj(e,t){if(e&1){let n=we();z(0,"decade-header",1),wi("valueChange",function(o){G(n);let s=w();return bi(s.activeDate,o)||(s.activeDate=o),Y(o)}),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.panelModeChange.emit(o))})("valueChange",function(o){G(n);let s=w();return Y(s.headerChange.emit(o))}),S(),z(1,"div")(2,"decade-table",2),ne("valueChange",function(o){G(n);let s=w();return Y(s.onChooseDecade(o))}),S()()}if(e&2){let n=w();Ci("value",n.activeDate),F("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","decade"))("showSuperNextBtn",n.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),y(),de("",n.prefixCls,"-body"),y(),F("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)}}function kj(e,t){if(e&1){let n=we();z(0,"year-header",1),wi("valueChange",function(o){G(n);let s=w();return bi(s.activeDate,o)||(s.activeDate=o),Y(o)}),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.panelModeChange.emit(o))})("valueChange",function(o){G(n);let s=w();return Y(s.headerChange.emit(o))}),S(),z(1,"div")(2,"year-table",3),ne("valueChange",function(o){G(n);let s=w();return Y(s.onChooseYear(o))})("cellHover",function(o){G(n);let s=w();return Y(s.cellHover.emit(o))}),S()()}if(e&2){let n=w();Ci("value",n.activeDate),F("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","year"))("showSuperNextBtn",n.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),y(),de("",n.prefixCls,"-body"),y(),F("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function Nj(e,t){if(e&1){let n=we();z(0,"month-header",1),wi("valueChange",function(o){G(n);let s=w();return bi(s.activeDate,o)||(s.activeDate=o),Y(o)}),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.panelModeChange.emit(o))})("valueChange",function(o){G(n);let s=w();return Y(s.headerChange.emit(o))}),S(),z(1,"div")(2,"month-table",4),ne("valueChange",function(o){G(n);let s=w();return Y(s.onChooseMonth(o))})("cellHover",function(o){G(n);let s=w();return Y(s.cellHover.emit(o))}),S()()}if(e&2){let n=w();Ci("value",n.activeDate),F("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","month"))("showSuperNextBtn",n.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),y(),de("",n.prefixCls,"-body"),y(),F("value",n.value)("activeDate",n.activeDate)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function Rj(e,t){if(e&1){let n=we();z(0,"quarter-header",1),wi("valueChange",function(o){G(n);let s=w();return bi(s.activeDate,o)||(s.activeDate=o),Y(o)}),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.panelModeChange.emit(o))})("valueChange",function(o){G(n);let s=w();return Y(s.headerChange.emit(o))}),S(),z(1,"div")(2,"quarter-table",5),ne("valueChange",function(o){G(n);let s=w();return Y(s.onChooseQuarter(o))})("cellHover",function(o){G(n);let s=w();return Y(s.cellHover.emit(o))}),S()()}if(e&2){let n=w();Ci("value",n.activeDate),F("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","month"))("showSuperNextBtn",n.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),y(),de("",n.prefixCls,"-body"),y(),F("value",n.value)("activeDate",n.activeDate)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)("cellRender",n.dateRender)}}function Lj(e,t){if(e&1){let n=we();z(0,"date-header",6),wi("valueChange",function(o){G(n);let s=w();return bi(s.activeDate,o)||(s.activeDate=o),Y(o)}),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.panelModeChange.emit(o))})("valueChange",function(o){G(n);let s=w();return Y(s.headerChange.emit(o))}),S(),z(1,"div")(2,"date-table",7),ne("valueChange",function(o){G(n);let s=w();return Y(s.onSelectDate(o))})("cellHover",function(o){G(n);let s=w();return Y(s.cellHover.emit(o))}),S()()}if(e&2){let n=w();Ci("value",n.activeDate),F("locale",n.locale)("showSuperPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showSuperNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date"))("showPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date")),y(),de("",n.prefixCls,"-body"),y(),F("locale",n.locale)("showWeek",n.showWeek)("value",n.value)("activeDate",n.activeDate)("disabledDate",n.disabledDate)("cellRender",n.dateRender)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)("canSelectWeek",n.panelMode==="week")}}function Bj(e,t){if(e&1){let n=we();z(0,"nz-time-picker-panel",8),ne("ngModelChange",function(o){G(n);let s=w();return Y(s.onSelectTime(o))}),S()}if(e&2){let n=w();F("nzInDatePicker",!0)("ngModel",n.value==null?null:n.value.nativeDate)("format",n.timeOptions.nzFormat)("nzHourStep",n.timeOptions.nzHourStep)("nzMinuteStep",n.timeOptions.nzMinuteStep)("nzSecondStep",n.timeOptions.nzSecondStep)("nzDisabledHours",n.timeOptions.nzDisabledHours)("nzDisabledMinutes",n.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",n.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!n.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",n.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!n.timeOptions.nzUse12Hours)("nzAddOn",n.timeOptions.nzAddOn)}}var Hj=e=>({partType:e}),sT=()=>({partType:"left"}),lT=()=>({partType:"right"});function Vj(e,t){e&1&&Dt(0)}function qj(e,t){if(e&1&&D(0,Vj,1,0,"ng-container",6),e&2){let n=w(2),i=ke(3);F("ngTemplateOutlet",i)("ngTemplateOutletContext",ni(2,Hj,n.datePickerService.activeInput))}}function $j(e,t){e&1&&Dt(0)}function jj(e,t){e&1&&Dt(0)}function Zj(e,t){if(e&1&&D(0,$j,1,0,"ng-container",6)(1,jj,1,0,"ng-container",6),e&2){w(2);let n=ke(3);F("ngTemplateOutlet",n)("ngTemplateOutletContext",No(4,sT)),y(),F("ngTemplateOutlet",n)("ngTemplateOutletContext",No(5,lT))}}function Wj(e,t){e&1&&Dt(0)}function Uj(e,t){if(e&1&&(z(0,"div"),Q(1,"div",4),z(2,"div")(3,"div"),D(4,qj,1,4,"ng-container")(5,Zj,2,6),S(),D(6,Wj,1,0,"ng-container",5),S()()),e&2){let n=w(),i=ke(5);al("",n.prefixCls,"-range-wrapper ",n.prefixCls,"-date-range-wrapper"),y(),de("",n.prefixCls,"-range-arrow"),F("ngStyle",n.arrowPosition),y(),al("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":"",""),y(),de("",n.prefixCls,"-panels"),y(),J(n.hasTimePicker?4:5),y(2),F("ngTemplateOutlet",i)}}function Gj(e,t){e&1&&Dt(0)}function Yj(e,t){e&1&&Dt(0)}function Kj(e,t){if(e&1&&(z(0,"div")(1,"div",7),D(2,Gj,1,0,"ng-container",5)(3,Yj,1,0,"ng-container",5),S()()),e&2){let n=w(),i=ke(3),o=ke(5);rv("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":""," ",n.hasTimePicker?n.prefixCls+"-time":""," ",n.isRange?n.prefixCls+"-range":"",""),y(),de("",n.prefixCls,"-panel"),We("ant-picker-panel-rtl",n.dir==="rtl"),y(),F("ngTemplateOutlet",i),y(),F("ngTemplateOutlet",o)}}function Qj(e,t){if(e&1){let n=we();z(0,"div")(1,"inner-popup",8),ne("panelModeChange",function(o){let s=G(n).partType,h=w();return Y(h.onPanelModeChange(o,s))})("cellHover",function(o){G(n);let s=w();return Y(s.onCellHover(o))})("selectDate",function(o){G(n);let s=w();return Y(s.changeValueFromSelect(o,!s.showTime))})("selectTime",function(o){let s=G(n).partType,h=w();return Y(h.onSelectTime(o,s))})("headerChange",function(o){let s=G(n).partType,h=w();return Y(h.onActiveDateChange(o,s))}),S()()}if(e&2){let n=t.partType,i=w();de("",i.prefixCls,"-panel"),We("ant-picker-panel-rtl",i.dir==="rtl"),y(),F("showWeek",i.showWeek)("endPanelMode",i.getPanelMode(i.endPanelMode,n))("partType",n)("locale",i.locale)("showTimePicker",i.hasTimePicker)("timeOptions",i.getTimeOptions(n))("panelMode",i.getPanelMode(i.panelMode,n))("activeDate",i.getActiveDate(n))("value",i.getValue(n))("disabledDate",i.disabledDate)("dateRender",i.dateRender)("selectedValue",i.datePickerService==null?null:i.datePickerService.value)("hoverValue",i.hoverValue)}}function Xj(e,t){if(e&1){let n=we();z(0,"calendar-footer",10),ne("clickOk",function(){G(n);let o=w(2);return Y(o.onClickOk())})("clickToday",function(o){G(n);let s=w(2);return Y(s.onClickToday(o))}),S()}if(e&2){let n=w(2),i=ke(7);F("locale",n.locale)("isRange",n.isRange)("showToday",n.showToday)("showNow",n.showNow)("hasTimePicker",n.hasTimePicker)("okDisabled",!n.isAllowed(n.datePickerService==null?null:n.datePickerService.value))("extraFooter",n.extraFooter)("rangeQuickSelector",n.ranges?i:null)}}function Jj(e,t){if(e&1&&D(0,Xj,1,8,"calendar-footer",9),e&2){let n=w();J(n.hasFooter?0:-1)}}function eZ(e,t){if(e&1){let n=we();z(0,"li",11),ne("click",function(){let o=G(n).$implicit,s=w(2);return Y(s.onClickPresetRange(s.ranges[o]))})("mouseenter",function(){let o=G(n).$implicit,s=w(2);return Y(s.onHoverPresetRange(s.ranges[o]))})("mouseleave",function(){G(n);let o=w(2);return Y(o.onPresetRangeMouseLeave())}),z(1,"span",12),H(2),S()()}if(e&2){let n=t.$implicit,i=w(2);de("",i.prefixCls,"-preset"),y(2),Ve(n)}}function tZ(e,t){if(e&1&&Je(0,eZ,3,4,"li",3,tn),e&2){let n=w();et(n.getObjectKeys(n.ranges))}}var nZ=["separatorElement"],iZ=["pickerInput"],rZ=["rangePickerInput"];function oZ(e,t){e&1&&Dt(0)}function aZ(e,t){if(e&1){let n=we();z(0,"div")(1,"input",9,3),wi("ngModelChange",function(o){G(n);let s=w(2);return bi(s.inputValue,o)||(s.inputValue=o),Y(o)}),ne("focus",function(o){G(n);let s=w(2);return Y(s.onFocus(o))})("focusout",function(o){G(n);let s=w(2);return Y(s.onFocusout(o))})("ngModelChange",function(o){G(n);let s=w(2);return Y(s.onInputChange(o))})("keyup.enter",function(o){G(n);let s=w(2);return Y(s.onKeyupEnter(o))}),S(),D(3,oZ,1,0,"ng-container",10),S()}if(e&2){let n=w(2),i=ke(5);de("",n.prefixCls,"-input"),y(),We("ant-input-disabled",n.nzDisabled),gt("placeholder",n.getPlaceholder()),F("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly),Ci("ngModel",n.inputValue),F("size",n.inputSize),wn("id",n.nzId),y(2),F("ngTemplateOutlet",i)}}function sZ(e,t){e&1&&Dt(0)}function lZ(e,t){if(e&1&&H(0),e&2){let n=w(4);Ce(" ",n.nzSeparator," ")}}function cZ(e,t){e&1&&Q(0,"span",13)}function uZ(e,t){if(e&1&&(je(0),D(1,lZ,1,1)(2,cZ,1,0,"span",13),Ze()),e&2){let n=w(3);y(),J(n.nzSeparator?1:2)}}function hZ(e,t){e&1&&Dt(0)}function dZ(e,t){e&1&&Dt(0)}function pZ(e,t){if(e&1&&(z(0,"div"),D(1,sZ,1,0,"ng-container",11),S(),z(2,"div",null,4)(4,"span"),D(5,uZ,3,1,"ng-container",12),S()(),z(6,"div"),D(7,hZ,1,0,"ng-container",11),S(),D(8,dZ,1,0,"ng-container",10)),e&2){let n=w(2),i=ke(3),o=ke(5);de("",n.prefixCls,"-input"),y(),F("ngTemplateOutlet",i)("ngTemplateOutletContext",No(18,sT)),y(),de("",n.prefixCls,"-range-separator"),y(2),de("",n.prefixCls,"-separator"),y(),F("nzStringTemplateOutlet",n.nzSeparator),y(),de("",n.prefixCls,"-input"),y(),F("ngTemplateOutlet",i)("ngTemplateOutletContext",No(19,lT)),y(),F("ngTemplateOutlet",o)}}function fZ(e,t){if(e&1&&D(0,aZ,4,12,"div",8)(1,pZ,9,20),e&2){let n=w();J(n.isRange?1:0)}}function mZ(e,t){}function _Z(e,t){if(e&1&&D(0,mZ,0,0,"ng-template",6),e&2){w();let n=ke(7);F("ngTemplateOutlet",n)}}function gZ(e,t){if(e&1){let n=we();z(0,"input",14,5),ne("click",function(o){G(n);let s=w();return Y(s.onClickInputBox(o))})("focusout",function(o){G(n);let s=w();return Y(s.onFocusout(o))})("focus",function(o){let s=G(n).partType,h=w();return Y(h.onFocus(o,s))})("keyup.enter",function(o){G(n);let s=w();return Y(s.onKeyupEnter(o))}),wi("ngModelChange",function(o){let s=G(n).partType,h=w();return bi(h.inputValue[h.datePickerService.getActiveIndex(s)],o)||(h.inputValue[h.datePickerService.getActiveIndex(s)]=o),Y(o)}),ne("ngModelChange",function(o){G(n);let s=w();return Y(s.onInputChange(o))}),S()}if(e&2){let n=t.partType,i=w();gt("placeholder",i.getPlaceholder(n)),F("disabled",i.nzDisabled)("readOnly",i.nzInputReadOnly)("size",i.inputSize),Ci("ngModel",i.inputValue[i.datePickerService.getActiveIndex(n)]),wn("id",i.nzId)}}function vZ(e,t){if(e&1){let n=we();z(0,"span",17),ne("click",function(o){G(n);let s=w(2);return Y(s.onClickClear(o))}),Q(1,"span",18),S()}if(e&2){let n=w(2);de("",n.prefixCls,"-clear")}}function yZ(e,t){if(e&1&&(je(0),Q(1,"span",19),Ze()),e&2){let n=t.$implicit;y(),F("nzType",n)}}function xZ(e,t){if(e&1&&Q(0,"nz-form-item-feedback-icon",16),e&2){let n=w(2);F("status",n.status)}}function CZ(e,t){if(e&1&&(Q(0,"div",15),D(1,vZ,2,3,"span",8),z(2,"span"),D(3,yZ,2,1,"ng-container",12)(4,xZ,1,1,"nz-form-item-feedback-icon",16),S()),e&2){let n=w();de("",n.prefixCls,"-active-bar"),F("ngStyle",n.activeBarStyle),y(),J(n.showClear?1:-1),y(),de("",n.prefixCls,"-suffix"),y(),F("nzStringTemplateOutlet",n.nzSuffixIcon),y(),J(n.hasFeedback&&n.status?4:-1)}}function bZ(e,t){if(e&1){let n=we();z(0,"div",15)(1,"date-range-popup",20),ne("panelModeChange",function(o){G(n);let s=w();return Y(s.onPanelModeChange(o))})("calendarChange",function(o){G(n);let s=w();return Y(s.onCalendarChange(o))})("resultOk",function(){G(n);let o=w();return Y(o.onResultOk())}),S()()}if(e&2){let n=w();al("",n.prefixCls,"-dropdown ",n.nzDropdownClassName,""),We("ant-picker-dropdown-rtl",n.dir==="rtl")("ant-picker-dropdown-placement-bottomLeft",n.currentPositionY==="bottom"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-topLeft",n.currentPositionY==="top"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-bottomRight",n.currentPositionY==="bottom"&&n.currentPositionX==="end")("ant-picker-dropdown-placement-topRight",n.currentPositionY==="top"&&n.currentPositionX==="end")("ant-picker-dropdown-range",n.isRange)("ant-picker-active-left",n.datePickerService.activeInput==="left")("ant-picker-active-right",n.datePickerService.activeInput==="right"),F("ngStyle",n.nzPopupStyle),y(),F("isRange",n.isRange)("inline",n.nzInline)("defaultPickerValue",n.nzDefaultPickerValue)("showWeek",n.nzShowWeekNumber||n.nzMode==="week")("panelMode",n.panelMode)("locale",n.nzLocale==null?null:n.nzLocale.lang)("showToday",n.nzMode==="date"&&n.nzShowToday&&!n.isRange&&!n.nzShowTime)("showNow",n.nzMode==="date"&&n.nzShowNow&&!n.isRange&&!!n.nzShowTime)("showTime",n.nzShowTime)("dateRender",n.nzDateRender)("disabledDate",n.nzDisabledDate)("disabledTime",n.nzDisabledTime)("extraFooter",n.extraFooter)("ranges",n.nzRanges)("dir",n.dir)}}function wZ(e,t){e&1&&Dt(0)}function zZ(e,t){if(e&1&&(z(0,"div",21),D(1,wZ,1,0,"ng-container",10),S()),e&2){let n=w(),i=ke(7);_t("position","relative"),F("nzNoAnimation",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("@slideMotion","enter"),y(),F("ngTemplateOutlet",i)}}var tp="ant-picker",SZ={nzDisabledHours(){return[]},nzDisabledMinutes(){return[]},nzDisabledSeconds(){return[]}};function cT(e,t){let n=t?t(e&&e.nativeDate):{};return n=qt(qt({},SZ),n),n}function TZ(e,t){let n=!1;if(e){let i=e.getHours(),o=e.getMinutes(),s=e.getSeconds();t.nzDisabledHours().indexOf(i)===-1&&t.nzDisabledMinutes(i).indexOf(o)===-1?n=t.nzDisabledSeconds(i,o).indexOf(s)!==-1:n=!0}return!n}function FZ(e,t){let n=cT(e,t);return TZ(e,n)}function ep(e,t,n){return!(!e||t&&t(e.nativeDate)||n&&!FZ(e,n))}function vu(e){return e&&e.replace(/Y/g,"y").replace(/D/g,"d")}var uT=(()=>{let t=class t{constructor(i){this.dateHelper=i,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new ut,this.clickToday=new ut,this.prefixCls=tp,this.isTemplateRef=hs,this.isNonEmptyString=Bc,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(i){let o=new Date;if(i.disabledDate&&(this.isTodayDisabled=!!(this.disabledDate&&this.disabledDate(o))),i.locale){let s=vu(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(o,s)}}onClickToday(){let i=new In;this.clickToday.emit(i.clone())}get isExtraFooterTemplateRef(){return hs(this.extraFooter)}get isExtraFooterNonEmptyString(){return Bc(this.extraFooter)}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:[2,"showToday","showToday",pe],showNow:[2,"showNow","showNow",pe],hasTimePicker:[2,"hasTimePicker","hasTimePicker",pe],isRange:[2,"isRange","isRange",pe],okDisabled:[2,"okDisabled","okDisabled",pe],disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[Lt,$t,ye],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"click","title"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"click","disabled"]],template:function(o,s){o&1&&(z(0,"div"),D(1,Q7,3,5,"div",0)(2,X7,2,6,"a",1)(3,n9,4,6,"ul",0),S()),o&2&&(de("",s.prefixCls,"-footer"),y(),J(s.extraFooter?1:-1),y(),J(s.showToday?2:-1),y(),J(s.hasTimePicker||s.rangeQuickSelector?3:-1))},dependencies:[Rn,Xi,li,Qi,Fr],encapsulation:2,changeDetection:0});let e=t;return e})(),V0=(()=>{let t=class t{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Vg(1),this.emitValue$=new Gt,this.inputPartChange$=new Gt}initValue(i=!1){i&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(i=this.value){return Array.isArray(i)?!!i[0]||!!i[1]:!!i}makeValue(i){return this.isRange?i?i.map(o=>new In(o)):[]:i?new In(i):null}setActiveDate(i,o=!1,s="month"){let h={date:"month",month:"year",quarter:"year",year:"decade"};this.isRange?this.activeDate=bv(i,o,h[s],this.activeInput):this.activeDate=hl(i)}setValue(i){this.value=i,this.valueChange$.next(this.value)}getActiveIndex(i=this.activeInput){return{left:0,right:1}[i]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac});let e=t;return e})(),yu=(()=>{let t=class t{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new ut,this.valueChange=new ut}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(i){this.value!==i&&(this.value=i,this.valueChange.emit(this.value),this.render())}changeMode(i){this.panelModeChange.emit(i)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new In),this.selectors=this.getSelectors()}ngOnChanges(i){(i.value||i.locale)&&this.render()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=da({type:t,inputs:{value:"value",locale:"locale",showSuperPreBtn:[2,"showSuperPreBtn","showSuperPreBtn",pe],showSuperNextBtn:[2,"showSuperNextBtn","showSuperNextBtn",pe],showPreBtn:[2,"showPreBtn","showPreBtn",pe],showNextBtn:[2,"showNextBtn","showNextBtn",pe]},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[Lt,$t]});let e=t;return e})(),PZ=(()=>{let t=class t extends yu{previous(){}next(){}get startYear(){return parseInt(`${this.value.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Eh(t)))(s||t)}})(),t.\u0275cmp=ve({type:t,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[lr,ye],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,s){o&1&&(z(0,"div")(1,"button",0),ne("click",function(){return s.superPrevious()}),Q(2,"span",1),S(),z(3,"button",0),ne("click",function(){return s.previous()}),Q(4,"span",2),S(),z(5,"div"),Je(6,i9,2,5,"button",3,tn),S(),z(8,"button",0),ne("click",function(){return s.next()}),Q(9,"span",4),S(),z(10,"button",0),ne("click",function(){return s.superNext()}),Q(11,"span",5),S()()),o&2&&(cr(s.prefixCls),y(),de("",s.prefixCls,"-super-prev-btn"),_t("visibility",s.showSuperPreBtn?"visible":"hidden"),gt("title",s.superPreviousTitle()),y(2),de("",s.prefixCls,"-prev-btn"),_t("visibility",s.showPreBtn?"visible":"hidden"),gt("title",s.previousTitle()),y(2),de("",s.prefixCls,"-view"),y(),et(s.selectors),y(2),de("",s.prefixCls,"-next-btn"),_t("visibility",s.showNextBtn?"visible":"hidden"),gt("title",s.nextTitle()),y(2),de("",s.prefixCls,"-super-next-btn"),_t("visibility",s.showSuperNextBtn?"visible":"hidden"),gt("title",s.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),xu=(()=>{let t=class t{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new In,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new ut,this.cellHover=new ut}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(i){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":i.isSelected,"ant-picker-cell-disabled":i.isDisabled,"ant-picker-cell-in-range":!!i.isInSelectedRange,"ant-picker-cell-range-start":!!i.isSelectedStart,"ant-picker-cell-range-end":!!i.isSelectedEnd,"ant-picker-cell-range-start-single":!!i.isStartSingle,"ant-picker-cell-range-end-single":!!i.isEndSingle,"ant-picker-cell-range-hover":!!i.isInHoverRange,"ant-picker-cell-range-hover-start":!!i.isHoverStart,"ant-picker-cell-range-hover-end":!!i.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!i.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!i.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!i.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!i.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(i){i.activeDate&&!i.activeDate.currentValue&&(this.activeDate=new In),(i.disabledDate||i.locale||i.showWeek||i.selectWeek||this.isDateRealChange(i.activeDate)||this.isDateRealChange(i.value)||this.isDateRealChange(i.selectedValue)||this.isDateRealChange(i.hoverValue))&&this.render()}isDateRealChange(i){if(i){let o=i.previousValue,s=i.currentValue;return Array.isArray(s)?!Array.isArray(o)||s.length!==o.length||s.some((h,f)=>{let g=o[f];return g instanceof In?g.isSameDay(h):g!==h}):!this.isSameDate(o,s)}return!1}isSameDate(i,o){return!i&&!o||i&&o&&o.isSameDay(i)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=da({type:t,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:[2,"showWeek","showWeek",pe],selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:[2,"canSelectWeek","canSelectWeek",pe]},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[Lt,$t]});let e=t;return e})(),IZ=4,MZ=3,OZ=(()=>{let t=class t extends xu{get startYear(){return parseInt(`${this.activeDate.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){let i=[],o=this.value&&this.value.getYear(),s=this.startYear,h=this.endYear,f=s-10,g=0;for(let v=0;v<IZ;v++){let P={dateCells:[],trackByIndex:v};for(let I=0;I<MZ;I++){let R=f+g*10,$=f+g*10+9,V=`${R}-${$}`,le={trackByIndex:I,value:this.activeDate.setYear(R).nativeDate,content:V,title:V,isDisabled:!1,isSelected:o>=R&&o<=$,isLowerThanStart:$<s,isBiggerThanEnd:R>h,classMap:{},onClick(){},onMouseEnter(){}};le.classMap=this.getClassMap(le),le.onClick=()=>this.chooseDecade(R),g++,P.dateCells.push(le)}i.push(P)}return i}getClassMap(i){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!i.isBiggerThanEnd&&!i.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:i.isSelected,[`${this.prefixCls}-cell-disabled`]:i.isDisabled}}chooseDecade(i){this.value=this.activeDate.setYear(i),this.valueChange.emit(this.value)}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Eh(t)))(s||t)}})(),t.\u0275cmp=ve({type:t,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[lr,ye],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,s){o&1&&(z(0,"table",0),D(1,a9,5,1,"thead"),z(2,"tbody"),Je(3,y9,4,2,"tr",1,go),S()()),o&2&&(y(),J(s.headRow&&s.headRow.length>0?1:-1),y(2),et(s.bodyRows))},dependencies:[Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),EZ=(()=>{let t=class t extends yu{get startYear(){return parseInt(`${this.value.getYear()/10}`,10)*10}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Eh(t)))(s||t)}})(),t.\u0275cmp=ve({type:t,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[lr,ye],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,s){o&1&&(z(0,"div")(1,"button",0),ne("click",function(){return s.superPrevious()}),Q(2,"span",1),S(),z(3,"button",0),ne("click",function(){return s.previous()}),Q(4,"span",2),S(),z(5,"div"),Je(6,x9,2,5,"button",3,tn),S(),z(8,"button",0),ne("click",function(){return s.next()}),Q(9,"span",4),S(),z(10,"button",0),ne("click",function(){return s.superNext()}),Q(11,"span",5),S()()),o&2&&(cr(s.prefixCls),y(),de("",s.prefixCls,"-super-prev-btn"),_t("visibility",s.showSuperPreBtn?"visible":"hidden"),gt("title",s.superPreviousTitle()),y(2),de("",s.prefixCls,"-prev-btn"),_t("visibility",s.showPreBtn?"visible":"hidden"),gt("title",s.previousTitle()),y(2),de("",s.prefixCls,"-view"),y(),et(s.selectors),y(2),de("",s.prefixCls,"-next-btn"),_t("visibility",s.showNextBtn?"visible":"hidden"),gt("title",s.nextTitle()),y(2),de("",s.prefixCls,"-super-next-btn"),_t("visibility",s.showSuperNextBtn?"visible":"hidden"),gt("title",s.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),AZ=(()=>{let t=class t extends xu{constructor(i){super(),this.dateHelper=i,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let i=this.activeDate&&this.activeDate.getYear(),o=parseInt(`${i/10}`,10)*10,s=o+9,h=o-1,f=[],g=0;for(let v=0;v<this.MAX_ROW;v++){let P={dateCells:[],trackByIndex:v};for(let I=0;I<this.MAX_COL;I++){let R=h+g,$=this.activeDate.setYear(R),V=this.dateHelper.format($.nativeDate,"yyyy"),le=this.isDisabledYear($),re={trackByIndex:I,value:$.nativeDate,isDisabled:le,isSameDecade:R>=o&&R<=s,isSelected:R===(this.value&&this.value.getYear()),content:V,title:V,classMap:{},isLastCellInPanel:$.getYear()===s,isFirstCellInPanel:$.getYear()===o,cellRender:ro(this.cellRender,$),fullCellRender:ro(this.fullCellRender,$),onClick:()=>this.chooseYear(re.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit($)};this.addCellProperty(re,$),P.dateCells.push(re),g++}f.push(P)}return f}getClassMap(i){return Nn(qt({},super.getClassMap(i)),{"ant-picker-cell-in-view":!!i.isSameDecade})}isDisabledYear(i){if(!this.disabledDate)return!1;let o=i.setMonth(0).setDate(1);for(let s=o;s.getYear()===i.getYear();s=s.addDays(1))if(!this.disabledDate(s.nativeDate))return!1;return!0}addCellProperty(i,o){if(this.hasRangeValue()){let[s,h]=this.hoverValue,[f,g]=this.selectedValue;f?.isSameYear(o)&&(i.isSelectedStart=!0,i.isSelected=!0),g?.isSameYear(o)&&(i.isSelectedEnd=!0,i.isSelected=!0),s&&h&&(i.isHoverStart=s.isSameYear(o),i.isHoverEnd=h.isSameYear(o),i.isInHoverRange=s.isBeforeYear(o)&&o.isBeforeYear(h)),i.isStartSingle=f&&!g,i.isEndSingle=!f&&g,i.isInSelectedRange=f?.isBeforeYear(o)&&o?.isBeforeYear(g),i.isRangeStartNearHover=f&&i.isInHoverRange,i.isRangeEndNearHover=g&&i.isInHoverRange}else o.isSameYear(this.value)&&(i.isSelected=!0);i.classMap=this.getClassMap(i)}chooseYear(i){this.value=this.activeDate.setYear(i),this.valueChange.emit(this.value),this.render()}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[lr,ye],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,s){o&1&&(z(0,"table",0),D(1,w9,5,1,"thead"),z(2,"tbody"),Je(3,N9,4,2,"tr",1,go),S()()),o&2&&(y(),J(s.headRow&&s.headRow.length>0?1:-1),y(2),et(s.bodyRows))},dependencies:[Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),DZ=(()=>{let t=class t extends yu{constructor(i){super(),this.dateHelper=i}getSelectors(){return[{className:`${this.prefixCls}-quarter-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,vu(this.locale.yearFormat))}]}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["quarter-header"]],exportAs:["quarterHeader"],standalone:!0,features:[lr,ye],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,s){o&1&&(z(0,"div")(1,"button",0),ne("click",function(){return s.superPrevious()}),Q(2,"span",1),S(),z(3,"button",0),ne("click",function(){return s.previous()}),Q(4,"span",2),S(),z(5,"div"),Je(6,R9,2,5,"button",3,tn),S(),z(8,"button",0),ne("click",function(){return s.next()}),Q(9,"span",4),S(),z(10,"button",0),ne("click",function(){return s.superNext()}),Q(11,"span",5),S()()),o&2&&(cr(s.prefixCls),y(),de("",s.prefixCls,"-super-prev-btn"),_t("visibility",s.showSuperPreBtn?"visible":"hidden"),gt("title",s.superPreviousTitle()),y(2),de("",s.prefixCls,"-prev-btn"),_t("visibility",s.showPreBtn?"visible":"hidden"),gt("title",s.previousTitle()),y(2),de("",s.prefixCls,"-view"),y(),et(s.selectors),y(2),de("",s.prefixCls,"-next-btn"),_t("visibility",s.showNextBtn?"visible":"hidden"),gt("title",s.nextTitle()),y(2),de("",s.prefixCls,"-super-next-btn"),_t("visibility",s.showSuperNextBtn?"visible":"hidden"),gt("title",s.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),kZ=(()=>{let t=class t extends xu{constructor(i){super(),this.dateHelper=i,this.MAX_ROW=1,this.MAX_COL=4}changeValueFromInside(i){this.activeDate=i.clone(),this.valueChange.emit(this.activeDate),this.activeDate.isSameQuarter(this.value)||this.render()}makeHeadRow(){return[]}makeBodyRows(){let i=[],o=[{dateCells:i,trackByIndex:0}],s=1;for(let h=1;h<=this.MAX_COL;h++,s++){let f=this.activeDate.setQuarter(s),g=this.isDisabledQuarter(f),v=this.dateHelper.format(f.nativeDate,"[Q]Q"),P={trackByIndex:h,value:f.nativeDate,isDisabled:g,isSelected:f.isSameQuarter(this.value),content:v,title:v,classMap:{},cellRender:ro(this.cellRender,f),fullCellRender:ro(this.fullCellRender,f),onClick:()=>this.changeValueFromInside(f),onMouseEnter:()=>this.cellHover.emit(f)};this.addCellProperty(P,f),i.push(P)}return o}isDisabledQuarter(i){if(!this.disabledDate)return!1;let o=new In(yv(i.nativeDate));for(let s=o;s.getQuarter()===i.getQuarter();s=s.addMonths(1))if(!this.disabledDate(s.nativeDate))return!1;return!0}addCellProperty(i,o){if(i.isTemplateRef=hs(i.cellRender),i.isNonEmptyString=Bc(i.cellRender),this.hasRangeValue()){let[s,h]=this.hoverValue,[f,g]=this.selectedValue;f?.isSameQuarter(o)&&(i.isSelectedStart=!0,i.isSelected=!0),g?.isSameQuarter(o)&&(i.isSelectedEnd=!0,i.isSelected=!0),s&&h&&(i.isHoverStart=s.isSameQuarter(o),i.isHoverEnd=h.isSameQuarter(o),i.isLastCellInPanel=o.getQuarter()===4,i.isFirstCellInPanel=o.getQuarter()===1,i.isInHoverRange=s.isBeforeQuarter(o)&&o.isBeforeQuarter(h)),i.isStartSingle=f&&!g,i.isEndSingle=!f&&g,i.isInSelectedRange=f?.isBeforeQuarter(o)&&o?.isBeforeQuarter(g),i.isRangeStartNearHover=f&&i.isInHoverRange,i.isRangeEndNearHover=g&&i.isInHoverRange}else o.isSameQuarter(this.value)&&(i.isSelected=!0);i.classMap=this.getClassMap(i)}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["quarter-table"]],exportAs:["quarterTable"],standalone:!0,features:[lr,ye],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,s){o&1&&(z(0,"table",0),D(1,H9,5,1,"thead"),z(2,"tbody"),Je(3,J9,4,2,"tr",1,go),S()()),o&2&&(y(),J(s.headRow&&s.headRow.length>0?1:-1),y(2),et(s.bodyRows))},dependencies:[Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),NZ=(()=>{let t=class t extends yu{constructor(i){super(),this.dateHelper=i}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,vu(this.locale.yearFormat))}]}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[lr,ye],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,s){o&1&&(z(0,"div")(1,"button",0),ne("click",function(){return s.superPrevious()}),Q(2,"span",1),S(),z(3,"button",0),ne("click",function(){return s.previous()}),Q(4,"span",2),S(),z(5,"div"),Je(6,ej,2,5,"button",3,tn),S(),z(8,"button",0),ne("click",function(){return s.next()}),Q(9,"span",4),S(),z(10,"button",0),ne("click",function(){return s.superNext()}),Q(11,"span",5),S()()),o&2&&(cr(s.prefixCls),y(),de("",s.prefixCls,"-super-prev-btn"),_t("visibility",s.showSuperPreBtn?"visible":"hidden"),gt("title",s.superPreviousTitle()),y(2),de("",s.prefixCls,"-prev-btn"),_t("visibility",s.showPreBtn?"visible":"hidden"),gt("title",s.previousTitle()),y(2),de("",s.prefixCls,"-view"),y(),et(s.selectors),y(2),de("",s.prefixCls,"-next-btn"),_t("visibility",s.showNextBtn?"visible":"hidden"),gt("title",s.nextTitle()),y(2),de("",s.prefixCls,"-super-next-btn"),_t("visibility",s.showSuperNextBtn?"visible":"hidden"),gt("title",s.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),RZ=(()=>{let t=class t extends xu{constructor(i){super(),this.dateHelper=i,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let i=[],o=0;for(let s=0;s<this.MAX_ROW;s++){let h={dateCells:[],trackByIndex:s};for(let f=0;f<this.MAX_COL;f++){let g=this.activeDate.setMonth(o),v=this.isDisabledMonth(g),P=this.dateHelper.format(g.nativeDate,"MMM"),I={trackByIndex:f,value:g.nativeDate,isDisabled:v,isSelected:g.isSameMonth(this.value),content:P,title:P,classMap:{},cellRender:ro(this.cellRender,g),fullCellRender:ro(this.fullCellRender,g),onClick:()=>this.chooseMonth(I.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(g)};this.addCellProperty(I,g),h.dateCells.push(I),o++}i.push(h)}return i}isDisabledMonth(i){if(!this.disabledDate)return!1;let o=i.setDate(1);for(let s=o;s.getMonth()===i.getMonth();s=s.addDays(1))if(!this.disabledDate(s.nativeDate))return!1;return!0}addCellProperty(i,o){if(this.hasRangeValue()){let[s,h]=this.hoverValue,[f,g]=this.selectedValue;f?.isSameMonth(o)&&(i.isSelectedStart=!0,i.isSelected=!0),g?.isSameMonth(o)&&(i.isSelectedEnd=!0,i.isSelected=!0),s&&h&&(i.isHoverStart=s.isSameMonth(o),i.isHoverEnd=h.isSameMonth(o),i.isLastCellInPanel=o.getMonth()===11,i.isFirstCellInPanel=o.getMonth()===0,i.isInHoverRange=s.isBeforeMonth(o)&&o.isBeforeMonth(h)),i.isStartSingle=f&&!g,i.isEndSingle=!f&&g,i.isInSelectedRange=f?.isBeforeMonth(o)&&o?.isBeforeMonth(g),i.isRangeStartNearHover=f&&i.isInHoverRange,i.isRangeEndNearHover=g&&i.isInHoverRange}else o.isSameMonth(this.value)&&(i.isSelected=!0);i.classMap=this.getClassMap(i)}chooseMonth(i){this.value=this.activeDate.setMonth(i),this.valueChange.emit(this.value)}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[lr,ye],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,s){o&1&&(z(0,"table",0),D(1,ij,5,1,"thead"),z(2,"tbody"),Je(3,_j,4,2,"tr",1,go),S()()),o&2&&(y(),J(s.headRow&&s.headRow.length>0?1:-1),y(2),et(s.bodyRows))},dependencies:[Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),LZ=(()=>{let t=class t extends yu{constructor(i){super(),this.dateHelper=i}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,vu(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}};t.\u0275fac=function(o){return new(o||t)(U(ur))},t.\u0275cmp=ve({type:t,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[lr,ye],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,s){o&1&&(z(0,"div")(1,"button",0),ne("click",function(){return s.superPrevious()}),Q(2,"span",1),S(),z(3,"button",0),ne("click",function(){return s.previous()}),Q(4,"span",2),S(),z(5,"div"),Je(6,gj,2,5,"button",3,tn),S(),z(8,"button",0),ne("click",function(){return s.next()}),Q(9,"span",4),S(),z(10,"button",0),ne("click",function(){return s.superNext()}),Q(11,"span",5),S()()),o&2&&(cr(s.prefixCls),y(),de("",s.prefixCls,"-super-prev-btn"),_t("visibility",s.showSuperPreBtn?"visible":"hidden"),gt("title",s.superPreviousTitle()),y(2),de("",s.prefixCls,"-prev-btn"),_t("visibility",s.showPreBtn?"visible":"hidden"),gt("title",s.previousTitle()),y(2),de("",s.prefixCls,"-view"),y(),et(s.selectors),y(2),de("",s.prefixCls,"-next-btn"),_t("visibility",s.showNextBtn?"visible":"hidden"),gt("title",s.nextTitle()),y(2),de("",s.prefixCls,"-super-next-btn"),_t("visibility",s.showSuperNextBtn?"visible":"hidden"),gt("title",s.superNextTitle()))},encapsulation:2,changeDetection:0});let e=t;return e})(),BZ=(()=>{let t=class t extends xu{constructor(i,o){super(),this.i18n=i,this.dateHelper=o}changeValueFromInside(i){this.activeDate=this.activeDate.setYear(i.getYear()).setMonth(i.getMonth()).setDate(i.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){let i=[],o=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let s=0;s<this.MAX_COL;s++){let h=o.addDays(s);i.push({trackByIndex:null,value:h.nativeDate,title:this.dateHelper.format(h.nativeDate,"E"),content:this.dateHelper.format(h.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return i}getVeryShortWeekFormat(){return this.i18n.getLocaleId().toLowerCase().indexOf("zh")===0?"EEEEE":"EEEEEE"}makeBodyRows(){let i=[],o=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let s=0;s<this.MAX_ROW;s++){let h=o.addDays(s*7),f={isActive:!1,dateCells:[],trackByIndex:s};for(let g=0;g<7;g++){let v=h.addDays(g),P=vu(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),I=this.dateHelper.format(v.nativeDate,P),R=this.dateHelper.format(v.nativeDate,"dd"),$={trackByIndex:g,value:v.nativeDate,label:R,isSelected:!1,isDisabled:!1,isToday:!1,title:I,cellRender:ro(this.cellRender,v),fullCellRender:ro(this.fullCellRender,v),content:`${v.getDate()}`,onClick:()=>this.changeValueFromInside(v),onMouseEnter:()=>this.cellHover.emit(v)};this.addCellProperty($,v),this.showWeek&&!f.weekNum&&(f.weekNum=this.dateHelper.getISOWeek(v.nativeDate)),v.isSameDay(this.value)&&(f.isActive=v.isSameDay(this.value)),f.dateCells.push($)}f.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&f.isActive},i.push(f)}return i}addCellProperty(i,o){if(i.isTemplateRef=hs(i.cellRender),i.isNonEmptyString=Bc(i.cellRender),this.hasRangeValue()&&!this.canSelectWeek){let[s,h]=this.hoverValue,[f,g]=this.selectedValue;f?.isSameDay(o)&&(i.isSelectedStart=!0,i.isSelected=!0),g?.isSameDay(o)&&(i.isSelectedEnd=!0,i.isSelected=!0),s&&h&&(i.isHoverStart=s.isSameDay(o),i.isHoverEnd=h.isSameDay(o),i.isLastCellInPanel=o.isLastDayOfMonth(),i.isFirstCellInPanel=o.isFirstDayOfMonth(),i.isInHoverRange=s.isBeforeDay(o)&&o.isBeforeDay(h)),i.isStartSingle=f&&!g,i.isEndSingle=!f&&g,i.isInSelectedRange=f?.isBeforeDay(o)&&o.isBeforeDay(g),i.isRangeStartNearHover=f&&i.isInHoverRange,i.isRangeEndNearHover=g&&i.isInHoverRange}i.isToday=o.isToday(),i.isSelected=o.isSameDay(this.value),i.isDisabled=!!this.disabledDate?.(o.nativeDate),i.classMap=this.getClassMap(i)}getClassMap(i){let o=new In(i.value);return Nn(qt({},super.getClassMap(i)),{"ant-picker-cell-today":!!i.isToday,"ant-picker-cell-in-view":o.isSameMonth(this.activeDate)})}};t.\u0275fac=function(o){return new(o||t)(U(Hc),U(ur))},t.\u0275cmp=ve({type:t,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[lr,ye],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,s){o&1&&(z(0,"table",0),D(1,xj,5,1,"thead"),z(2,"tbody"),Je(3,Aj,4,2,"tr",1,go),S()()),o&2&&(y(),J(s.headRow&&s.headRow.length>0?1:-1),y(2),et(s.bodyRows))},dependencies:[Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),HZ=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({});let e=t;return e})(),hT=(()=>{let t=class t{constructor(){this.panelModeChange=new ut,this.headerChange=new ut,this.selectDate=new ut,this.selectTime=new ut,this.cellHover=new ut,this.prefixCls=tp}enablePrevNext(i,o){return!(!this.showTimePicker&&o===this.endPanelMode&&(this.partType==="left"&&i==="next"||this.partType==="right"&&i==="prev"))}onSelectTime(i){this.selectTime.emit(new In(i))}onSelectDate(i){let o=i instanceof In?i:new In(i),s=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&s&&o.setHms(s.getHours(),s.getMinutes(),s.getSeconds()),this.selectDate.emit(o)}onChooseMonth(i){this.activeDate=this.activeDate.setMonth(i.getMonth()),this.endPanelMode==="month"?(this.value=i,this.selectDate.emit(i)):(this.headerChange.emit(i),this.panelModeChange.emit(this.endPanelMode))}onChooseQuarter(i){this.activeDate=this.activeDate.setQuarter(i.getQuarter()),this.value=i,this.selectDate.emit(i)}onChooseYear(i){this.activeDate=this.activeDate.setYear(i.getYear()),this.endPanelMode==="year"?(this.value=i,this.selectDate.emit(i)):(this.headerChange.emit(i),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(i){this.activeDate=this.activeDate.setYear(i.getYear()),this.endPanelMode==="decade"?(this.value=i,this.selectDate.emit(i)):(this.headerChange.emit(i),this.panelModeChange.emit("year"))}ngOnChanges(i){i.activeDate&&!i.activeDate.currentValue&&(this.activeDate=new In),i.panelMode&&i.panelMode.currentValue==="time"&&(this.panelMode="date")}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:[2,"showWeek","showWeek",pe],locale:"locale",showTimePicker:[2,"showTimePicker","showTimePicker",pe],timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[Lt,$t,ye],decls:8,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn"],[3,"valueChange","activeDate","value","locale","disabledDate"],[3,"valueChange","cellHover","activeDate","value","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue","cellRender"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn"],[3,"valueChange","cellHover","locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek"],[3,"ngModelChange","nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"]],template:function(o,s){if(o&1&&(z(0,"div")(1,"div"),D(2,Dj,3,13)(3,kj,3,15)(4,Nj,3,15)(5,Rj,3,16)(6,Lj,3,18),S(),D(7,Bj,1,13,"nz-time-picker-panel",0),S()),o&2){let h;We("ant-picker-datetime-panel",s.showTimePicker),y(),al("",s.prefixCls,"-",s.panelMode,"-panel"),y(),J((h=s.panelMode)==="decade"?2:h==="year"?3:h==="month"?4:h==="quarter"?5:6),y(5),J(s.showTimePicker&&s.timeOptions?7:-1)}},dependencies:[HZ,LZ,BZ,PZ,OZ,NZ,RZ,EZ,AZ,DZ,kZ,aT,Jd,Lo,Ni,fs],encapsulation:2,changeDetection:0});let e=t;return e})(),q0=(()=>{let t=class t{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return this.dir==="rtl"?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(i,o,s,h){this.datePickerService=i,this.cdr=o,this.ngZone=s,this.host=h,this.inline=!1,this.dir="ltr",this.panelModeChange=new ut,this.calendarChange=new ut,this.resultOk=new ut,this.prefixCls=tp,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new Gt,this.disabledStartTime=f=>this.disabledTime&&this.disabledTime(f,"start"),this.disabledEndTime=f=>this.disabledTime&&this.disabledTime(f,"end")}ngOnInit(){os(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe($e(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{Tr(this.host.nativeElement,"mousedown").pipe($e(this.destroy$)).subscribe(i=>i.preventDefault())})}ngOnChanges(i){(i.showTime||i.disabledTime)&&this.showTime&&this.buildTimeOptions(),i.panelMode&&(this.endPanelMode=this.panelMode),i.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){let i=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(i,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){let i={left:0,right:1}[this.datePickerService.activeInput],o=this.isRange?this.datePickerService.value[i]:this.datePickerService.value;this.changeValueFromSelect(o),this.resultOk.emit()}onClickToday(i){this.changeValueFromSelect(i,!this.showTime)}onCellHover(i){if(!this.isRange)return;let o={left:1,right:0}[this.datePickerService.activeInput],s=this.datePickerService.value[o];s&&(s.isBeforeDay(i)?this.hoverValue=[s,i]:this.hoverValue=[i,s])}onPanelModeChange(i,o){this.isRange?this.datePickerService.getActiveIndex(o)===0?this.panelMode=[i,this.panelMode[1]]:this.panelMode=[this.panelMode[0],i]:this.panelMode=i,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(i,o){if(this.isRange){let s=[];s[this.datePickerService.getActiveIndex(o)]=i,this.datePickerService.setActiveDate(s,this.hasTimePicker,this.getPanelMode(this.endPanelMode,o))}else this.datePickerService.setActiveDate(i)}onSelectTime(i,o){if(this.isRange){let s=hl(this.datePickerService.value),h=this.datePickerService.getActiveIndex(o);s[h]=this.overrideHms(i,s[h]),this.datePickerService.setValue(s)}else{let s=this.overrideHms(i,this.datePickerService.value);this.datePickerService.setValue(s)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(i,o=!0){if(this.isRange){let s=hl(this.datePickerService.value),h=this.datePickerService.activeInput,f=h;s[this.datePickerService.getActiveIndex(h)]=i,this.checkedPartArr[this.datePickerService.getActiveIndex(h)]=!0,this.hoverValue=s,o?this.inline?(f=this.reversedPart(h),f==="right"&&(s[this.datePickerService.getActiveIndex(f)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(f)]=!1),this.datePickerService.setValue(s),this.calendarChange.emit(s),this.isBothAllowed(s)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(Vf(s)&&(f=this.reversedPart(h),s[this.datePickerService.getActiveIndex(f)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(f)]=!1),this.datePickerService.setValue(s),this.isBothAllowed(s)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(s),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(s)&&(f=this.reversedPart(h),this.calendarChange.emit([i.clone()]))):this.datePickerService.setValue(s),this.datePickerService.inputPartChange$.next(f)}else this.datePickerService.setValue(i),this.datePickerService.inputPartChange$.next(null),o&&this.isAllowed(i)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(i){return i==="left"?"right":"left"}getPanelMode(i,o){return this.isRange?i[this.datePickerService.getActiveIndex(o)]:i}getValue(i){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(i)]:this.datePickerService.value}getActiveDate(i){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(i)]:this.datePickerService.activeDate}isOneAllowed(i){let o=this.datePickerService.getActiveIndex(),s=[this.disabledStartTime,this.disabledEndTime];return ep(i[o],this.disabledDate,s[o])}isBothAllowed(i){return ep(i[0],this.disabledDate,this.disabledStartTime)&&ep(i[1],this.disabledDate,this.disabledEndTime)}isAllowed(i,o=!1){return this.isRange?o?this.isBothAllowed(i):this.isOneAllowed(i):ep(i,this.disabledDate,this.disabledTime)}getTimeOptions(i){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(i)]:this.timeOptions:null}onClickPresetRange(i){let o=typeof i=="function"?i():i;o&&(this.datePickerService.setValue([new In(o[0]),new In(o[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(i){typeof i!="function"&&(this.hoverValue=[new In(i[0]),new In(i[1])])}getObjectKeys(i){return i?Object.keys(i):[]}show(i){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==i)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){let i=typeof this.showTime=="object"?this.showTime:{};if(this.isRange){let o=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(i,o[0],"start"),this.overrideTimeOptions(i,o[1],"end")]}else this.timeOptions=this.overrideTimeOptions(i,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(i,o,s){let h;return s?h=s==="start"?this.disabledStartTime:this.disabledEndTime:h=this.disabledTime,qt(qt({},i),cT(o,h))}overrideHms(i,o){return i=i||new In,o=o||new In,o.setHms(i.getHours(),i.getMinutes(),i.getSeconds())}};t.\u0275fac=function(o){return new(o||t)(U(V0),U(nn),U(xi),U(Wi))},t.\u0275cmp=ve({type:t,selectors:[["date-range-popup"]],inputs:{isRange:[2,"isRange","isRange",pe],inline:[2,"inline","inline",pe],showWeek:[2,"showWeek","showWeek",pe],locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:[2,"showToday","showToday",pe],showNow:[2,"showNow","showNow",pe],showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[Lt,$t,ye],decls:8,vars:1,consts:[["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[3,"class"],[3,"ngStyle"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"panelModeChange","cellHover","selectDate","selectTime","headerChange","showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"clickOk","clickToday","locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(o,s){o&1&&D(0,Uj,7,17,"div",3)(1,Kj,4,13,"div",3)(2,Qj,2,18,"ng-template",null,0,Ke)(4,Jj,1,1,"ng-template",null,1,Ke)(6,tZ,2,0,"ng-template",null,2,Ke),o&2&&J(s.isRange?0:1)},dependencies:[hT,Rn,uT,Vr],encapsulation:2,changeDetection:0});let e=t;return e})(),H0={position:"relative"},VZ="datePicker",Z0=(()=>{let t=class t{get nzShowTime(){return this.showTime}set nzShowTime(i){this.showTime=typeof i=="object"?i:Rh(i)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe($e(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe($e(this.destroy$)).subscribe(i=>{i&&(this.datePickerService.activeInput=i),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>Tr(this.elementRef.nativeElement,"mousedown").pipe($e(this.destroy$)).subscribe(i=>{i.target.tagName.toLowerCase()!=="input"&&i.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;let i={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft=this.datePickerService.activeInput==="left"?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.dir==="rtl"?this.activeBarStyle=Nn(qt({},i),{right:`${this.datePickerService.arrowLeft}px`}):this.activeBarStyle=Nn(qt({},i),{left:`${this.datePickerService.arrowLeft}px`}),this.cdr.markForCheck()}getInput(i){if(!this.nzInline)return this.isRange?i==="left"?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){let i=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==i&&i?.focus()}onFocus(i,o){i.preventDefault(),o&&this.datePickerService.inputPartChange$.next(o),this.renderClass(!0)}onFocusout(i){i.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(i.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&Vf(this.datePickerService.value)){let i=this.datePickerService.getActiveIndex(),o=this.datePickerService.value[i];this.panel.changeValueFromSelect(o,!0);return}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(i){i.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(i){i.keyCode===27&&this.datePickerService.initValue()}onPositionChange(i){this.currentPositionX=i.connectionPair.originX,this.currentPositionY=i.connectionPair.originY,this.cdr.detectChanges()}onClickClear(i){i.preventDefault(),i.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){let i=this.datePickerService.value;this.isRange?this.inputValue=i?i.map(o=>this.formatValue(o)):["",""]:this.inputValue=this.formatValue(i),this.cdr.markForCheck()}formatValue(i){return this.dateHelper.format(i&&i.nativeDate,this.nzFormat)}onInputChange(i,o=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState){this.open();return}let s=this.checkValidDate(i);s&&this.realOpenState&&this.panel.changeValueFromSelect(s,o)}onKeyupEnter(i){this.onInputChange(i.target.value,!0)}checkValidDate(i){let o=new In(this.dateHelper.parseDate(i,this.nzFormat));return!o.isValid()||i!==this.dateHelper.format(o.nativeDate,this.nzFormat)?null:o}getPlaceholder(i){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(i)]:this.nzPlaceHolder}isEmptyValue(i){return i===null?!0:this.isRange?!i||!Array.isArray(i)||i.every(o=>!o):!i}isOpenHandledByUser(){return this.nzOpen!==void 0}constructor(i,o,s,h,f,g,v,P,I,R,$,V){this.nzConfigService=i,this.datePickerService=o,this.i18n=s,this.cdr=h,this.renderer=f,this.ngZone=g,this.elementRef=v,this.dateHelper=P,this.nzResizeObserver=I,this.platform=R,this.destroy$=$,this.directionality=V,this._nzModuleName=VZ,this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=H0,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new ut,this.nzOnCalendarChange=new ut,this.nzOnOk=new ut,this.nzOnOpenChange=new ut,this.document=Et(ma),this.inputSize=12,this.prefixCls=tp,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...jf],this.currentPositionX="start",this.currentPositionY="bottom",this.noAnimation=Et(hr,{host:!0,optional:!0}),this.nzFormStatusService=Et(Yh,{optional:!0}),this.nzFormNoStatusService=Et(Kh,{optional:!0}),this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.origin=new jh(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ol((i,o)=>i.status===o.status&&i.hasFeedback===o.hasFeedback),Ih(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Do(!1)),Br(([{status:i,hasFeedback:o},s])=>({status:s?"":i,hasFeedback:o})),$e(this.destroy$)).subscribe(({status:i,hasFeedback:o})=>{this.setStatusStyles(i,o)}),this.nzLocale||this.i18n.localeChange.pipe($e(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe($e(this.destroy$)).subscribe(()=>{let i=this.showTime?"second":"day",o=this.datePickerService.value,s=this.datePickerService.initialValue;if(!this.isRange&&o?.isSame(s?.nativeDate,i))return this.onTouchedFn(),this.close();if(this.isRange){let[h,f]=s,[g,v]=o;if(h?.isSame(g?.nativeDate,i)&&f?.isSame(v?.nativeDate,i))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=hl(o),this.isRange){let h=o;h.length?this.onChangeFn([h[0]?.nativeDate??null,h[1]?.nativeDate??null]):this.onChangeFn([])}else o?this.onChangeFn(o.nativeDate):this.onChangeFn(null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe($e(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(i){let{nzStatus:o,nzPlacement:s}=i;i.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?qt(qt({},this.nzPopupStyle),H0):H0),i.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),i.nzFormat?.currentValue&&(this.isCustomFormat=!0),i.nzLocale&&this.setDefaultPlaceHolder(),i.nzRenderExtraFooter&&(this.extraFooter=ro(this.nzRenderExtraFooter)),i.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),o&&this.setStatusStyles(this.nzStatus,this.hasFeedback),s&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){let i={year:"yyyy",quarter:"yyyy-[Q]Q",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=i[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(i){this.nzOnOpenChange.emit(i)}writeValue(i){this.setValue(i),this.cdr.markForCheck()}registerOnChange(i){this.onChangeFn=i}registerOnTouched(i){this.onTouchedFn=i}setDisabledState(i){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||i,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){let i={year:this.getPropertyOfLocale("yearPlaceholder"),quarter:this.getPropertyOfLocale("quarterPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},o={year:this.getPropertyOfLocale("rangeYearPlaceholder"),quarter:this.getPropertyOfLocale("rangeQuarterPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?o[this.nzMode]:i[this.nzMode]}}getPropertyOfLocale(i){return this.nzLocale.lang[i]||this.i18n.getLocaleData(`DatePicker.lang.${i}`)}setValue(i){let o=this.datePickerService.makeValue(i);this.datePickerService.setValue(o),this.datePickerService.initialValue=hl(o),this.cdr.detectChanges()}renderClass(i){i?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(i){this.nzOnPanelChange.emit(i)}onCalendarChange(i){if(this.isRange&&Array.isArray(i)){let o=i.filter(s=>s instanceof In).map(s=>s.nativeDate);this.nzOnCalendarChange.emit(o)}}onResultOk(){if(this.isRange){let i=this.datePickerService.value;i.length?this.nzOnOk.emit([i[0]?.nativeDate||null,i[1]?.nativeDate||null]):this.nzOnOk.emit([])}else this.datePickerService.value?this.nzOnOk.emit(this.datePickerService.value.nativeDate):this.nzOnOk.emit(null)}setStatusStyles(i,o){this.status=i,this.hasFeedback=o,this.cdr.markForCheck(),this.statusCls=Lh(this.prefixCls,i,o),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}setPlacement(i){let o=Lv[i];this.overlayPositions=[o,...jf],this.currentPositionX=o.originX,this.currentPositionY=o.originY}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(V0),U(Hc),U(nn),U(to),U(xi),U(Wi),U(ur),U(Uv),U(dl),U(zi),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-quarter-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(o,s){if(o&1&&(Bt(qc,5),Bt(q0,5),Bt(nZ,5),Bt(iZ,5),Bt(rZ,5)),o&2){let h;wt(h=zt())&&(s.cdkConnectedOverlay=h.first),wt(h=zt())&&(s.panel=h.first),wt(h=zt())&&(s.separatorElement=h.first),wt(h=zt())&&(s.pickerInput=h.first),wt(h=zt())&&(s.rangePickerInputs=h)}},hostVars:16,hostBindings:function(o,s){o&1&&ne("click",function(f){return s.onClickInputBox(f)}),o&2&&We("ant-picker",!0)("ant-picker-range",s.isRange)("ant-picker-large",s.nzSize==="large")("ant-picker-small",s.nzSize==="small")("ant-picker-disabled",s.nzDisabled)("ant-picker-rtl",s.dir==="rtl")("ant-picker-borderless",s.nzBorderless)("ant-picker-inline",s.nzInline)},inputs:{nzAllowClear:[2,"nzAllowClear","nzAllowClear",pe],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",pe],nzDisabled:[2,"nzDisabled","nzDisabled",pe],nzBorderless:[2,"nzBorderless","nzBorderless",pe],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",pe],nzInline:[2,"nzInline","nzInline",pe],nzOpen:[2,"nzOpen","nzOpen",pe],nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:[2,"nzShowToday","nzShowToday",pe],nzMode:"nzMode",nzShowNow:[2,"nzShowNow","nzShowNow",pe],nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:[2,"nzShowWeekNumber","nzShowWeekNumber",pe],nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[ki([zi,V0,{provide:ps,multi:!0,useExisting:Mh(()=>t)}]),Lt,$t,ye],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["pickerInput",""],["separatorElement",""],["rangePickerInput",""],[3,"ngTemplateOutlet"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"positionChange","detach","overlayKeydown","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn"],[3,"class"],["autocomplete","off",3,"ngModelChange","focus","focusout","keyup.enter","disabled","readOnly","ngModel","placeholder","size"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],["autocomplete","off",3,"click","focusout","focus","keyup.enter","ngModelChange","disabled","readOnly","size","ngModel","placeholder"],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"panelModeChange","calendarChange","resultOk","isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir"],[1,"ant-picker-wrapper",3,"nzNoAnimation"]],template:function(o,s){if(o&1){let h=we();D(0,fZ,2,1)(1,_Z,1,1,null,6)(2,gZ,2,6,"ng-template",null,0,Ke)(4,CZ,5,10,"ng-template",null,1,Ke)(6,bZ,2,36,"ng-template",null,2,Ke)(8,zZ,2,5,"ng-template",7),ne("positionChange",function(g){return G(h),Y(s.onPositionChange(g))})("detach",function(){return G(h),Y(s.close())})("overlayKeydown",function(g){return G(h),Y(s.onOverlayKeydown(g))})}o&2&&(J(s.nzInline?1:0),y(8),F("cdkConnectedOverlayHasBackdrop",s.nzBackdrop)("cdkConnectedOverlayOrigin",s.origin)("cdkConnectedOverlayOpen",s.realOpenState)("cdkConnectedOverlayPositions",s.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[Lo,Ki,Ni,fs,Rn,Bn,Ln,vn,gn,Vr,Xh,Qh,q0,qc,Wh,Zh,hr],encapsulation:2,data:{animation:[pl]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzSeparator",void 0),ct([ht()],e.prototype,"nzSuffixIcon",void 0),ct([ht()],e.prototype,"nzBackdrop",void 0),e})();var np=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[Z0,uT,hT,q0]});let e=t;return e})();var dT=new Oh("nz-after-next-render",{providedIn:"root",factory:()=>{let e=Et(ls);return new Bg(t=>{let n=nv(()=>{t.next(),t.complete()},{injector:e});return()=>n.destroy()})}});var jZ=[[["nz-auto-option"]]],ZZ=["nz-auto-option"];function WZ(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w();y(),Ve(n.nzLabel)}}var pT=["*"],UZ=["panel"],GZ=["content"];function YZ(e,t){}function KZ(e,t){e&1&&D(0,YZ,0,0,"ng-template")}function QZ(e,t){e&1&&Di(0)}function XZ(e,t){if(e&1&&(z(0,"nz-auto-option",8),H(1),S()),e&2){let n=t.$implicit;F("nzValue",n.value)("nzLabel",n.label),y(),Ce(" ",n.label," ")}}function JZ(e,t){if(e&1&&D(0,XZ,2,3,"nz-auto-option",7),e&2){let n=w(2);F("ngForOf",n.normalizedDataSource)}}function eW(e,t){if(e&1){let n=we();z(0,"div",3,0),ne("@slideMotion.done",function(o){G(n);let s=w();return Y(s.onAnimationEvent(o))}),z(2,"div",4)(3,"div",5),D(4,KZ,1,0,null,6),S()()(),D(5,QZ,1,0,"ng-template",null,1,Ke)(7,JZ,1,1,"ng-template",null,2,Ke)}if(e&2){let n=ke(6),i=ke(8),o=w();We("ant-select-dropdown-hidden",!o.showPanel)("ant-select-dropdown-rtl",o.dir==="rtl"),F("ngClass",o.nzOverlayClassName)("ngStyle",o.nzOverlayStyle)("nzNoAnimation",o.noAnimation==null?null:o.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!!(o.noAnimation!=null&&o.noAnimation.nzNoAnimation)),y(4),F("ngTemplateOutlet",o.nzDataSource?i:n)}}var fT=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],standalone:!0,features:[ye],ngContentSelectors:ZZ,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(o,s){o&1&&(Ai(jZ),z(0,"div",0),D(1,WZ,2,1,"ng-container",1),S(),Di(2)),o&2&&(y(),F("nzStringTemplateOutlet",s.nzLabel))},dependencies:[Bn,Ln],encapsulation:2,changeDetection:0});let e=t;return e})(),W0=class{constructor(t,n=!1){this.source=t,this.isUserInput=n}},Ps=(()=>{let t=class t{constructor(i,o,s){this.ngZone=i,this.changeDetectorRef=o,this.element=s,this.nzDisabled=!1,this.selectionChange=new ut,this.mouseEntered=new ut,this.active=!1,this.selected=!1,this.nzAutocompleteOptgroupComponent=Et(fT,{optional:!0}),this.destroy$=new Gt}ngOnInit(){this.ngZone.runOutsideAngular(()=>{Tr(this.element.nativeElement,"mouseenter").pipe(ua(()=>this.mouseEntered.observers.length>0),$e(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),Tr(this.element.nativeElement,"mousedown").pipe($e(this.destroy$)).subscribe(i=>i.preventDefault())})}ngOnDestroy(){this.destroy$.next()}select(i=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),i&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){xv(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(i=!1){this.selectionChange.emit(new W0(this,i))}};t.\u0275fac=function(o){return new(o||t)(U(xi),U(nn),U(Wi))},t.\u0275cmp=ve({type:t,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(o,s){o&1&&ne("click",function(){return s.selectViaInteraction()}),o&2&&(wn("aria-selected",s.selected.toString())("aria-disabled",s.nzDisabled.toString()),We("ant-select-item-option-grouped",s.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",s.selected)("ant-select-item-option-active",s.active)("ant-select-item-option-disabled",s.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:[2,"nzDisabled","nzDisabled",pe]},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],standalone:!0,features:[Lt,ye],ngContentSelectors:pT,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(o,s){o&1&&(Ai(),z(0,"div",0),Di(1),S())},encapsulation:2,changeDetection:0});let e=t;return e})(),tW={provide:ps,useExisting:Mh(()=>Cu),multi:!0};function nW(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}var Cu=(()=>{let t=class t{get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}constructor(i,o,s,h){this.ngZone=i,this.elementRef=o,this.overlay=s,this.viewContainerRef=h,this.onChange=()=>{},this.onTouched=()=>{},this.panelOpen=!1,this.destroy$=new Gt,this.overlayRef=null,this.portal=null,this.previousValue=null,this.document=Et(ma),this.nzInputGroupWhitSuffixOrPrefixDirective=Et(gl,{optional:!0})}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe($e(this.destroy$)).subscribe(i=>{i.toState==="void"&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyPanel()}writeValue(i){this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setTriggerValue(i)))}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){let o=this.elementRef.nativeElement;o.disabled=i,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(i){let o=i.keyCode,s=o===38||o===40;o===27&&i.preventDefault(),this.panelOpen&&(o===27||o===9)?(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel()):this.panelOpen&&o===13?this.nzAutocomplete.showPanel&&(i.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&s&&this.nzAutocomplete.showPanel&&(i.stopPropagation(),i.preventDefault(),o===38?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill())}handleInput(i){let o=i.target,s=this.document,h=o.value;o.type==="number"&&(h=h===""?null:parseFloat(h)),this.previousValue!==h&&(this.previousValue=h,this.onChange(h),this.canOpen()&&s.activeElement===i.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe(Ph(()=>this.positionStrategy.reapplyLastPosition()),jg(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(i=>{this.setValueAndClose(i)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe(ua(i=>!this.elementRef.nativeElement.contains(i.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw nW();!this.portal&&this.nzAutocomplete.template&&(this.portal=new Vh(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe($e(this.destroy$)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new $h({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?this.nzInputGroupWhitSuffixOrPrefixDirective.elementRef:this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){let i=[new $f({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new $f({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(i).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){let i=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),i!==-1?(this.nzAutocomplete.setActiveItem(i),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(i){let o=i.nzValue;this.setTriggerValue(i.getLabel()),this.onChange(o),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(i){let o=this.nzAutocomplete.getOption(i),s=o?o.getLabel():i;this.elementRef.nativeElement.value=s??"",this.nzAutocomplete.nzBackfill||(this.previousValue=s)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){let i=this.elementRef.nativeElement;return!i.readOnly&&!i.disabled}};t.\u0275fac=function(o){return new(o||t)(U(xi),U(Wi),U(Vc),U(Ah))},t.\u0275dir=da({type:t,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(o,s){o&1&&ne("focusin",function(){return s.handleFocus()})("blur",function(){return s.handleBlur()})("input",function(f){return s.handleInput(f)})("keydown",function(f){return s.handleKeydown(f)})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],standalone:!0,features:[ki([tW])]});let e=t;return e})();function iW(e){return e?.map(t=>typeof t=="number"||typeof t=="string"?{label:t.toString(),value:t.toString()}:t)}var ip=(()=>{let t=class t{get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}constructor(i,o){this.changeDetectorRef=i,this.directionality=o,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzDefaultActiveFirstOption=!0,this.nzBackfill=!1,this.compareWith=(s,h)=>s===h,this.selectionChange=new ut,this.showPanel=!0,this.isOpen=!1,this.activeItem=null,this.dir="ltr",this.normalizedDataSource=[],this.destroy$=new Gt,this.animationStateChange=new ut,this.activeItemIndex=-1,this.selectionChangeSubscription=il.EMPTY,this.optionMouseEnterSubscription=il.EMPTY,this.dataSourceChangeSubscription=il.EMPTY,this.optionSelectionChanges=Rf(()=>this.options?os(...this.options.map(s=>s.selectionChange)):this.afterNextRender$.pipe(ha(()=>this.optionSelectionChanges))),this.optionMouseEnter=Rf(()=>this.options?os(...this.options.map(s=>s.mouseEntered)):this.afterNextRender$.pipe(ha(()=>this.optionMouseEnter))),this.afterNextRender$=Et(dT),this.noAnimation=Et(hr,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(i){let{nzDataSource:o}=i;o&&(this.normalizedDataSource=iW(o.currentValue))}onAnimationEvent(i){this.animationStateChange.emit(i)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}ngOnDestroy(){this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null,this.destroy$.next(),this.destroy$.complete()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(i){let o=this.options.get(i);o&&!o.active?(this.activeItem=o,this.activeItemIndex=i,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){let i=this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0;this.setActiveItem(i)}setPreviousItemActive(){let i=this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1;this.setActiveItem(i)}getOptionIndex(i){return this.options.reduce((o,s,h)=>o===-1?this.compareWith(i,s.nzValue)?h:-1:o,-1)}getOption(i){return this.options.find(o=>this.compareWith(i,o.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges();let i=this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes;this.dataSourceChangeSubscription=i.subscribe(o=>{!o.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(i,o=!1){this.options.forEach(s=>{s!==i&&(o&&s.deselect(),s.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe(ua(i=>i.isUserInput)).subscribe(i=>{i.source.select(),i.source.setActiveStyles(),this.activeItem=i.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(i.source,!0),this.selectionChange.emit(i.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(i=>{i.setActiveStyles(),this.activeItem=i,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(i)})}};t.\u0275fac=function(o){return new(o||t)(U(nn),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-autocomplete"]],contentQueries:function(o,s,h){if(o&1&&fa(h,Ps,5),o&2){let f;wt(f=zt())&&(s.fromContentOptions=f)}},viewQuery:function(o,s){if(o&1&&(Bt(ko,5),Bt(UZ,5),Bt(GZ,5),Bt(Ps,5)),o&2){let h;wt(h=zt())&&(s.template=h.first),wt(h=zt())&&(s.panel=h.first),wt(h=zt())&&(s.content=h.first),wt(h=zt())&&(s.fromDataSourceOptions=h)}},inputs:{nzWidth:[2,"nzWidth","nzWidth",ul],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:[2,"nzDefaultActiveFirstOption","nzDefaultActiveFirstOption",pe],nzBackfill:[2,"nzBackfill","nzBackfill",pe],compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],standalone:!0,features:[Lt,$t,ye],ngContentSelectors:pT,decls:1,vars:0,consts:[["panel",""],["contentTemplate",""],["optionsTemplate",""],[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"ngClass","ngStyle","nzNoAnimation"],[2,"max-height","256px","overflow-y","auto","overflow-anchor","none"],[2,"display","flex","flex-direction","column"],[4,"ngTemplateOutlet"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(o,s){o&1&&(Ai(),D(0,eW,9,10,"ng-template"))},dependencies:[Yi,sl,Vr,Rn,Ps,hr],encapsulation:2,data:{animation:[pl]},changeDetection:0});let e=t;return e})(),rp=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[fT]});let e=t;return e})();var sp=en(ap(),1);var gT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({});let e=t;return e})();var up=en(ap());var bu=en(ap());var Gl=(()=>{let t=class t{constructor(){this.markers={},this.selectedFromMarker=null,this.selectedToMarker=null,this.defaultIcon=new bu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png"}),this.selectedIcon=new bu.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png"})}addMarkerToMap(i,o,s){let h=bu.default.marker([o.latitude,o.longitude],{icon:this.defaultIcon}).bindPopup(`<b>${o.city}</b><br>ID: ${o.id}`).addTo(i);return h.on("click",()=>s(o,h)),this.markers[o.city]=h,h}toggleMarker(i,o,s,h){let f=this.markers[i.city];f&&(o&&this.isMarkerSelected(i,o)?this.resetMarker("from",h):s&&this.isMarkerSelected(i,s)?this.resetMarker("to",h):this.setMarker(i,f,h))}isMarkerSelected(i,o){return o&&o.lat===i.latitude&&o.lon===i.longitude}selectMarkerByCity(i,o,s){let h=this.markers[i];h&&(o==="from"?(this.selectedFromMarker&&this.selectedFromMarker.setIcon(this.defaultIcon),this.selectedFromMarker=h,s("fromCoords",{lat:h.getLatLng().lat,lon:h.getLatLng().lng})):o==="to"&&(this.selectedToMarker&&this.selectedToMarker.setIcon(this.defaultIcon),this.selectedToMarker=h,s("toCoords",{lat:h.getLatLng().lat,lon:h.getLatLng().lng})),h.setIcon(this.selectedIcon))}setMarker(i,o,s){this.selectedFromMarker?this.selectedToMarker||(this.resetMarker("to",s),s("to",i.city),s("toCoords",{lat:i.latitude,lon:i.longitude}),o.setIcon(this.selectedIcon),this.selectedToMarker=o):(this.resetMarker("from",s),s("from",i.city),s("fromCoords",{lat:i.latitude,lon:i.longitude}),o.setIcon(this.selectedIcon),this.selectedFromMarker=o)}resetMarker(i,o){i==="from"&&this.selectedFromMarker&&(this.selectedFromMarker.setIcon(this.defaultIcon),this.selectedFromMarker=null,o("from",""),o("fromCoords","")),i==="to"&&this.selectedToMarker&&(this.selectedToMarker.setIcon(this.defaultIcon),this.selectedToMarker=null,o("to",""),o("toCoords",""))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vT=(()=>{let t=class t{haversine(i,o,s,h){let g=this.degreesToRadians(s-i),v=this.degreesToRadians(h-o),P=Math.sin(g/2)**2+Math.cos(this.degreesToRadians(i))*Math.cos(this.degreesToRadians(s))*Math.sin(v/2)**2;return 6371*(2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P)))}degreesToRadians(i){return i*(Math.PI/180)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Oa=(()=>{let t=class t{constructor(i,o){this.http=i,this.geoUtils=o,this.apiUrlSearch="/api/search",this.apiUrlStation="/api/station"}searchRoutes(i,o,s,h,f){let g=new hv().set("fromLatitude",i).set("fromLongitude",o).set("toLatitude",s).set("toLongitude",h);return f&&(g=g.set("time",f)),this.http.get(this.apiUrlSearch,{params:g}).pipe(rl(this.handleError))}getStations(){return this.http.get(this.apiUrlStation).pipe(rl(this.handleError))}findClosestStation(i,o){return this.getStations().pipe(Br(s=>this.findNearest(i,o,s)),rl(()=>Do(null)))}findNearest(i,o,s){let h=null,f=Number.MAX_VALUE;return s.forEach(g=>{let v=this.geoUtils.haversine(i,o,g.latitude,g.longitude);v<f&&(f=v,h=g)}),h}handleError(i){let o="An unknown error occurred!";return i.error instanceof ErrorEvent&&(o=`Client-side error: ${i.error.message}`),i.status&&(o=`Server-side error: ${i.status}`),i.status===400&&i.error&&(o=`Error: ${i.error.message}`),Th(()=>new Error(o))}addStation(i){return this.http.post(this.apiUrlStation,i)}deleteStation(i){return this.http.delete(`${this.apiUrlStation}/${i}`)}};t.\u0275fac=function(o){return new(o||t)(yi(io),yi(vT))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var oW=["map"],Yl=(()=>{let t=class t{constructor(i,o){this.markerService=i,this.searchService=o,this.markerClicked=new ut,this.mapTitleLayer="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",this.mapAttribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',this.stations=[],this.markers=[]}ngAfterViewInit(){this.initMap(),this.loadStations()}ngOnDestroy(){this.map&&this.map.remove()}initMap(){let i=this.mapElement.nativeElement;i&&!this.map&&(this.map=up.default.map(i).setView([51.505,-.09],4),up.default.tileLayer(this.mapTitleLayer,{attribution:this.mapAttribution}).addTo(this.map))}addMarkersToMap(){this.map.eachLayer(i=>{i instanceof up.default.Marker&&this.map.removeLayer(i)}),this.stations.forEach(i=>{this.markerService.addMarkerToMap(this.map,i,this.handleMarkerClick.bind(this))})}loadStations(){this.searchService.getStations().subscribe(i=>{this.stations=i,this.addMarkersToMap()})}handleMarkerClick(i){this.markerClicked.emit(i)}};t.\u0275fac=function(o){return new(o||t)(U(Gl),U(Oa))},t.\u0275cmp=ve({type:t,selectors:[["app-map"]],viewQuery:function(o,s){if(o&1&&Bt(oW,5),o&2){let h;wt(h=zt())&&(s.mapElement=h.first)}},outputs:{markerClicked:"markerClicked"},standalone:!0,features:[ye],decls:2,vars:0,consts:[["map",""],[2,"height","400px","width","100%","min-width","320px"]],template:function(o,s){o&1&&Q(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:flex;flex-basis:100%}"]});let e=t;return e})();var aW=e=>({$implicit:e});function sW(e,t){if(e&1&&Q(0,"span",4),e&2){let n=w(3);F("nzType",n.icon)}}function lW(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=t.$implicit,i=w(4);y(),Ce(" ",n(i.nzPercent)," ")}}function cW(e,t){if(e&1&&D(0,lW,2,1,"ng-container",5),e&2){let n=w(3);F("nzStringTemplateOutlet",n.formatter)("nzStringTemplateOutletContext",ni(2,aW,n.nzPercent))}}function uW(e,t){if(e&1&&(z(0,"span",3),D(1,sW,1,1,"span",4)(2,cW,1,4,"ng-container"),S()),e&2){let n=w(2);y(),J((n.status==="exception"||n.status==="success")&&!n.nzFormat?1:2)}}function hW(e,t){if(e&1&&D(0,uW,3,1,"span",3),e&2){let n=w();J(n.nzShowInfo?0:-1)}}function dW(e,t){if(e&1&&Q(0,"div",7),e&2){let n=t.$implicit;F("ngStyle",n)}}function pW(e,t){}function fW(e,t){if(e&1&&(z(0,"div",6),Je(1,dW,1,1,"div",7,tn),D(3,pW,0,0,"ng-template",8),S()),e&2){let n=w(2),i=ke(1);y(),et(n.steps),y(2),F("ngTemplateOutlet",i)}}function mW(e,t){if(e&1&&Q(0,"div",13),e&2){let n=w(3);_t("width",n.nzSuccessPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("height",n.strokeWidth,"px")}}function _W(e,t){}function gW(e,t){if(e&1&&(z(0,"div",9)(1,"div",10),Q(2,"div",11),D(3,mW,1,6,"div",12),S()(),D(4,_W,0,0,"ng-template",8)),e&2){let n=w(2),i=ke(1);y(2),_t("width",n.nzPercent,"%")("border-radius",n.nzStrokeLinecap==="round"?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor)("background-image",n.isGradient?n.lineGradient:null)("height",n.strokeWidth,"px"),y(),J(n.nzSuccessPercent||n.nzSuccessPercent===0?3:-1),y(),F("ngTemplateOutlet",i)}}function vW(e,t){if(e&1&&(z(0,"div"),D(1,fW,4,1,"div",6)(2,gW,5,12),S()),e&2){let n=w();y(),J(n.isSteps?1:2)}}function yW(e,t){if(e&1&&(ss(),Q(0,"stop")),e&2){let n=t.$implicit;wn("offset",n.offset)("stop-color",n.color)}}function xW(e,t){if(e&1&&(ss(),z(0,"defs")(1,"linearGradient",17),Je(2,yW,1,2,":svg:stop",null,tn),S()()),e&2){let n=w(2);y(),F("id","gradient-"+n.gradientId),y(),et(n.circleGradient)}}function CW(e,t){if(e&1&&(ss(),Q(0,"path",16)),e&2){let n=t.$implicit,i=w(2);F("ngStyle",n.strokePathStyle),wn("d",i.pathString)("stroke-linecap",i.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",i.nzPercent?i.strokeWidth:0)}}function bW(e,t){}function wW(e,t){if(e&1&&(z(0,"div",10),ss(),z(1,"svg",14),D(2,xW,4,1,":svg:defs"),Q(3,"path",15),Je(4,CW,1,5,":svg:path",16,tn),S(),D(6,bW,0,0,"ng-template",8),S()),e&2){let n=w(),i=ke(1);_t("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",n.nzWidth*.15+6,"px"),We("ant-progress-circle-gradient",n.isGradient),y(2),J(n.isGradient?2:-1),y(),F("ngStyle",n.trailPathStyle),wn("stroke-width",n.strokeWidth)("d",n.pathString),y(),et(n.progressCirclePath),y(2),F("ngTemplateOutlet",i)}}function zW(e){return+e.replace("%","")}var xT=e=>{let t=[];return Object.keys(e).forEach(n=>{let i=e[n],o=zW(n);isNaN(o)||t.push({key:o,value:i})}),t=t.sort((n,i)=>n.key-i.key),t},SW=e=>xT(e).map(({key:t,value:n})=>({offset:`${t}%`,color:n})),TW=e=>{let s=e,{from:t="#1890ff",to:n="#1890ff",direction:i="to right"}=s,o=Sh(s,["from","to","direction"]);if(Object.keys(o).length!==0){let h=xT(o).map(({key:f,value:g})=>`${g} ${f}%`).join(", ");return`linear-gradient(${i}, ${h})`}return`linear-gradient(${i}, ${t}, ${n})`},FW=0,yT="progress",PW=new Map([["success","check"],["exception","close"]]),IW=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),MW=e=>`${e}%`,G0=(()=>{let t=class t{get formatter(){return this.nzFormat||MW}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(i,o,s){this.cdr=i,this.nzConfigService=o,this.directionality=s,this._nzModuleName=yT,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=FW++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new Gt}ngOnChanges(i){let{nzSteps:o,nzGapPosition:s,nzStrokeLinecap:h,nzStrokeColor:f,nzGapDegree:g,nzType:v,nzStatus:P,nzPercent:I,nzSuccessPercent:R,nzStrokeWidth:$}=i;P&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(I||R)&&(parseInt(this.nzPercent.toString(),10)>=100?(di(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(P||I||R||f)&&this.updateIcon(),f&&this.setStrokeColor(),(s||h||g||v||I||f||f)&&this.getCirclePaths(),(I||o||$)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(yT).pipe($e(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let i=PW.get(this.status);this.icon=i?i+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let i=Math.floor(this.nzSteps*(this.nzPercent/100)),o=this.nzSize==="small"?2:14,s=[];for(let h=0;h<this.nzSteps;h++){let f;h<=i-1&&(f=this.nzStrokeColor);let g={backgroundColor:`${f}`,width:`${o}px`,height:`${this.strokeWidth}px`};s.push(g)}this.steps=s}getCirclePaths(){if(!this.isCircleStyle)return;let i=di(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],o=50-this.strokeWidth/2,s=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),h=Math.PI*2*o,f=this.nzGapDegree||(this.nzType==="circle"?0:75),g=0,v=-o,P=0,I=o*-2;switch(s){case"left":g=-o,v=0,P=o*2,I=0;break;case"right":g=o,v=0,P=o*-2,I=0;break;case"bottom":v=o,I=o*2;break;default:}this.pathString=`M 50,50 m ${g},${v}
       a ${o},${o} 0 1 1 ${P},${-I}
       a ${o},${o} 0 1 1 ${-P},${I}`,this.trailPathStyle={strokeDasharray:`${h-f}px ${h}px`,strokeDashoffset:`-${f/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=i.map((R,$)=>{let V=i.length===2&&$===0;return{stroke:this.isGradient&&!V?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:V?IW.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(R||0)/100*(h-f)}px ${h}px`,strokeDashoffset:`-${f/2}px`}}}).reverse()}setStrokeColor(){let i=this.nzStrokeColor,o=this.isGradient=!!i&&typeof i!="string";o&&!this.isCircleStyle?this.lineGradient=TW(i):o&&this.isCircleStyle?this.circleGradient=SW(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}};t.\u0275fac=function(o){return new(o||t)(U(nn),U(Ri),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",ul],nzPercent:[2,"nzPercent","nzPercent",Ro],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",ul],nzGapDegree:[2,"nzGapDegree","nzGapDegree",ul],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",Ro]},exportAs:["nzProgress"],standalone:!0,features:[Lt,$t,ye],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(o,s){o&1&&(D(0,hW,1,1,"ng-template",null,0,Ke),z(2,"div",1),D(3,vW,3,1,"div")(4,wW,7,13,"div",2),S()),o&2&&(y(2),We("ant-progress-line",s.nzType==="line")("ant-progress-small",s.nzSize==="small")("ant-progress-default",s.nzSize==="default")("ant-progress-show-info",s.nzShowInfo)("ant-progress-circle",s.isCircleStyle)("ant-progress-steps",s.isSteps)("ant-progress-rtl",s.dir==="rtl"),F("ngClass","ant-progress ant-progress-status-"+s.status),y(),J(s.nzType==="line"?3:-1),y(),J(s.isCircleStyle?4:-1))},dependencies:[vn,gn,Bn,Ln,Yi,Rn,Vr],encapsulation:2,changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzShowInfo",void 0),ct([ht()],e.prototype,"nzStrokeColor",void 0),ct([ht()],e.prototype,"nzSize",void 0),ct([ht()],e.prototype,"nzStrokeWidth",void 0),ct([ht()],e.prototype,"nzGapDegree",void 0),ct([ht()],e.prototype,"nzGapPosition",void 0),ct([ht()],e.prototype,"nzStrokeLinecap",void 0),e})(),CT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[G0]});let e=t;return e})();var EW=["processDotTemplate"],AW=["itemContainer"],DW=(e,t,n)=>({$implicit:e,status:t,index:n});function kW(e,t){e&1&&Q(0,"div",11)}function NW(e,t){if(e&1&&(z(0,"div",14),Q(1,"nz-progress",15),S()),e&2){let n=w(2);y(),F("nzPercent",n.nzPercentage)("nzWidth",n.nzSize==="small"?32:40)("nzFormat",n.nullProcessFormat)("nzStrokeWidth",4)}}function RW(e,t){e&1&&(z(0,"span",16),Q(1,"span",17),S())}function LW(e,t){e&1&&(z(0,"span",16),Q(1,"span",18),S())}function BW(e,t){if(e&1&&(z(0,"span",16),H(1),S()),e&2){let n=w(2);y(),Ce(" ",n.index+1," ")}}function HW(e,t){if(e&1&&(je(0),Q(1,"span",19),Ze()),e&2){let n=t.$implicit,i=w(3);y(),F("nzType",!i.oldAPIIcon&&n)("ngClass",i.oldAPIIcon&&n)}}function VW(e,t){if(e&1&&(z(0,"span",16),D(1,HW,2,2,"ng-container",8),S()),e&2){let n=w(2);y(),F("nzStringTemplateOutlet",n.nzIcon)}}function qW(e,t){if(e&1&&D(0,NW,2,4,"div",12)(1,RW,2,0,"span",13)(2,LW,2,0,"span",13)(3,BW,2,1,"span",13)(4,VW,2,1,"span",13),e&2){let n=w();F("ngIf",n.showProgress),y(),F("ngIf",n.nzStatus==="finish"&&!n.nzIcon),y(),F("ngIf",n.nzStatus==="error"),y(),F("ngIf",(n.nzStatus==="process"||n.nzStatus==="wait")&&!n.nzIcon),y(),F("ngIf",n.nzIcon)}}function $W(e,t){e&1&&Q(0,"span",21)}function jW(e,t){}function ZW(e,t){if(e&1&&(z(0,"span",16),D(1,$W,1,0,"ng-template",null,1,Ke)(3,jW,0,0,"ng-template",20),S()),e&2){let n=ke(2),i=w();y(3),F("ngTemplateOutlet",i.customProcessTemplate||n)("ngTemplateOutletContext",sv(2,DW,n,i.nzStatus,i.index))}}function WW(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w();y(),Ve(n.nzTitle)}}function UW(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(2);y(),Ve(n.nzSubtitle)}}function GW(e,t){if(e&1&&(z(0,"div",22),D(1,UW,2,1,"ng-container",8),S()),e&2){let n=w();y(),F("nzStringTemplateOutlet",n.nzSubtitle)}}function YW(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w();y(),Ve(n.nzDescription)}}var KW=["*"],Kl=(()=>{let t=class t{get nzStatus(){return this._status}set nzStatus(i){this._status=i,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(i){i instanceof ko||(this.oldAPIIcon=typeof i=="string"&&i.indexOf("anticon")>-1),this._icon=i}get showProgress(){return this.nzPercentage!==null&&!this.nzIcon&&this.nzStatus==="process"&&this.nzPercentage>=0&&this.nzPercentage<=100}get currentIndex(){return this._currentIndex}set currentIndex(i){this._currentIndex=i,this.isCustomStatus||(this._status=i>this.index?"finish":i===this.index?this.outStatus||"":"wait")}constructor(i,o,s){this.cdr=i,this.ngZone=o,this.destroy$=s,this.nzDisabled=!1,this.nzPercentage=null,this.nzSize="default",this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.clickOutsideAngular$=new Gt,this.nullProcessFormat=()=>null,this._currentIndex=0}ngOnInit(){this.ngZone.runOutsideAngular(()=>Tr(this.itemContainer.nativeElement,"click").pipe(ua(()=>this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled),$e(this.destroy$)).subscribe(()=>{this.clickOutsideAngular$.next(this.index)}))}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}};t.\u0275fac=function(o){return new(o||t)(U(nn),U(xi),U(zi))},t.\u0275cmp=ve({type:t,selectors:[["nz-step"]],viewQuery:function(o,s){if(o&1&&(Bt(EW,5),Bt(AW,7)),o&2){let h;wt(h=zt())&&(s.processDotTemplate=h.first),wt(h=zt())&&(s.itemContainer=h.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(o,s){o&2&&We("ant-steps-item-wait",s.nzStatus==="wait")("ant-steps-item-process",s.nzStatus==="process")("ant-steps-item-finish",s.nzStatus==="finish")("ant-steps-item-error",s.nzStatus==="error")("ant-steps-item-active",s.currentIndex===s.index)("ant-steps-item-disabled",s.nzDisabled)("ant-steps-item-custom",!!s.nzIcon)("ant-steps-next-error",s.outStatus==="error"&&s.currentIndex===s.index+1)},inputs:{nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription",nzDisabled:[2,"nzDisabled","nzDisabled",pe],nzPercentage:"nzPercentage",nzSize:"nzSize",nzStatus:"nzStatus",nzIcon:"nzIcon"},exportAs:["nzStep"],standalone:!0,features:[ki([zi]),Lt,ye],decls:12,vars:8,consts:[["itemContainer",""],["processDotTemplate",""],[1,"ant-steps-item-container",3,"tabindex"],["class","ant-steps-item-tail",4,"ngIf"],[1,"ant-steps-item-icon"],[3,"ngIf"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],["class","ant-steps-item-subtitle",4,"ngIf"],[1,"ant-steps-item-description"],[1,"ant-steps-item-tail"],["class","ant-steps-progress-icon",4,"ngIf"],["class","ant-steps-icon",4,"ngIf"],[1,"ant-steps-progress-icon"],["nzType","circle",3,"nzPercent","nzWidth","nzFormat","nzStrokeWidth"],[1,"ant-steps-icon"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"],[1,"ant-steps-item-subtitle"]],template:function(o,s){o&1&&(z(0,"div",2,0),D(2,kW,1,0,"div",3),z(3,"div",4),D(4,qW,5,5,"ng-template",5)(5,ZW,4,6,"ng-template",5),S(),z(6,"div",6)(7,"div",7),D(8,WW,2,1,"ng-container",8)(9,GW,2,1,"div",9),S(),z(10,"div",10),D(11,YW,2,1,"ng-container",8),S()()()),o&2&&(F("tabindex",s.clickable&&!s.nzDisabled?0:null),wn("role",s.clickable&&!s.nzDisabled?"button":null),y(2),F("ngIf",s.last!==!0),y(2),F("ngIf",!s.showProcessDot),y(),F("ngIf",s.showProcessDot),y(3),F("nzStringTemplateOutlet",s.nzTitle),y(),F("ngIf",s.nzSubtitle),y(2),F("nzStringTemplateOutlet",s.nzDescription))},dependencies:[cs,CT,G0,vn,gn,Bn,Ln,Yi,Rn],encapsulation:2,changeDetection:0});let e=t;return e})(),hp=(()=>{let t=class t{set nzProgressDot(i){i instanceof ko?(this.showProcessDot=!0,this.customProcessDotTemplate=i):this.showProcessDot=Rh(i),this.updateChildrenSteps()}constructor(i,o,s,h){this.ngZone=i,this.cdr=o,this.directionality=s,this.destroy$=h,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new ut,this.indexChangeSubscription=il.EMPTY,this.showProcessDot=!1,this.showProgress=!1,this.dir="ltr"}ngOnChanges(i){(i.nzStartIndex||i.nzDirection||i.nzStatus||i.nzCurrent||i.nzSize)&&this.updateChildrenSteps()}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateChildrenSteps()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe(Zg(null),$e(this.destroy$)).subscribe(()=>{this.updateHostProgressClass(),this.updateChildrenSteps()})}updateHostProgressClass(){this.steps&&!this.showProcessDot&&(this.showProgress=!!this.steps.toArray().find(i=>i.nzPercentage!==null))}updateChildrenSteps(){if(this.steps){let i=this.steps.length;this.steps.toArray().forEach((o,s)=>{Promise.resolve().then(()=>{o.nzSize=this.nzSize,o.outStatus=this.nzStatus,o.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(o.customProcessTemplate=this.customProcessDotTemplate),o.clickable=this.nzIndexChange.observers.length>0,o.direction=this.nzDirection,o.index=s+this.nzStartIndex,o.currentIndex=this.nzCurrent,o.last=i===s+1,o.markForCheck()})}),this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=os(...this.steps.map(o=>o.clickOutsideAngular$)).pipe($e(this.destroy$)).subscribe(o=>{this.nzIndexChange.observers.length&&this.ngZone.run(()=>this.nzIndexChange.emit(o))})}}};t.\u0275fac=function(o){return new(o||t)(U(xi),U(nn),U(si),U(zi))},t.\u0275cmp=ve({type:t,selectors:[["nz-steps"]],contentQueries:function(o,s,h){if(o&1&&fa(h,Kl,4),o&2){let f;wt(f=zt())&&(s.steps=f)}},hostAttrs:[1,"ant-steps"],hostVars:18,hostBindings:function(o,s){o&2&&We("ant-steps-horizontal",s.nzDirection==="horizontal")("ant-steps-vertical",s.nzDirection==="vertical")("ant-steps-label-horizontal",s.nzDirection==="horizontal")("ant-steps-label-vertical",(s.showProcessDot||s.nzLabelPlacement==="vertical")&&s.nzDirection==="horizontal")("ant-steps-dot",s.showProcessDot)("ant-steps-small",s.nzSize==="small")("ant-steps-navigation",s.nzType==="navigation")("ant-steps-rtl",s.dir==="rtl")("ant-steps-with-progress",s.showProgress)},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],standalone:!0,features:[ki([zi]),$t,ye],ngContentSelectors:KW,decls:1,vars:0,template:function(o,s){o&1&&(Ai(),Di(0))},encapsulation:2,changeDetection:0});let e=t;return e})(),dp=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[Kl]});let e=t;return e})();var QW=()=>({padding:"0px"});function XW(e,t){if(e&1&&(z(0,"div",24)(1,"p"),H(2),hn(3,"date"),S(),Q(4,"span",25),S(),z(5,"div",26),H(6),hn(7,"date"),S(),z(8,"div",27),H(9),S()),e&2){let n=w().$implicit;y(2),Ve(Gi(3,3,n.timeStarted,"HH:mm")),y(4),Ve(Gi(7,6,n.timeStarted,"MMMM dd")),y(3),Ve(n.cityFrom)}}function JW(e,t){if(e&1&&(z(0,"div",28),H(1),S()),e&2){let n=w().$implicit;y(),Ve(n.duration)}}function eU(e,t){if(e&1&&(z(0,"div",24),Q(1,"span",29),H(2),hn(3,"date"),S(),z(4,"div",26),H(5),hn(6,"date"),S(),z(7,"div",30),H(8),S()),e&2){let n=w().$implicit;y(2),Ce(" ",Gi(3,3,n.timeArrived,"HH:mm")," "),y(3),Ve(Gi(6,6,n.timeArrived,"MMMM dd")),y(3),Ve(n.cityTo)}}function tU(e,t){}function nU(e,t){if(e&1&&(z(0,"div",23)(1,"p"),H(2),S(),z(3,"p"),H(4),hn(5,"currency"),S()()),e&2){let n=t.$implicit,i=w().$implicit;y(2),Ce(" ",n,": "),y(2),Ce(" ",Ui(5,2,i.carriages[n])," ")}}function iU(e,t){if(e&1&&(z(0,"nz-card",6)(1,"div",7)(2,"div",8)(3,"nz-steps",9),Q(4,"nz-step",10)(5,"nz-step",10)(6,"nz-step",10),D(7,XW,10,9,"ng-template",null,0,Ke)(9,JW,2,1,"ng-template",null,1,Ke)(11,eU,9,9,"ng-template",null,2,Ke)(13,tU,0,0,"ng-template",11,3,Ke),S(),z(15,"div",12)(16,"div",13)(17,"span",14),ss(),z(18,"svg",15),Q(19,"g",16)(20,"g",17),z(21,"g",18),Q(22,"path",19),S()()(),H(23),S(),Kg(),z(24,"div",20)(25,"a",21),H(26,"Route"),S()()()(),z(27,"div",22),Je(28,nU,6,4,"div",23,tn),S()()()),e&2){let n=t.$implicit,i=ke(8),o=ke(10),s=ke(12),h=ke(14),f=w(3);F("nzBodyStyle",No(10,QW)),y(3),F("nzCurrent",3),y(),F("nzTitle",i)("nzIcon",h),y(),F("nzTitle",o)("nzIcon",h),y(),F("nzTitle",s)("nzIcon",h),y(17),av(" ",n.startStationId," -> ",n.endStationId," "),y(5),et(f.getCarriageKeys(n.carriages))}}function rU(e,t){if(e&1&&(z(0,"nz-tab",4)(1,"div",5),Je(2,iU,30,11,"nz-card",6,tn),S()()),e&2){let n=t.$implicit;F("nzTitle",n.date),y(2),et(n.routes)}}function oU(e,t){if(e&1&&(z(0,"nz-tabset"),Je(1,rU,4,1,"nz-tab",4,tn),S()),e&2){let n=w();y(),et(n.groupTabs)}}var zT=(()=>{let t=class t{constructor(i){this.datePipe=i,this.groupTabs=[]}ngOnChanges(){this.response&&this.getRoute(this.response)}calculateDuration(i,o){let s=o.getTime()-i.getTime(),h=Math.floor(s/(1e3*60*60*24)),f=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(s%(1e3*60*60)/(1e3*60));return`${h}d ${f}h ${g}m`}getCarriageKeys(i){return Object.keys(i)}getRoute(i){let{stationId:o,city:s}=i.from,{stationId:h,city:f}=i.to,g=[];return i.routes.forEach((v,P)=>{let{path:I,id:R,schedule:$}=v,[V,le]=[I[0],I[I.length-1]],re=I.indexOf(o),xe=I.indexOf(h);$&&$.length>0&&$.forEach(St=>{let{segments:st,rideId:Nt}=St,tt=st[re],Se=st[xe];if(tt&&Se){let[yt]=tt.time,[Zt]=Se.time,q=this.datePipe.transform(new Date(yt),"EEE, MMMM dd"),oe=this.datePipe.transform(new Date(Zt),"EEE, MMMM dd"),be=new Date(yt),ue=new Date(Zt),Ge=this.calculateDuration(be,ue);if(q&&oe){let ae=g.find(W=>W.date===q);ae||(ae={date:q,routes:[]},g.push(ae));let Re=tt.price;ae.routes.push({rideId:Nt,routeIndex:P,id:R,indexFrom:re,route:v,carriages:Re,timeStarted:yt,timeArrived:Zt,departureTime:q,arrivedTime:oe,stationIdFrom:o,cityFrom:s,cityTo:f,startStationId:V,endStationId:le,duration:Ge})}}})}),this.groupTabs=g,g}};t.\u0275fac=function(o){return new(o||t)(U(us))},t.\u0275cmp=ve({type:t,selectors:[["app-route-tabs"]],inputs:{response:"response"},standalone:!0,features:[$t,ye],decls:1,vars:1,consts:[["nzFrom",""],["nzDur",""],["nzTo",""],["custom1",""],[1,"tab",3,"nzTitle"],[1,"tab-holder"],["nzHoverable","",1,"card-holder",3,"nzBodyStyle"],[1,"card"],[1,"left-container"],["nzSize","small",3,"nzCurrent"],[3,"nzTitle","nzIcon"],[2,"display","none"],[1,"route"],[1,"route__city"],[1,"choo-choo-mf"],["fill","#000000","height","30px","width","30px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 480 480",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","XMLID_1707_","d","M10,210.001c-5.523,0-10-4.477-10-10s4.477-10,10-10h2c5.523,0,10,4.477,10,10s-4.477,10-10,10H10z M0,287.647V260c0-16.542,13.458-30,30-30h109.836l-18.182-99.999H30c-5.514,0-10,5.541-10,12.353v17.647c0,5.523-4.477,10-10,10 s-10-4.477-10-10v-20c0-0.926,0.126-1.823,0.362-2.675C2.608,121.866,15.043,110.001,30,110.001h99.828 c0.122-0.002,0.245-0.002,0.368,0h89.632c0.122-0.002,0.245-0.002,0.368,0h89.631c0.123-0.002,0.247-0.002,0.368,0h11.898 c47.757,0,91.209,29.101,113.399,75.946l41.192,86.961c5.003,10.562,4.256,23.214-1.949,33.021 C469.16,314.74,459.902,320,449.973,320H30C13.458,320,0,305.487,0,287.647z M231.982,130.001l17.857,98.21 c0.109,0.601,0.162,1.199,0.163,1.789h69.834l-18.182-99.999H231.982z M141.982,130.001l17.857,98.21 c0.109,0.601,0.162,1.199,0.163,1.789h69.834l-18.182-99.999H141.982z M20,287.647C20,294.459,24.486,300,30,300h419.973 c4.217,0,6.736-2.987,7.863-4.767c2.017-3.187,3.279-8.477,0.775-13.764l-41.192-86.961c-18.849-39.79-55.375-64.507-95.325-64.507 h-0.111l17.856,98.21c0.109,0.601,0.162,1.199,0.163,1.789H390c5.522,0,10,4.477,10,10s-4.478,10-10,10H30c-5.514,0-10,4.486-10,10 V287.647z M470,350H10c-5.523,0-10,4.477-10,10s4.477,10,10,10h460c5.522,0,10-4.477,10-10S475.522,350,470,350z M100,210.001 c5.523,0,10-4.477,10-10s-4.477-10-10-10H40c-5.523,0-10,4.477-10,10s4.477,10,10,10H100z"],[1,"route__link"],["href",""],[1,"carriage"],[1,"carriage__content"],[1,"card__time"],["nz-icon","","nzType","environment","nzTheme","outline"],[1,"card__time__date"],[1,"card__time__city"],[1,"card__duration"],["nz-icon","","nzType","environment","nzTheme","fill"],[1,"card__city"]],template:function(o,s){o&1&&D(0,oU,3,0,"nz-tabset"),o&2&&J(s.groupTabs.length>0?0:-1)},dependencies:[no,Dh,us,yl,Qv,Kv,Cl,xl,dp,hp,Kl,vn,gn],styles:[".tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.tab-holder[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:20px}.card[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-holder[_ngcontent-%COMP%]{border-radius:8px}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;min-width:460px;max-width:40%}.route[_ngcontent-%COMP%]{display:flex;gap:1rem}.route__city[_ngcontent-%COMP%]{display:flex;border:solid 1px;border-radius:9px;gap:4px;padding:0 5px;align-items:center}.choo-choo-mf[_ngcontent-%COMP%]{height:20px;display:flex}.carriage[_ngcontent-%COMP%]{display:flex;gap:1rem}.carriage__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-left:1px solid #f0f0f0;padding:24px;align-items:center}.card__time[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600;display:flex;justify-content:space-between}@media screen and (max-width: 1024px){.card[_ngcontent-%COMP%]{flex-direction:column}.left-container[_ngcontent-%COMP%]{max-width:100%}.carriage[_ngcontent-%COMP%]{width:100%;justify-content:space-between;border-top:1px solid #f0f0f0}.carriage__content[_ngcontent-%COMP%]{flex-grow:1}.carriage__content[_ngcontent-%COMP%]:first-child{border:0}}@media screen and (max-width: 720px){.left-container[_ngcontent-%COMP%]{min-width:100%;padding:8px}.carriage__content[_ngcontent-%COMP%]{padding:8px}}"]});let e=t;return e})();var Ql=(()=>{let t=class t{constructor(i,o){this.http=i,this.searchService=o,this.apiUrl="https://nominatim.openstreetmap.org/search"}searchCity(i){let o={q:i,format:"json",limit:"5"};return this.http.get(this.apiUrl,{params:o}).pipe(Br(s=>s.map(h=>({name:h.name,lat:h.lat,lon:h.lon}))))}findClosestStation(i,o){return this.searchService.findClosestStation(parseFloat(i),parseFloat(o))}};t.\u0275fac=function(o){return new(o||t)(yi(io),yi(Oa))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var fp=(()=>{let t=class t{constructor(i){this.geoService=i}createSearchObservable(i,o,s){return i.valueChanges.pipe(Fh(300),ol(),ha(h=>this.geoService.searchCity(h)),Ph(h=>{h.length>0&&s.get(o)?.setValue({lat:h[0].lat,lon:h[0].lon})}))}};t.\u0275fac=function(o){return new(o||t)(yi(Ql))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function aU(e,t){if(e&1&&(z(0,"nz-auto-option",11),H(1),S()),e&2){let n=t.$implicit;F("nzValue",n.name),y(),Ce(" ",n.name," ")}}function sU(e,t){if(e&1&&(z(0,"nz-auto-option",11),H(1),S()),e&2){let n=t.$implicit;F("nzValue",n.name),y(),Ce(" ",n.name," ")}}function lU(e,t){e&1&&Q(0,"span",23)}function cU(e,t){e&1&&Q(0,"span",24)}var TT=(()=>{let t=class t{constructor(i,o,s,h,f){this.fb=i,this.formUtilsService=o,this.geoService=s,this.searchService=h,this.markerService=f,this.searchForm=this.fb.group({from:["",Zn.required],to:["",[Zn.required,this.notSameAsStart.bind(this)]],tripDate:["",[Zn.required]],fromCoords:["",Zn.required],toCoords:["",Zn.required]}),this.closestStationFrom=null,this.closestStationTo=null,this.fromOptions$=this.formUtilsService.createSearchObservable(this.startCity,"fromCoords",this.searchForm),this.toOptions$=this.formUtilsService.createSearchObservable(this.endCity,"toCoords",this.searchForm)}handleMarkerClick(i){let o=this.searchForm.get("fromCoords")?.value,s=this.searchForm.get("toCoords")?.value;this.markerService.toggleMarker(i,o,s,this.setFormValue.bind(this))}setFormValue(i,o){this.searchForm.patchValue({[i]:o})}resetForm(){this.searchForm.reset()}get startCity(){return this.searchForm.get("from")}get endCity(){return this.searchForm.get("to")}get tripDate(){return this.searchForm.get("tripDate")}notSameAsStart(i){let o=this.searchForm?.get("from")?.value;return i.value===o?{notSameAsStart:!0}:null}submitForm(){if(this.searchForm.valid){let i=this.searchForm.get("fromCoords")?.value,o=this.searchForm.get("toCoords")?.value,s=this.searchForm.get("tripDate")?.value,h=new Date(s).toISOString();this.geoService.findClosestStation(i.lat,i.lon).pipe(ha(f=>(this.markerService.selectMarkerByCity(f.city,"from",this.setFormValue.bind(this)),this.geoService.findClosestStation(o.lat,o.lon).pipe(ha(g=>{if(this.markerService.selectMarkerByCity(g.city,"to",this.setFormValue.bind(this)),f&&g)return this.searchService.searchRoutes(f.latitude,f.longitude,g.latitude,g.longitude,h);throw new Error("Can`t finde stations")}))))).subscribe({next:f=>{console.log(f),this.response=f}})}}disabledDates(i){let o=new Date;return o.setHours(0,0,0,0),i.getTime()<o.getTime()}};t.\u0275fac=function(o){return new(o||t)(U(Bh),U(fp),U(Ql),U(Oa),U(Gl))},t.\u0275cmp=ve({type:t,selectors:[["app-main"]],viewQuery:function(o,s){if(o&1&&Bt(Yl,5),o&2){let h;wt(h=zt())&&(s.mapComponent=h.first)}},standalone:!0,features:[ki([us]),ye],decls:36,vars:14,consts:[["autoFrom",""],["autoTo",""],["from",""],["to",""],["nz-form","",1,"ant-advanced-search-form",3,"ngSubmit","formGroup"],[1,"form"],[1,"form_dest"],["nzErrorTip","Please select start stattion"],[3,"nzPrefix"],["formControlName","from","placeholder","From","nz-input","",3,"nzAutocomplete"],["nzBackfill",""],[3,"nzValue"],[1,"icon-swap"],["nz-icon","","nzType","swap","nzTheme","outline"],["nzErrorTip","Please select end station"],["formControlName","to","placeholder","To","nz-input","",3,"nzAutocomplete"],[1,"form_date"],[3,"nzSm","nzXs","nzErrorTip"],["formControlName","tripDate","nzFormat","MMMM dd",1,"input_date",3,"nzDisabledDate"],[1,"form_submit"],["nz-button","","nzType","primary"],[3,"response"],[3,"markerClicked"],["nz-icon","","nzType","environment","nzTheme","outline"],["nz-icon","","nzType","environment","nzTheme","fill"]],template:function(o,s){if(o&1){let h=we();z(0,"form",4),ne("ngSubmit",function(){return G(h),Y(s.submitForm())}),z(1,"div",5)(2,"div",6)(3,"nz-form-item")(4,"nz-form-control",7)(5,"nz-input-group",8),Q(6,"input",9),S(),z(7,"nz-autocomplete",10,0),Je(9,aU,2,2,"nz-auto-option",11,tn),hn(11,"async"),S()()(),z(12,"div",12),Q(13,"span",13),S(),z(14,"nz-form-item")(15,"nz-form-control",14)(16,"nz-input-group",8),Q(17,"input",15),S(),z(18,"nz-autocomplete",10,1),Je(20,sU,2,2,"nz-auto-option",11,tn),hn(22,"async"),S()()(),D(23,lU,1,0,"ng-template",null,2,Ke)(25,cU,1,0,"ng-template",null,3,Ke),S(),z(27,"div",16)(28,"nz-form-item")(29,"nz-form-control",17),Q(30,"nz-date-picker",18),S()()(),z(31,"div",19)(32,"button",20),H(33,"Submit"),S()()(),Q(34,"app-route-tabs",21),z(35,"app-map",22),ne("markerClicked",function(g){return G(h),Y(s.handleMarkerClick(g))}),S()()}if(o&2){let h=ke(8),f=ke(19),g=ke(24),v=ke(26);F("formGroup",s.searchForm),y(5),F("nzPrefix",g),y(),F("nzAutocomplete",h),y(3),et(Ui(11,10,s.fromOptions$)),y(7),F("nzPrefix",v),y(),F("nzAutocomplete",f),y(3),et(Ui(22,12,s.toOptions$)),y(9),F("nzSm",24)("nzXs",24)("nzErrorTip","Please select date"),y(),F("nzDisabledDate",s.disabledDates),y(4),F("response",s.response)}},dependencies:[no,ll,Nh,so,ao,Ki,Ni,oo,_a,ga,uo,ho,vl,ya,va,gl,li,Gh,co,lo,Jh,np,Z0,rp,ip,Ps,Cu,yl,vn,gn,gT,Yl,zT],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;align-items:center;min-height:calc(100vh - 118px)}.ant-advanced-search-form[_ngcontent-%COMP%]{padding:24px;background:#fbfbfb;border:1px solid #d9d9d9;border-radius:6px;width:80%;display:flex;justify-content:center;flex-direction:column}.form[_ngcontent-%COMP%]{display:flex;width:100%;gap:10px;justify-content:space-between}.form_dest[_ngcontent-%COMP%]{position:relative;display:flex;flex:0 0 50%;max-width:50%;flex-direction:row;column-gap:10px}.icon-swap[_ngcontent-%COMP%]{min-width:30px;width:30px;height:30px;border:1px solid #e9e9e9;border-radius:50%;display:flex;align-items:center;justify-content:center;position:absolute;left:0;right:0;top:calc(50% - 12px);transform:translateY(-50%);z-index:999;margin:0 auto;background-color:#ffffff8a;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.form_date[_ngcontent-%COMP%]{display:flex;width:100%}.form_submit[_ngcontent-%COMP%]{display:flex}.input_date[_ngcontent-%COMP%]{height:32px;width:100%}.ant-form-item[_ngcontent-%COMP%]{display:flex;width:100%}.ant-form-button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.form_item[_ngcontent-%COMP%]{display:flex;flex:0 0 25%;max-width:25%}.form_item_button[_ngcontent-%COMP%]{display:flex;flex:0 0 20%;max-width:20%}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}@media screen and (max-width: 1024px){.ant-advanced-search-form[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{flex-direction:column;gap:0;margin-bottom:20px}.form_dest[_ngcontent-%COMP%]{max-width:100%}.ant-btn-primary[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 720px){.form_dest[_ngcontent-%COMP%]{flex-direction:column}.ant-form-item[_ngcontent-%COMP%]{display:flex}.icon-swap[_ngcontent-%COMP%]{top:calc(50% - 12px);transform:translate(-50%);left:90%;rotate:90deg;width:38px;height:38px}}"]});let e=t;return e})();function uU(e,t){e&1&&Dt(0)}function hU(e,t){if(e&1&&D(0,uU,1,0,"ng-container",7),e&2){let n=w(3);F("nzStringTemplateOutlet",n.nzIcon)}}function dU(e,t){if(e&1&&Q(0,"span",6),e&2){let n=w(3);F("nzType",n.nzIconType||n.inferredIconType)("nzTheme",n.iconTheme)}}function pU(e,t){if(e&1&&(z(0,"div",2),D(1,hU,1,1,"ng-container")(2,dU,1,2,"span",6),S()),e&2){let n=w(2);y(),J(n.nzIcon?1:2)}}function fU(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(4);y(),Ve(n.nzMessage)}}function mU(e,t){if(e&1&&(z(0,"span",8),D(1,fU,2,1,"ng-container",7),S()),e&2){let n=w(3);y(),F("nzStringTemplateOutlet",n.nzMessage)}}function _U(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(4);y(),Ve(n.nzDescription)}}function gU(e,t){if(e&1&&(z(0,"span",9),D(1,_U,2,1,"ng-container",7),S()),e&2){let n=w(3);y(),F("nzStringTemplateOutlet",n.nzDescription)}}function vU(e,t){if(e&1&&(z(0,"div",3),D(1,mU,2,1,"span",8)(2,gU,2,1,"span",9),S()),e&2){let n=w(2);y(),J(n.nzMessage?1:-1),y(),J(n.nzDescription?2:-1)}}function yU(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(3);y(),Ve(n.nzAction)}}function xU(e,t){if(e&1&&(z(0,"div",4),D(1,yU,2,1,"ng-container",7),S()),e&2){let n=w(2);y(),F("nzStringTemplateOutlet",n.nzAction)}}function CU(e,t){if(e&1&&(je(0),z(1,"span",12),H(2),S(),Ze()),e&2){let n=w(4);y(2),Ve(n.nzCloseText)}}function bU(e,t){if(e&1&&D(0,CU,3,1,"ng-container",7),e&2){let n=w(3);F("nzStringTemplateOutlet",n.nzCloseText)}}function wU(e,t){e&1&&Q(0,"span",11)}function zU(e,t){if(e&1){let n=we();z(0,"button",10),ne("click",function(){G(n);let o=w(2);return Y(o.closeAlert())}),D(1,bU,1,1,"ng-container")(2,wU,1,0,"span",11),S()}if(e&2){let n=w(2);y(),J(n.nzCloseText?1:2)}}function SU(e,t){if(e&1){let n=we();z(0,"div",1),ne("@slideAlertMotion.done",function(){G(n);let o=w();return Y(o.onFadeAnimationDone())}),D(1,pU,3,1,"div",2)(2,vU,3,2,"div",3)(3,xU,2,1,"div",4)(4,zU,3,1,"button",5),S()}if(e&2){let n=w();We("ant-alert-rtl",n.dir==="rtl")("ant-alert-success",n.nzType==="success")("ant-alert-info",n.nzType==="info")("ant-alert-warning",n.nzType==="warning")("ant-alert-error",n.nzType==="error")("ant-alert-no-icon",!n.nzShowIcon)("ant-alert-banner",n.nzBanner)("ant-alert-closable",n.nzCloseable)("ant-alert-with-description",!!n.nzDescription),F("@.disabled",n.nzNoAnimation)("@slideAlertMotion",void 0),y(),J(n.nzShowIcon?1:-1),y(),J(n.nzMessage||n.nzDescription?2:-1),y(),J(n.nzAction?3:-1),y(),J(n.nzCloseable||n.nzCloseText?4:-1)}}var FT="alert",TU=(()=>{let t=class t{constructor(i,o,s){this.nzConfigService=i,this.cdr=o,this.directionality=s,this._nzModuleName=FT,this.nzAction=null,this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzIcon=null,this.nzOnClose=new ut,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new Gt,this.nzConfigService.getConfigChangeEventForComponent(FT).pipe($e(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(i){let{nzShowIcon:o,nzDescription:s,nzType:h,nzBanner:f}=i;if(o&&(this.isShowIconSet=!0),h)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle";break}s&&(this.iconTheme=this.nzDescription?"outline":"fill"),f&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(nn),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:[2,"nzCloseable","nzCloseable",pe],nzShowIcon:[2,"nzShowIcon","nzShowIcon",pe],nzBanner:[2,"nzBanner","nzBanner",pe],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",pe],nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],standalone:!0,features:[Lt,$t,ye],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],["nz-icon","",3,"nzType","nzTheme"],[4,"nzStringTemplateOutlet"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],["nz-icon","","nzType","close"],[1,"ant-alert-close-text"]],template:function(o,s){o&1&&D(0,SU,5,24,"div",0),o&2&&J(s.closed?-1:0)},dependencies:[vn,gn,Bn,Ln],encapsulation:2,data:{animation:[Wv]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzCloseable",void 0),ct([ht()],e.prototype,"nzShowIcon",void 0),e})(),PT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[TU]});let e=t;return e})();var IT=(()=>{let t=class t{constructor(i){this.http=i,this.apiUrl="/api/signup"}signUp(i,o){let s={email:i,password:o};return this.http.post(this.apiUrl,s).pipe(rl(this.handleError))}handleError(i){let o="An unknown error occurred!";return i.error instanceof ErrorEvent&&(o=`Client-side error: ${i.error.message}`),i.status&&(o=`Server-side error: ${i.status}`),i.status===400&&i.error&&(o=`Error: ${i.error.message}`),Th(()=>new Error(o))}};t.\u0275fac=function(o){return new(o||t)(yi(io))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function PU(e,t){e&1&&H(0," Please enter your email! ")}function IU(e,t){e&1&&H(0," The input is not valid E-mail! ")}function MU(e,t){if(e&1&&H(0),e&2){let n=w(2);Ce(" ",n.errorMessage," ")}}function OU(e,t){if(e&1&&D(0,PU,1,0)(1,IU,1,0)(2,MU,1,1),e&2){let n=t.$implicit;J(n.errors!=null&&n.errors.required?0:-1),y(),J(n.errors!=null&&n.errors.email?1:-1),y(),J(n.errors!=null&&n.errors.serverError?2:-1)}}function EU(e,t){e&1&&H(0," Please enter your password! ")}function AU(e,t){e&1&&H(0," Passwort must be at least 8 characters! ")}function DU(e,t){if(e&1&&D(0,EU,1,0)(1,AU,1,0),e&2){let n=t.$implicit;J(n.errors!=null&&n.errors.required?0:-1),y(),J(n.errors!=null&&n.errors.minlength?1:-1)}}function kU(e,t){e&1&&H(0," Please confirm your password! ")}function NU(e,t){e&1&&H(0," Passwords do not match! ")}function RU(e,t){if(e&1&&D(0,kU,1,0)(1,NU,1,0),e&2){let n=t.$implicit;J(n.errors!=null&&n.errors.required?0:-1),y(),J(n.errors!=null&&n.errors.confirm?1:-1)}}var ET=(()=>{let t=class t{constructor(i,o,s){this.nnfb=i,this.signupService=o,this.router=s,this.errorMessage="",this.imageUrl=`assets/images/signup-train-${new Date().getTime()%3+1}.jpg`,this.checkPasswordValidator=h=>(this.errorMessage="",h.value?h.value!==this.signupForm.get("password")?.value?{confirm:!0}:{}:{required:!0}),this.signupForm=this.nnfb.group({email:["",[Zn.required,Zn.email]],password:["",[Zn.required,Zn.minLength(8)]],checkPassword:["",[Zn.required,this.checkPasswordValidator]]})}submitForm(){this.signupForm.valid&&this.signupService.signUp(this.signupForm.get("email")?.value,this.signupForm.get("password")?.value).pipe(as(1)).subscribe({next:()=>{this.router.navigate(["/signin"])},error:i=>{this.errorMessage=i.message,this.signupForm.get("email")?.setErrors({serverError:!0})}})}};t.\u0275fac=function(o){return new(o||t)(U(Hh),U(IT),U(cl))},t.\u0275cmp=ve({type:t,selectors:[["app-signup"]],standalone:!0,features:[ye],decls:29,vars:6,consts:[["errorEmail",""],["errorPassword",""],["errorCheckPassword",""],["nz-form","",3,"ngSubmit","formGroup"],["nzFor","email","nzRequired",""],[3,"nzErrorTip"],["nz-input","","formControlName","email","id","email"],["nzFor","password","nzRequired",""],["nz-input","","type","password","formControlName","password","id","password"],["nzFor","checkPassword","nzRequired",""],["nz-input","","type","password","formControlName","checkPassword","id","checkPassword"],[1,"register-area"],["nz-button","","nzType","primary",3,"disabled"],["nz-button","","nzType","default"],[1,"image"],["nz-image","","nzDisablePreview","","alt","",3,"nzSrc"]],template:function(o,s){if(o&1){let h=we();z(0,"form",3),ne("ngSubmit",function(){return G(h),Y(s.submitForm())}),z(1,"nz-form-item")(2,"nz-form-label",4),H(3,"E-mail"),S(),z(4,"nz-form-control",5),Q(5,"input",6),S()(),z(6,"nz-form-item")(7,"nz-form-label",7),H(8,"Password"),S(),z(9,"nz-form-control",5),Q(10,"input",8),S()(),z(11,"nz-form-item")(12,"nz-form-label",9),H(13,"Confirm Password"),S(),z(14,"nz-form-control",5),Q(15,"input",10),S()(),z(16,"div",11)(17,"button",12),H(18,"Register"),S(),z(19,"button",13),H(20,"Sign In"),S()()(),z(21,"div",14),Q(22,"img",15),S(),D(23,OU,3,3,"ng-template",null,0,Ke)(25,DU,2,2,"ng-template",null,1,Ke)(27,RU,2,2,"ng-template",null,2,Ke)}if(o&2){let h=ke(24),f=ke(26),g=ke(28);F("formGroup",s.signupForm),y(4),F("nzErrorTip",h),y(5),F("nzErrorTip",f),y(5),F("nzErrorTip",g),y(3),F("disabled",!s.signupForm.valid),y(5),F("nzSrc",s.imageUrl)}},dependencies:[so,ao,Ki,Ni,oo,_a,ga,_l,co,lo,fl,uo,ml,ho,PT,ya,va,Xi,li,Qi,Fr,Jv,Xv],styles:["[_nghost-%COMP%]{display:flex;column-gap:20px;width:fit-content;margin:0 auto;background-color:#d6e4ff;padding:20px;border-radius:8px}form[_ngcontent-%COMP%]{width:240px}@media (max-width: 575px){form[_ngcontent-%COMP%]{width:340px}}nz-form-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;flex-direction:column;margin-bottom:24px;height:65px}nz-form-label[_ngcontent-%COMP%], nz-form-control[_ngcontent-%COMP%]{width:100%;text-align:start;flex:1 1!important}.register-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 auto}.image[_ngcontent-%COMP%]{height:300px}.image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:contain;border-radius:8px}@media (max-width: 575px){form[_ngcontent-%COMP%]{width:300px}.image[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let e=t;return e})();function LU(e,t){e&1&&H(0," Incorrect email! ")}function BU(e,t){e&1&&H(0," Required! ")}function HU(e,t){if(e&1&&H(0),e&2){let n=w(2);Ce(" ",n.errorMessage," ")}}function VU(e,t){if(e&1&&D(0,LU,1,0)(1,BU,1,0)(2,HU,1,1),e&2){let n=t.$implicit,i=w();J(n.errors!=null&&n.errors.invalidEmail?0:-1),y(),J(n.errors!=null&&n.errors.required?1:-1),y(),J(i.loginForm.controls.userName.hasError("invalidEmail")?2:-1)}}function qU(e,t){e&1&&H(0," Required! ")}function $U(e,t){e&1&&H(0," Password has to be not less 8 symbols! ")}function jU(e,t){if(e&1&&H(0),e&2){let n=w(2);Ce(" ",n.errorMessage," ")}}function ZU(e,t){if(e&1&&D(0,qU,1,0)(1,$U,1,0)(2,jU,1,1),e&2){let n=t.$implicit,i=w();J(n.errors!=null&&n.errors.required?0:-1),y(),J(n.errors!=null&&n.errors.minlength?1:-1),y(),J(i.loginForm.controls.password.hasError("userNotFound")?2:-1)}}var AT=(()=>{let t=class t{constructor(i,o,s){this.router=i,this.formBuilder=o,this.loginService=s,this.errorMessage="",this.loginForm=this.formBuilder.group({userName:["",[ny.emailValidation(),Zn.required]],password:["",[Zn.required,Zn.minLength(8)]]})}submitForm(){if(this.loginForm.valid){let i=this.loginForm.controls.userName.value,o=this.loginForm.controls.password.value;this.loginService.login(i,o).pipe(as(1)).subscribe({next:()=>{this.router.navigate(["/"])},error:s=>{this.handleLoginError(s)}})}}handleLoginError(i){this.errorMessage=i.message,i.message.includes("Incorrect email or password")?this.loginForm.controls.password.setErrors({userNotFound:!0}):i.message.includes("Email is wrong")?this.loginForm.controls.userName.setErrors({invalidEmail:!0}):(this.loginForm.controls.userName.setErrors({serverError:!0}),this.loginForm.controls.password.setErrors({serverError:!0}))}};t.\u0275fac=function(o){return new(o||t)(U(cl),U(Hh),U(xa))},t.\u0275cmp=ve({type:t,selectors:[["app-login-page"]],standalone:!0,features:[ye],decls:18,vars:5,consts:[["emailErrorTpl",""],["passwordErrorTpl",""],["nz-form","",1,"login-form",3,"ngSubmit","formGroup"],["nzErrorTip","Please input your username!","nzHasFeedback","",3,"nzErrorTip"],["nzPrefixIcon","user"],["type","text","nz-input","","formControlName","userName","placeholder","Username"],[3,"nzErrorTip"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Password"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType","disabled"],["routerLink","/signup"]],template:function(o,s){if(o&1){let h=we();z(0,"form",2),ne("ngSubmit",function(){return G(h),Y(s.submitForm())}),z(1,"nz-form-item")(2,"nz-form-control",3)(3,"nz-input-group",4),Q(4,"input",5),S()()(),z(5,"nz-form-item")(6,"nz-form-control",6)(7,"nz-input-group",7),Q(8,"input",8),S()()(),z(9,"button",9),H(10," Log in "),S(),H(11," Or "),z(12,"a",10),H(13,"register now!"),S()(),D(14,VU,3,3,"ng-template",null,0,Ke)(16,ZU,3,3,"ng-template",null,1,Ke)}if(o&2){let h=ke(15),f=ke(17);F("formGroup",s.loginForm),y(2),F("nzErrorTip",h),y(4),F("nzErrorTip",f),y(3),F("nzType","primary")("disabled",!s.loginForm.valid)}},dependencies:[ey,_l,co,lo,fl,uo,ho,ya,va,vl,Xi,li,Qi,Fr,so,ao,Ki,Ni,oo,_a,ga,kh],styles:["[_nghost-%COMP%]{display:flex;column-gap:20px;width:fit-content;margin:0 auto;background-color:#d6e4ff;padding:20px;border-radius:8px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-button[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let e=t;return e})();var Q0=(e,t)=>{let n=Et(xa),i=Et(cl),o=n.isAuthenticated();return t.url==="/signin"&&o?(i.navigate(["/"]),!1):t.url==="/orders"&&!o?(i.navigate(["/"]),!1):!0};var _p=()=>Et(xa).isManager;var DT=()=>Et(xa).isAuthenticated();function WU(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(2);y(),Ve(n.nzText)}}function UU(e,t){if(e&1&&(z(0,"span",0),D(1,WU,2,1,"ng-container",1),S()),e&2){let n=w();y(),F("nzStringTemplateOutlet",n.nzText)}}var wu=(()=>{let t=class t{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(o,s){o&2&&We("ant-divider-horizontal",s.nzType==="horizontal")("ant-divider-vertical",s.nzType==="vertical")("ant-divider-with-text",s.nzText)("ant-divider-plain",s.nzPlain)("ant-divider-with-text-left",s.nzText&&s.nzOrientation==="left")("ant-divider-with-text-right",s.nzText&&s.nzOrientation==="right")("ant-divider-with-text-center",s.nzText&&s.nzOrientation==="center")("ant-divider-dashed",s.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:[2,"nzDashed","nzDashed",pe],nzPlain:[2,"nzPlain","nzPlain",pe]},exportAs:["nzDivider"],standalone:!0,features:[Lt,ye],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(o,s){o&1&&D(0,UU,2,1,"span",0),o&2&&J(s.nzText?0:-1)},dependencies:[Bn,Ln],encapsulation:2,changeDetection:0});let e=t;return e})(),gp=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[wu]});let e=t;return e})();function GU(e,t){if(e&1&&(z(0,"p",3),H(1),S()),e&2){let n=t.$implicit,i=w(2).$index,o=w(2);We("current",n===o.countArray[i]),y(),Ce(" ",n," ")}}function YU(e,t){if(e&1&&Je(0,GU,2,3,"p",2,tn),e&2){let n=w(3);et(n.countSingleArray)}}function KU(e,t){if(e&1&&(z(0,"span",1),D(1,YU,2,0),S()),e&2){let n=t.$index,i=w(2);_t("transform","translateY("+-i.countArray[n]*100+"%)"),F("nzNoAnimation",i.noAnimation),y(),J(!i.nzDot&&i.countArray[n]!==void 0?1:-1)}}function QU(e,t){if(e&1&&Je(0,KU,2,4,"span",0,tn),e&2){let n=w();et(n.maxNumberArray)}}function XU(e,t){if(e&1&&H(0),e&2){let n=w();Ce(" ",n.nzOverflowCount,"+ ")}}var NT=["*"];function JU(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(2);y(),Ve(n.nzText)}}function eG(e,t){if(e&1&&(Q(0,"span",1),z(1,"span",2),D(2,JU,2,1,"ng-container",0),S()),e&2){let n=w();de("ant-badge-status-dot ant-badge-status-",n.nzStatus||n.presetColor,""),_t("background",!n.presetColor&&n.nzColor),F("ngStyle",n.nzStyle),y(2),F("nzStringTemplateOutlet",n.nzText)}}function tG(e,t){if(e&1&&Q(0,"nz-badge-sup",3),e&2){let n=w(2);F("nzOffset",n.nzOffset)("nzSize",n.nzSize)("nzTitle",n.nzTitle)("nzStyle",n.nzStyle)("nzDot",n.nzDot)("nzOverflowCount",n.nzOverflowCount)("disableAnimation",!!(n.nzStandalone||n.nzStatus||n.nzColor||n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("nzCount",n.nzCount)("noAnimation",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))}}function nG(e,t){if(e&1&&(je(0),D(1,tG,1,9,"nz-badge-sup",3),Ze()),e&2){let n=w();y(),J(n.showSup?1:-1)}}function iG(e,t){if(e&1&&(je(0),z(1,"span",3),H(2),S(),Ze()),e&2){let n=w();y(2),Ve(n.nzText)}}var rG=(()=>{let t=class t{constructor(){this.nzStyle=null,this.nzDot=!1,this.nzOverflowCount=99,this.disableAnimation=!1,this.noAnimation=!1,this.nzSize="default",this.maxNumberArray=[],this.countArray=[],this.count=0,this.countSingleArray=[0,1,2,3,4,5,6,7,8,9]}generateMaxNumberArray(){this.maxNumberArray=this.nzOverflowCount.toString().split("")}ngOnInit(){this.generateMaxNumberArray()}ngOnChanges(i){let{nzOverflowCount:o,nzCount:s}=i;s&&typeof s.currentValue=="number"&&(this.count=Math.max(0,s.currentValue),this.countArray=this.count.toString().split("").map(h=>+h)),o&&this.generateMaxNumberArray()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["nz-badge-sup"]],hostAttrs:[1,"ant-scroll-number"],hostVars:17,hostBindings:function(o,s){o&2&&(ov("@.disabled",s.disableAnimation)("@zoomBadgeMotion",void 0),wn("title",s.nzTitle===null?"":s.nzTitle||s.nzCount),iv(s.nzStyle),_t("right",s.nzOffset&&s.nzOffset[0]?-s.nzOffset[0]:null,"px")("margin-top",s.nzOffset&&s.nzOffset[1]?s.nzOffset[1]:null,"px"),We("ant-badge-count",!s.nzDot)("ant-badge-count-sm",s.nzSize==="small")("ant-badge-dot",s.nzDot)("ant-badge-multiple-words",s.countArray.length>=2))},inputs:{nzOffset:"nzOffset",nzTitle:"nzTitle",nzStyle:"nzStyle",nzDot:"nzDot",nzOverflowCount:[2,"nzOverflowCount","nzOverflowCount",Ro],disableAnimation:"disableAnimation",nzCount:"nzCount",noAnimation:"noAnimation",nzSize:"nzSize"},exportAs:["nzBadgeSup"],standalone:!0,features:[Lt,$t,ye],decls:2,vars:1,consts:[[1,"ant-scroll-number-only",3,"nzNoAnimation","transform"],[1,"ant-scroll-number-only",3,"nzNoAnimation"],[1,"ant-scroll-number-only-unit",3,"current"],[1,"ant-scroll-number-only-unit"]],template:function(o,s){o&1&&D(0,QU,2,0)(1,XU,1,1),o&2&&J(s.count<=s.nzOverflowCount?0:1)},dependencies:[hr],encapsulation:2,data:{animation:[Zf]},changeDetection:0});let e=t;return e})(),RT=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],oG="badge",aG=(()=>{let t=class t{constructor(i,o,s,h,f){this.nzConfigService=i,this.renderer=o,this.cdr=s,this.elementRef=h,this.directionality=f,this._nzModuleName=oG,this.showSup=!1,this.presetColor=null,this.dir="ltr",this.destroy$=new Gt,this.nzShowZero=!1,this.nzShowDot=!0,this.nzStandalone=!1,this.nzDot=!1,this.nzOverflowCount=99,this.nzColor=void 0,this.nzStyle=null,this.nzText=null,this.nzSize="default",this.noAnimation=Et(hr,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.prepareBadgeForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareBadgeForRtl()}ngOnChanges(i){let{nzColor:o,nzShowDot:s,nzDot:h,nzCount:f,nzShowZero:g}=i;o&&(this.presetColor=this.nzColor&&RT.indexOf(this.nzColor)!==-1?this.nzColor:null),(s||h||f||g)&&(this.showSup=this.nzShowDot&&this.nzDot||typeof this.nzCount=="number"&&this.nzCount>0||typeof this.nzCount=="number"&&this.nzCount<=0&&this.nzShowZero)}prepareBadgeForRtl(){this.isRtlLayout?this.renderer.addClass(this.elementRef.nativeElement,"ant-badge-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-badge-rtl")}get isRtlLayout(){return this.dir==="rtl"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(to),U(nn),U(Wi),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-badge"]],hostAttrs:[1,"ant-badge"],hostVars:4,hostBindings:function(o,s){o&2&&We("ant-badge-status",s.nzStatus)("ant-badge-not-a-wrapper",!!(s.nzStandalone||s.nzStatus||s.nzColor))},inputs:{nzShowZero:[2,"nzShowZero","nzShowZero",pe],nzShowDot:[2,"nzShowDot","nzShowDot",pe],nzStandalone:[2,"nzStandalone","nzStandalone",pe],nzDot:[2,"nzDot","nzDot",pe],nzOverflowCount:"nzOverflowCount",nzColor:"nzColor",nzStyle:"nzStyle",nzText:"nzText",nzTitle:"nzTitle",nzStatus:"nzStatus",nzCount:"nzCount",nzOffset:"nzOffset",nzSize:"nzSize"},exportAs:["nzBadge"],standalone:!0,features:[Lt,$t,ye],ngContentSelectors:NT,decls:3,vars:2,consts:[[4,"nzStringTemplateOutlet"],[3,"ngStyle"],[1,"ant-badge-status-text"],[3,"nzOffset","nzSize","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount","noAnimation"]],template:function(o,s){o&1&&(Ai(),D(0,eG,3,7),Di(1),D(2,nG,2,1,"ng-container",0)),o&2&&(J(s.nzStatus||s.nzColor?0:-1),y(2),F("nzStringTemplateOutlet",s.nzCount))},dependencies:[Vr,rG,Bn,Ln],encapsulation:2,data:{animation:[Zf]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzOverflowCount",void 0),ct([ht()],e.prototype,"nzColor",void 0),e})(),sG=(()=>{let t=class t{constructor(){this.nzPlacement="end",this.nzText=null,this.presetColor=null}ngOnChanges(i){let{nzColor:o}=i;o&&(this.presetColor=this.nzColor&&RT.indexOf(this.nzColor)!==-1?this.nzColor:null)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["nz-ribbon"]],hostAttrs:[1,"ant-ribbon-wrapper"],inputs:{nzColor:"nzColor",nzPlacement:"nzPlacement",nzText:"nzText"},exportAs:["nzRibbon"],standalone:!0,features:[$t,ye],ngContentSelectors:NT,decls:4,vars:11,consts:[[1,"ant-ribbon"],[4,"nzStringTemplateOutlet"],[1,"ant-ribbon-corner"],[1,"ant-ribbon-text"]],template:function(o,s){o&1&&(Ai(),Di(0),z(1,"div",0),D(2,iG,3,1,"ng-container",1),Q(3,"div",2),S()),o&2&&(y(),cr(s.presetColor&&"ant-ribbon-color-"+s.presetColor),_t("background-color",!s.presetColor&&s.nzColor),We("ant-ribbon-placement-end",s.nzPlacement==="end")("ant-ribbon-placement-start",s.nzPlacement==="start"),y(),F("nzStringTemplateOutlet",s.nzText),y(),_t("color",!s.presetColor&&s.nzColor))},dependencies:[Bn,Ln],encapsulation:2,changeDetection:0});let e=t;return e})(),LT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[aG,sG]});let e=t;return e})();var BT=[{id:1,rideId:101,routeId:201,seatId:11,userId:1,status:"active",path:[33,5,62,11,48],carriages:["Economy","Economy","Business","FirstClass","FirstClass"],schedule:{segments:[{departure:"2024-08-20T10:00:00",arrival:"2024-08-20T12:30:00"},{departure:"2024-08-20T12:45:00",arrival:"2024-08-20T15:00:00"},{departure:"2024-08-20T15:30:00",arrival:"2024-08-20T18:00:00"},{departure:"2024-08-20T18:15:00",arrival:"2024-08-20T20:45:00"}]},price:{Economy:50,Business:100,FirstClass:150}},{id:2,rideId:102,routeId:202,seatId:21,userId:2,status:"completed",path:[44,7,67,13],carriages:["Economy","Business","Business","FirstClass"],schedule:{segments:[{departure:"2024-08-10T08:00:00",arrival:"2024-08-10T10:45:00"},{departure:"2024-08-10T11:00:00",arrival:"2024-08-10T13:30:00"},{departure:"2024-08-10T14:00:00",arrival:"2024-08-10T17:15:00"}]},price:{Economy:40,Business:90,FirstClass:140}},{id:3,rideId:103,routeId:203,seatId:31,userId:3,status:"rejected",path:[12,15,25,42],carriages:["Economy","Business","Business","Economy"],schedule:{segments:[{departure:"2024-08-15T09:30:00",arrival:"2024-08-15T12:00:00"},{departure:"2024-08-15T12:15:00",arrival:"2024-08-15T14:45:00"},{departure:"2024-08-15T15:00:00",arrival:"2024-08-15T18:30:00"}]},price:{Economy:35,Business:85}},{id:4,rideId:104,routeId:204,seatId:41,userId:4,status:"canceled",path:[51,19,73,32],carriages:["FirstClass","FirstClass","Business","Economy"],schedule:{segments:[{departure:"2024-08-18T07:45:00",arrival:"2024-08-18T10:15:00"},{departure:"2024-08-18T10:30:00",arrival:"2024-08-18T12:45:00"},{departure:"2024-08-18T13:00:00",arrival:"2024-08-18T15:45:00"}]},price:{Economy:45,Business:95,FirstClass:145}},{id:5,rideId:105,routeId:205,seatId:51,userId:5,status:"active",path:[9,25,38],carriages:["Economy","Business","Business"],schedule:{segments:[{departure:"2024-08-21T06:30:00",arrival:"2024-08-21T09:00:00"},{departure:"2024-08-21T09:15:00",arrival:"2024-08-21T11:45:00"}]},price:{Economy:30,Business:80}},{id:6,rideId:106,routeId:206,seatId:61,userId:6,status:"completed",path:[3,12,27,45],carriages:["Economy","Business","Economy","FirstClass"],schedule:{segments:[{departure:"2024-08-17T05:00:00",arrival:"2024-08-17T07:30:00"},{departure:"2024-08-17T07:45:00",arrival:"2024-08-17T10:15:00"},{departure:"2024-08-17T10:30:00",arrival:"2024-08-17T12:45:00"}]},price:{Economy:55,Business:105,FirstClass:155}}];var HT=(()=>{let t=class t{constructor(i){this.http=i}getOrders(i=!1){return console.log(i),this.http.get("/api/order",{})}cancelOrder(i){return this.http.delete(`/api/order/${i}`)}};t.\u0275fac=function(o){return new(o||t)(yi(io))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var uG=()=>({padding:"0px"});function hG(e,t){if(e&1&&(z(0,"div")(1,"div",11),H(2),hn(3,"date"),S(),z(4,"div",12),H(5),hn(6,"date"),S(),z(7,"div",13),H(8),S()()),e&2){let n=w().$implicit;y(2),Ce(" ",Gi(3,3,n.schedule.segments[0].departure,"HH:mm")," "),y(3),Ce(" ",Gi(6,6,n.schedule.segments[0].departure,"MMMM dd")," "),y(3),Ce("City ",n.path[0],"")}}function dG(e,t){if(e&1&&(z(0,"div",14),H(1),S()),e&2){let n=w().$implicit,i=w();y(),Ve(i.getTripDuration(n))}}function pG(e,t){if(e&1&&(z(0,"div",11),H(1),hn(2,"date"),S(),z(3,"div",12),H(4),hn(5,"date"),S(),z(6,"div",15),H(7),S()),e&2){let n=w().$implicit;y(),Ce(" ",Gi(2,3,n.schedule.segments[n.schedule.segments.length-1].arrival,"HH:mm")," "),y(3),Ce(" ",Gi(5,6,n.schedule.segments[n.schedule.segments.length-1].arrival,"MMMM dd")," "),y(3),Ce("City ",n.path[n.path.length-1],"")}}function fG(e,t){}function mG(e,t){if(e&1){let n=we();z(0,"button",16),ne("click",function(){G(n);let o=w().$implicit,s=w();return Y(s.onCancelOrder(o))}),H(1," Cancel "),S()}}function _G(e,t){if(e&1&&(z(0,"nz-card",5)(1,"div",6)(2,"p")(3,"strong"),H(4,"Carriage type:"),S(),H(5),S(),z(6,"p")(7,"strong"),H(8,"Price:"),S(),H(9),hn(10,"currency"),S(),z(11,"p")(12,"strong"),H(13,"Car number:"),S()(),z(14,"p")(15,"strong"),H(16,"Seat number:"),S(),H(17),S()(),Q(18,"nz-divider"),z(19,"nz-steps",7),Q(20,"nz-step",8)(21,"nz-step",8)(22,"nz-step",8),D(23,hG,9,9,"ng-template",null,0,Ke)(25,dG,2,1,"ng-template",null,1,Ke)(27,pG,8,9,"ng-template",null,2,Ke)(29,fG,0,0,"ng-template",9,3,Ke),S(),D(31,mG,2,0,"button",10),S()),e&2){let n=t.$implicit,i=ke(24),o=ke(26),s=ke(28),h=ke(30),f=w();F("nzBodyStyle",No(14,uG)),y(5),Ce(" ",f.getCarriageType(n),""),y(4),Ce(" ",Ui(10,12,f.getTotalPrice(n)),""),y(8),Ce(" ",n.seatId,""),y(2),F("nzCurrent",3),y(),F("nzTitle",i)("nzIcon",h),y(),F("nzTitle",o)("nzIcon",h),y(),F("nzTitle",s)("nzIcon",h),y(9),J(n.status==="active"?31:-1)}}var VT=(()=>{let t=class t{constructor(i,o,s){this.orderService=i,this.message=o,this.modal=s,this.errorMessage="",this.orders=BT}fetchOrders(){this.orderService.getOrders(!0).subscribe({next:i=>console.log("orders",i)})}ngOnInit(){this.sortedOrders=this.orders.sort((i,o)=>new Date(i.schedule.segments[0].departure).getTime()-new Date(o.schedule.segments[0].departure).getTime())}getCarriageType(i){let o=i.schedule.segments.length-1;return i.carriages[o]||"Unknown"}getTotalPrice(i){return i.carriages.reduce((o,s)=>o+(i.price[s]||0),0)}getTripStartTime(i){return i.schedule.segments[0].departure}getTripEndTime(i){return i.schedule.segments[i.schedule.segments.length-1].arrival}getTripDuration(i){let o=new Date(i.schedule.segments[0].departure).getTime(),h=new Date(i.schedule.segments[i.schedule.segments.length-1].arrival).getTime()-o,f=Math.floor(h/(1e3*60*60)),g=Math.floor(h/(1e3*60)%60);return`${f}h ${g}m`}getStationName(i){return{33:"Station A",5:"Station B",62:"Station C",11:"Station D",48:"Station E"}[i]||"Unknown Station"}onCancelOrder(i){this.modal.confirm({nzTitle:"Are you sure you want to cancel this order?",nzOnOk:()=>{try{let o=Nn(qt({},i),{status:"canceled"});this.sortedOrders=this.sortedOrders.map(s=>s.id===i.id?o:s),this.message.success("Order successfully cancelled")}catch{this.message.error("Error while cancelling the order")}}})}};t.\u0275fac=function(o){return new(o||t)(U(HT),U(ty),U(Uh))},t.\u0275cmp=ve({type:t,selectors:[["app-order-list"]],standalone:!0,features:[ye],decls:3,vars:0,consts:[["nzFrom",""],["nzDur",""],["nzTo",""],["custom1",""],[1,"orders-list"],["nzHoverable","",1,"order-card",3,"nzBodyStyle"],[1,"order-header"],["nzSize","small",3,"nzCurrent"],[3,"nzTitle","nzIcon"],[2,"display","none"],["nz-button","","nzType","primary",1,"cancel-btn"],[1,"card__time"],[1,"card__time__date"],[1,"card__time__city"],[1,"card__duration"],[1,"card__city"],["nz-button","","nzType","primary",1,"cancel-btn",3,"click"]],template:function(o,s){o&1&&(z(0,"div",4),Je(1,_G,32,15,"nz-card",5,pa),S()),o&2&&(y(),et(s.sortedOrders))},dependencies:[Cl,xl,iy,gp,wu,Xi,li,Qi,Fr,dp,hp,Kl,LT,no,Dh,us],styles:[".orders-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px;margin-bottom:20px;padding:0 1rem}.order-card[_ngcontent-%COMP%]{width:390px;border:1px solid #b5acac;border-radius:8px;padding:1rem}.card-holder[_ngcontent-%COMP%]{border-radius:8px}.left-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;min-width:460px;max-width:40%}.card__time[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600}.carriage[_ngcontent-%COMP%]{display:flex;gap:1rem}.trip-details[_ngcontent-%COMP%]{padding:10px 0}.nz-card[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.cancel-btn[_ngcontent-%COMP%]{margin-top:1rem}nz-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.2)}"],changeDetection:0});let e=t;return e})();var qT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["app-orders"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(o,s){o&1&&Q(0,"app-order-list")},dependencies:[VT],changeDetection:0});let e=t;return e})();function X0(e,t){let n=!t?.manualCleanup;n&&!t?.injector&&Gg(X0);let i=n?t?.injector?.get(Lf)??Et(Lf):null,o=gG(t?.equal),s;t?.requireSync?s=Bf({kind:0},{equal:o}):s=Bf({kind:1,value:t?.initialValue},{equal:o});let h=e.subscribe({next:f=>s.set({kind:1,value:f}),error:f=>{if(t?.rejectErrors)throw f;s.set({kind:2,error:f})}});if(t?.requireSync&&s().kind===0)throw new Rc(601,!1);return i?.onDestroy(h.unsubscribe.bind(h)),lv(()=>{let f=s();switch(f.kind){case 1:return f.value;case 2:throw f.error;case 0:throw new Rc(601,!1)}},{equal:t?.equal})}function gG(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}var ZT=["*"],vG=["collapseHeader"];function yG(e,t){if(e&1&&(je(0),Q(1,"span",7),Ze()),e&2){let n=t.$implicit,i=w(2);y(),F("nzType",n||"right")("nzRotate",i.nzActive?90:0)}}function xG(e,t){if(e&1&&(z(0,"div"),D(1,yG,2,2,"ng-container",3),S()),e&2){let n=w();y(),F("nzStringTemplateOutlet",n.nzExpandedIcon)}}function CG(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w();y(),Ve(n.nzHeader)}}function bG(e,t){if(e&1&&(je(0),H(1),Ze()),e&2){let n=w(2);y(),Ve(n.nzExtra)}}function wG(e,t){if(e&1&&(z(0,"div",4),D(1,bG,2,1,"ng-container",3),S()),e&2){let n=w();y(),F("nzStringTemplateOutlet",n.nzExtra)}}var $T="collapse",J0=(()=>{let t=class t{constructor(i,o,s,h){this.nzConfigService=i,this.cdr=o,this.directionality=s,this.destroy$=h,this._nzModuleName=$T,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="start",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent($T).pipe($e(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(i){this.listOfNzCollapsePanelComponent.push(i)}removePanel(i){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(i),1)}click(i){this.nzAccordion&&!i.nzActive&&this.listOfNzCollapsePanelComponent.filter(o=>o!==i).forEach(o=>{o.nzActive&&(o.nzActive=!1,o.nzActiveChange.emit(o.nzActive),o.markForCheck())}),i.nzActive=!i.nzActive,i.nzActiveChange.emit(i.nzActive)}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(nn),U(si),U(zi))},t.\u0275cmp=ve({type:t,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(o,s){o&2&&We("ant-collapse-icon-position-start",s.nzExpandIconPosition==="start")("ant-collapse-icon-position-end",s.nzExpandIconPosition==="end")("ant-collapse-ghost",s.nzGhost)("ant-collapse-borderless",!s.nzBordered)("ant-collapse-rtl",s.dir==="rtl")},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",pe],nzBordered:[2,"nzBordered","nzBordered",pe],nzGhost:[2,"nzGhost","nzGhost",pe],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[ki([zi]),Lt,ye],ngContentSelectors:ZT,decls:1,vars:0,template:function(o,s){o&1&&(Ai(),Di(0))},encapsulation:2,changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzAccordion",void 0),ct([ht()],e.prototype,"nzBordered",void 0),ct([ht()],e.prototype,"nzGhost",void 0),e})(),jT="collapsePanel",e_=(()=>{let t=class t{markForCheck(){this.cdr.markForCheck()}constructor(i,o,s,h){this.nzConfigService=i,this.ngZone=o,this.cdr=s,this.destroy$=h,this._nzModuleName=jT,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new ut,this.nzCollapseComponent=Et(J0,{host:!0}),this.noAnimation=Et(hr,{optional:!0}),this.nzConfigService.getConfigChangeEventForComponent(jT).pipe($e(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>Tr(this.collapseHeader.nativeElement,"click").pipe(ua(()=>!this.nzDisabled),$e(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}};t.\u0275fac=function(o){return new(o||t)(U(Ri),U(xi),U(nn),U(zi))},t.\u0275cmp=ve({type:t,selectors:[["nz-collapse-panel"]],viewQuery:function(o,s){if(o&1&&Bt(vG,7),o&2){let h;wt(h=zt())&&(s.collapseHeader=h.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(o,s){o&2&&We("ant-collapse-no-arrow",!s.nzShowArrow)("ant-collapse-item-active",s.nzActive)("ant-collapse-item-disabled",s.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",pe],nzDisabled:[2,"nzDisabled","nzDisabled",pe],nzShowArrow:[2,"nzShowArrow","nzShowArrow",pe],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[ki([zi]),Lt,ye],ngContentSelectors:ZT,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(o,s){o&1&&(Ai(),z(0,"div",1,0),D(2,xG,2,1,"div"),z(3,"span",2),D(4,CG,2,1,"ng-container",3),S(),D(5,wG,2,1,"div",4),S(),z(6,"div",5)(7,"div",6),Di(8),S()()),o&2&&(wn("aria-expanded",s.nzActive),y(2),J(s.nzShowArrow?2:-1),y(2),F("nzStringTemplateOutlet",s.nzHeader),y(),J(s.nzExtra?5:-1),y(),We("ant-collapse-content-active",s.nzActive),F("@.disabled",!!(s.noAnimation!=null&&s.noAnimation.nzNoAnimation))("@collapseMotion",s.nzActive?"expanded":"hidden"))},dependencies:[Bn,Ln,vn,gn],encapsulation:2,data:{animation:[jv]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzShowArrow",void 0),e})(),WT=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[e_]});let e=t;return e})();function SG(e,t){if(e&1&&(z(0,"div",3),H(1),S()),e&2){let n=t.$index,i=w().$index,o=w();y(),Ve(o.getSeatNumber(i,n))}}function TG(e,t){if(e&1&&(z(0,"div",3),H(1),S()),e&2){let n=t.$index,i=w().$index,o=w();y(),Ve(o.getSeatNumber(i,o.carriage.leftSeats+n))}}function FG(e,t){if(e&1&&(z(0,"div",1)(1,"div",2),Je(2,SG,2,1,"div",3,pa),S(),z(4,"div",4),H(5,"Aisle"),S(),z(6,"div",5),Je(7,TG,2,1,"div",3,pa),S()()),e&2){let n=w();y(2),et(n.leftSeatsArray),y(5),et(n.rightSeatsArray)}}var UT=(()=>{let t=class t{getSeatNumber(i,o){let s=this.carriage.leftSeats+this.carriage.rightSeats;return i*s+o+1}get rowsArray(){return Array.from({length:this.carriage.rows},(i,o)=>o)}get leftSeatsArray(){return Array.from({length:this.carriage.leftSeats},(i,o)=>o)}get rightSeatsArray(){return Array.from({length:this.carriage.rightSeats},(i,o)=>o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["app-carriage-prototype"]],inputs:{carriage:"carriage"},standalone:!0,features:[ye],decls:3,vars:0,consts:[[1,"carriage"],[1,"row"],[1,"left-seats"],[1,"seat"],[1,"aisle"],[1,"right-seats"]],template:function(o,s){o&1&&(z(0,"div",0),Je(1,FG,9,0,"div",1,pa),S()),o&2&&(y(),et(s.rowsArray))},styles:[".carriage[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px 0}.left-seats[_ngcontent-%COMP%], .right-seats[_ngcontent-%COMP%]{display:flex}.seat[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#d3d3d3;border:1px solid #000;display:flex;justify-content:center;align-items:center;margin:2px}.aisle[_ngcontent-%COMP%]{width:50px;text-align:center;line-height:30px;margin:0 10px}"],changeDetection:0});let e=t;return e})();var GT=(()=>{let t=class t{constructor(i){this.http=i,this.apiUrl="/api/carriage",this.carriageSubject=new Hg([]),this.carriages$=this.carriageSubject.asObservable()}getCarriages(){return this.http.get(this.apiUrl)}createCarriage(i){return this.http.post(this.apiUrl,i)}updateCarriage(i,o){return this.http.put(`${this.apiUrl}/${i}`,o)}setCarriages(i){this.carriageSubject.next(i)}};t.\u0275fac=function(o){return new(o||t)(yi(io))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function IG(e,t){if(e&1&&(z(0,"h2",9),H(1),S()),e&2){let n=w().$implicit;y(),Ve(n.name)}}function MG(e,t){if(e&1){let n=we();Q(0,"nz-divider",5),z(1,"button",1),ne("click",function(){let o=G(n).$implicit,s=w(2);return Y(s.onEdit(o))}),H(2,"Update"),S(),D(3,IG,2,1,"ng-template",null,0,Ke),z(5,"nz-collapse",6)(6,"nz-collapse-panel",7),ne("nzActiveChange",function(){G(n);let o=w(2);return Y(o.toggleCollapse(o.isCollapsed))}),Q(7,"app-carriage-prototype",8),S()()}if(e&2){let n=t.$implicit,i=ke(4),o=w(2);F("nzText",i),y(6),F("nzHeader",o.isCollapsed?"Show Seat Map":"Hide Seat Map")("nzShowArrow",!1)("nzActive",!o.isCollapsed),y(),F("carriage",n)}}function OG(e,t){if(e&1){let n=we();je(0),z(1,"form",10)(2,"nz-form-item")(3,"nz-form-label",11),H(4,"Rows"),S(),z(5,"nz-form-control",11)(6,"input",12),wi("ngModelChange",function(o){G(n);let s=w(2);return bi(s.carriageForm.rows,o)||(s.carriageForm.rows=o),Y(o)}),S()()(),z(7,"nz-form-item")(8,"nz-form-label",11),H(9,"Left Seats"),S(),z(10,"nz-form-control",11)(11,"input",13),wi("ngModelChange",function(o){G(n);let s=w(2);return bi(s.carriageForm.leftSeats,o)||(s.carriageForm.leftSeats=o),Y(o)}),S()()(),z(12,"nz-form-item")(13,"nz-form-label",11),H(14,"Right Seats"),S(),z(15,"nz-form-control",11)(16,"input",14),wi("ngModelChange",function(o){G(n);let s=w(2);return bi(s.carriageForm.rightSeats,o)||(s.carriageForm.rightSeats=o),Y(o)}),S()()()(),Q(17,"app-carriage-prototype",8),Ze()}if(e&2){let n=w(2);y(3),F("nzSpan",6),y(2),F("nzSpan",14),y(),Ci("ngModel",n.carriageForm.rows),y(2),F("nzSpan",6),y(2),F("nzSpan",14),y(),Ci("ngModel",n.carriageForm.leftSeats),y(2),F("nzSpan",6),y(2),F("nzSpan",14),y(),Ci("ngModel",n.carriageForm.rightSeats),y(),F("carriage",n.carriageForm)}}function EG(e,t){if(e&1){let n=we();z(0,"div",2),Je(1,MG,8,5,null,null,pa),S(),z(3,"nz-modal",3),wi("nzVisibleChange",function(o){G(n);let s=w();return bi(s.isModalVisible,o)||(s.isModalVisible=o),Y(o)}),ne("nzOnCancel",function(){G(n);let o=w();return Y(o.onCancel())})("nzOnOk",function(){G(n);let o=w();return Y(o.onSave())}),D(4,OG,18,10,"ng-container",4),S()}if(e&2){let n=w();y(),et(n.carriages()),y(2),Ci("nzVisible",n.isModalVisible)}}var YT=(()=>{let t=class t{constructor(i){this.carriageService=i,this.carriages=X0(this.carriageService.carriages$,{initialValue:[]}),this.carriageForm={name:"",rows:16,leftSeats:2,rightSeats:3},this.isModalVisible=!1,this.isCollapsed=!0}ngOnInit(){this.loadCarriages()}loadCarriages(){this.carriageService.getCarriages().subscribe(i=>{this.carriageService.setCarriages(i)})}onCreate(){this.carriageForm={name:"",rows:16,leftSeats:2,rightSeats:3},this.isModalVisible=!0}onEdit(i){this.carriageForm=qt({},i),this.isModalVisible=!0}onSave(){this.isModalVisible=!1}onCancel(){this.isModalVisible=!1}toggleCollapse(i){this.isCollapsed=!i}};t.\u0275fac=function(o){return new(o||t)(U(GT))},t.\u0275cmp=ve({type:t,selectors:[["app-carriages"]],standalone:!0,features:[ye],decls:3,vars:1,consts:[["titleTemplate",""],["nz-button","",3,"click"],[1,"carriages-list"],["nzTitle","Carriage Form",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],[4,"nzModalContent"],[3,"nzText"],[1,"seat-map-collapse"],[3,"nzActiveChange","nzHeader","nzShowArrow","nzActive"],[3,"carriage"],["nz-typography",""],["nz-form",""],[3,"nzSpan"],["nz-input","","name","rows",3,"ngModelChange","ngModel"],["nz-input","","name","leftSeats",3,"ngModelChange","ngModel"],["nz-input","","name","rightSeats",3,"ngModelChange","ngModel"]],template:function(o,s){o&1&&(z(0,"button",1),ne("click",function(){return s.onCreate()}),H(1,"Create"),S(),D(2,EG,5,1)),o&2&&(y(2),J(s.carriages().length>0?2:-1))},dependencies:[UT,Xi,li,Qi,Fr,$v,qv,Vv,_l,co,lo,fl,uo,ml,ho,WT,e_,J0,gp,wu,Lo,ao,Ki,Ni,oo,fs,Fv,so],styles:[".carriages-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1rem}.seat-map-collapse[_ngcontent-%COMP%]{align-self:normal;background-color:#ececec;text-align:center}"],changeDetection:0});let e=t;return e})();function AG(e,t){if(e&1&&(z(0,"nz-auto-option",23),H(1),S()),e&2){let n=t.$implicit;F("nzValue",n.name),y(),Ce(" ",n.name," ")}}function DG(e,t){if(e&1&&(z(0,"nz-auto-option",23),H(1),S()),e&2){let n=t.$implicit;F("nzValue",n.city),y(),Ce(" ",n.city," ")}}function kG(e,t){if(e&1){let n=we();z(0,"button",27),ne("click",function(){G(n);let o=w().index,s=w();return Y(s.removeRelation(o))}),Q(1,"i",28),S()}}function NG(e,t){if(e&1&&(z(0,"div",24)(1,"nz-input-group",25),Q(2,"input",26),z(3,"nz-autocomplete",null,0),D(5,DG,2,2,"nz-auto-option",8),S(),D(6,kG,2,0,"ng-template",null,1,Ke),S()()),e&2){let n=t.index,i=ke(4),o=ke(7),s=w();F("formGroupName",n),y(),F("nzSuffix",o),y(),F("nzAutocomplete",i),y(3),F("ngForOf",s.stations)}}function RG(e,t){if(e&1&&(z(0,"li"),H(1),S()),e&2){let n=t.$implicit,i=w(3);y(),Ce(" ",i.getNameById(n.id)," ")}}function LG(e,t){if(e&1&&(z(0,"h4"),H(1,"Connected To:"),S(),z(2,"ul",31),D(3,RG,2,1,"li",22),S()),e&2){let n=w().$implicit;y(3),F("ngForOf",n.connectedTo)}}function BG(e,t){if(e&1&&(z(0,"li"),H(1),S()),e&2){let n=t.$implicit,i=w(4);y(),Ce(" City: ",i.getNameById(n.id)," ")}}function HG(e,t){if(e&1&&(z(0,"h4"),H(1,"Connected To:"),S(),z(2,"ul"),D(3,BG,2,1,"li",22),S()),e&2){let n=w(2).$implicit;y(3),F("ngForOf",n.connectedTo)}}function VG(e,t){if(e&1){let n=we();z(0,"div",30)(1,"h3"),H(2),S(),z(3,"button",27),ne("click",function(){G(n);let o=w().$implicit,s=w();return Y(s.deleteStation(o.id))}),Q(4,"i",28),S()(),z(5,"p"),H(6),S(),z(7,"p"),H(8),S(),D(9,HG,4,1)}if(e&2){let n=w().$implicit;y(2),Ve(n.city),y(4),Ce("Latitude: ",n.latitude,""),y(2),Ce("Longitude: ",n.longitude,""),y(),J(n.connectedTo.length>0?9:-1)}}function qG(e,t){if(e&1){let n=we();z(0,"div")(1,"nz-card",29)(2,"div")(3,"div",30)(4,"p"),H(5),S(),z(6,"button",27),ne("click",function(){let o=G(n).$implicit,s=w();return Y(s.deleteStation(o.id))}),Q(7,"i",28),S()(),z(8,"p"),H(9),S(),z(10,"p"),H(11),S(),D(12,LG,4,1),S()(),D(13,VG,10,4,"ng-template",null,2,Ke),S()}if(e&2){let n=t.$implicit;y(5),Ve(n.city),y(4),Ce("Latitude: ",n.latitude,""),y(2),Ce("Longitude: ",n.longitude,""),y(),J(n.connectedTo.length>0?12:-1)}}var KT=(()=>{let t=class t{constructor(i,o,s,h,f){this.fb=i,this.geoService=o,this.searchService=s,this.markerService=h,this.formUtilsService=f,this.stations=[],this.relatedCities=[],this.stations$=Do([]),this.stationForm=this.fb.group({city:["",Zn.required],latitude:["",Zn.required],longitude:["",Zn.required],relations:this.fb.array([])}),this.cityOptions$=this.formUtilsService.createSearchObservable(this.city,"coord",this.stationForm),this.updateStation(),this.city.valueChanges.pipe(Fh(300),$g(g=>this.geoService.searchCity(g))).subscribe(g=>{if(g.length>0){let{lat:v,lon:P}=g[0];this.stationForm.patchValue({latitude:v,longitude:P}),this.updateRelatedStations(g[0].name)}})}updateRelatedStations(i){this.stations.length===0&&this.updateStation(),this.setRelatedCities(i)}setRelatedCities(i){let o=this.stations.find(s=>s.city===i);if(o){let s=o.connectedTo.map(f=>f.id),h=this.stations.filter(f=>s.includes(f.id));this.relations.clear(),h.forEach(f=>{this.relations.push(this.fb.group({cityName:[f.city],cityId:[f.id]}))})}}get city(){return this.stationForm.get("city")}get relations(){return this.stationForm.get("relations")}updateStation(){this.searchService.getStations().pipe(as(1)).subscribe(i=>{this.stations=i})}createRelation(){return this.fb.group({cityName:[""],cityId:[""]})}addRelation(){this.relations.push(this.createRelation())}removeRelation(i){this.relations.removeAt(i)}searchCity(i){i&&this.geoService.searchCity(i).subscribe(o=>{if(o.length>0){let{lat:s,lon:h}=o[0];this.stationForm.patchValue({latitude:s,longitude:h})}})}getIdByName(i){return this.stations.find(o=>o.city===i)?.id??0}getNameById(i){return this.stations.find(o=>o.id===i)?.city??""}addStation(){if(this.stationForm.valid){let i=this.stationForm.value,o={city:i.city,latitude:i.latitude,longitude:i.longitude,relations:this.relations.controls.map(s=>this.getIdByName(s.value.cityName))};this.searchService.addStation(o).pipe(as(1)).subscribe(()=>{this.mapComponent.loadStations(),this.relations.push(this.createRelation()),this.stationForm.reset(),this.relations.clear(),this.updateStation()})}}deleteStation(i){this.searchService.deleteStation(i).subscribe(()=>{this.mapComponent.loadStations(),this.updateStation()})}onMarkerClick(i){this.stationForm.get("city")?.setValue(i.city),this.stationForm.get("latitude")?.setValue(i.latitude),this.stationForm.get("longitude")?.setValue(i.longitude),this.markerService.selectMarkerByCity(i.city,"from",this.setFormValue.bind(this))}setFormValue(i,o){this.stationForm.get(i)?.setValue(o)}};t.\u0275fac=function(o){return new(o||t)(U(Bh),U(Ql),U(Oa),U(Gl),U(fp))},t.\u0275cmp=ve({type:t,selectors:[["app-station-form"]],viewQuery:function(o,s){if(o&1&&Bt(Yl,5),o&2){let h;wt(h=zt())&&(s.mapComponent=h.first)}},standalone:!0,features:[ye],decls:39,vars:18,consts:[["auto",""],["suffixButton",""],["coverTemplate",""],[1,"station-form"],[1,"ant-advanced-station-form",3,"ngSubmit","formGroup"],["nzFor","city",3,"nzSpan"],[3,"nzSpan"],["nz-input","","id","city","formControlName","city","placeholder","Enter city name",3,"nzAutocomplete"],[3,"nzValue",4,"ngFor","ngForOf"],["nzFor","latitude",3,"nzSpan"],["nz-input","","id","latitude","formControlName","latitude","placeholder","Latitude"],["nzFor","longitude",3,"nzSpan"],["nz-input","","id","longitude","formControlName","longitude","placeholder","Longitude"],["formArrayName","relations"],[3,"formGroupName",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed","type","button",1,"add-relation",3,"click"],["nz-icon","","nzType","plus"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"disabled"],[1,"map-cont"],[3,"markerClicked"],[1,"stations-list"],[4,"ngFor","ngForOf"],[3,"nzValue"],[3,"formGroupName"],[3,"nzSuffix"],["nz-input","","formControlName","cityName","placeholder","Enter related city",3,"nzAutocomplete"],["nz-button","","nzType","text",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],["nzHoverable","",2,"width","100%","height","100%"],[1,"title-controller"],[1,"ul-line"]],template:function(o,s){if(o&1){let h=we();z(0,"div",3)(1,"form",4),ne("ngSubmit",function(){return G(h),Y(s.addStation())}),z(2,"nz-form-item")(3,"nz-form-label",5),H(4,"City"),S(),z(5,"nz-form-control",6)(6,"nz-input-group"),Q(7,"input",7),z(8,"nz-autocomplete",null,0),D(10,AG,2,2,"nz-auto-option",8),hn(11,"async"),S()()()(),z(12,"nz-form-item")(13,"nz-form-label",9),H(14,"Latitude"),S(),z(15,"nz-form-control",6),Q(16,"input",10),S()(),z(17,"nz-form-item")(18,"nz-form-label",11),H(19,"Longitude"),S(),z(20,"nz-form-control",6),Q(21,"input",12),S()(),z(22,"nz-form-item")(23,"nz-form-label",6),H(24,"Relations"),S(),z(25,"nz-form-control",6)(26,"div",13),D(27,NG,8,4,"div",14),S(),z(28,"button",15),ne("click",function(){return G(h),Y(s.addRelation())}),Q(29,"i",16),H(30," Add Relation "),S()()(),z(31,"nz-form-item")(32,"nz-form-control",17)(33,"button",18),H(34,"Add Station"),S()()()(),z(35,"div",19)(36,"app-map",20),ne("markerClicked",function(g){return G(h),Y(s.onMarkerClick(g))}),S()()(),z(37,"div",21),D(38,qG,15,4,"div",22),S()}if(o&2){let h=ke(9);y(),F("formGroup",s.stationForm),y(2),F("nzSpan",6),y(2),F("nzSpan",14),y(2),F("nzAutocomplete",h),y(3),F("ngForOf",Ui(11,16,s.cityOptions$)),y(3),F("nzSpan",6),y(2),F("nzSpan",14),y(3),F("nzSpan",6),y(2),F("nzSpan",14),y(3),F("nzSpan",6),y(2),F("nzSpan",14),y(2),F("ngForOf",s.relations.controls),y(5),F("nzSpan",14)("nzOffset",6),y(),F("disabled",s.stationForm.invalid),y(5),F("ngForOf",s.stations)}},dependencies:[no,sl,ll,so,ao,Ki,Ni,oo,_a,ga,Pv,Iv,Yl,uo,ml,ho,vl,ya,va,gl,li,Gh,co,lo,Jh,np,rp,ip,Ps,Cu,yl,vn,gn,Cl,xl],styles:[".station-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:20px}.ant-advanced-station-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:40%}.map-cont[_ngcontent-%COMP%]{display:flex;min-width:300px;flex-basis:60%}.stations-list[_ngcontent-%COMP%]{gap:10px;padding:20px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr)}.title-controller[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.5em;font-weight:600}.ul-line[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}@media (min-width: 601px) and (max-width: 900px){.stations-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr)}}@media (max-width: 600px){.ant-advanced-station-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.station-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.stations-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(1,1fr)}}"]});let e=t;return e})();var QT=[{path:"",component:TT},{path:"stations",component:KT,title:"Stations"},{path:"signup",component:ET,title:"Sign-Up Page"},{path:"signin",component:AT,canActivate:[Q0]},{path:"routes",loadComponent:()=>import("./chunk-ZPV5RM7A.js").then(e=>e.RoutesComponent),title:"Routes",canActivate:[_p]},{path:"routes/:id",loadComponent:()=>import("./chunk-WEN7H4AU.js").then(e=>e.RoutePageComponent),title:"Ride",canActivate:[_p]},{path:"orders",component:qT,canActivate:[Q0]},{path:"carriages",component:YT,canActivate:[_p]},{path:"profile",loadComponent:()=>import("./chunk-ZF6FAL54.js").then(e=>e.ProfileComponent),title:"Profile Page",canActivate:[DT]},{path:"**",loadComponent:()=>import("./chunk-QUILNADH.js").then(e=>e.NotFoundComponent),title:"404 Page"}];var XT=(e,t)=>{let n=localStorage.getItem("token");if(n){let i=e.clone({headers:e.headers.set("Authorization",`Bearer ${n}`)});return t(i)}return t(e)};cv(nT);var JT={providers:[gv(QT),zv(wv),Ug(Lo),iT(),dv(pv([XT])),Uh]};var $G=["drawerTemplate"];function jG(e,t){if(e&1){let n=we();z(0,"div",9),ne("click",function(){G(n);let o=w(2);return Y(o.maskClick())}),S()}if(e&2){let n=w(2);F("@drawerMaskMotion",void 0)("ngStyle",n.nzMaskStyle)}}function ZG(e,t){if(e&1&&(je(0),Q(1,"span",17),Ze()),e&2){let n=t.$implicit;y(),F("nzType",n)}}function WG(e,t){if(e&1){let n=we();z(0,"button",15),ne("click",function(){G(n);let o=w(3);return Y(o.closeClick())}),D(1,ZG,2,1,"ng-container",16),S()}if(e&2){let n=w(3);y(),F("nzStringTemplateOutlet",n.nzCloseIcon)}}function UG(e,t){if(e&1&&(je(0),Q(1,"div",18),Ze()),e&2){let n=w(4);y(),F("innerHTML",n.nzTitle,Hr)}}function GG(e,t){if(e&1&&(z(0,"div",13),D(1,UG,2,1,"ng-container",16),S()),e&2){let n=w(3);y(),F("nzStringTemplateOutlet",n.nzTitle)}}function YG(e,t){if(e&1&&(je(0),Q(1,"div",18),Ze()),e&2){let n=w(4);y(),F("innerHTML",n.nzExtra,Hr)}}function KG(e,t){if(e&1&&(z(0,"div",14),D(1,YG,2,1,"ng-container",16),S()),e&2){let n=w(3);y(),F("nzStringTemplateOutlet",n.nzExtra)}}function QG(e,t){if(e&1&&(z(0,"div",10)(1,"div",11),D(2,WG,2,1,"button",12)(3,GG,2,1,"div",13),S(),D(4,KG,2,1,"div",14),S()),e&2){let n=w(2);We("ant-drawer-header-close-only",!n.nzTitle),y(2),J(n.nzClosable?2:-1),y(),J(n.nzTitle?3:-1),y(),J(n.nzExtra?4:-1)}}function XG(e,t){}function JG(e,t){e&1&&Dt(0)}function eY(e,t){if(e&1&&D(0,JG,1,0,"ng-container",19),e&2){let n=w(3);F("ngTemplateOutlet",n.nzContent)("ngTemplateOutletContext",n.templateContext)}}function tY(e,t){if(e&1&&D(0,eY,1,2,"ng-container"),e&2){let n=w(2);J(n.isNzContentTemplateRef?0:-1)}}function nY(e,t){}function iY(e,t){if(e&1&&D(0,nY,0,0,"ng-template",20),e&2){let n=w(3);F("ngTemplateOutlet",n.contentFromContentChild)}}function rY(e,t){if(e&1&&D(0,iY,1,1,null,20),e&2){let n=w(2);J(n.contentFromContentChild&&(n.isOpen||n.inAnimation)?0:-1)}}function oY(e,t){if(e&1&&(je(0),Q(1,"div",18),Ze()),e&2){let n=w(3);y(),F("innerHTML",n.nzFooter,Hr)}}function aY(e,t){if(e&1&&(z(0,"div",8),D(1,oY,2,1,"ng-container",16),S()),e&2){let n=w(2);y(),F("nzStringTemplateOutlet",n.nzFooter)}}function sY(e,t){if(e&1&&(z(0,"div",1),D(1,jG,1,2,"div",2),z(2,"div")(3,"div",3)(4,"div",4),D(5,QG,5,5,"div",5),z(6,"div",6),D(7,XG,0,0,"ng-template",7)(8,tY,1,1)(9,rY,1,1),S(),D(10,aY,2,1,"div",8),S()()()()),e&2){let n=w();_t("transform",n.offsetTransform)("transition",n.placementChanging?"none":null)("z-index",n.nzZIndex),We("ant-drawer-rtl",n.dir==="rtl")("ant-drawer-open",n.isOpen)("no-mask",!n.nzMask)("ant-drawer-top",n.nzPlacement==="top")("ant-drawer-bottom",n.nzPlacement==="bottom")("ant-drawer-right",n.nzPlacement==="right")("ant-drawer-left",n.nzPlacement==="left"),F("nzNoAnimation",n.nzNoAnimation),y(),J(n.nzMask&&n.isOpen?1:-1),y(),de("ant-drawer-content-wrapper ",n.nzWrapClassName,""),_t("width",n.width)("height",n.height)("transform",n.transform)("transition",n.placementChanging?"none":null),y(2),_t("height",n.isLeftOrRight?"100%":null),y(),J(n.nzTitle||n.nzClosable?5:-1),y(),F("ngStyle",n.nzBodyStyle),y(2),J(n.nzContent?8:9),y(2),J(n.nzFooter?10:-1)}}var n_=(()=>{let t=class t{constructor(i){this.templateRef=i}};t.\u0275fac=function(o){return new(o||t)(U(ko))},t.\u0275dir=da({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"],standalone:!0});let e=t;return e})(),eF=378,tF=736,lY=new Oh("NZ_DRAWER_DATA"),vp=class{},cY=300,uY="drawer",yp=(()=>{let t=class t extends vp{set nzVisible(i){this.isOpen=i}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let i=this.nzSize==="large"?tF:eF;return this.nzWidth===void 0?ds(i):ds(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let i=this.nzSize==="large"?tF:eF;return this.nzHeight===void 0?ds(i):ds(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}get isNzContentTemplateRef(){return hs(this.nzContent)}constructor(i,o,s,h,f,g,v,P,I,R){super(),this.cdr=i,this.nzConfigService=o,this.renderer=s,this.overlay=h,this.injector=f,this.changeDetectorRef=g,this.focusTrapFactory=v,this.viewContainerRef=P,this.overlayKeyboardDispatcher=I,this.directionality=R,this._nzModuleName=uY,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.componentRef=null,this.nzOnViewInit=new ut,this.nzOnClose=new ut,this.nzVisibleChange=new ut,this.destroy$=new Gt,this.placementChanging=!1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new Gt,this.nzAfterClose=new Gt,this.nzDirection=void 0,this.dir="ltr",this.document=Et(ma)}ngOnInit(){this.directionality.change?.pipe($e(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzData||this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(i){let{nzPlacement:o,nzVisible:s}=i;s&&(i.nzVisible.currentValue?this.open():this.close()),o&&!o.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:cY}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(i){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(i),this.nzAfterClose.complete(),this.componentInstance=null,this.componentRef=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof Yg){let i=ls.create({parent:this.injector,providers:[{provide:vp,useValue:this},{provide:lY,useValue:this.nzData}]}),o=new qf(this.nzContent,null,i);this.componentRef=this.bodyPortalOutlet.attachComponentPortal(o),this.componentInstance=this.componentRef.instance,Object.assign(this.componentRef.instance,this.nzData||this.nzContentParams),this.componentRef.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new Vh(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),Bv(this.overlayRef,this.nzZIndex)),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe($e(this.destroy$)).subscribe(i=>{i.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe($e(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new $h({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}};t.\u0275fac=function(o){return new(o||t)(U(nn),U(Ri),U(to),U(Vc),U(ls),U(nn),U(Hv),U(Ah),U(Ev),U(si))},t.\u0275cmp=ve({type:t,selectors:[["nz-drawer"]],contentQueries:function(o,s,h){if(o&1&&fa(h,n_,7,ko),o&2){let f;wt(f=zt())&&(s.contentFromContentChild=f.first)}},viewQuery:function(o,s){if(o&1&&(Bt($G,7),Bt(qh,5)),o&2){let h;wt(h=zt())&&(s.drawerTemplate=h.first),wt(h=zt())&&(s.bodyPortalOutlet=h.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:[2,"nzClosable","nzClosable",pe],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",pe],nzMask:[2,"nzMask","nzMask",pe],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",pe],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",pe],nzKeyboard:[2,"nzKeyboard","nzKeyboard",pe],nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:[2,"nzVisible","nzVisible",pe]},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],standalone:!0,features:[Lt,lr,$t,ye],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],[1,"ant-drawer-mask",3,"ngStyle"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[1,"ant-drawer-header",3,"ant-drawer-header-close-only"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[1,"ant-drawer-footer"],[1,"ant-drawer-mask",3,"click","ngStyle"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close",1,"ant-drawer-close"],[1,"ant-drawer-title"],[1,"ant-drawer-extra"],["aria-label","Close",1,"ant-drawer-close",3,"click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(o,s){o&1&&D(0,sY,11,39,"ng-template",null,0,Ke)},dependencies:[hr,Vr,Bn,Ln,vn,gn,Ov,qh,Rn],encapsulation:2,data:{animation:[Zv]},changeDetection:0});let e=t;return ct([ht()],e.prototype,"nzMaskClosable",void 0),ct([ht()],e.prototype,"nzMask",void 0),ct([ht()],e.prototype,"nzCloseOnNavigation",void 0),ct([ht()],e.prototype,"nzDirection",void 0),e})(),t_=class{constructor(t,n){this.overlay=t,this.options=n,this.unsubscribe$=new Gt;let s=this.options,{nzOnCancel:i}=s,o=Sh(s,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new qf(yp)).instance,this.updateOptions(o),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe($e(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{i?i().then(h=>{h!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe($e(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(t){Object.assign(this.drawerRef,t)}},hY=(()=>{let t=class t{constructor(i){this.overlay=i}create(i){return new t_(this.overlay,i).getInstance()}};t.\u0275fac=function(o){return new(o||t)(yi(Vc))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac});let e=t;return e})(),nF=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({providers:[hY],imports:[yp]});let e=t;return e})();function pY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",11),H(3,"Profile"),S()(),z(4,"li",8)(5,"a",12),H(6,"My Orders"),S()(),Ze())}function fY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",13),H(3,"Admin"),S()(),Ze())}function mY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",14),H(3,"Sign In"),S()(),z(4,"li",8)(5,"a",15),H(6,"Sign Up"),S()(),Ze())}function _Y(e,t){if(e&1&&(je(0),z(1,"ul",7)(2,"li",8)(3,"a",9),H(4,"Home"),S()(),D(5,pY,7,0,"ng-container",10)(6,fY,4,0,"ng-container",10)(7,mY,7,0,"ng-container",10),S(),Ze()),e&2){let n=w(2);y(5),F("ngIf",n.userType==="user"||n.userType==="manager"),y(),F("ngIf",n.userType==="manager"),y(),F("ngIf",n.userType==="guest")}}function gY(e,t){if(e&1){let n=we();z(0,"div",2)(1,"button",3),ne("click",function(){G(n);let o=w();return Y(o.open())}),Q(2,"span",4),S(),z(3,"nz-drawer",5),ne("nzOnClose",function(){G(n);let o=w();return Y(o.close())}),D(4,_Y,8,3,"ng-container",6),S()()}if(e&2){let n=w();y(3),F("nzVisible",n.visible)}}function vY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",11),H(3,"Profile"),S()(),z(4,"li",8)(5,"a",12),H(6,"My Orders"),S()(),Ze())}function yY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",13),H(3,"Admin"),S()(),Ze())}function xY(e,t){e&1&&(je(0),z(1,"li",8)(2,"a",14),H(3,"Sign In"),S()(),z(4,"li",8)(5,"a",15),H(6,"Sign Up"),S()(),z(7,"li",8)(8,"a",17),H(9,"ST"),S()(),Ze())}function CY(e,t){if(e&1&&(z(0,"ul",16)(1,"li",8)(2,"a",9),H(3,"Home"),S()(),D(4,vY,7,0,"ng-container",10)(5,yY,4,0,"ng-container",10)(6,xY,10,0,"ng-container",10),S()),e&2){let n=w();y(4),F("ngIf",n.userType==="user"||n.userType==="manager"),y(),F("ngIf",n.userType==="manager"),y(),F("ngIf",n.userType==="guest")}}var iF=(()=>{let t=class t{open(){this.visible=!0}close(){this.visible=!1}constructor(i){this.breakpointObserver=i,this.userType="guest",this.isMobile=!1,this.isDesktop=!1,this.visible=!1;let o=["(max-width: 600px)","(min-width: 601px) and (max-width: 900px)","(min-width: 901px)"],s=this.breakpointObserver.observe(o[0]),h=this.breakpointObserver.observe(o[1]),f=this.breakpointObserver.observe(o[2]);qg([s,h,f]).pipe(Br(([g,v])=>({isMobile:g.matches,isDesktop:v.matches}))).subscribe(({isMobile:g,isDesktop:v})=>{this.isMobile=g,this.isDesktop=v})}};t.\u0275fac=function(o){return new(o||t)(U(kv))},t.\u0275cmp=ve({type:t,selectors:[["app-header"]],inputs:{userType:"userType"},standalone:!0,features:[ye],decls:3,vars:2,consts:[["desktopMenu",""],["class","burger",4,"ngIf","ngIfElse"],[1,"burger"],["nz-button","","nzType","text","nzSize","large",3,"click"],["nz-icon","","nzType","menu","nzTheme","outline"],["nzPlacement","left",3,"nzOnClose","nzVisible"],[4,"nzDrawerContent"],["nz-menu","","nzMode","inline"],["nz-menu-item",""],["routerLink","/"],[4,"ngIf"],["routerLink","/profile"],["routerLink","/orders"],["routerLink","/admin"],["routerLink","/signin"],["routerLink","/signup"],["nz-menu","","nzMode","horizontal"],["routerLink","/stations"]],template:function(o,s){if(o&1&&D(0,gY,5,1,"div",1)(1,CY,7,3,"ng-template",null,0,Ke),o&2){let h=ke(2);F("ngIf",s.isMobile)("ngIfElse",h)}},dependencies:[no,cs,Nh,kh,Yv,ed,Gv,nF,yp,n_,Xi,li,Qi,vn,gn],styles:['.burger[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;font-variant:tabular-nums;line-height:48px;font-feature-settings:"tnum";padding:0;color:#000000d9;font-size:14px;text-align:left;list-style:none;background:#fff;outline:none;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;transition:background .3s,width .3s cubic-bezier(.2,0,0,1) 0s}button[nz-button][_ngcontent-%COMP%]{z-index:1000}ul[nz-menu][_ngcontent-%COMP%]{line-height:64px}@media (max-width: 600px){ul[nz-menu][_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:normal}nz-drawer[_ngcontent-%COMP%]{padding-top:64px}}']});let e=t;return e})();var rF=["*"],bY=["nz-sider-trigger",""];function wY(e,t){}function zY(e,t){if(e&1&&D(0,wY,0,0,"ng-template",2),e&2){let n=w(),i=ke(5);F("ngTemplateOutlet",n.nzZeroTrigger||i)}}function SY(e,t){}function TY(e,t){if(e&1&&D(0,SY,0,0,"ng-template",2),e&2){let n=w(),i=ke(3);F("ngTemplateOutlet",n.nzTrigger||i)}}function FY(e,t){if(e&1&&Q(0,"span",3),e&2){let n=w(2);F("nzType",n.nzCollapsed?"left":"right")}}function PY(e,t){if(e&1&&Q(0,"span",3),e&2){let n=w(2);F("nzType",n.nzCollapsed?"right":"left")}}function IY(e,t){if(e&1&&D(0,FY,1,1,"span",3)(1,PY,1,1,"span",3),e&2){let n=w();J(n.nzReverseArrow?0:1)}}function MY(e,t){e&1&&Q(0,"span",4)}function OY(e,t){if(e&1){let n=we();z(0,"div",2),ne("click",function(){G(n);let o=w();return Y(o.setCollapsed(!o.nzCollapsed))}),S()}if(e&2){let n=w();F("matchBreakPoint",n.matchBreakPoint)("nzCollapsedWidth",n.nzCollapsedWidth)("nzCollapsed",n.nzCollapsed)("nzBreakpoint",n.nzBreakpoint)("nzReverseArrow",n.nzReverseArrow)("nzTrigger",n.nzTrigger)("nzZeroTrigger",n.nzZeroTrigger)("siderWidth",n.widthSetting)}}var oF=(()=>{let t=class t{constructor(i,o){this.elementRef=i,this.renderer=o,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-footer")}};t.\u0275fac=function(o){return new(o||t)(U(Wi),U(to))},t.\u0275cmp=ve({type:t,selectors:[["nz-footer"]],exportAs:["nzFooter"],standalone:!0,features:[ye],ngContentSelectors:rF,decls:1,vars:0,template:function(o,s){o&1&&(Ai(),Di(0))},encapsulation:2,changeDetection:0});let e=t;return e})();var aF=(()=>{let t=class t{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(o,s){o&2&&(_t("width",s.isNormalTrigger?s.siderWidth:null),We("ant-layout-sider-trigger",s.isNormalTrigger)("ant-layout-sider-zero-width-trigger",s.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",s.isZeroTrigger&&s.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",s.isZeroTrigger&&!s.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[$t,ye],attrs:bY,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(o,s){o&1&&D(0,zY,1,1,null,2)(1,TY,1,1,null,2)(2,IY,2,1,"ng-template",null,0,Ke)(4,MY,1,0,"ng-template",null,1,Ke),o&2&&(J(s.isZeroTrigger?0:-1),y(),J(s.isNormalTrigger?1:-1))},dependencies:[Rn,vn,gn],encapsulation:2,changeDetection:0});let e=t;return e})(),EY=(()=>{let t=class t{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:ds(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(i){i!==this.nzCollapsed&&(this.nzCollapsed=i,this.nzCollapsedChange.emit(i),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(i,o,s){this.platform=i,this.cdr=o,this.breakpointService=s,this.destroy$=new Gt,this.nzMenuDirective=null,this.nzCollapsedChange=new ut,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(Nv,!0).pipe($e(this.destroy$)).subscribe(i=>{let o=this.nzBreakpoint;o&&Cv().subscribe(()=>{this.matchBreakPoint=!i[o],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(i){let{nzCollapsed:o,nzCollapsedWidth:s,nzWidth:h}=i;(o||s||h)&&this.updateStyleMap(),o&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};t.\u0275fac=function(o){return new(o||t)(U(dl),U(nn),U(Rv))},t.\u0275cmp=ve({type:t,selectors:[["nz-sider"]],contentQueries:function(o,s,h){if(o&1&&fa(h,ed,5),o&2){let f;wt(f=zt())&&(s.nzMenuDirective=f.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(o,s){o&2&&(_t("flex",s.flexSetting)("max-width",s.widthSetting)("min-width",s.widthSetting)("width",s.widthSetting),We("ant-layout-sider-zero-width",s.nzCollapsed&&s.nzCollapsedWidth===0)("ant-layout-sider-light",s.nzTheme==="light")("ant-layout-sider-dark",s.nzTheme==="dark")("ant-layout-sider-collapsed",s.nzCollapsed)("ant-layout-sider-has-trigger",s.nzCollapsible&&s.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",pe],nzCollapsible:[2,"nzCollapsible","nzCollapsible",pe],nzCollapsed:[2,"nzCollapsed","nzCollapsed",pe]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[Lt,$t,ye],ngContentSelectors:rF,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(o,s){o&1&&(Ai(),z(0,"div",0),Di(1),S(),D(2,OY,1,8,"div",1)),o&2&&(y(2),J(s.nzCollapsible&&s.nzTrigger!==null?2:-1))},dependencies:[aF],encapsulation:2,changeDetection:0});let e=t;return e})();var sF=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=un({type:t}),t.\u0275inj=cn({imports:[EY,aF]});let e=t;return e})();var lF=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["app-footer"]],standalone:!0,features:[ye],decls:2,vars:0,consts:[[2,"text-align","center"]],template:function(o,s){o&1&&(z(0,"nz-footer",0),H(1,` \xA9 2024 RSS Team DavaySoberemsya
`),S())},dependencies:[sF,oF]});let e=t;return e})();var cF=(()=>{let t=class t{constructor(){this.title="train-a"}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ve({type:t,selectors:[["app-root"]],standalone:!0,features:[ye],decls:4,vars:0,consts:[[1,"container"]],template:function(o,s){o&1&&(Q(0,"app-header"),z(1,"div",0),Q(2,"router-outlet"),S(),Q(3,"app-footer"))},dependencies:[_v,iF,lF]});let e=t;return e})();tT().then(()=>mv(cF,JT)).catch(e=>console.error(e));
